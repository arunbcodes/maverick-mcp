# ============================================================================
# MaverickMCP Production Environment Configuration
# ============================================================================
# Optimized for production deployment with PostgreSQL, Redis, and monitoring
# CRITICAL: Never commit actual production .env file to version control!
# ============================================================================

# ============================================================================
# REQUIRED - Application will not function without these
# ============================================================================

# Tiingo API Key (REQUIRED)
# Production API key with higher rate limits recommended
TIINGO_API_KEY=your_production_tiingo_key_here

# ============================================================================
# PRODUCTION SETTINGS
# ============================================================================

# Environment
ENVIRONMENT=production
LOG_LEVEL=info

# API Server Settings
API_HOST=0.0.0.0
API_PORT=8000

# Production Mode
DEBUG=false
HOT_RELOAD=false
AUTO_RELOAD=false

# Security
SECRET_KEY=your_secret_key_here_minimum_32_characters_long
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ============================================================================
# DATABASE CONFIGURATION (PostgreSQL Required for Production)
# ============================================================================

# PostgreSQL Production Database
DATABASE_URL=postgresql://maverick_user:secure_password_here@postgres:5432/maverick_mcp

# Connection Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ============================================================================
# REDIS CACHE (Required for Production)
# ============================================================================

# Redis for high-performance caching
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=secure_redis_password_here
REDIS_DB=0
REDIS_URL=redis://:secure_redis_password_here@redis:6379/0

# Redis Connection Pool
REDIS_POOL_SIZE=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# ============================================================================
# STRONGLY RECOMMENDED - For AI-powered features
# ============================================================================

# OpenRouter API Key (Production key with higher limits)
# Get at: https://openrouter.ai
OPENROUTER_API_KEY=sk-or-v1-your_production_openrouter_key_here

# Exa API Key (Production tier recommended)
# Get at: https://exa.ai
EXA_API_KEY=your_production_exa_key_here

# ============================================================================
# OPTIONAL API KEYS - Enhanced Features
# ============================================================================

# OpenAI API Key (GPT models)
OPENAI_API_KEY=sk-your_production_openai_key_here

# Anthropic API Key (Claude models)
ANTHROPIC_API_KEY=sk-ant-your_production_anthropic_key_here

# FRED API Key (Federal Reserve Economic Data)
FRED_API_KEY=your_production_fred_key_here

# Tavily API Key (Web search alternative)
TAVILY_API_KEY=your_production_tavily_key_here

# ============================================================================
# PRODUCTION PERFORMANCE SETTINGS
# ============================================================================

# Worker Configuration
WORKERS=4
MAX_CONNECTIONS=100
TIMEOUT=30

# Cache settings (longer TTL for production)
CACHE_TTL=3600
ENABLE_QUERY_CACHE=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================

# Logging
LOG_FORMAT=json
LOG_FILE=/app/logs/maverick-mcp.log
LOG_ROTATION=midnight
LOG_RETENTION_DAYS=30

# Metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# Health Checks
HEALTH_CHECK_INTERVAL=30
READINESS_PROBE_ENABLED=true
LIVENESS_PROBE_ENABLED=true

# Sentry (Error Tracking)
# SENTRY_DSN=https://your_sentry_dsn_here
# SENTRY_ENVIRONMENT=production
# SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================================================
# SECURITY
# ============================================================================

# TLS/SSL
USE_TLS=true
TLS_CERT_PATH=/certs/server.crt
TLS_KEY_PATH=/certs/server.key

# API Security
API_KEY_REQUIRED=false
JWT_SECRET=your_jwt_secret_minimum_32_characters
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600

# Request Limits
MAX_REQUEST_SIZE=10MB
MAX_UPLOAD_SIZE=50MB

# ============================================================================
# BACKUP & DISASTER RECOVERY
# ============================================================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# ============================================================================
# PRODUCTION NOTES - CRITICAL!
# ============================================================================
#
# 1. Security Checklist:
#    - [ ] All default passwords changed
#    - [ ] SECRET_KEY is randomly generated (32+ characters)
#    - [ ] API keys are production-tier with appropriate limits
#    - [ ] TLS/SSL certificates are valid and up-to-date
#    - [ ] CORS origins restricted to actual domains
#    - [ ] Redis password is strong and unique
#    - [ ] Database password is strong and unique
#    - [ ] Sentry or monitoring configured
#
# 2. Performance Checklist:
#    - [ ] PostgreSQL connection pool sized appropriately
#    - [ ] Redis configured with maxmemory and eviction policy
#    - [ ] Worker count matches CPU cores (typically CPU cores * 2)
#    - [ ] Rate limiting enabled to prevent abuse
#    - [ ] Cache TTL optimized for workload
#
# 3. Monitoring Checklist:
#    - [ ] Health checks respond correctly
#    - [ ] Logs are being collected and retained
#    - [ ] Metrics are exposed for Prometheus/Grafana
#    - [ ] Error tracking (Sentry) is active
#    - [ ] Alerts configured for critical errors
#
# 4. Backup Checklist:
#    - [ ] Automated backups running daily
#    - [ ] Backup restoration tested
#    - [ ] Backups stored off-site (S3, etc.)
#    - [ ] Retention policy configured
#
# 5. Deployment Checklist:
#    - [ ] Environment variables loaded from secrets manager
#    - [ ] Never commit this file with real values!
#    - [ ] Database migrations run before deployment
#    - [ ] Rolling deployment strategy configured
#    - [ ] Rollback plan documented
#
# 6. Access Control:
#    - [ ] Database access restricted by IP
#    - [ ] Redis access restricted by IP or password
#    - [ ] API endpoints have appropriate authentication
#    - [ ] Admin endpoints secured separately
#
# ============================================================================
