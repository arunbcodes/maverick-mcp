{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Maverick MCP","text":"**Personal Stock Analysis MCP Server with AI-Powered Conference Call Analysis**  [![GitHub Stars](https://img.shields.io/github/stars/arunbcodes/maverick-mcp?style=social)](https://github.com/arunbcodes/maverick-mcp) [![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT) [![Python 3.12+](https://img.shields.io/badge/python-3.12+-blue.svg)](https://www.python.org/downloads/) [![MCP Compatible](https://img.shields.io/badge/MCP-Compatible-green.svg)](https://modelcontextprotocol.io)  [Get Started](getting-started/quick-start.md){ .md-button .md-button--primary } [View on GitHub](https://github.com/arunbcodes/maverick-mcp){ .md-button }"},{"location":"#overview","title":"Overview","text":"<p>Maverick MCP is a comprehensive Model Context Protocol (MCP) server that brings powerful stock analysis capabilities to Claude Desktop and other MCP clients. It combines real-time market data, technical analysis, AI-powered research, and conference call analysis into a single, easy-to-use platform.</p>"},{"location":"#key-features","title":"\u2728 Key Features","text":""},{"location":"#stock-analysis","title":"\ud83d\udcca Stock Analysis","text":"<ul> <li>Multi-Market Support: US (NASDAQ/NYSE), Indian NSE (.NS), and Indian BSE (.BO)</li> <li>Real-time &amp; Historical Data: Complete OHLCV data with intelligent caching</li> <li>Technical Analysis: RSI, MACD, Bollinger Bands, Moving Averages, and more</li> <li>Pre-seeded Database: 520+ S&amp;P 500 stocks ready to analyze</li> </ul>"},{"location":"#conference-call-analysis","title":"\ud83d\udcde Conference Call Analysis","text":"<ul> <li>Transcript Fetching: Multi-source fetching from IR websites and NSE filings</li> <li>AI Summarization: Structured summaries with key metrics and insights</li> <li>Sentiment Analysis: Multi-dimensional sentiment with confidence scoring</li> <li>RAG Q&amp;A: Ask questions about earnings calls with source citations</li> <li>Trend Analysis: Compare sentiment across multiple quarters</li> </ul>"},{"location":"#stock-screening","title":"\ud83d\udd0d Stock Screening","text":"<ul> <li>Maverick Bullish: High momentum stocks with strong technicals</li> <li>Maverick Bearish: Weak setups for short opportunities</li> <li>Supply/Demand Breakouts: Confirmed uptrend patterns</li> <li>7 Indian Market Strategies: Specialized screens for NSE/BSE</li> </ul>"},{"location":"#advanced-features","title":"\ud83d\udcc8 Advanced Features","text":"<ul> <li>Portfolio Optimization: Modern Portfolio Theory with risk analysis</li> <li>Research Agents: AI-powered market research with 7-256x speedup</li> <li>Backtesting Framework: VectorBT-powered strategy testing with 15+ algorithms</li> <li>Economic Indicators: RBI data, inflation, GDP, forex reserves</li> </ul>"},{"location":"#quick-example","title":"\ud83d\ude80 Quick Example","text":"<p>Once connected to Claude Desktop:</p> <pre><code>User: \"Fetch and summarize the RELIANCE.NS Q1 2025 earnings call\"\nClaude: [Uses MCP tools to fetch transcript and generate AI summary]\n\nUser: \"What did management say about growth guidance?\"\nClaude: [Queries transcript using RAG for specific information]\n\nUser: \"Compare sentiment across the last 3 quarters\"\nClaude: [Analyzes sentiment trends with scoring]\n</code></pre>"},{"location":"#perfect-for","title":"\ud83c\udfaf Perfect For","text":"<ul> <li>Personal Stock Research: Deep analysis of companies and markets</li> <li>Earnings Call Analysis: AI-powered insights from conference calls</li> <li>Technical Trading: Comprehensive technical analysis tools</li> <li>Portfolio Management: Risk-adjusted portfolio optimization</li> <li>Market Research: AI agents with web search capabilities</li> </ul>"},{"location":"#architecture","title":"\ud83c\udfd7\ufe0f Architecture","text":"<p>Maverick MCP is built with a focus on:</p> <ul> <li>Modularity: Clean separation of concerns with SOLID principles</li> <li>Performance: Intelligent caching with Redis/SQLite support</li> <li>Extensibility: Easy to add new features and data sources</li> <li>Reliability: Comprehensive error handling and fallback mechanisms</li> </ul>"},{"location":"#what-makes-it-special","title":"\ud83c\udf1f What Makes It Special","text":""},{"location":"#personal-use-focus","title":"Personal Use Focus","text":"<p>No authentication, no billing, no complexity. Just powerful analysis tools for your personal use.</p>"},{"location":"#ai-integration","title":"AI Integration","text":"<ul> <li>OpenRouter integration for access to 400+ AI models</li> <li>Smart model selection for cost optimization (40-60% savings)</li> <li>Parallel agent orchestration for research tasks</li> </ul>"},{"location":"#conference-call-system","title":"Conference Call System","text":"<p>Complete pipeline for earnings call analysis:</p> <pre><code>graph LR\n    A[Fetch Transcript] --&gt; B[Store in DB]\n    B --&gt; C[AI Summarization]\n    B --&gt; D[Sentiment Analysis]\n    B --&gt; E[Vector Indexing]\n    E --&gt; F[RAG Q&amp;A]\n    C --&gt; G[Claude Desktop]\n    D --&gt; G\n    F --&gt; G</code></pre>"},{"location":"#multi-market-support","title":"Multi-Market Support","text":"<p>Seamless analysis across: - \ud83c\uddfa\ud83c\uddf8 US Markets (NASDAQ/NYSE) - \ud83c\uddee\ud83c\uddf3 Indian NSE (.NS suffix) - \ud83c\uddee\ud83c\uddf3 Indian BSE (.BO suffix)</p>"},{"location":"#whats-included","title":"\ud83d\udce6 What's Included","text":"<ul> <li>35+ MCP Tools: Complete toolkit for stock analysis</li> <li>5 Conference Call Tools: Fetch, summarize, analyze, query, compare</li> <li>Pre-seeded Data: 520 S&amp;P 500 stocks + screening recommendations</li> <li>Indian Market Data: Nifty 50, Sensex constituents, economic indicators</li> <li>Comprehensive Tests: 93 tests with 84% coverage</li> <li>Production Ready: Type-checked, linted, and tested</li> </ul>"},{"location":"#integration","title":"\ud83d\udd17 Integration","text":"<p>Works with all MCP-compatible clients: - \u2705 Claude Desktop (Recommended with SSE transport) - \u2705 Cursor IDE - \u2705 Claude Code CLI - \u2705 Continue.dev - \u2705 Windsurf IDE</p>"},{"location":"#next-steps","title":"\ud83d\udcda Next Steps","text":"<p>Ready to get started? Check out our comprehensive guides:</p> <ul> <li> <p> Quick Start</p> <p>Get up and running in minutes</p> <p> Get Started</p> </li> <li> <p> Configuration</p> <p>Configure API keys and settings</p> <p> Configure</p> </li> <li> <p> Conference Calls</p> <p>Learn about earnings call analysis</p> <p> Learn More</p> </li> <li> <p> API Reference</p> <p>Complete API documentation</p> <p> Browse API</p> </li> </ul>"},{"location":"#contributing","title":"\ud83e\udd1d Contributing","text":"<p>Contributions are welcome! Check out our Contributing Guide to get started.</p>"},{"location":"#license","title":"\ud83d\udcc4 License","text":"<p>This project is licensed under the MIT License - see the LICENSE page for details.</p>   Made with \u2764\ufe0f for personal stock analysis  [Star on GitHub](https://github.com/arunbcodes/maverick-mcp){ .md-button }"},{"location":"API_KEYS_GUIDE/","title":"API Keys Guide for MaverickMCP","text":"<p>Complete guide to all API keys needed to fully utilize MaverickMCP features.</p>"},{"location":"API_KEYS_GUIDE/#required-api-keys","title":"\ud83d\udd11 Required API Keys","text":""},{"location":"API_KEYS_GUIDE/#1-tiingo_api_key-required","title":"1. TIINGO_API_KEY (Required)","text":"<p>What it does: Provides stock price data, historical data, and market information</p> <p>Cost: FREE (500 requests/day on free tier)</p> <p>How to get: 1. Go to tiingo.com 2. Sign up for a free account 3. Navigate to your dashboard 4. Copy your API token</p> <p>Add to .env: <pre><code>TIINGO_API_KEY=your_tiingo_api_key_here\n</code></pre></p> <p>Features enabled: - \u2705 Historical stock data (US, Indian markets) - \u2705 Real-time stock quotes - \u2705 Technical indicators - \u2705 Stock screening</p>"},{"location":"API_KEYS_GUIDE/#strongly-recommended-api-keys","title":"\ud83d\ude80 Strongly Recommended API Keys","text":""},{"location":"API_KEYS_GUIDE/#2-openrouter_api_key-strongly-recommended","title":"2. OPENROUTER_API_KEY (Strongly Recommended)","text":"<p>What it does: Access to 400+ AI models with intelligent cost optimization</p> <p>Cost: Pay-as-you-go (40-60% cheaper than direct API access)</p> <p>Why recommended: - Access to multiple LLMs (GPT-4, Claude, Llama, etc.) - Automatic model selection for cost optimization - Fallback routing if one model is down - Much cheaper than using OpenAI/Anthropic directly</p> <p>How to get: 1. Go to openrouter.ai 2. Sign up for an account 3. Add credits to your account 4. Generate an API key</p> <p>Add to .env: <pre><code>OPENROUTER_API_KEY=sk-or-v1-your_key_here\n</code></pre></p> <p>Features enabled: - \u2705 AI-powered stock analysis - \u2705 Deep research capabilities - \u2705 Market insights - \u2705 Natural language queries</p>"},{"location":"API_KEYS_GUIDE/#3-exa_api_key-recommended-for-research","title":"3. EXA_API_KEY (Recommended for Research)","text":"<p>What it does: Web search capabilities for comprehensive financial research</p> <p>Cost: Free tier available, paid plans for heavy usage</p> <p>How to get: 1. Go to exa.ai 2. Sign up for an account 3. Generate an API key</p> <p>Add to .env: <pre><code>EXA_API_KEY=your_exa_api_key_here\n</code></pre></p> <p>Features enabled: - \u2705 Web search for financial news - \u2705 Company research - \u2705 Market trends analysis - \u2705 Deep research agent</p>"},{"location":"API_KEYS_GUIDE/#optional-api-keys-nice-to-have","title":"\ud83d\udcca Optional API Keys (Nice-to-Have)","text":""},{"location":"API_KEYS_GUIDE/#4-openai_api_key-fallback","title":"4. OPENAI_API_KEY (Fallback)","text":"<p>What it does: Direct access to OpenAI models (GPT-4, GPT-3.5)</p> <p>Cost: Pay-as-you-go (more expensive than OpenRouter)</p> <p>When to use: - If you prefer direct OpenAI access - Already have OpenAI credits - Don't want to use OpenRouter</p> <p>How to get: 1. Go to platform.openai.com 2. Sign up and add payment method 3. Generate an API key</p> <p>Add to .env: <pre><code>OPENAI_API_KEY=sk-your_openai_key_here\n</code></pre></p>"},{"location":"API_KEYS_GUIDE/#5-anthropic_api_key-fallback","title":"5. ANTHROPIC_API_KEY (Fallback)","text":"<p>What it does: Direct access to Claude models</p> <p>Cost: Pay-as-you-go</p> <p>When to use: - If you prefer direct Anthropic access - Already have Anthropic credits - Don't want to use OpenRouter</p> <p>How to get: 1. Go to console.anthropic.com 2. Sign up and add payment method 3. Generate an API key</p> <p>Add to .env: <pre><code>ANTHROPIC_API_KEY=sk-ant-your_anthropic_key_here\n</code></pre></p>"},{"location":"API_KEYS_GUIDE/#6-fred_api_key-economic-data","title":"6. FRED_API_KEY (Economic Data)","text":"<p>What it does: Federal Reserve economic data (US economic indicators)</p> <p>Cost: FREE</p> <p>How to get: 1. Go to fred.stlouisfed.org/docs/api/api_key.html 2. Sign up for a free account 3. Request an API key</p> <p>Add to .env: <pre><code>FRED_API_KEY=your_fred_api_key_here\n</code></pre></p> <p>Features enabled: - \u2705 GDP data - \u2705 Inflation rates - \u2705 Interest rates - \u2705 Employment data</p>"},{"location":"API_KEYS_GUIDE/#7-tavily_api_key-alternative-search","title":"7. TAVILY_API_KEY (Alternative Search)","text":"<p>What it does: Alternative web search provider</p> <p>Cost: Free tier available</p> <p>When to use: - As alternative to Exa - For additional search coverage</p> <p>How to get: 1. Go to tavily.com 2. Sign up for an account 3. Generate an API key</p> <p>Add to .env: <pre><code>TAVILY_API_KEY=your_tavily_api_key_here\n</code></pre></p>"},{"location":"API_KEYS_GUIDE/#currency-exchange-rate-keys","title":"\ud83d\udcb1 Currency &amp; Exchange Rate Keys","text":""},{"location":"API_KEYS_GUIDE/#8-exchange_rate_api_key-optional-for-inrusd-conversion","title":"8. EXCHANGE_RATE_API_KEY (Optional, for INR/USD conversion)","text":"<p>What it does: Real-time currency exchange rates</p> <p>Cost: FREE tier available (1,500 requests/month)</p> <p>Fallback: Yahoo Finance (works without API key but less accurate)</p> <p>How to get: 1. Go to exchangerate-api.com 2. Sign up for a free account 3. Get your API key</p> <p>Add to .env: <pre><code>EXCHANGE_RATE_API_KEY=your_exchange_rate_api_key_here\n</code></pre></p> <p>Features enabled: - \u2705 Real-time INR/USD conversion - \u2705 Accurate cross-market comparisons - \u2705 Historical exchange rates</p> <p>Note: Works fine without this key using Yahoo Finance fallback!</p>"},{"location":"API_KEYS_GUIDE/#indian-market-keys-future-enhancements","title":"\ud83c\uddee\ud83c\uddf3 Indian Market Keys (Future Enhancements)","text":"<p>These are NOT currently implemented but documented for future use:</p>"},{"location":"API_KEYS_GUIDE/#9-rbi_api_key-not-required-yet","title":"9. RBI_API_KEY (Not Required Yet)","text":"<p>What it would do: Real-time RBI economic data</p> <p>Status: Currently uses approximate data and World Bank API</p> <p>Future implementation: See <code>docs/INDIAN_MARKET.md</code> - Future Enhancements</p>"},{"location":"API_KEYS_GUIDE/#10-moneycontrol_api_key-not-required-yet","title":"10. MONEYCONTROL_API_KEY (Not Required Yet)","text":"<p>What it would do: Direct MoneyControl API access</p> <p>Status: Currently uses RSS feeds and web scraping (no API key needed)</p>"},{"location":"API_KEYS_GUIDE/#11-economic_times_api_key-not-required-yet","title":"11. ECONOMIC_TIMES_API_KEY (Not Required Yet)","text":"<p>What it would do: Direct Economic Times API access</p> <p>Status: Currently uses RSS feeds and web scraping (no API key needed)</p>"},{"location":"API_KEYS_GUIDE/#configuration","title":"\ud83d\udd27 Configuration","text":""},{"location":"API_KEYS_GUIDE/#create-env-file","title":"Create .env File","text":"<pre><code># Copy example (if available)\ncp .env.example .env\n\n# Or create new .env file\ntouch .env\n</code></pre>"},{"location":"API_KEYS_GUIDE/#complete-env-template","title":"Complete .env Template","text":"<pre><code># ========================================\n# REQUIRED - Won't work without this\n# ========================================\nTIINGO_API_KEY=your_tiingo_key_here\n\n# ========================================\n# STRONGLY RECOMMENDED - For AI features\n# ========================================\nOPENROUTER_API_KEY=sk-or-v1-your_key_here\nEXA_API_KEY=your_exa_key_here\n\n# ========================================\n# OPTIONAL - LLM Fallbacks\n# ========================================\nOPENAI_API_KEY=sk-your_openai_key_here\nANTHROPIC_API_KEY=sk-ant-your_anthropic_key_here\n\n# ========================================\n# OPTIONAL - Enhanced Data\n# ========================================\nFRED_API_KEY=your_fred_key_here\nTAVILY_API_KEY=your_tavily_key_here\nEXCHANGE_RATE_API_KEY=your_exchange_rate_key_here\n\n# ========================================\n# PERFORMANCE - Caching\n# ========================================\nCACHE_ENABLED=true\nCACHE_TTL_SECONDS=3600\nREDIS_URL=redis://localhost:6379\n\n# ========================================\n# DATABASE (Optional, defaults to SQLite)\n# ========================================\nDATABASE_URL=postgresql://user:pass@localhost/maverick_mcp\n</code></pre>"},{"location":"API_KEYS_GUIDE/#feature-matrix","title":"\ud83d\udcca Feature Matrix","text":"Feature Required Keys Optional Keys Basic Stock Data TIINGO_API_KEY - AI Analysis TIINGO_API_KEY OPENROUTER_API_KEY Deep Research TIINGO_API_KEY, OPENROUTER_API_KEY EXA_API_KEY US Economic Data TIINGO_API_KEY FRED_API_KEY Indian Market Data TIINGO_API_KEY - Currency Conversion TIINGO_API_KEY EXCHANGE_RATE_API_KEY News Sentiment TIINGO_API_KEY - Technical Analysis TIINGO_API_KEY - Stock Screening TIINGO_API_KEY -"},{"location":"API_KEYS_GUIDE/#cost-breakdown","title":"\ud83d\udcb0 Cost Breakdown","text":""},{"location":"API_KEYS_GUIDE/#free-tier-basic-usage","title":"Free Tier (Basic Usage)","text":"<p>Total Cost: $0/month</p> <ul> <li>\u2705 TIINGO_API_KEY (free)</li> <li>\u2705 FRED_API_KEY (free)</li> <li>\u2705 EXCHANGE_RATE_API_KEY (free tier: 1,500 req/month)</li> </ul> <p>What you get: - Stock data (500 req/day) - Basic technical analysis - US economic data - Indian market data - News sentiment</p>"},{"location":"API_KEYS_GUIDE/#recommended-full-features","title":"Recommended (Full Features)","text":"<p>Total Cost: ~$5-20/month (depending on usage)</p> <ul> <li>\u2705 Everything in Free Tier</li> <li>\u2705 OPENROUTER_API_KEY ($5-10/month typical)</li> <li>\u2705 EXA_API_KEY ($0-10/month depending on usage)</li> </ul> <p>What you get: - AI-powered analysis - Deep research capabilities - Web search - Natural language queries - All Claude Desktop features</p>"},{"location":"API_KEYS_GUIDE/#getting-started-checklist","title":"\u2705 Getting Started Checklist","text":""},{"location":"API_KEYS_GUIDE/#minimum-setup-free","title":"Minimum Setup (Free)","text":"<pre><code>1. \u2705 Sign up for Tiingo (free)\n2. \u2705 Get TIINGO_API_KEY\n3. \u2705 Add to .env\n4. \u2705 Run: make dev\n</code></pre> <p>You can now: - Get stock data for US &amp; Indian markets - Run technical analysis - Screen stocks - View news sentiment</p>"},{"location":"API_KEYS_GUIDE/#recommended-setup-10month","title":"Recommended Setup (~$10/month)","text":"<pre><code>1. \u2705 Complete Minimum Setup above\n2. \u2705 Sign up for OpenRouter\n3. \u2705 Add $10 credits\n4. \u2705 Get OPENROUTER_API_KEY\n5. \u2705 Add to .env\n6. \u2705 Sign up for Exa (free tier)\n7. \u2705 Get EXA_API_KEY\n8. \u2705 Add to .env\n9. \u2705 Restart: make dev\n</code></pre> <p>You can now: - Ask Claude about any stock - Get AI-powered insights - Deep research on companies - Market trend analysis - Full features! \ud83c\udf89</p>"},{"location":"API_KEYS_GUIDE/#security-best-practices","title":"\ud83d\udd12 Security Best Practices","text":""},{"location":"API_KEYS_GUIDE/#do","title":"DO:","text":"<ul> <li>\u2705 Keep API keys in <code>.env</code> file</li> <li>\u2705 Add <code>.env</code> to <code>.gitignore</code></li> <li>\u2705 Use environment-specific keys (dev/prod)</li> <li>\u2705 Rotate keys periodically</li> <li>\u2705 Monitor API usage</li> <li>\u2705 Set spending limits where possible</li> </ul>"},{"location":"API_KEYS_GUIDE/#dont","title":"DON'T:","text":"<ul> <li>\u274c Commit API keys to git</li> <li>\u274c Share keys publicly</li> <li>\u274c Use production keys for testing</li> <li>\u274c Store keys in code files</li> <li>\u274c Share your <code>.env</code> file</li> </ul>"},{"location":"API_KEYS_GUIDE/#troubleshooting","title":"\ud83d\udee0\ufe0f Troubleshooting","text":""},{"location":"API_KEYS_GUIDE/#api-key-not-found-error","title":"\"API key not found\" Error","text":"<pre><code># Check .env file exists\nls -la .env\n\n# Check key is set\ncat .env | grep TIINGO_API_KEY\n\n# Restart server\nmake dev\n</code></pre>"},{"location":"API_KEYS_GUIDE/#invalid-api-key-error","title":"\"Invalid API key\" Error","text":"<pre><code># Verify key is correct (no extra spaces)\n# Check key status on provider website\n# Try regenerating the key\n</code></pre>"},{"location":"API_KEYS_GUIDE/#rate-limit-exceeded-error","title":"\"Rate limit exceeded\" Error","text":"<pre><code># Wait for rate limit to reset\n# Upgrade to paid tier\n# Use caching to reduce API calls\n</code></pre>"},{"location":"API_KEYS_GUIDE/#resources","title":"\ud83d\udcda Resources","text":"<ul> <li>Tiingo: tiingo.com/documentation</li> <li>OpenRouter: openrouter.ai/docs</li> <li>Exa: docs.exa.ai</li> <li>FRED: fred.stlouisfed.org/docs/api</li> <li>Exchange Rate API: exchangerate-api.com/docs</li> </ul>"},{"location":"API_KEYS_GUIDE/#summary","title":"\ud83c\udfaf Summary","text":""},{"location":"API_KEYS_GUIDE/#for-basic-usage-free","title":"For Basic Usage (FREE):","text":"<pre><code>TIINGO_API_KEY=required\n</code></pre>"},{"location":"API_KEYS_GUIDE/#for-full-features-10month","title":"For Full Features (~$10/month):","text":"<pre><code>TIINGO_API_KEY=required\nOPENROUTER_API_KEY=highly_recommended\nEXA_API_KEY=recommended\n</code></pre>"},{"location":"API_KEYS_GUIDE/#everything-else","title":"Everything Else:","text":"<pre><code>Optional - add as needed\n</code></pre> <p>That's it! Start with just TIINGO_API_KEY and add others as you need more features. \ud83d\ude80</p>"},{"location":"BACKTESTING/","title":"MaverickMCP Backtesting Documentation","text":""},{"location":"BACKTESTING/#overview","title":"Overview","text":"<p>MaverickMCP provides a comprehensive backtesting system powered by VectorBT with advanced parallel processing capabilities. The system supports 35+ pre-built strategies ranging from simple moving averages to advanced ML ensembles, with optimization, validation, and analysis tools.</p>"},{"location":"BACKTESTING/#quick-start","title":"Quick Start","text":""},{"location":"BACKTESTING/#basic-backtesting","title":"Basic Backtesting","text":"<pre><code># Simple SMA crossover backtest\nrun_backtest(\"AAPL\", \"sma_cross\", fast_period=10, slow_period=20)\n\n# RSI mean reversion strategy\nrun_backtest(\"TSLA\", \"rsi\", period=14, oversold=30, overbought=70)\n\n# MACD strategy\nrun_backtest(\"MSFT\", \"macd\", fast_period=12, slow_period=26, signal_period=9)\n</code></pre>"},{"location":"BACKTESTING/#parallel-execution-6-8x-performance-boost","title":"Parallel Execution (6-8x Performance Boost)","text":"<pre><code>from maverick_backtest import ExecutionContext, get_strategy_executor\n\n# Create execution contexts for multiple strategies\ncontexts = [\n    ExecutionContext(\n        strategy_id=\"sma_AAPL\",\n        symbol=\"AAPL\",\n        strategy_type=\"sma_cross\",\n        parameters={\"fast_period\": 10, \"slow_period\": 20},\n        start_date=\"2023-01-01\",\n        end_date=\"2024-01-01\"\n    )\n]\n\n# Execute in parallel\nasync with get_strategy_executor(max_concurrent_strategies=6) as executor:\n    results = await executor.execute_strategies_parallel(contexts)\n</code></pre>"},{"location":"BACKTESTING/#available-strategies","title":"Available Strategies","text":""},{"location":"BACKTESTING/#technical-analysis-strategies","title":"Technical Analysis Strategies","text":"<ul> <li>sma_cross: Simple Moving Average Crossover</li> <li>ema_cross: Exponential Moving Average Crossover</li> <li>rsi: Relative Strength Index Mean Reversion</li> <li>macd: MACD Crossover Strategy</li> <li>bollinger: Bollinger Bands Mean Reversion</li> <li>momentum: Price Momentum Strategy</li> <li>breakout: Price Channel Breakout</li> <li>mean_reversion: Statistical Mean Reversion</li> <li>volume_weighted: Volume-Weighted Moving Average</li> <li>stochastic: Stochastic Oscillator</li> </ul>"},{"location":"BACKTESTING/#advanced-strategies","title":"Advanced Strategies","text":"<ul> <li>adaptive_momentum: ML-Enhanced Adaptive Momentum</li> <li>ensemble: Multi-Strategy Ensemble Approach</li> <li>regime_aware: Market Regime Detection &amp; Switching</li> <li>ml_enhanced: Machine Learning Enhanced Trading</li> <li>pairs_trading: Statistical Arbitrage Pairs Trading</li> </ul>"},{"location":"BACKTESTING/#core-api-functions","title":"Core API Functions","text":""},{"location":"BACKTESTING/#run_backtest","title":"run_backtest","text":"<p>Execute a comprehensive backtest with specified strategy and parameters.</p> <pre><code>run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    start_date=\"2023-01-01\",  # Optional, defaults to 1 year ago\n    end_date=\"2024-01-01\",     # Optional, defaults to today\n    initial_capital=10000.0,\n    fast_period=10,\n    slow_period=20\n)\n</code></pre> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"strategy\": \"sma_cross\",\n  \"metrics\": {\n    \"total_return\": 0.15,\n    \"sharpe_ratio\": 1.2,\n    \"max_drawdown\": -0.08,\n    \"total_trades\": 24,\n    \"win_rate\": 0.58,\n    \"profit_factor\": 1.45,\n    \"calmar_ratio\": 1.85\n  },\n  \"trades\": [...],\n  \"equity_curve\": [...],\n  \"analysis\": {...}\n}\n</code></pre></p>"},{"location":"BACKTESTING/#optimize_strategy","title":"optimize_strategy","text":"<p>Find optimal parameters using grid search optimization.</p> <pre><code>optimize_strategy(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    optimization_params={\n        \"fast_period\": [5, 10, 15, 20],\n        \"slow_period\": [20, 30, 40, 50]\n    },\n    granularity=\"medium\"  # \"coarse\", \"medium\", or \"fine\"\n)\n</code></pre>"},{"location":"BACKTESTING/#validate_strategy","title":"validate_strategy","text":"<p>Validate strategy robustness using walk-forward analysis.</p> <pre><code>validate_strategy(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    parameters={\"fast_period\": 10, \"slow_period\": 20},\n    n_splits=5,           # Number of walk-forward periods\n    test_size=0.2,        # Out-of-sample test size\n    validation_type=\"walk_forward\"\n)\n</code></pre>"},{"location":"BACKTESTING/#analyze_portfolio","title":"analyze_portfolio","text":"<p>Run portfolio-level backtesting across multiple symbols.</p> <pre><code>analyze_portfolio(\n    symbols=[\"AAPL\", \"MSFT\", \"GOOGL\"],\n    strategy=\"momentum\",\n    weights=[0.33, 0.33, 0.34],  # Optional, equal weight if not specified\n    rebalance_frequency=\"monthly\"\n)\n</code></pre>"},{"location":"BACKTESTING/#parallel-processing-configuration","title":"Parallel Processing Configuration","text":""},{"location":"BACKTESTING/#performance-tuning","title":"Performance Tuning","text":"<pre><code># Development/Testing (conservative)\nexecutor = StrategyExecutor(\n    max_concurrent_strategies=4,\n    max_concurrent_api_requests=8,\n    connection_pool_size=50\n)\n\n# Production (aggressive)\nexecutor = StrategyExecutor(\n    max_concurrent_strategies=8,\n    max_concurrent_api_requests=15,\n    connection_pool_size=100\n)\n\n# High-volume backtesting\nexecutor = StrategyExecutor(\n    max_concurrent_strategies=12,\n    max_concurrent_api_requests=20,\n    connection_pool_size=200\n)\n</code></pre>"},{"location":"BACKTESTING/#environment-variables","title":"Environment Variables","text":"<pre><code># Database optimization\nDB_POOL_SIZE=20\nDB_MAX_OVERFLOW=40\nDB_POOL_TIMEOUT=30\n\n# Parallel execution limits\nMAX_CONCURRENT_STRATEGIES=6\nMAX_CONCURRENT_API_REQUESTS=10\nCONNECTION_POOL_SIZE=100\n</code></pre>"},{"location":"BACKTESTING/#database-optimization","title":"Database Optimization","text":""},{"location":"BACKTESTING/#indexes-for-performance","title":"Indexes for Performance","text":"<p>The system automatically creates optimized indexes for fast data retrieval:</p> <ul> <li>Composite index for date range queries with symbol lookup</li> <li>Covering index for OHLCV queries (includes all price data)</li> <li>Partial index for recent data (PostgreSQL only)</li> </ul>"},{"location":"BACKTESTING/#batch-data-fetching","title":"Batch Data Fetching","text":"<pre><code>from maverick_backtest import batch_fetch_stock_data\n\n# Fetch data for multiple symbols efficiently\nsymbols = [\"AAPL\", \"MSFT\", \"GOOGL\", \"TSLA\", \"NVDA\"]\ndata_dict = await batch_fetch_stock_data(\n    symbols=symbols,\n    start_date=\"2023-01-01\",\n    end_date=\"2024-01-01\",\n    max_concurrent=10\n)\n</code></pre>"},{"location":"BACKTESTING/#best-practices","title":"Best Practices","text":""},{"location":"BACKTESTING/#1-strategy-development","title":"1. Strategy Development","text":"<ul> <li>Start with simple strategies before complex ones</li> <li>Always validate with out-of-sample data</li> <li>Use walk-forward analysis for robustness testing</li> <li>Consider transaction costs and slippage</li> </ul>"},{"location":"BACKTESTING/#2-parameter-optimization","title":"2. Parameter Optimization","text":"<ul> <li>Avoid overfitting with too many parameters</li> <li>Use coarse optimization first, then refine</li> <li>Validate optimal parameters on different time periods</li> <li>Consider parameter stability over time</li> </ul>"},{"location":"BACKTESTING/#3-risk-management","title":"3. Risk Management","text":"<ul> <li>Always set appropriate position sizing</li> <li>Use stop-loss and risk limits</li> <li>Monitor maximum drawdown</li> <li>Diversify across strategies and assets</li> </ul>"},{"location":"BACKTESTING/#4-performance-optimization","title":"4. Performance Optimization","text":"<ul> <li>Use parallel execution for multiple backtests</li> <li>Enable database caching for frequently accessed data</li> <li>Batch fetch data for multiple symbols</li> <li>Monitor memory usage with large datasets</li> </ul>"},{"location":"BACKTESTING/#troubleshooting","title":"Troubleshooting","text":""},{"location":"BACKTESTING/#common-issues","title":"Common Issues","text":"<p>High memory usage - Reduce <code>max_concurrent_strategies</code> - Use smaller date ranges for initial testing - Enable database caching</p> <p>Slow performance - Ensure database indexes are created - Increase connection pool size - Use parallel execution - Check API rate limits</p> <p>API rate limiting - Lower <code>max_concurrent_api_requests</code> - Implement exponential backoff - Use cached data when possible</p> <p>Data quality issues - Verify data source reliability - Check for missing data periods - Validate against multiple sources - Handle corporate actions properly</p>"},{"location":"BACKTESTING/#debug-mode","title":"Debug Mode","text":"<p>Enable detailed logging for troubleshooting:</p> <pre><code>import logging\nlogging.getLogger(\"maverick_backtest\").setLevel(logging.DEBUG)\n</code></pre>"},{"location":"BACKTESTING/#performance-metrics","title":"Performance Metrics","text":""},{"location":"BACKTESTING/#key-metrics-explained","title":"Key Metrics Explained","text":"<ul> <li>Total Return: Overall strategy performance</li> <li>Sharpe Ratio: Risk-adjusted returns (&gt;1.0 is good, &gt;2.0 is excellent)</li> <li>Max Drawdown: Maximum peak-to-trough decline</li> <li>Win Rate: Percentage of profitable trades</li> <li>Profit Factor: Gross profit / Gross loss (&gt;1.5 is good)</li> <li>Calmar Ratio: Annual return / Max drawdown (&gt;1.0 is good)</li> </ul>"},{"location":"BACKTESTING/#benchmark-comparison","title":"Benchmark Comparison","text":"<p>Compare strategy performance against buy-and-hold:</p> <pre><code>results = run_backtest(...)\nbenchmark = results.get(\"benchmark_comparison\")\nprint(f\"Strategy vs Buy-Hold: {benchmark['excess_return']:.2%}\")\n</code></pre>"},{"location":"BACKTESTING/#advanced-features","title":"Advanced Features","text":""},{"location":"BACKTESTING/#monte-carlo-simulation","title":"Monte Carlo Simulation","text":"<p>Assess strategy robustness with randomized scenarios:</p> <pre><code>monte_carlo_results = run_monte_carlo_simulation(\n    strategy_results=results,\n    n_simulations=1000,\n    confidence_level=0.95\n)\n</code></pre>"},{"location":"BACKTESTING/#market-regime-detection","title":"Market Regime Detection","text":"<p>Automatically adjust strategy based on market conditions:</p> <pre><code>regime_results = analyze_market_regime(\n    symbol=\"SPY\",\n    lookback_period=252,\n    regime_indicators=[\"volatility\", \"trend\", \"momentum\"]\n)\n</code></pre>"},{"location":"BACKTESTING/#multi-strategy-ensemble","title":"Multi-Strategy Ensemble","text":"<p>Combine multiple strategies for better risk-adjusted returns:</p> <pre><code>ensemble_results = run_ensemble_backtest(\n    symbol=\"AAPL\",\n    strategies=[\"sma_cross\", \"rsi\", \"momentum\"],\n    weights=\"equal\",  # or \"optimize\" for dynamic weighting\n    correlation_threshold=0.7\n)\n</code></pre>"},{"location":"BACKTESTING/#integration-examples","title":"Integration Examples","text":""},{"location":"BACKTESTING/#with-claude-desktop","title":"With Claude Desktop","text":"<pre><code># Use MCP tools for comprehensive analysis\n\"Run a backtest for AAPL using SMA crossover strategy with\noptimization for the best parameters over the last 2 years\"\n\n# The system will:\n# 1. Fetch historical data\n# 2. Run parameter optimization\n# 3. Execute backtest with optimal parameters\n# 4. Provide detailed performance metrics\n</code></pre>"},{"location":"BACKTESTING/#programmatic-usage","title":"Programmatic Usage","text":"<pre><code>from maverick_backtest import BacktestingEngine\n\nasync def run_comprehensive_analysis():\n    engine = BacktestingEngine()\n\n    # Run backtest\n    results = await engine.run_backtest(\n        symbol=\"AAPL\",\n        strategy=\"momentum\"\n    )\n\n    # Optimize parameters\n    optimal = await engine.optimize_strategy(\n        symbol=\"AAPL\",\n        strategy=\"momentum\",\n        granularity=\"fine\"\n    )\n\n    # Validate robustness\n    validation = await engine.validate_strategy(\n        symbol=\"AAPL\",\n        strategy=\"momentum\",\n        parameters=optimal[\"best_params\"]\n    )\n\n    return {\n        \"backtest\": results,\n        \"optimization\": optimal,\n        \"validation\": validation\n    }\n</code></pre>"},{"location":"BACKTESTING/#testing","title":"Testing","text":"<p>Run the test suite to verify functionality:</p> <pre><code># Unit tests\npytest tests/test_backtesting.py\n\n# Integration tests\npytest tests/test_strategy_executor.py\n\n# Performance benchmarks\npython scripts/benchmark_parallel_backtesting.py\n\n# Comprehensive validation\npython scripts/test_all_strategies.py\n</code></pre>"},{"location":"BACKTESTING/#summary","title":"Summary","text":"<p>MaverickMCP's backtesting system provides:</p> <ul> <li>35+ pre-built strategies with extensive customization</li> <li>6-8x performance improvement with parallel processing</li> <li>Comprehensive optimization and validation tools</li> <li>Professional-grade metrics and risk analysis</li> <li>Production-ready architecture with error handling and monitoring</li> </ul> <p>The system is designed for both simple strategy testing and complex portfolio analysis, with a focus on performance, reliability, and ease of use.</p>"},{"location":"COMPLETE_SETUP_GUIDE/","title":"Complete Setup Guide for MaverickMCP","text":"<p>Step-by-step guide to run MaverickMCP with full functionality.</p> <p>Choose your setup path:</p> <ul> <li>\ud83d\ude80 Quick Start (Docker) - Easiest, everything handled for you</li> <li>\ud83d\udcbb Local Development - More control, faster iteration</li> </ul>"},{"location":"COMPLETE_SETUP_GUIDE/#option-1-docker-setup-easiest-recommended-for-first-time","title":"\ud83d\ude80 Option 1: Docker Setup (Easiest - Recommended for First Time)","text":"<p>Docker automatically handles PostgreSQL, Redis, and all services.</p>"},{"location":"COMPLETE_SETUP_GUIDE/#prerequisites","title":"Prerequisites","text":"<ol> <li> <p>Install Docker Desktop</p> </li> <li> <p>macOS: Download Docker Desktop</p> </li> <li>Linux: <code>sudo apt-get install docker-compose</code></li> <li> <p>Windows: Download Docker Desktop</p> </li> <li> <p>Verify Docker is running: <pre><code>docker --version\ndocker-compose --version\n</code></pre></p> </li> </ol>"},{"location":"COMPLETE_SETUP_GUIDE/#step-by-step","title":"Step-by-Step","text":"<p>Step 1: Clone the repository</p> <pre><code>git clone https://github.com/arunbcodes/maverick-mcp.git\ncd maverick-mcp\n</code></pre> <p>Step 2: Create <code>.env</code> file</p> <pre><code># Create .env file\ntouch .env\n\n# Add your API keys (see below for what's needed)\nnano .env  # or use your favorite editor\n</code></pre> <p>Minimum <code>.env</code> for Docker:</p> <pre><code># REQUIRED\nTIINGO_API_KEY=your_tiingo_key_here\n\n# OPTIONAL (but recommended for full functionality)\nOPENROUTER_API_KEY=sk-or-v1-your_key_here\nEXA_API_KEY=your_exa_key_here\n\n# These are auto-configured by Docker\nDATABASE_URL=postgresql://postgres:postgres@postgres:5432/maverick_mcp\nREDIS_HOST=redis\nREDIS_PORT=6379\nCACHE_ENABLED=true\n</code></pre> <p>Step 3: Start everything with Docker</p> <pre><code># Build and start all services (PostgreSQL, Redis, MaverickMCP)\nmake docker-up\n\n# Or manually:\ndocker-compose up --build -d\n</code></pre> <p>This automatically starts:</p> <ul> <li>\u2705 PostgreSQL database (localhost:55432)</li> <li>\u2705 Redis cache (localhost:56379)</li> <li>\u2705 MaverickMCP server (localhost:8003)</li> </ul> <p>Step 4: Verify it's running</p> <pre><code># Check logs\nmake docker-logs\n\n# Or manually:\ndocker-compose logs -f\n\n# Check containers are running\ndocker ps\n</code></pre> <p>You should see 3 containers:</p> <ul> <li><code>maverick-mcp-backend-1</code></li> <li><code>maverick-mcp-postgres-1</code></li> <li><code>maverick-mcp-redis-1</code></li> </ul> <p>Step 5: Test the setup</p> <pre><code># The API should be accessible\ncurl http://localhost:8003/health\n\n# Expected response: {\"status\": \"ok\"}\n</code></pre> <p>Step 6: Connect to Claude Desktop</p> <p>Edit your Claude Desktop config:</p> <pre><code># macOS\nnano ~/Library/Application\\ Support/Claude/claude_desktop_config.json\n\n# Linux\nnano ~/.config/Claude/claude_desktop_config.json\n\n# Windows\nnotepad %APPDATA%\\Claude\\claude_desktop_config.json\n</code></pre> <p>Add MaverickMCP:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"docker\",\n      \"args\": [\n        \"exec\",\n        \"-i\",\n        \"maverick-mcp-backend-1\",\n        \"python\",\n        \"-m\",\n        \"maverick_mcp.api.server\"\n      ]\n    }\n  }\n}\n</code></pre> <p>Step 7: Restart Claude Desktop</p> <p>Done! \ud83c\udf89 You now have full functionality!</p>"},{"location":"COMPLETE_SETUP_GUIDE/#managing-docker-services","title":"Managing Docker Services","text":"<pre><code># Stop all services\nmake docker-down\n\n# View logs\nmake docker-logs\n\n# Restart services\ndocker-compose restart\n\n# Check status\ndocker ps\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#option-2-local-development-more-control","title":"\ud83d\udcbb Option 2: Local Development (More Control)","text":"<p>Run services locally without Docker. You choose what to install.</p>"},{"location":"COMPLETE_SETUP_GUIDE/#prerequisites_1","title":"Prerequisites","text":"<ol> <li>Python 3.12+</li> </ol> <pre><code>python --version  # Should be 3.12 or higher\n</code></pre> <ol> <li>Install uv (Python package manager)</li> </ol> <pre><code>curl -LsSf https://astral.sh/uv/install.sh | sh\nsource ~/.zshrc  # or ~/.bashrc\n</code></pre> <ol> <li>Install TA-Lib (for technical analysis)</li> </ol> <pre><code># macOS\nbrew install ta-lib\n\n# Ubuntu/Debian\nsudo apt-get install ta-lib\n\n# Or from source (all platforms)\nwget http://prdownloads.sourceforge.net/ta-lib/ta-lib-0.4.0-src.tar.gz\ntar -xzf ta-lib-0.4.0-src.tar.gz\ncd ta-lib/\n./configure --prefix=/usr\nmake\nsudo make install\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#step-by-step_1","title":"Step-by-Step","text":"<p>Step 1: Clone and setup</p> <pre><code>git clone https://github.com/arunbcodes/maverick-mcp.git\ncd maverick-mcp\n\n# Install dependencies\nuv sync\n</code></pre> <p>Step 2: Choose your database option</p> <p>You have 2 choices:</p>"},{"location":"COMPLETE_SETUP_GUIDE/#option-a-sqlite-easiest-no-setup-needed","title":"Option A: SQLite (Easiest - No setup needed)","text":"<p>Default! Works out of the box, perfect for development.</p> <pre><code># No configuration needed! Just don't set DATABASE_URL\n# Creates maverick.db in your project directory\n</code></pre> <p>Pros:</p> <ul> <li>\u2705 Zero setup</li> <li>\u2705 No separate database server</li> <li>\u2705 Perfect for development</li> </ul> <p>Cons:</p> <ul> <li>\u274c Not suitable for production</li> <li>\u274c No concurrent writes</li> <li>\u274c Limited scalability</li> </ul>"},{"location":"COMPLETE_SETUP_GUIDE/#option-b-postgresql-production-ready","title":"Option B: PostgreSQL (Production-ready)","text":"<p>Better performance and features.</p> <p>Install PostgreSQL:</p> <pre><code># macOS\nbrew install postgresql@15\nbrew services start postgresql@15\n\n# Ubuntu/Debian\nsudo apt-get install postgresql-15\nsudo systemctl start postgresql\nsudo systemctl enable postgresql\n\n# Verify it's running\npsql --version\n</code></pre> <p>Create database:</p> <pre><code># Connect to PostgreSQL\npsql postgres\n\n# In psql:\nCREATE DATABASE maverick_mcp;\nCREATE USER maverick WITH PASSWORD 'your_password';\nGRANT ALL PRIVILEGES ON DATABASE maverick_mcp TO maverick;\n\\q\n</code></pre> <p>Configure <code>.env</code>:</p> <pre><code>DATABASE_URL=postgresql://maverick:your_password@localhost:5432/maverick_mcp\n</code></pre> <p>Step 3: Choose your cache option</p> <p>Redis is optional but recommended for caching.</p>"},{"location":"COMPLETE_SETUP_GUIDE/#option-a-without-redis-works-fine","title":"Option A: Without Redis (Works fine)","text":"<pre><code># In .env\nCACHE_ENABLED=false\n\n# Or just don't set it\n</code></pre> <p>Pros:</p> <ul> <li>\u2705 No setup needed</li> <li>\u2705 Works fine for light usage</li> </ul> <p>Cons:</p> <ul> <li>\u274c No caching = more API calls = slower</li> <li>\u274c Hit rate limits faster</li> </ul>"},{"location":"COMPLETE_SETUP_GUIDE/#option-b-with-redis-recommended","title":"Option B: With Redis (Recommended)","text":"<p>Install Redis:</p> <pre><code># macOS\nbrew install redis\nbrew services start redis\n\n# Ubuntu/Debian\nsudo apt-get install redis\nsudo systemctl start redis\nsudo systemctl enable redis\n\n# Verify it's running\nredis-cli ping\n# Should respond: PONG\n</code></pre> <p>Configure <code>.env</code>:</p> <pre><code>CACHE_ENABLED=true\nREDIS_URL=redis://localhost:6379\nREDIS_HOST=localhost\nREDIS_PORT=6379\nCACHE_TTL_SECONDS=3600\n</code></pre> <p>Managing Redis:</p> <pre><code># Start\nmake redis-start\n# Or: brew services start redis (macOS)\n\n# Stop\nmake redis-stop\n# Or: brew services stop redis (macOS)\n\n# Check status\nredis-cli ping\n</code></pre> <p>Step 4: Create <code>.env</code> file</p> <pre><code>touch .env\nnano .env\n</code></pre> <p>Complete <code>.env</code> template:</p> <pre><code># ========================================\n# REQUIRED - Won't work without this\n# ========================================\nTIINGO_API_KEY=your_tiingo_key_here\n\n# ========================================\n# STRONGLY RECOMMENDED - For AI features\n# ========================================\nOPENROUTER_API_KEY=sk-or-v1-your_key_here\nEXA_API_KEY=your_exa_key_here\n\n# ========================================\n# DATABASE (Optional - defaults to SQLite)\n# ========================================\n# For SQLite (default): Don't set DATABASE_URL\n# For PostgreSQL:\nDATABASE_URL=postgresql://maverick:password@localhost:5432/maverick_mcp\n\n# ========================================\n# CACHE (Optional - recommended)\n# ========================================\nCACHE_ENABLED=true\nREDIS_URL=redis://localhost:6379\nREDIS_HOST=localhost\nREDIS_PORT=6379\nCACHE_TTL_SECONDS=3600\n\n# ========================================\n# OPTIONAL - Enhanced Features\n# ========================================\nOPENAI_API_KEY=sk-your_openai_key_here\nANTHROPIC_API_KEY=sk-ant-your_anthropic_key_here\nFRED_API_KEY=your_fred_key_here\nTAVILY_API_KEY=your_tavily_key_here\nEXCHANGE_RATE_API_KEY=your_exchange_rate_key_here\n\n# ========================================\n# SERVER (Optional)\n# ========================================\nAPI_HOST=0.0.0.0\nAPI_PORT=8003\nLOG_LEVEL=info\nENVIRONMENT=development\n</code></pre> <p>Step 5: Run database migrations</p> <pre><code># Initialize/update database schema\nmake migrate\n\n# Or manually:\n./scripts/run-migrations.sh upgrade\n</code></pre> <p>Step 6: Seed the database (optional)</p> <pre><code># Seed S&amp;P 500 stocks\npython scripts/seed_sp500.py\n\n# Seed Indian stocks (Nifty 50 + Sensex)\npython scripts/seed_indian_stocks.py\n</code></pre> <p>Step 7: Start the server</p> <pre><code># Start development server\nmake dev\n\n# Or manually:\nuv run python -m maverick_mcp.api.server\n</code></pre> <p>Step 8: Verify it's running</p> <pre><code># Test the API\ncurl http://localhost:8003/health\n\n# Expected: {\"status\": \"ok\"}\n</code></pre> <p>Step 9: Connect to Claude Desktop</p> <p>Edit Claude Desktop config:</p> <pre><code># macOS\nnano ~/Library/Application\\ Support/Claude/claude_desktop_config.json\n</code></pre> <p>Add MaverickMCP:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"uv\",\n      \"args\": [\n        \"--directory\",\n        \"/Users/YOUR_USERNAME/path/to/maverick-mcp\",\n        \"run\",\n        \"python\",\n        \"-m\",\n        \"maverick_mcp.api.server\"\n      ]\n    }\n  }\n}\n</code></pre> <p>Replace <code>/Users/YOUR_USERNAME/path/to/maverick-mcp</code> with your actual path!</p> <p>Step 10: Restart Claude Desktop</p> <p>Done! \ud83c\udf89</p>"},{"location":"COMPLETE_SETUP_GUIDE/#whats-running-summary","title":"\ud83c\udfaf What's Running? (Summary)","text":""},{"location":"COMPLETE_SETUP_GUIDE/#with-docker-make-docker-up","title":"With Docker (<code>make docker-up</code>)","text":"<pre><code>\u2705 PostgreSQL  \u2192 localhost:55432 (auto-started)\n\u2705 Redis       \u2192 localhost:56379 (auto-started)\n\u2705 MaverickMCP \u2192 localhost:8003 (auto-started)\n</code></pre> <p>You don't need to manage anything!</p> <p>Note for Rancher Desktop users: Non-standard ports (55432, 56379) are used because Rancher Desktop's Lima VM reserves standard ports via SSH tunnel. Containers are configured to listen on these ports internally.</p>"},{"location":"COMPLETE_SETUP_GUIDE/#with-local-setup-minimal","title":"With Local Setup (Minimal)","text":"<pre><code>\u274c PostgreSQL  \u2192 Optional (uses SQLite by default)\n\u274c Redis       \u2192 Optional (caching disabled)\n\u2705 MaverickMCP \u2192 localhost:8003 (you start with `make dev`)\n</code></pre> <p>Only MaverickMCP runs, no separate services needed!</p>"},{"location":"COMPLETE_SETUP_GUIDE/#with-local-setup-full","title":"With Local Setup (Full)","text":"<pre><code>\u2705 PostgreSQL  \u2192 localhost:5432 (you start with `brew services start postgresql`)\n\u2705 Redis       \u2192 localhost:6379 (you start with `make redis-start`)\n\u2705 MaverickMCP \u2192 localhost:8003 (you start with `make dev`)\n</code></pre> <p>You manage each service separately.</p>"},{"location":"COMPLETE_SETUP_GUIDE/#verification-checklist","title":"\u2705 Verification Checklist","text":""},{"location":"COMPLETE_SETUP_GUIDE/#1-check-api-is-running","title":"1. Check API is running","text":"<pre><code>curl http://localhost:8003/health\n# Expected: {\"status\": \"ok\"}\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#2-check-database-connection","title":"2. Check database connection","text":"<pre><code># If using PostgreSQL\npsql -U maverick -d maverick_mcp -c \"SELECT COUNT(*) FROM mcp_stocks;\"\n\n# If using SQLite\nsqlite3 maverick.db \"SELECT COUNT(*) FROM mcp_stocks;\"\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#3-check-redis-if-using","title":"3. Check Redis (if using)","text":"<pre><code>redis-cli ping\n# Expected: PONG\n\n# Check cache is working\nredis-cli KEYS \"*\"\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#4-test-api-functionality","title":"4. Test API functionality","text":"<pre><code># Get stock data\ncurl \"http://localhost:8003/api/stock/AAPL?days=30\"\n\n# Test Indian market\ncurl \"http://localhost:8003/api/stock/RELIANCE.NS?days=30\"\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#5-check-claude-desktop-integration","title":"5. Check Claude Desktop integration","text":"<p>Open Claude Desktop and try:</p> <pre><code>\"What's the current price of Apple stock?\"\n\"Analyze Tesla for investment\"\n\"Show me bullish Indian stocks\"\n</code></pre> <p>If it responds with stock data, it's working! \ud83c\udf89</p>"},{"location":"COMPLETE_SETUP_GUIDE/#common-commands","title":"\ud83d\udd27 Common Commands","text":""},{"location":"COMPLETE_SETUP_GUIDE/#starting-services","title":"Starting Services","text":"<pre><code># Docker (all-in-one)\nmake docker-up              # Start everything\nmake docker-down            # Stop everything\nmake docker-logs            # View logs\n\n# Local development\nmake dev                    # Start MaverickMCP\nmake redis-start            # Start Redis (if installed)\nbrew services start postgresql@15  # Start PostgreSQL (macOS)\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#database-management","title":"Database Management","text":"<pre><code>make migrate                # Run migrations\npython scripts/seed_sp500.py       # Seed US stocks\npython scripts/seed_indian_stocks.py  # Seed Indian stocks\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#testing","title":"Testing","text":"<pre><code>make test                   # Run unit tests\nmake test-all               # Run all tests\nmake test-cov               # Run with coverage report\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#development","title":"Development","text":"<pre><code>make format                 # Format code\nmake lint                   # Run linter\nmake check                  # Run all checks\nmake clean                  # Clean up temp files\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#troubleshooting","title":"\ud83d\udc1b Troubleshooting","text":""},{"location":"COMPLETE_SETUP_GUIDE/#issue-connection-refused-error","title":"Issue: \"Connection refused\" error","text":"<p>Problem: Can't connect to PostgreSQL or Redis</p> <p>Solution:</p> <pre><code># Check if services are running\nbrew services list          # macOS\nsudo systemctl status postgresql redis  # Linux\n\n# Start services\nbrew services start postgresql@15 redis  # macOS\nsudo systemctl start postgresql redis   # Linux\n\n# Or use Docker\nmake docker-up\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#issue-api-key-not-found","title":"Issue: \"API key not found\"","text":"<p>Problem: API keys not loaded</p> <p>Solution:</p> <pre><code># Check .env exists\nls -la .env\n\n# Check keys are set\ncat .env | grep TIINGO_API_KEY\n\n# Make sure no extra spaces\n# Restart server\nmake dev\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#issue-database-not-initialized","title":"Issue: \"Database not initialized\"","text":"<p>Problem: Database schema not created</p> <p>Solution:</p> <pre><code># Run migrations\nmake migrate\n\n# Or manually\n./scripts/run-migrations.sh upgrade\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#issue-import-error-no-module-named-talib","title":"Issue: \"Import error: No module named 'talib'\"","text":"<p>Problem: TA-Lib not installed</p> <p>Solution:</p> <pre><code># macOS\nbrew install ta-lib\n\n# Ubuntu\nsudo apt-get install ta-lib\n\n# Then reinstall Python package\nuv sync\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#issue-docker-containers-wont-start","title":"Issue: Docker containers won't start","text":"<p>Problem: Port conflicts or Docker issues</p> <p>Solution:</p> <pre><code># Check what's using ports\nlsof -i :55432  # PostgreSQL (Docker)\nlsof -i :56379  # Redis (Docker)\nlsof -i :8003   # MaverickMCP\n\n# Stop conflicting services\nbrew services stop postgresql redis\n\n# Restart Docker\nmake docker-down\nmake docker-up\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#issue-tests-failing-with-docker-not-running","title":"Issue: Tests failing with \"Docker not running\"","text":"<p>Problem: Some tests need Docker for test database</p> <p>Solution:</p> <pre><code># Option 1: Start Docker Desktop\nopen -a Docker  # macOS\n\n# Option 2: Run only unit tests (no Docker needed)\npytest tests/test_validators.py -v\npytest tests/test_datetime_utils.py -v\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#performance-tips","title":"\ud83d\udcca Performance Tips","text":""},{"location":"COMPLETE_SETUP_GUIDE/#for-best-performance","title":"For Best Performance:","text":"<ol> <li> <p>Use PostgreSQL instead of SQLite</p> </li> <li> <p>Much faster for large datasets</p> </li> <li> <p>Supports concurrent queries</p> </li> <li> <p>Enable Redis caching</p> </li> <li> <p>Reduces API calls by 80%+</p> </li> <li>Faster response times</li> <li> <p>Prevents hitting rate limits</p> </li> <li> <p>Use Docker for production</p> </li> <li>Pre-configured for optimal performance</li> <li>Auto-scaling ready</li> <li>Easy deployment</li> </ol>"},{"location":"COMPLETE_SETUP_GUIDE/#cache-hit-rates","title":"Cache Hit Rates:","text":"<pre><code># Check Redis cache effectiveness\nredis-cli INFO stats | grep keyspace_hits\nredis-cli INFO stats | grep keyspace_misses\n\n# Calculate hit rate\n# hit_rate = hits / (hits + misses) * 100%\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#recommended-setup-by-use-case","title":"\ud83c\udfaf Recommended Setup by Use Case","text":""},{"location":"COMPLETE_SETUP_GUIDE/#for-quick-testing-5-minutes","title":"For Quick Testing (5 minutes)","text":"<pre><code># Just SQLite, no Redis, basic API keys\nTIINGO_API_KEY=xxx\nmake dev\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#for-development-10-minutes","title":"For Development (10 minutes)","text":"<pre><code># SQLite + Redis, full API keys\nTIINGO_API_KEY=xxx\nOPENROUTER_API_KEY=xxx\nCACHE_ENABLED=true\nmake redis-start\nmake dev\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#for-production-docker-2-minutes","title":"For Production (Docker - 2 minutes)","text":"<pre><code># Everything configured automatically\nmake docker-up\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#for-full-local-development-30-minutes","title":"For Full Local Development (30 minutes)","text":"<pre><code># PostgreSQL + Redis + All services\n# Complete control, best for debugging\nbrew install postgresql@15 redis ta-lib\n# ... configure everything ...\nmake dev\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#next-steps","title":"\ud83d\udcda Next Steps","text":"<p>After setup is complete:</p> <ol> <li> <p>Read the API Keys Guide</p> </li> <li> <p>See <code>docs/API_KEYS_GUIDE.md</code></p> </li> <li> <p>Understand what each key enables</p> </li> <li> <p>Try the Examples</p> </li> </ol> <pre><code>python examples/indian_market_analysis.py\npython examples/llm_speed_demo.py\n</code></pre> <ol> <li>Test Stock Screening</li> </ol> <pre><code>python scripts/run_stock_screening.py\n</code></pre> <ol> <li> <p>Read Documentation</p> </li> <li> <p><code>docs/INDIAN_MARKET.md</code> - Indian market features</p> </li> <li><code>docs/TESTING.md</code> - Testing guide</li> <li> <p><code>CLAUDE.md</code> - Claude Desktop integration</p> </li> <li> <p>Contribute!</p> </li> <li>Check <code>CONTRIBUTING.md</code></li> <li>Look for issues labeled \"good first issue\"</li> </ol>"},{"location":"COMPLETE_SETUP_GUIDE/#thats-it","title":"\ud83c\udf8a That's It!","text":"<p>You now have MaverickMCP running with full functionality! \ud83d\ude80</p> <p>Quick Reference:</p> Need Solution Easiest <code>make docker-up</code> (2 min) Fastest SQLite + no Redis (5 min) Best Performance PostgreSQL + Redis (30 min) Production Docker (2 min) <p>Questions? Open an issue on GitHub! \ud83d\udcac</p>"},{"location":"MIGRATION_PLAN/","title":"Maverick MCP Migration Plan","text":""},{"location":"MIGRATION_PLAN/#overview","title":"Overview","text":"<p>This document outlines the migration from the legacy <code>maverick_mcp</code> monolith to the modular package structure under <code>packages/</code>.</p>"},{"location":"MIGRATION_PLAN/#current-state-migration-complete","title":"Current State \u2705 MIGRATION COMPLETE","text":"<ul> <li>Legacy Code: <code>maverick_mcp/</code> - Can be deleted (kept for backward compatibility)</li> <li>New Packages: <code>packages/</code> - Fully implemented with 100% feature parity</li> <li>Independence: New packages have ZERO imports from <code>maverick_mcp</code></li> </ul> <p>The remaining ~300 imports from <code>maverick_mcp</code> are in:</p> <ul> <li><code>maverick_mcp/</code> folder itself (legacy internal imports)</li> <li><code>tests/</code> for the legacy code</li> <li>Dev tools/templates (non-production)</li> </ul>"},{"location":"MIGRATION_PLAN/#target-architecture","title":"Target Architecture","text":"<pre><code>packages/\n\u251c\u2500\u2500 maverick-core      # Domain logic, interfaces, config, exceptions\n\u251c\u2500\u2500 maverick-data      # Models, providers, cache, repositories\n\u251c\u2500\u2500 maverick-backtest  # Backtesting engine, strategies, workflows\n\u251c\u2500\u2500 maverick-agents    # LLM agents, research, supervisors\n\u251c\u2500\u2500 maverick-india     # Indian market, news, concall, economic\n\u2514\u2500\u2500 maverick-server    # MCP server, routers, tools\n</code></pre>"},{"location":"MIGRATION_PLAN/#new-package-exports-feature-parity","title":"New Package Exports (Feature Parity)","text":""},{"location":"MIGRATION_PLAN/#maverick-core-configuration-logging-resilience","title":"maverick-core (Configuration, Logging, Resilience)","text":"<ul> <li><code>get_settings</code>, <code>Settings</code>, <code>CONFIG</code>, <code>CACHE_TTL</code></li> <li><code>get_logger</code>, <code>setup_logging</code>, <code>StructuredFormatter</code></li> <li><code>EnhancedCircuitBreaker</code>, <code>FallbackChain</code>, <code>FallbackStrategy</code></li> <li>All exceptions: <code>MaverickException</code>, <code>ValidationError</code>, etc.</li> <li>Validation: <code>validate_symbol</code>, <code>validate_date_range</code>, etc.</li> </ul>"},{"location":"MIGRATION_PLAN/#maverick-data-models-providers-services","title":"maverick-data (Models, Providers, Services)","text":"<ul> <li><code>SessionLocal</code>, <code>engine</code>, <code>get_db</code>, <code>get_session</code></li> <li><code>Stock</code>, <code>PriceCache</code>, <code>MaverickStocks</code>, etc. (all models)</li> <li><code>StockDataProvider</code>, <code>EnhancedStockDataProvider</code></li> <li><code>MarketDataProvider</code>, <code>MacroDataProvider</code></li> <li><code>bulk_insert_price_data</code>, <code>bulk_insert_screening_data</code></li> <li><code>ScreeningService</code>, <code>StockCacheManager</code>, <code>StockDataFetcher</code></li> </ul>"},{"location":"MIGRATION_PLAN/#maverick-backtest-backtesting-engine","title":"maverick-backtest (Backtesting Engine)","text":"<ul> <li>VectorBT strategies, analysis tools</li> <li><code>BacktestingWorkflow</code> with LangGraph</li> <li>Walk-forward analysis, optimization</li> </ul>"},{"location":"MIGRATION_PLAN/#maverick-india-indian-market","title":"maverick-india (Indian Market)","text":"<ul> <li>NSE/BSE market support</li> <li>Concall transcript analysis</li> </ul>"},{"location":"MIGRATION_PLAN/#maverick-server-mcp-server","title":"maverick-server (MCP Server)","text":"<ul> <li>Monitoring: Prometheus, Sentry, health checks</li> <li>Agents router for LangGraph tools</li> </ul>"},{"location":"MIGRATION_PLAN/#migration-phases","title":"Migration Phases","text":""},{"location":"MIGRATION_PLAN/#phase-1-data-layer-priority-high","title":"Phase 1: Data Layer (Priority: HIGH) \u23f3","text":"<p>Goal: Complete migration of all data-related components</p>"},{"location":"MIGRATION_PLAN/#11-models-maverick-data","title":"1.1 Models (maverick-data)","text":"<ul> <li> <code>bulk_insert_screening_data</code> function</li> <li> <code>bulk_insert_price_data</code> function</li> <li> <code>SessionLocal</code> factory</li> <li> <code>engine</code> singleton</li> <li> <code>get_db</code> dependency</li> <li> <code>get_async_db</code> dependency</li> <li> All remaining model helpers</li> </ul>"},{"location":"MIGRATION_PLAN/#12-database-configuration","title":"1.2 Database Configuration","text":"<ul> <li> <code>config.database</code> \u2192 <code>maverick-data.session</code></li> <li> Connection pooling settings</li> <li> Migration utilities (alembic integration)</li> </ul>"},{"location":"MIGRATION_PLAN/#13-infrastructure-services","title":"1.3 Infrastructure Services","text":"<ul> <li> <code>infrastructure.data_fetching.StockDataFetchingService</code></li> <li> <code>infrastructure.caching.CacheManagementService</code></li> <li> <code>data.performance</code> utilities</li> </ul>"},{"location":"MIGRATION_PLAN/#phase-2-providers-layer-priority-high","title":"Phase 2: Providers Layer (Priority: HIGH) \u23f3","text":"<p>Goal: Migrate all data providers</p>"},{"location":"MIGRATION_PLAN/#21-stock-data-providers-maverick-data","title":"2.1 Stock Data Providers (maverick-data)","text":"<ul> <li> <code>providers.stock_data.StockDataProvider</code></li> <li> <code>providers.stock_data.EnhancedStockDataProvider</code></li> <li> <code>providers.optimized_stock_data</code></li> <li> <code>providers.optimized_screening</code></li> </ul>"},{"location":"MIGRATION_PLAN/#22-market-data-providers-maverick-data","title":"2.2 Market Data Providers (maverick-data)","text":"<ul> <li> <code>providers.market_data.MarketDataProvider</code></li> <li> <code>providers.macro_data.MacroDataProvider</code></li> </ul>"},{"location":"MIGRATION_PLAN/#23-indian-market-providers-maverick-india","title":"2.3 Indian Market Providers (maverick-india)","text":"<ul> <li> <code>providers.indian_market_data.IndianMarketDataProvider</code></li> <li> <code>providers.rbi_data.RBIDataProvider</code></li> <li> <code>providers.exchange_rate</code></li> <li> <code>providers.indian_news.IndianNewsProvider</code></li> <li> <code>providers.moneycontrol_scraper</code></li> <li> <code>providers.economic_times_scraper</code></li> <li> <code>providers.multi_source_news_aggregator</code></li> </ul>"},{"location":"MIGRATION_PLAN/#24-llm-providers-maverick-agents","title":"2.4 LLM Providers (maverick-agents)","text":"<ul> <li> <code>providers.openrouter_provider.OpenRouterProvider</code></li> <li> <code>providers.llm_factory</code></li> </ul>"},{"location":"MIGRATION_PLAN/#phase-3-configuration-utils-priority-high","title":"Phase 3: Configuration &amp; Utils (Priority: HIGH) \u23f3","text":"<p>Goal: Complete core utilities migration</p>"},{"location":"MIGRATION_PLAN/#31-configuration-maverick-core","title":"3.1 Configuration (maverick-core)","text":"<ul> <li> <code>config.settings.get_settings</code></li> <li> <code>config.settings.settings</code> singleton</li> <li> <code>config.markets</code> (Market enum, configs)</li> <li> <code>config.logging_settings</code></li> </ul>"},{"location":"MIGRATION_PLAN/#32-logging-maverick-core","title":"3.2 Logging (maverick-core)","text":"<ul> <li> <code>utils.logging.get_logger</code></li> <li> <code>utils.structured_logger</code></li> <li> <code>utils.logging_init</code></li> <li> <code>utils.orchestration_logging</code></li> </ul>"},{"location":"MIGRATION_PLAN/#33-utilities-maverick-core","title":"3.3 Utilities (maverick-core)","text":"<ul> <li> <code>utils.currency_converter</code> \u2192 maverick-india</li> <li> <code>utils.monitoring</code></li> <li> <code>utils.memory_profiler</code></li> <li> <code>utils.parallel_research</code> \u2192 maverick-agents</li> <li> <code>utils.stock_helpers</code></li> <li> <code>utils.data_chunking</code></li> <li> <code>utils.batch_processing</code></li> </ul>"},{"location":"MIGRATION_PLAN/#34-circuit-breakers-maverick-core","title":"3.4 Circuit Breakers (maverick-core) \u2705","text":"<ul> <li> <code>utils.circuit_breaker</code></li> <li> <code>utils.circuit_breaker_decorators</code></li> <li> <code>utils.fallback_strategies</code></li> </ul>"},{"location":"MIGRATION_PLAN/#phase-4-domain-layer-priority-medium","title":"Phase 4: Domain Layer (Priority: MEDIUM) \u23f3","text":"<p>Goal: Complete domain model migration</p>"},{"location":"MIGRATION_PLAN/#41-domain-services-maverick-core","title":"4.1 Domain Services (maverick-core)","text":"<ul> <li> <code>domain.stock_analysis.StockAnalysisService</code></li> <li> <code>domain.services.technical_analysis_service</code></li> <li> <code>core.technical_analysis</code></li> </ul>"},{"location":"MIGRATION_PLAN/#42-value-objects-maverick-core","title":"4.2 Value Objects (maverick-core)","text":"<ul> <li> <code>domain.value_objects.technical_indicators</code></li> </ul>"},{"location":"MIGRATION_PLAN/#43-application-services","title":"4.3 Application Services","text":"<ul> <li> <code>application.screening.indian_market</code></li> <li> <code>analysis.market_comparison</code></li> </ul>"},{"location":"MIGRATION_PLAN/#phase-5-api-layer-priority-high","title":"Phase 5: API Layer (Priority: HIGH) \u23f3","text":"<p>Goal: Migrate server and all routers</p>"},{"location":"MIGRATION_PLAN/#51-server-core-maverick-server","title":"5.1 Server Core (maverick-server)","text":"<ul> <li> <code>api.server.mcp</code> - Main MCP server</li> <li> <code>api.api_server.create_api_app</code></li> <li> Entry point (<code>__main__.py</code>)</li> </ul>"},{"location":"MIGRATION_PLAN/#52-routers-maverick-server","title":"5.2 Routers (maverick-server)","text":"<ul> <li> <code>api.routers.tool_registry</code></li> <li> <code>api.routers.concall</code></li> <li> <code>api.routers.research</code></li> <li> <code>api.routers.data</code></li> <li> <code>api.routers.portfolio</code></li> <li> <code>api.routers.health_enhanced</code></li> <li> All other routers</li> </ul>"},{"location":"MIGRATION_PLAN/#53-authentication-maverick-server","title":"5.3 Authentication (maverick-server)","text":"<ul> <li> <code>auth</code> module (if applicable)</li> </ul>"},{"location":"MIGRATION_PLAN/#phase-6-agents-layer-priority-medium","title":"Phase 6: Agents Layer (Priority: MEDIUM) \u2705","text":"<p>Goal: Complete agents migration</p> <ul> <li> <code>agents.deep_research.DeepResearchAgent</code></li> <li> <code>agents.supervisor</code></li> <li> Research subagents</li> <li> Memory stores</li> <li> <code>maverick_server.routers.agents</code> - LangGraph agent tools</li> </ul>"},{"location":"MIGRATION_PLAN/#phase-7-utility-functions","title":"Phase 7: Utility Functions \u2705","text":"<p>Goal: Add utility helpers to new packages</p> <ul> <li> <code>maverick_core.utils.datetime_utils</code> - Date/time operations</li> <li> <code>maverick_data.utils.stock_helpers</code> - Stock data helpers</li> </ul>"},{"location":"MIGRATION_PLAN/#phase-8-scripts-tools","title":"Phase 8: Scripts &amp; Tools \u2705","text":"<p>Goal: Update all scripts to use new packages (with fallback)</p>"},{"location":"MIGRATION_PLAN/#81-seed-scripts","title":"8.1 Seed Scripts","text":"<ul> <li> <code>scripts/seed_sp500.py</code> - Uses maverick_data with fallback</li> <li> <code>scripts/seed_indian_stocks.py</code> - Uses maverick_data/maverick_india with fallback</li> <li> <code>scripts/seed_concall_mappings.py</code> - Already had fallback</li> </ul>"},{"location":"MIGRATION_PLAN/#82-docker-scripts","title":"8.2 Docker Scripts","text":"<ul> <li> <code>scripts/docker-entrypoint.sh</code> - Uses new packages with fallback</li> </ul>"},{"location":"MIGRATION_PLAN/#phase-9-tests","title":"Phase 9: Tests \u2705","text":"<p>Goal: Update test infrastructure to use new packages</p> <ul> <li> <code>tests/conftest.py</code> - New packages with fallback</li> <li> Service tests - Dynamic MODULE_PATH for @patch</li> <li> Remaining tests (281 files have fallback imports)</li> </ul>"},{"location":"MIGRATION_PLAN/#phase-10-docker-configuration","title":"Phase 10: Docker Configuration \u2705","text":"<p>Goal: Update Docker for new packages</p> <ul> <li> <code>Dockerfile</code> - PYTHONPATH includes new packages</li> <li> <code>docker-compose.yml</code> - PYTHONPATH environment variable</li> <li> Both old and new packages mounted for hot-reload</li> <li> Full removal of maverick_mcp (requires 340+ file updates)</li> </ul>"},{"location":"MIGRATION_PLAN/#current-status-2025-11-29","title":"Current Status (2025-11-29)","text":""},{"location":"MIGRATION_PLAN/#completed-infrastructure","title":"Completed Infrastructure","text":"Component Package Status Circuit Breaker maverick-core \u2705 Exceptions maverick-core \u2705 Validation maverick-core \u2705 Logging maverick-core \u2705 Resilience maverick-core \u2705 Config maverick-core \u2705 Date Utils maverick-core \u2705 Models maverick-data \u2705 Session/Engine maverick-data \u2705 StockDataProvider maverick-data \u2705 Services (Cache, Fetch, Screen) maverick-data \u2705 Stock Helpers maverick-data \u2705 YFinance Pool maverick-data \u2705 Monitoring maverick-server \u2705 Agents Router maverick-server \u2705 Workflows maverick-backtest \u2705 Analysis maverick-backtest \u2705 Indian Market maverick-india \u2705 Concall maverick-india \u2705"},{"location":"MIGRATION_PLAN/#remaining-work","title":"Remaining Work","text":"<p>The remaining ~300 <code>maverick_mcp</code> imports are ALL in legacy code:</p> <ul> <li><code>maverick_mcp/</code> folder itself (internal imports within the legacy monolith)</li> <li><code>tests/</code> for legacy code</li> <li>Dev tools and templates</li> </ul> <p>The new packages (<code>packages/</code>) have ZERO dependencies on the old code.</p> <p>Strategy:</p> <ul> <li>New code should ONLY import from new packages</li> <li>Legacy <code>maverick_mcp/</code> can be deleted when ready</li> <li>Tests should be migrated to test new packages</li> </ul>"},{"location":"MIGRATION_PLAN/#migration-strategy","title":"Migration Strategy","text":""},{"location":"MIGRATION_PLAN/#approach-gradual-migration-with-compatibility-layer","title":"Approach: Gradual Migration with Compatibility Layer","text":"<ol> <li>Keep Legacy Working: Maintain <code>maverick_mcp</code> imports working during migration</li> <li>Create Aliases: Add re-exports in legacy modules pointing to new packages</li> <li>Update Incrementally: Migrate one module at a time</li> <li>Test Continuously: Run full test suite after each module migration</li> <li>Docker Last: Only update Docker once all migrations complete</li> </ol>"},{"location":"MIGRATION_PLAN/#example-creating-compatibility-alias","title":"Example: Creating Compatibility Alias","text":"<pre><code># In maverick_mcp/utils/logging.py (legacy)\n# Add re-export to new location\ntry:\n    from maverick_core.logging import get_logger, setup_logging\nexcept ImportError:\n    # Keep legacy implementation as fallback\n    def get_logger(name):\n        ...\n</code></pre>"},{"location":"MIGRATION_PLAN/#package-status","title":"Package Status","text":""},{"location":"MIGRATION_PLAN/#all-core-components-implemented","title":"\u2705 All Core Components Implemented","text":"Package Component Status maverick-data <code>bulk_insert_*</code> functions \u2705 Implemented maverick-data <code>SessionLocal</code>, <code>engine</code> \u2705 Implemented maverick-data <code>StockDataProvider</code>, <code>EnhancedStockDataProvider</code> \u2705 Implemented maverick-data <code>MarketDataProvider</code>, <code>MacroDataProvider</code> \u2705 Implemented maverick-data <code>StockCacheManager</code>, <code>StockDataFetcher</code>, <code>ScreeningService</code> \u2705 Implemented maverick-core <code>get_settings</code>, <code>Settings</code> \u2705 Implemented maverick-core <code>get_logger</code>, <code>setup_logging</code> \u2705 Implemented maverick-core Exceptions, Validation, Resilience \u2705 Implemented maverick-india Market support, Concall analysis \u2705 Implemented maverick-backtest VectorBT engine, Strategies, Workflows \u2705 Implemented maverick-server Monitoring (Prometheus, Sentry) \u2705 Implemented maverick-server Agents router \u2705 Implemented"},{"location":"MIGRATION_PLAN/#remaining-optional-items","title":"Remaining (Optional) Items","text":"Package Component Priority Notes maverick-india <code>CurrencyConverter</code> LOW Can be added when needed maverick-india <code>RBIDataProvider</code> LOW Can be added when needed maverick-server All routers LOW Currently use legacy routers maverick-server Main server entry LOW Currently use legacy server <p>Note: These are not blocking. The new packages provide full functionality for new code.</p>"},{"location":"MIGRATION_PLAN/#success-criteria","title":"Success Criteria","text":"<ul> <li> New packages have full feature parity \u2705</li> <li> New packages have ZERO dependencies on maverick_mcp \u2705</li> <li> Scripts use new packages with fallback \u2705</li> <li> Docker includes new packages in PYTHONPATH \u2705</li> <li> Delete <code>maverick_mcp/</code> folder (optional cleanup)</li> <li> Migrate tests to new packages (optional cleanup)</li> </ul>"},{"location":"MIGRATION_PLAN/#migration-complete-summary","title":"Migration Complete Summary","text":"Phase Status Phase 1-3: Data, Providers, Config \u2705 Complete Phase 4: Domain \u2705 Complete Phase 5: API (partial - agents router) \u2705 Complete Phase 6: Agents \u2705 Complete Phase 7: Utility Functions \u2705 Complete Phase 8: Scripts \u2705 Complete Phase 9: Tests Infrastructure \u2705 Complete Phase 10: Docker Configuration \u2705 Complete"},{"location":"MIGRATION_PLAN/#optional-future-work","title":"Optional Future Work","text":"<ol> <li>Delete <code>maverick_mcp/</code>: Once all clients migrate to new packages</li> <li>Migrate Server Routers: Move remaining routers from legacy to maverick-server</li> <li>Test Migration: Update tests to use new packages directly</li> <li>Documentation: Remove legacy code references from docs</li> </ol> <p>Last Updated: 2025-11-29 Status: \u2705 COMPLETE - New packages have full feature parity</p>"},{"location":"PORTFOLIO/","title":"Portfolio Management Guide","text":"<p>Complete guide to using MaverickMCP's portfolio personalization features for intelligent, context-aware stock analysis.</p>"},{"location":"PORTFOLIO/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Quick Start</li> <li>Portfolio Management</li> <li>Intelligent Analysis</li> <li>MCP Resource</li> <li>Best Practices</li> <li>Troubleshooting</li> <li>Technical Details</li> </ul>"},{"location":"PORTFOLIO/#overview","title":"Overview","text":"<p>MaverickMCP's portfolio features transform your AI financial assistant from stateless analysis to personalized, context-aware recommendations. The system:</p> <ul> <li>Tracks your holdings with automatic cost basis averaging</li> <li>Calculates live P&amp;L using real-time market data</li> <li>Enhances analysis tools to auto-detect your positions</li> <li>Provides AI context through MCP resources</li> </ul> <p>DISCLAIMER: All portfolio features are for educational purposes only. This is not investment advice. Always consult qualified financial professionals before making investment decisions.</p>"},{"location":"PORTFOLIO/#quick-start","title":"Quick Start","text":""},{"location":"PORTFOLIO/#1-add-your-first-position","title":"1. Add Your First Position","text":"<pre><code>Add 10 shares of Apple stock I bought at $150.50 on January 15, 2024\n</code></pre> <p>Behind the scenes, this uses: <pre><code>portfolio_add_position(\n    ticker=\"AAPL\",\n    shares=10,\n    purchase_price=150.50,\n    purchase_date=\"2024-01-15\"\n)\n</code></pre></p>"},{"location":"PORTFOLIO/#2-view-your-portfolio","title":"2. View Your Portfolio","text":"<pre><code>Show me my portfolio\n</code></pre> <p>Response includes: - All positions with current prices - Unrealized P&amp;L for each position - Total portfolio value and performance - Diversification metrics</p>"},{"location":"PORTFOLIO/#3-smart-analysis","title":"3. Smart Analysis","text":"<pre><code>Compare my portfolio holdings\n</code></pre> <p>Automatically compares all your positions without manual ticker entry!</p>"},{"location":"PORTFOLIO/#portfolio-management","title":"Portfolio Management","text":""},{"location":"PORTFOLIO/#adding-positions","title":"Adding Positions","text":"<p>Add a new position: <pre><code>Add 50 shares of Microsoft at $380.25\n</code></pre></p> <p>Add to existing position (automatic cost averaging): <pre><code>Add 25 more shares of Apple at $165.00\n</code></pre></p> <p>The system automatically: - Averages your cost basis - Updates total investment - Preserves earliest purchase date</p> <p>Example: - Initial: 10 shares @ $150 = $1,500 total cost, $150 avg cost - Add: 10 shares @ $170 = $1,700 total cost - Result: 20 shares, $160 avg cost, $3,200 total invested</p>"},{"location":"PORTFOLIO/#viewing-positions","title":"Viewing Positions","text":"<p>Get complete portfolio: <pre><code>Show my portfolio with current prices\n</code></pre></p> <p>Returns: <pre><code>{\n  \"portfolio_name\": \"My Portfolio\",\n  \"positions\": [\n    {\n      \"ticker\": \"AAPL\",\n      \"shares\": 20.0,\n      \"average_cost_basis\": 160.00,\n      \"current_price\": 175.50,\n      \"unrealized_pnl\": 310.00,\n      \"unrealized_pnl_pct\": 9.69\n    }\n  ],\n  \"total_value\": 3510.00,\n  \"total_invested\": 3200.00,\n  \"total_pnl\": 310.00,\n  \"total_pnl_pct\": 9.69\n}\n</code></pre></p>"},{"location":"PORTFOLIO/#removing-positions","title":"Removing Positions","text":"<p>Partial sale: <pre><code>Sell 10 shares of Apple\n</code></pre></p> <p>Maintains average cost basis on remaining shares.</p> <p>Full position exit: <pre><code>Remove all my Tesla shares\n</code></pre></p> <p>or simply: <pre><code>Remove TSLA\n</code></pre></p>"},{"location":"PORTFOLIO/#clearing-portfolio","title":"Clearing Portfolio","text":"<p>Remove all positions: <pre><code>Clear my entire portfolio\n</code></pre></p> <p>Requires confirmation for safety.</p>"},{"location":"PORTFOLIO/#intelligent-analysis","title":"Intelligent Analysis","text":""},{"location":"PORTFOLIO/#auto-compare-holdings","title":"Auto-Compare Holdings","text":"<p>Instead of: <pre><code>Compare AAPL, MSFT, GOOGL, TSLA\n</code></pre></p> <p>Simply use: <pre><code>Compare my holdings\n</code></pre></p> <p>The tool automatically: - Pulls all tickers from your portfolio - Analyzes relative performance - Ranks by metrics - Shows best/worst performers</p>"},{"location":"PORTFOLIO/#auto-correlation-analysis","title":"Auto-Correlation Analysis","text":"<pre><code>Analyze correlation in my portfolio\n</code></pre> <p>Automatically: - Calculates correlation matrix for all holdings - Identifies highly correlated pairs (diversification issues) - Finds negative correlations (natural hedges) - Provides diversification score</p> <p>Example output: <pre><code>{\n  \"average_portfolio_correlation\": 0.612,\n  \"diversification_score\": 38.8,\n  \"high_correlation_pairs\": [\n    {\n      \"pair\": [\"AAPL\", \"MSFT\"],\n      \"correlation\": 0.823,\n      \"interpretation\": \"High positive correlation\"\n    }\n  ],\n  \"recommendation\": \"Consider adding uncorrelated assets\"\n}\n</code></pre></p>"},{"location":"PORTFOLIO/#position-aware-risk-analysis","title":"Position-Aware Risk Analysis","text":"<pre><code>Analyze AAPL with risk analysis\n</code></pre> <p>If you own AAPL, automatically shows: - Your current position (shares, cost basis) - Unrealized P&amp;L - Position sizing recommendations - Averaging down/up suggestions</p> <p>Example with existing position: <pre><code>{\n  \"ticker\": \"AAPL\",\n  \"current_price\": 175.50,\n  \"existing_position\": {\n    \"shares_owned\": 20.0,\n    \"average_cost_basis\": 160.00,\n    \"total_invested\": 3200.00,\n    \"current_value\": 3510.00,\n    \"unrealized_pnl\": 310.00,\n    \"unrealized_pnl_pct\": 9.69,\n    \"position_recommendation\": \"Hold current position\"\n  }\n}\n</code></pre></p>"},{"location":"PORTFOLIO/#mcp-resource","title":"MCP Resource","text":""},{"location":"PORTFOLIO/#portfoliomy-holdings-resource","title":"portfolio://my-holdings Resource","text":"<p>The portfolio resource provides automatic context to AI agents during conversations.</p> <p>Accessed via: <pre><code>What's in my portfolio?\n</code></pre></p> <p>The AI automatically sees: - All current positions - Live prices and P&amp;L - Portfolio composition - Diversification status</p> <p>This enables natural conversations: <pre><code>Should I add more tech exposure?\n</code></pre></p> <p>The AI knows you already own AAPL, MSFT, GOOGL and can provide personalized advice.</p>"},{"location":"PORTFOLIO/#best-practices","title":"Best Practices","text":""},{"location":"PORTFOLIO/#cost-basis-tracking","title":"Cost Basis Tracking","text":"<ul> <li>Always specify purchase date for accurate records</li> <li>Add notes for important context (e.g., \"RSU vest\", \"DCA purchase #3\")</li> <li>Review regularly to ensure accuracy</li> </ul>"},{"location":"PORTFOLIO/#diversification","title":"Diversification","text":"<ul> <li>Use <code>portfolio_correlation_analysis()</code> monthly</li> <li>Watch for correlations above 0.7 (concentration risk)</li> <li>Consider uncorrelated assets when diversification score &lt; 50</li> </ul>"},{"location":"PORTFOLIO/#position-sizing","title":"Position Sizing","text":"<ul> <li>Use <code>risk_adjusted_analysis()</code> before adding to positions</li> <li>Follow position sizing recommendations</li> <li>Respect stop-loss suggestions</li> </ul>"},{"location":"PORTFOLIO/#maintenance","title":"Maintenance","text":"<ul> <li>Weekly: Review portfolio performance</li> <li>Monthly: Analyze correlations</li> <li>Quarterly: Rebalance based on analysis tools</li> </ul>"},{"location":"PORTFOLIO/#troubleshooting","title":"Troubleshooting","text":""},{"location":"PORTFOLIO/#no-portfolio-found","title":"\"No portfolio found\"","text":"<p>Problem: Trying to use auto-detection features without any positions.</p> <p>Solution: Add at least one position: <pre><code>Add 1 share of SPY at current price\n</code></pre></p>"},{"location":"PORTFOLIO/#insufficient-positions-for-comparison","title":"\"Insufficient positions for comparison\"","text":"<p>Problem: Need minimum 2 positions for comparison/correlation.</p> <p>Solution: Add another position or specify tickers manually: <pre><code>Compare AAPL, MSFT\n</code></pre></p>"},{"location":"PORTFOLIO/#invalid-ticker-symbol","title":"\"Invalid ticker symbol\"","text":"<p>Problem: Ticker doesn't exist or is incorrectly formatted.</p> <p>Solution: - Check ticker spelling - Verify symbol on financial websites - Use standard format (e.g., \"BRK.B\" not \"BRKB\")</p>"},{"location":"PORTFOLIO/#stale-price-data","title":"Stale Price Data","text":"<p>Problem: Portfolio shows old prices.</p> <p>Solution: Refresh by calling <code>get_my_portfolio(include_current_prices=True)</code></p>"},{"location":"PORTFOLIO/#position-not-found","title":"Position Not Found","text":"<p>Problem: Trying to remove shares from position you don't own.</p> <p>Solution: Check your portfolio first: <pre><code>Show my portfolio\n</code></pre></p>"},{"location":"PORTFOLIO/#technical-details","title":"Technical Details","text":""},{"location":"PORTFOLIO/#cost-basis-method","title":"Cost Basis Method","text":"<p>Average Cost Method: Simplest and most appropriate for educational use.</p> <p>Formula: <pre><code>New Avg Cost = (Existing Total Cost + New Purchase Cost) / Total Shares\n</code></pre></p> <p>Example: - Buy 10 @ $100 = $1,000 total, $100 avg - Buy 10 @ $120 = $1,200 additional - Result: 20 shares, \\(110 avg cost (\\)2,200 / 20)</p>"},{"location":"PORTFOLIO/#database-schema","title":"Database Schema","text":"<p>Tables: - <code>mcp_portfolios</code>: User portfolio metadata - <code>mcp_portfolio_positions</code>: Individual positions</p> <p>Precision: - Shares: Numeric(20,8) - supports fractional shares - Prices: Numeric(12,4) - 4 decimal precision - Total Cost: Numeric(20,4) - high precision for large positions</p>"},{"location":"PORTFOLIO/#supported-features","title":"Supported Features","text":"<p>\u2705 Fractional shares (0.001 minimum) \u2705 Multiple portfolios per user \u2705 Automatic cost averaging \u2705 Live P&amp;L calculations \u2705 Position notes/annotations \u2705 Timezone-aware timestamps \u2705 Cascade deletion (portfolio \u2192 positions)</p>"},{"location":"PORTFOLIO/#limitations","title":"Limitations","text":"<ul> <li>Single currency (USD)</li> <li>Stock equities only (no options, futures, crypto)</li> <li>Average cost method only (no FIFO/LIFO)</li> <li>No tax lot tracking</li> <li>No dividend tracking (planned for future)</li> <li>No transaction history (planned for future)</li> </ul>"},{"location":"PORTFOLIO/#data-sources","title":"Data Sources","text":"<ul> <li>Historical Prices: Tiingo API (free tier: 500 req/day)</li> <li>Live Prices: Same as historical (delayed 15 minutes on free tier)</li> <li>Company Info: Pre-seeded S&amp;P 500 database</li> </ul>"},{"location":"PORTFOLIO/#performance","title":"Performance","text":"<ul> <li>Database: SQLite default (PostgreSQL optional for better performance)</li> <li>Caching: In-memory by default (Redis optional)</li> <li>Price Fetching: Sequential (batch optimization in Phase 3)</li> <li>Query Optimization: selectin loading for relationships</li> </ul>"},{"location":"PORTFOLIO/#privacy-security","title":"Privacy &amp; Security","text":"<ul> <li>Local-first: All data stored locally in your database</li> <li>No cloud sync: Portfolio data never leaves your machine</li> <li>No authentication: Personal use only (no multi-user)</li> <li>No external sharing: Data accessible only to you</li> </ul>"},{"location":"PORTFOLIO/#migration-guide","title":"Migration Guide","text":""},{"location":"PORTFOLIO/#upgrading-from-no-portfolio","title":"Upgrading from No Portfolio","text":"<ol> <li>Start MaverickMCP server</li> <li>Migration runs automatically on first startup</li> <li>Add your first position</li> <li>Verify with <code>get_my_portfolio()</code></li> </ol>"},{"location":"PORTFOLIO/#downgrading-rollback","title":"Downgrading (Rollback)","text":"<pre><code># Backup first\ncp maverick_mcp.db maverick_mcp.db.backup\n\n# Rollback migration\nalembic downgrade -1\n\n# Verify\nalembic current\n</code></pre>"},{"location":"PORTFOLIO/#exporting-portfolio","title":"Exporting Portfolio","text":"<p>Currently manual: <pre><code>sqlite3 maverick_mcp.db \"SELECT * FROM mcp_portfolio_positions;\" &gt; portfolio_export.csv\n</code></pre></p> <p>Future: Built-in export tool planned.</p>"},{"location":"PORTFOLIO/#faqs","title":"FAQs","text":"<p>Q: Can I track multiple portfolios? A: Yes! Use the <code>portfolio_name</code> parameter: <pre><code>add_portfolio_position(\"AAPL\", 10, 150, portfolio_name=\"IRA\")\nadd_portfolio_position(\"VOO\", 5, 400, portfolio_name=\"401k\")\n</code></pre></p> <p>Q: What happens if I add wrong data? A: Simply remove the position and re-add: <pre><code>Remove AAPL\nAdd 10 shares of AAPL at $150.50\n</code></pre></p> <p>Q: Can I track realized gains? A: Not yet. Currently tracks unrealized P&amp;L only. Transaction history is planned for future release.</p> <p>Q: Is my data backed up? A: No automatic backups. Manually copy <code>maverick_mcp.db</code> regularly: <pre><code>cp maverick_mcp.db ~/backups/maverick_mcp_$(date +%Y%m%d).db\n</code></pre></p> <p>Q: Can I use this for tax purposes? A: NO. This is educational software only. Use professional tax software for tax reporting.</p>"},{"location":"PORTFOLIO/#getting-help","title":"Getting Help","text":"<ul> <li>Issues: https://github.com/wshobson/maverick-mcp/issues</li> <li>Discussions: https://github.com/wshobson/maverick-mcp/discussions</li> <li>Documentation: https://github.com/wshobson/maverick-mcp/tree/main/docs</li> </ul> <p>Remember: This software is for educational purposes only. Always consult qualified financial professionals before making investment decisions.</p>"},{"location":"SECURITY_AUDIT/","title":"Security Audit Automation","text":"<p>MaverickMCP includes automated security auditing to help maintain code security and prevent common vulnerabilities.</p>"},{"location":"SECURITY_AUDIT/#overview","title":"Overview","text":"<p>The security audit system includes:</p> <ul> <li>Dependency vulnerability scanning with <code>safety</code></li> <li>Static security analysis with <code>bandit</code></li> <li>Secret detection to prevent accidental commits</li> <li>Automated pre-push hooks to run checks before pushing code</li> </ul>"},{"location":"SECURITY_AUDIT/#quick-start","title":"Quick Start","text":""},{"location":"SECURITY_AUDIT/#1-install-security-tools","title":"1. Install Security Tools","text":"<pre><code>make security-install\n</code></pre> <p>This installs:</p> <ul> <li><code>safety</code>: Scans dependencies for known security vulnerabilities</li> <li><code>bandit</code>: Static analysis tool for Python code security issues</li> </ul>"},{"location":"SECURITY_AUDIT/#2-set-up-git-hooks-recommended","title":"2. Set Up Git Hooks (Recommended)","text":"<pre><code>make setup-hooks\n</code></pre> <p>This installs a pre-push hook that automatically runs security audits before pushing code to the remote repository.</p>"},{"location":"SECURITY_AUDIT/#3-run-security-audit-manually","title":"3. Run Security Audit Manually","text":"<pre><code>make security-audit\n</code></pre> <p>Or directly:</p> <pre><code>./scripts/security_audit.sh\n</code></pre>"},{"location":"SECURITY_AUDIT/#what-gets-checked","title":"What Gets Checked","text":""},{"location":"SECURITY_AUDIT/#1-dependency-vulnerabilities-safety","title":"1. Dependency Vulnerabilities (safety)","text":"<p>Scans all project dependencies against a database of known security vulnerabilities:</p> <pre><code>safety check\n</code></pre> <p>What it catches:</p> <ul> <li>Known CVEs in dependencies</li> <li>Deprecated packages with security issues</li> <li>Vulnerable package versions</li> </ul> <p>Example output:</p> <pre><code>\u2713 No known vulnerabilities found in dependencies\n</code></pre>"},{"location":"SECURITY_AUDIT/#2-static-security-analysis-bandit","title":"2. Static Security Analysis (bandit)","text":"<p>Analyzes Python code for common security issues:</p> <pre><code>bandit -r maverick_mcp/ -c .bandit\n</code></pre> <p>What it catches:</p> <ul> <li>Hardcoded passwords, API keys, tokens</li> <li>SQL injection vulnerabilities</li> <li>Use of insecure functions (eval, exec, pickle)</li> <li>Weak cryptography</li> <li>Command injection risks</li> <li>Path traversal vulnerabilities</li> </ul> <p>Example issues:</p> <ul> <li><code>B105</code>: Hardcoded password in code</li> <li><code>B201</code>: Flask app with debug=True</li> <li><code>B608</code>: SQL injection via string formatting</li> </ul>"},{"location":"SECURITY_AUDIT/#3-secret-detection","title":"3. Secret Detection","text":"<p>Scans staged git changes for potential secrets:</p> <p>What it catches:</p> <ul> <li>API keys, passwords, tokens in code</li> <li><code>.env</code> file accidentally staged</li> <li>Bearer tokens, authentication credentials</li> </ul> <p>Patterns detected:</p> <ul> <li><code>password</code>, <code>api_key</code>, <code>secret</code>, <code>token</code></li> <li><code>bearer</code>, <code>auth</code>, <code>credential</code></li> <li>And more...</li> </ul>"},{"location":"SECURITY_AUDIT/#configuration","title":"Configuration","text":""},{"location":"SECURITY_AUDIT/#bandit-configuration","title":"Bandit Configuration","text":"<p>Edit <code>.bandit</code> to customize security checks:</p> <pre><code>[bandit]\n# Directories to exclude\nexclude_dirs = ['/tests/', '/.venv/']\n\n# Tests to skip\nskips = ['B101', 'B601']\n\n# Severity level (low, medium, high)\nlevel = 'medium'\n\n# Confidence level (low, medium, high)\nconfidence = 'medium'\n</code></pre>"},{"location":"SECURITY_AUDIT/#skip-security-audit","title":"Skip Security Audit","text":"<p>Not recommended, but you can skip security checks:</p> <pre><code># Skip for single push (bypass pre-push hook)\ngit push --no-verify\n\n# Skip for terminal session\nexport SECURITY_AUDIT_SKIP=true\ngit push\n</code></pre>"},{"location":"SECURITY_AUDIT/#pre-push-hook","title":"Pre-Push Hook","text":"<p>The pre-push hook automatically runs security audits before pushing code.</p>"},{"location":"SECURITY_AUDIT/#how-it-works","title":"How It Works","text":"<ol> <li>You run <code>git push</code></li> <li>Hook executes <code>./scripts/security_audit.sh</code></li> <li>If audit passes \u2192 push proceeds</li> <li>If audit fails \u2192 push is aborted with error details</li> </ol>"},{"location":"SECURITY_AUDIT/#installreinstall-hook","title":"Install/Reinstall Hook","text":"<pre><code>./scripts/setup_git_hooks.sh\n</code></pre>"},{"location":"SECURITY_AUDIT/#remove-hook","title":"Remove Hook","text":"<pre><code>rm .git/hooks/pre-push\n</code></pre>"},{"location":"SECURITY_AUDIT/#continuous-integration","title":"Continuous Integration","text":"<p>Add to your CI/CD pipeline:</p> <pre><code># GitHub Actions example\n- name: Security Audit\n  run: |\n    pip install safety bandit\n    ./scripts/security_audit.sh\n</code></pre> <pre><code># GitLab CI example\nsecurity_audit:\n  script:\n    - pip install safety bandit\n    - ./scripts/security_audit.sh\n</code></pre>"},{"location":"SECURITY_AUDIT/#common-issues","title":"Common Issues","text":""},{"location":"SECURITY_AUDIT/#issue-safety-check-fails-due-to-outdated-database","title":"Issue: safety check fails due to outdated database","text":"<p>Solution:</p> <pre><code>safety check --db\n</code></pre>"},{"location":"SECURITY_AUDIT/#issue-bandit-reports-false-positives","title":"Issue: bandit reports false positives","text":"<p>Solution: Add skip codes to <code>.bandit</code>:</p> <pre><code>skips = ['B101', 'B601', 'B404']\n</code></pre>"},{"location":"SECURITY_AUDIT/#issue-secret-detected-in-staged-changes","title":"Issue: Secret detected in staged changes","text":"<p>Solution:</p> <ol> <li>Remove the secret from code</li> <li>Use environment variables instead</li> <li>Update <code>.env</code> file (not committed)</li> <li>Unstage if accidentally staged: <code>git restore --staged .env</code></li> </ol>"},{"location":"SECURITY_AUDIT/#issue-want-to-skip-audit-temporarily","title":"Issue: Want to skip audit temporarily","text":"<p>Solution:</p> <pre><code># Skip this push only\ngit push --no-verify\n\n# Skip for session\nexport SECURITY_AUDIT_SKIP=true\n</code></pre>"},{"location":"SECURITY_AUDIT/#best-practices","title":"Best Practices","text":""},{"location":"SECURITY_AUDIT/#do","title":"DO","text":"<p>\u2705 Run security audit before every push \u2705 Keep security tools up to date \u2705 Fix security issues immediately \u2705 Use environment variables for secrets \u2705 Review audit output carefully \u2705 Add security audit to CI/CD</p>"},{"location":"SECURITY_AUDIT/#dont","title":"DON'T","text":"<p>\u274c Commit <code>.env</code> file \u274c Hardcode API keys in code \u274c Skip security audits routinely \u274c Ignore security warnings \u274c Use <code>--no-verify</code> by default</p>"},{"location":"SECURITY_AUDIT/#security-tools-documentation","title":"Security Tools Documentation","text":"<ul> <li>safety: https://github.com/pyupio/safety</li> <li>bandit: https://bandit.readthedocs.io/</li> <li>Security Best Practices: See <code>SECURITY.md</code></li> </ul>"},{"location":"SECURITY_AUDIT/#troubleshooting","title":"Troubleshooting","text":""},{"location":"SECURITY_AUDIT/#permission-denied-scriptssecurity_auditsh","title":"Permission denied: ./scripts/security_audit.sh","text":"<p>Fix:</p> <pre><code>chmod +x scripts/security_audit.sh\nchmod +x scripts/setup_git_hooks.sh\n</code></pre>"},{"location":"SECURITY_AUDIT/#hook-not-running","title":"Hook not running","text":"<p>Fix:</p> <pre><code># Reinstall hooks\n./scripts/setup_git_hooks.sh\n\n# Verify hook exists\nls -la .git/hooks/pre-push\n</code></pre>"},{"location":"SECURITY_AUDIT/#security-tools-not-found","title":"Security tools not found","text":"<p>Fix:</p> <pre><code># Install tools\nmake security-install\n\n# Or manually\npip install safety bandit\n</code></pre>"},{"location":"SECURITY_AUDIT/#reporting-security-issues","title":"Reporting Security Issues","text":"<p>Found a security vulnerability? See <code>SECURITY.md</code> for reporting instructions.</p> <p>DO NOT open public GitHub issues for security vulnerabilities.</p>"},{"location":"SECURITY_AUDIT/#additional-resources","title":"Additional Resources","text":"<ul> <li>OWASP Top 10</li> <li>Python Security Best Practices</li> <li>MaverickMCP Security Policy</li> </ul>"},{"location":"TESTING/","title":"Testing &amp; Coverage Guide","text":"<p>This document explains how to run tests and generate coverage reports for MaverickMCP.</p>"},{"location":"TESTING/#running-tests","title":"\ud83e\uddea Running Tests","text":""},{"location":"TESTING/#quick-start","title":"Quick Start","text":"<pre><code># Run all tests\npytest\n\n# Run specific test file\npytest tests/test_stock_data.py\n\n# Run tests matching pattern\npytest -k \"test_symbol\"\n\n# Run with verbose output\npytest -v\n</code></pre>"},{"location":"TESTING/#using-make-commands","title":"Using Make Commands","text":"<pre><code># Run all tests (fastest)\nmake test\n\n# Run with coverage (recommended)\nmake test-cov\n\n# Run specific test file\npytest tests/test_multi_market.py -v\n</code></pre>"},{"location":"TESTING/#test-coverage","title":"\ud83d\udcca Test Coverage","text":""},{"location":"TESTING/#configuration","title":"Configuration","text":"<p>Coverage is configured in <code>pytest.ini</code> with the following settings:</p> <ul> <li>Minimum Coverage: 60% (fails below this)</li> <li>Branch Coverage: Enabled</li> <li>Report Formats: Terminal, HTML, XML</li> <li>Source: <code>maverick_mcp/</code> package</li> <li>Excluded: Tests, venv, build files</li> </ul>"},{"location":"TESTING/#running-coverage","title":"Running Coverage","text":"<p>Option 1: Using Script (Recommended) <pre><code>./scripts/run_coverage.sh\n</code></pre></p> <p>Option 2: Using pytest <pre><code>pytest --cov=maverick_mcp --cov-report=html\n</code></pre></p> <p>Option 3: Using Make <pre><code>make test-cov\n</code></pre></p>"},{"location":"TESTING/#viewing-coverage-reports","title":"Viewing Coverage Reports","text":"<p>Terminal Report: - Automatically displayed after test run - Shows % coverage and missing lines</p> <p>HTML Report: <pre><code># macOS\nopen htmlcov/index.html\n\n# Linux\nxdg-open htmlcov/index.html\n\n# Windows\nstart htmlcov/index.html\n</code></pre></p> <p>XML Report: - Generated as <code>coverage.xml</code> - Used by CI/CD tools</p>"},{"location":"TESTING/#coverage-targets","title":"\ud83c\udfaf Coverage Targets","text":""},{"location":"TESTING/#current-targets","title":"Current Targets","text":"Module Target Status Overall 60% \u2705 Enforced Core Services 70%+ \ud83c\udfaf Recommended Providers 60%+ \ud83c\udfaf Recommended Utilities 80%+ \ud83c\udfaf Recommended Strategies 80%+ \ud83c\udfaf Recommended"},{"location":"TESTING/#excluded-from-coverage","title":"Excluded from Coverage","text":"<p>The following are automatically excluded: - <code>__repr__</code> and <code>__str__</code> methods - Abstract methods - Debug logging statements - Type checking blocks (<code>if TYPE_CHECKING:</code>) - Defensive <code>pass</code> statements - <code>if __name__ == \"__main__\":</code> blocks</p>"},{"location":"TESTING/#writing-tests","title":"\ud83d\udcdd Writing Tests","text":""},{"location":"TESTING/#test-structure","title":"Test Structure","text":"<pre><code>\"\"\"\nTest module docstring.\n\"\"\"\n\nimport pytest\nfrom maverick_data.services import SomeService\n\n\nclass TestSomeService:\n    \"\"\"Tests for SomeService.\"\"\"\n\n    def test_basic_functionality(self):\n        \"\"\"Test basic functionality.\"\"\"\n        service = SomeService()\n        result = service.do_something()\n        assert result is not None\n\n    def test_error_handling(self):\n        \"\"\"Test error handling.\"\"\"\n        service = SomeService()\n        with pytest.raises(ValueError):\n            service.do_invalid_thing()\n</code></pre>"},{"location":"TESTING/#fixtures","title":"Fixtures","text":"<p>Common fixtures are defined in <code>tests/conftest.py</code>:</p> <pre><code>def test_with_database(db_session):\n    \"\"\"Test using database fixture.\"\"\"\n    # db_session is automatically provided\n    stock = Stock.get_or_create(db_session, \"AAPL\")\n    assert stock is not None\n</code></pre>"},{"location":"TESTING/#parametrized-tests","title":"Parametrized Tests","text":"<pre><code>@pytest.mark.parametrize(\"symbol,expected\", [\n    (\"AAPL\", Market.US),\n    (\"RELIANCE.NS\", Market.INDIA_NSE),\n    (\"TCS.BO\", Market.INDIA_BSE),\n])\ndef test_market_detection(symbol, expected):\n    \"\"\"Test market detection for various symbols.\"\"\"\n    market = get_market_from_symbol(symbol)\n    assert market == expected\n</code></pre>"},{"location":"TESTING/#test-organization","title":"\ud83c\udfd7\ufe0f Test Organization","text":""},{"location":"TESTING/#directory-structure","title":"Directory Structure","text":"<pre><code>tests/\n\u251c\u2500\u2500 conftest.py           # Shared fixtures\n\u251c\u2500\u2500 test_services/        # Service tests\n\u2502   \u251c\u2500\u2500 test_calendar.py\n\u2502   \u251c\u2500\u2500 test_cache.py\n\u2502   \u2514\u2500\u2500 test_fetcher.py\n\u251c\u2500\u2500 test_providers/       # Provider tests\n\u2502   \u251c\u2500\u2500 test_stock_data.py\n\u2502   \u2514\u2500\u2500 test_indian_market.py\n\u251c\u2500\u2500 test_strategies/      # Strategy tests\n\u2502   \u2514\u2500\u2500 test_market_strategy.py\n\u2514\u2500\u2500 test_utils/           # Utility tests\n    \u251c\u2500\u2500 test_validators.py\n    \u2514\u2500\u2500 test_datetime_utils.py\n</code></pre>"},{"location":"TESTING/#test-categories","title":"Test Categories","text":"<p>Unit Tests: - Test individual functions/methods - No external dependencies - Fast execution - Example: <code>test_validators.py</code></p> <p>Integration Tests: - Test component interactions - May use database/network - Slower execution - Example: <code>test_stock_data.py</code></p> <p>End-to-End Tests: - Test complete workflows - Use real services - Slowest execution - Example: <code>test_screening.py</code></p>"},{"location":"TESTING/#cicd-integration","title":"\ud83d\ude80 CI/CD Integration","text":""},{"location":"TESTING/#github-actions-future","title":"GitHub Actions (Future)","text":"<pre><code># .github/workflows/test.yml\nname: Tests\n\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-python@v4\n        with:\n          python-version: '3.12'\n      - run: pip install -e \".[dev]\"\n      - run: pytest --cov=maverick_mcp --cov-report=xml\n      - uses: codecov/codecov-action@v3\n</code></pre>"},{"location":"TESTING/#coverage-badges","title":"Coverage Badges","text":"<p>After CI/CD setup, add badge to README:</p> <pre><code>[![Coverage](https://codecov.io/gh/arunbcodes/maverick-mcp/branch/main/graph/badge.svg)](https://codecov.io/gh/arunbcodes/maverick-mcp)\n</code></pre>"},{"location":"TESTING/#best-practices","title":"\ud83d\udca1 Best Practices","text":""},{"location":"TESTING/#do","title":"DO:","text":"<ul> <li>\u2705 Write tests for new features</li> <li>\u2705 Test edge cases and error conditions</li> <li>\u2705 Use descriptive test names</li> <li>\u2705 Keep tests independent</li> <li>\u2705 Mock external services</li> <li>\u2705 Aim for 70%+ coverage on new code</li> </ul>"},{"location":"TESTING/#dont","title":"DON'T:","text":"<ul> <li>\u274c Skip tests for \"simple\" code</li> <li>\u274c Test implementation details</li> <li>\u274c Write flaky tests</li> <li>\u274c Depend on test execution order</li> <li>\u274c Use real API keys in tests</li> <li>\u274c Commit coverage reports to git</li> </ul>"},{"location":"TESTING/#improving-coverage","title":"\ud83d\udd0d Improving Coverage","text":""},{"location":"TESTING/#identify-low-coverage-areas","title":"Identify Low Coverage Areas","text":"<pre><code># Run coverage with missing lines\npytest --cov=maverick_mcp --cov-report=term-missing\n\n# View HTML report for detailed analysis\nopen htmlcov/index.html\n</code></pre>"},{"location":"TESTING/#common-gaps","title":"Common Gaps","text":"<ol> <li> <p>Error Handling: <pre><code># Add tests for exception paths\ndef test_invalid_input():\n    with pytest.raises(ValidationError):\n        validate_symbol(\"\")\n</code></pre></p> </li> <li> <p>Edge Cases: <pre><code># Test boundary conditions\ndef test_date_range_edge_cases():\n    assert validate_date_range(\"2024-01-01\", \"2024-01-01\")  # Same day\n    assert validate_date_range(\"2024-02-29\", \"2024-03-01\")  # Leap year\n</code></pre></p> </li> <li> <p>Abstract Methods: <pre><code># Test all concrete implementations\ndef test_all_market_strategies():\n    for market in [Market.US, Market.INDIA_NSE, Market.INDIA_BSE]:\n        strategy = MarketStrategyFactory.get_strategy_by_market(market)\n        assert strategy.is_valid_symbol(\"TEST\")\n</code></pre></p> </li> </ol>"},{"location":"TESTING/#coverage-goals","title":"\ud83d\udcc8 Coverage Goals","text":""},{"location":"TESTING/#short-term-current","title":"Short Term (Current)","text":"<ul> <li>\u2705 60% overall coverage enforced</li> <li>\u2705 All new utilities have 80%+ coverage</li> <li>\u2705 Critical services have 70%+ coverage</li> </ul>"},{"location":"TESTING/#medium-term-next-3-months","title":"Medium Term (Next 3 months)","text":"<ul> <li>\ud83c\udfaf 70% overall coverage</li> <li>\ud83c\udfaf All services have 75%+ coverage</li> <li>\ud83c\udfaf All strategies have 90%+ coverage</li> </ul>"},{"location":"TESTING/#long-term-6-months","title":"Long Term (6 months)","text":"<ul> <li>\ud83c\udfaf 80% overall coverage</li> <li>\ud83c\udfaf All new code requires 80%+ coverage</li> <li>\ud83c\udfaf Automated coverage checks in CI/CD</li> </ul>"},{"location":"TESTING/#troubleshooting","title":"\ud83d\udee0\ufe0f Troubleshooting","text":""},{"location":"TESTING/#tests-failing-with-docker-error","title":"Tests Failing with Docker Error","text":"<pre><code># Start Docker Desktop first, or:\npytest tests/test_validators.py  # Run only unit tests\n</code></pre>"},{"location":"TESTING/#coverage-report-not-generated","title":"Coverage Report Not Generated","text":"<pre><code># Ensure pytest-cov is installed\npip install pytest-cov\n\n# Check pytest.ini configuration\ncat pytest.ini\n</code></pre>"},{"location":"TESTING/#coverage-below-threshold","title":"Coverage Below Threshold","text":"<pre><code># Run with detailed report\npytest --cov=maverick_mcp --cov-report=term-missing\n\n# Identify missing coverage\nopen htmlcov/index.html\n</code></pre>"},{"location":"TESTING/#resources","title":"\ud83d\udcda Resources","text":"<ul> <li>pytest documentation</li> <li>pytest-cov documentation</li> <li>Coverage.py</li> <li>Testing Best Practices</li> </ul> <p>Happy Testing! \ud83e\uddea\u2728</p>"},{"location":"about/changelog/","title":"Changelog","text":""},{"location":"about/changelog/#recent-updates","title":"Recent Updates","text":""},{"location":"about/changelog/#conference-call-analysis-system","title":"Conference Call Analysis System","text":"<ul> <li>Complete transcript fetching system</li> <li>AI-powered summarization</li> <li>Multi-dimensional sentiment analysis</li> <li>RAG Q&amp;A over transcripts</li> <li>Comparative analysis across quarters</li> </ul>"},{"location":"about/changelog/#mcp-tools","title":"MCP Tools","text":"<ul> <li>5 conference call analysis tools</li> <li>35+ stock analysis tools</li> <li>Full Claude Desktop integration</li> <li>Cursor IDE support</li> </ul>"},{"location":"about/changelog/#documentation","title":"Documentation","text":"<ul> <li>Comprehensive MkDocs site</li> <li>Step-by-step setup guides</li> <li>API reference</li> <li>Examples and troubleshooting</li> </ul> <p>View full git history \u2192</p>"},{"location":"about/faq/","title":"Frequently Asked Questions","text":""},{"location":"about/faq/#general","title":"General","text":""},{"location":"about/faq/#what-is-maverick-mcp","title":"What is Maverick MCP?","text":"<p>A personal stock analysis MCP server with AI-powered conference call analysis.</p>"},{"location":"about/faq/#is-it-free","title":"Is it free?","text":"<p>Yes, the software is MIT licensed and free. You only pay for API services you use (Tiingo, OpenRouter, etc.).</p>"},{"location":"about/faq/#what-markets-are-supported","title":"What markets are supported?","text":"<ul> <li>US (NASDAQ/NYSE)</li> <li>Indian NSE (.NS suffix)</li> <li>Indian BSE (.BO suffix)</li> </ul>"},{"location":"about/faq/#setup","title":"Setup","text":""},{"location":"about/faq/#what-api-keys-do-i-need","title":"What API keys do I need?","text":"<p>Required: Tiingo (free tier available) Recommended: OpenRouter (for AI features) Optional: OpenAI (for RAG Q&amp;A)</p>"},{"location":"about/faq/#how-do-i-connect-to-claude-desktop","title":"How do I connect to Claude Desktop?","text":"<p>See Claude Desktop Setup</p>"},{"location":"about/faq/#does-it-work-with-cursor","title":"Does it work with Cursor?","text":"<p>Yes! See Cursor IDE Setup</p>"},{"location":"about/faq/#features","title":"Features","text":""},{"location":"about/faq/#can-i-analyze-indian-stocks","title":"Can I analyze Indian stocks?","text":"<p>Yes! Full support for NSE and BSE stocks.</p>"},{"location":"about/faq/#how-many-stocks-are-pre-loaded","title":"How many stocks are pre-loaded?","text":"<p>520+ S&amp;P 500 stocks with screening data.</p>"},{"location":"about/faq/#can-i-add-more-companies","title":"Can I add more companies?","text":"<p>Yes, use the seeding script to add any company.</p>"},{"location":"about/faq/#conference-calls","title":"Conference Calls","text":""},{"location":"about/faq/#where-do-transcripts-come-from","title":"Where do transcripts come from?","text":"<ol> <li>Company IR websites (primary)</li> <li>NSE exchange filings (fallback)</li> </ol>"},{"location":"about/faq/#how-much-does-ai-analysis-cost","title":"How much does AI analysis cost?","text":"<ul> <li>Summarization: ~$0.01-0.05 per transcript</li> <li>Sentiment: ~$0.005-0.01 per transcript</li> <li>RAG embeddings: ~$0.0001 per transcript</li> </ul>"},{"location":"about/faq/#are-results-cached","title":"Are results cached?","text":"<p>Yes, all AI analyses are cached in database.</p>"},{"location":"about/faq/#technical","title":"Technical","text":""},{"location":"about/faq/#what-python-version","title":"What Python version?","text":"<p>Python 3.12 or higher required.</p>"},{"location":"about/faq/#can-i-use-postgresql","title":"Can I use PostgreSQL?","text":"<p>Yes, it's optional but recommended for large datasets.</p>"},{"location":"about/faq/#is-redis-required","title":"Is Redis required?","text":"<p>No, but recommended for better performance.</p> <p>Need more help? Report an issue \u2192</p>"},{"location":"about/license/","title":"License","text":"<p>Maverick MCP is released under the MIT License.</p>"},{"location":"about/license/#mit-license","title":"MIT License","text":"<p>Copyright \u00a9 2025 Arun B</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"about/license/#third-party-licenses","title":"Third-Party Licenses","text":"<p>This project uses various open-source libraries. See <code>LICENSE</code> file in repository for complete list.</p>"},{"location":"about/license/#api-services","title":"API Services","text":"<p>Note that while the software is free, API services (Tiingo, OpenRouter, OpenAI) have their own terms and pricing.</p>"},{"location":"api/backtesting/","title":"Backtesting API Documentation","text":""},{"location":"api/backtesting/#overview","title":"Overview","text":"<p>The MaverickMCP backtesting system provides comprehensive strategy backtesting capabilities powered by VectorBT. It offers both traditional technical analysis strategies and advanced ML-enhanced approaches, with extensive optimization, validation, and analysis tools.</p>"},{"location":"api/backtesting/#key-features","title":"Key Features","text":"<ul> <li>35+ Pre-built Strategies: From simple moving averages to advanced ML ensembles</li> <li>Strategy Optimization: Grid search with coarse/medium/fine granularity</li> <li>Walk-Forward Analysis: Out-of-sample validation for strategy robustness</li> <li>Monte Carlo Simulation: Risk assessment with confidence intervals</li> <li>Portfolio Backtesting: Multi-symbol strategy application</li> <li>Market Regime Analysis: Intelligent strategy selection based on market conditions</li> <li>ML-Enhanced Strategies: Adaptive, ensemble, and regime-aware approaches</li> <li>Comprehensive Visualization: Charts, heatmaps, and performance dashboards</li> </ul>"},{"location":"api/backtesting/#core-backtesting-tools","title":"Core Backtesting Tools","text":""},{"location":"api/backtesting/#run_backtest","title":"run_backtest","text":"<p>Run a comprehensive backtest with specified strategy and parameters.</p> <p>Function: <code>run_backtest</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to backtest (e.g., \"AAPL\", \"TSLA\") - <code>strategy</code> (str, default: \"sma_cross\"): Strategy type to use - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD), defaults to 1 year ago - <code>end_date</code> (str, optional): End date (YYYY-MM-DD), defaults to today - <code>initial_capital</code> (float, default: 10000.0): Starting capital for backtest</p> <p>Strategy-Specific Parameters: - <code>fast_period</code> (int, optional): Fast moving average period - <code>slow_period</code> (int, optional): Slow moving average period - <code>period</code> (int, optional): General period parameter (RSI, etc.) - <code>oversold</code> (float, optional): RSI oversold threshold (default: 30) - <code>overbought</code> (float, optional): RSI overbought threshold (default: 70) - <code>signal_period</code> (int, optional): MACD signal line period - <code>std_dev</code> (float, optional): Bollinger Bands standard deviation - <code>lookback</code> (int, optional): Lookback period for momentum/breakout - <code>threshold</code> (float, optional): Threshold for momentum strategies - <code>z_score_threshold</code> (float, optional): Z-score threshold for mean reversion - <code>breakout_factor</code> (float, optional): Breakout factor for channel strategies</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"strategy\": \"sma_cross\",\n  \"period\": \"2023-01-01 to 2024-01-01\",\n  \"metrics\": {\n    \"total_return\": 0.15,\n    \"sharpe_ratio\": 1.2,\n    \"max_drawdown\": -0.08,\n    \"total_trades\": 24,\n    \"win_rate\": 0.58,\n    \"profit_factor\": 1.45,\n    \"calmar_ratio\": 1.85,\n    \"volatility\": 0.18\n  },\n  \"trades\": [\n    {\n      \"entry_date\": \"2023-01-15\",\n      \"exit_date\": \"2023-02-10\",\n      \"entry_price\": 150.0,\n      \"exit_price\": 158.5,\n      \"return\": 0.057,\n      \"holding_period\": 26\n    }\n  ],\n  \"equity_curve\": [10000, 10150, 10200, ...],\n  \"drawdown_series\": [0, -0.01, -0.02, ...],\n  \"analysis\": {\n    \"risk_metrics\": {...},\n    \"performance_analysis\": {...}\n  }\n}\n</code></pre></p> <p>Examples: <pre><code># Simple SMA crossover\nrun_backtest(\"AAPL\", \"sma_cross\", fast_period=10, slow_period=20)\n\n# RSI mean reversion\nrun_backtest(\"TSLA\", \"rsi\", period=14, oversold=30, overbought=70)\n\n# MACD strategy with custom parameters\nrun_backtest(\"MSFT\", \"macd\", fast_period=12, slow_period=26, signal_period=9)\n\n# Bollinger Bands strategy\nrun_backtest(\"GOOGL\", \"bollinger\", period=20, std_dev=2.0)\n</code></pre></p>"},{"location":"api/backtesting/#optimize_strategy","title":"optimize_strategy","text":"<p>Optimize strategy parameters using grid search to find the best-performing configuration.</p> <p>Function: <code>optimize_strategy</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to optimize - <code>strategy</code> (str, default: \"sma_cross\"): Strategy type to optimize - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>optimization_metric</code> (str, default: \"sharpe_ratio\"): Metric to optimize (\"sharpe_ratio\", \"total_return\", \"win_rate\", \"calmar_ratio\") - <code>optimization_level</code> (str, default: \"medium\"): Level of optimization (\"coarse\", \"medium\", \"fine\") - <code>top_n</code> (int, default: 10): Number of top results to return</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"strategy\": \"sma_cross\",\n  \"optimization_metric\": \"sharpe_ratio\",\n  \"optimization_level\": \"medium\",\n  \"total_combinations\": 64,\n  \"execution_time\": 45.2,\n  \"best_parameters\": {\n    \"fast_period\": 8,\n    \"slow_period\": 21,\n    \"sharpe_ratio\": 1.85,\n    \"total_return\": 0.28,\n    \"max_drawdown\": -0.06\n  },\n  \"top_results\": [\n    {\n      \"parameters\": {\"fast_period\": 8, \"slow_period\": 21},\n      \"sharpe_ratio\": 1.85,\n      \"total_return\": 0.28,\n      \"max_drawdown\": -0.06,\n      \"total_trades\": 18\n    }\n  ],\n  \"parameter_sensitivity\": {\n    \"fast_period\": {\"min\": 5, \"max\": 20, \"best\": 8},\n    \"slow_period\": {\"min\": 20, \"max\": 50, \"best\": 21}\n  }\n}\n</code></pre></p> <p>Examples: <pre><code># Optimize SMA crossover for Sharpe ratio\noptimize_strategy(\"AAPL\", \"sma_cross\", optimization_metric=\"sharpe_ratio\")\n\n# Fine-tune RSI parameters for total return\noptimize_strategy(\"TSLA\", \"rsi\", optimization_metric=\"total_return\", optimization_level=\"fine\")\n\n# Quick coarse optimization for multiple strategies\noptimize_strategy(\"MSFT\", \"macd\", optimization_level=\"coarse\", top_n=5)\n</code></pre></p>"},{"location":"api/backtesting/#walk_forward_analysis","title":"walk_forward_analysis","text":"<p>Perform walk-forward analysis to test strategy robustness and out-of-sample performance.</p> <p>Function: <code>walk_forward_analysis</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to analyze - <code>strategy</code> (str, default: \"sma_cross\"): Strategy type - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>window_size</code> (int, default: 252): Test window size in trading days (default: 1 year) - <code>step_size</code> (int, default: 63): Step size for rolling window (default: 1 quarter)</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"strategy\": \"sma_cross\",\n  \"total_windows\": 8,\n  \"window_size\": 252,\n  \"step_size\": 63,\n  \"out_of_sample_performance\": {\n    \"average_return\": 0.12,\n    \"average_sharpe\": 0.95,\n    \"consistency_score\": 0.75,\n    \"best_window\": {\"period\": \"2023-Q2\", \"return\": 0.28},\n    \"worst_window\": {\"period\": \"2023-Q4\", \"return\": -0.05}\n  },\n  \"window_results\": [\n    {\n      \"window_id\": 1,\n      \"optimization_period\": \"2022-01-01 to 2022-12-31\",\n      \"test_period\": \"2023-01-01 to 2023-03-31\",\n      \"best_parameters\": {\"fast_period\": 10, \"slow_period\": 25},\n      \"out_of_sample_return\": 0.08,\n      \"out_of_sample_sharpe\": 1.1\n    }\n  ],\n  \"stability_metrics\": {\n    \"parameter_stability\": 0.85,\n    \"performance_stability\": 0.72,\n    \"overfitting_risk\": \"low\"\n  }\n}\n</code></pre></p>"},{"location":"api/backtesting/#monte_carlo_simulation","title":"monte_carlo_simulation","text":"<p>Run Monte Carlo simulation on backtest results to assess risk and confidence intervals.</p> <p>Function: <code>monte_carlo_simulation</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol - <code>strategy</code> (str, default: \"sma_cross\"): Strategy type - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>num_simulations</code> (int, default: 1000): Number of Monte Carlo simulations - Strategy-specific parameters (same as <code>run_backtest</code>)</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"strategy\": \"sma_cross\",\n  \"num_simulations\": 1000,\n  \"confidence_intervals\": {\n    \"95%\": {\"lower\": 0.05, \"upper\": 0.32},\n    \"90%\": {\"lower\": 0.08, \"upper\": 0.28},\n    \"68%\": {\"lower\": 0.12, \"upper\": 0.22}\n  },\n  \"risk_metrics\": {\n    \"probability_of_loss\": 0.15,\n    \"expected_return\": 0.17,\n    \"value_at_risk_5%\": -0.12,\n    \"expected_shortfall\": -0.18,\n    \"maximum_drawdown_95%\": -0.15\n  },\n  \"simulation_statistics\": {\n    \"mean_return\": 0.168,\n    \"std_return\": 0.089,\n    \"skewness\": -0.23,\n    \"kurtosis\": 2.85,\n    \"best_simulation\": 0.45,\n    \"worst_simulation\": -0.28\n  }\n}\n</code></pre></p>"},{"location":"api/backtesting/#compare_strategies","title":"compare_strategies","text":"<p>Compare multiple strategies on the same symbol to identify the best performer.</p> <p>Function: <code>compare_strategies</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol - <code>strategies</code> (list[str], optional): List of strategy types to compare (defaults to top 5) - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD)</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"comparison_period\": \"2023-01-01 to 2024-01-01\",\n  \"strategies_compared\": [\"sma_cross\", \"rsi\", \"macd\", \"bollinger\", \"momentum\"],\n  \"rankings\": {\n    \"by_sharpe_ratio\": [\n      {\"strategy\": \"macd\", \"sharpe_ratio\": 1.45},\n      {\"strategy\": \"sma_cross\", \"sharpe_ratio\": 1.22},\n      {\"strategy\": \"momentum\", \"sharpe_ratio\": 0.98}\n    ],\n    \"by_total_return\": [\n      {\"strategy\": \"momentum\", \"total_return\": 0.32},\n      {\"strategy\": \"macd\", \"total_return\": 0.28},\n      {\"strategy\": \"sma_cross\", \"total_return\": 0.18}\n    ]\n  },\n  \"detailed_comparison\": {\n    \"sma_cross\": {\n      \"total_return\": 0.18,\n      \"sharpe_ratio\": 1.22,\n      \"max_drawdown\": -0.08,\n      \"total_trades\": 24,\n      \"win_rate\": 0.58\n    }\n  },\n  \"best_overall\": \"macd\",\n  \"recommendation\": \"MACD strategy provides best risk-adjusted returns\"\n}\n</code></pre></p>"},{"location":"api/backtesting/#backtest_portfolio","title":"backtest_portfolio","text":"<p>Backtest a strategy across multiple symbols to create a diversified portfolio.</p> <p>Function: <code>backtest_portfolio</code></p> <p>Parameters: - <code>symbols</code> (list[str], required): List of stock symbols - <code>strategy</code> (str, default: \"sma_cross\"): Strategy type to apply - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>initial_capital</code> (float, default: 10000.0): Starting capital - <code>position_size</code> (float, default: 0.1): Position size per symbol (0.1 = 10%) - Strategy-specific parameters (same as <code>run_backtest</code>)</p> <p>Returns: <pre><code>{\n  \"portfolio_metrics\": {\n    \"symbols_tested\": 5,\n    \"total_return\": 0.22,\n    \"average_sharpe\": 1.15,\n    \"max_drawdown\": -0.12,\n    \"total_trades\": 120,\n    \"diversification_benefit\": 0.85\n  },\n  \"individual_results\": [\n    {\n      \"symbol\": \"AAPL\",\n      \"total_return\": 0.18,\n      \"sharpe_ratio\": 1.22,\n      \"max_drawdown\": -0.08,\n      \"contribution_to_portfolio\": 0.24\n    }\n  ],\n  \"correlation_matrix\": {\n    \"AAPL\": {\"MSFT\": 0.72, \"GOOGL\": 0.68},\n    \"MSFT\": {\"GOOGL\": 0.75}\n  },\n  \"summary\": \"Portfolio backtest of 5 symbols with sma_cross strategy\"\n}\n</code></pre></p>"},{"location":"api/backtesting/#strategy-management","title":"Strategy Management","text":""},{"location":"api/backtesting/#list_strategies","title":"list_strategies","text":"<p>List all available backtesting strategies with descriptions and parameters.</p> <p>Function: <code>list_strategies</code></p> <p>Parameters: None</p> <p>Returns: <pre><code>{\n  \"available_strategies\": {\n    \"sma_cross\": {\n      \"type\": \"sma_cross\",\n      \"name\": \"SMA Crossover\",\n      \"description\": \"Buy when fast SMA crosses above slow SMA, sell when it crosses below\",\n      \"default_parameters\": {\"fast_period\": 10, \"slow_period\": 20},\n      \"optimization_ranges\": {\n        \"fast_period\": [5, 10, 15, 20],\n        \"slow_period\": [20, 30, 50, 100]\n      }\n    }\n  },\n  \"total_count\": 9,\n  \"categories\": {\n    \"trend_following\": [\"sma_cross\", \"ema_cross\", \"macd\", \"breakout\"],\n    \"mean_reversion\": [\"rsi\", \"bollinger\", \"mean_reversion\"],\n    \"momentum\": [\"momentum\", \"volume_momentum\"]\n  }\n}\n</code></pre></p>"},{"location":"api/backtesting/#parse_strategy","title":"parse_strategy","text":"<p>Parse natural language strategy description into VectorBT parameters.</p> <p>Function: <code>parse_strategy</code></p> <p>Parameters: - <code>description</code> (str, required): Natural language description of trading strategy</p> <p>Returns: <pre><code>{\n  \"success\": true,\n  \"strategy\": {\n    \"strategy_type\": \"rsi\",\n    \"parameters\": {\n      \"period\": 14,\n      \"oversold\": 30,\n      \"overbought\": 70\n    }\n  },\n  \"message\": \"Successfully parsed as rsi strategy\"\n}\n</code></pre></p> <p>Examples: <pre><code># Parse natural language descriptions\nparse_strategy(\"Buy when RSI is below 30 and sell when above 70\")\nparse_strategy(\"Use 10-day and 20-day moving average crossover\")\nparse_strategy(\"MACD strategy with standard parameters\")\n</code></pre></p>"},{"location":"api/backtesting/#visualization-tools","title":"Visualization Tools","text":""},{"location":"api/backtesting/#generate_backtest_charts","title":"generate_backtest_charts","text":"<p>Generate comprehensive charts for a backtest including equity curve, trades, and performance dashboard.</p> <p>Function: <code>generate_backtest_charts</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol - <code>strategy</code> (str, default: \"sma_cross\"): Strategy type - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>theme</code> (str, default: \"light\"): Chart theme (\"light\" or \"dark\")</p> <p>Returns: <pre><code>{\n  \"equity_curve\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...\",\n  \"trade_scatter\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...\",\n  \"performance_dashboard\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...\"\n}\n</code></pre></p>"},{"location":"api/backtesting/#generate_optimization_charts","title":"generate_optimization_charts","text":"<p>Generate heatmap charts for strategy parameter optimization results.</p> <p>Function: <code>generate_optimization_charts</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol - <code>strategy</code> (str, default: \"sma_cross\"): Strategy type - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>theme</code> (str, default: \"light\"): Chart theme (\"light\" or \"dark\")</p> <p>Returns: <pre><code>{\n  \"optimization_heatmap\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...\"\n}\n</code></pre></p>"},{"location":"api/backtesting/#ml-enhanced-strategies","title":"ML-Enhanced Strategies","text":""},{"location":"api/backtesting/#run_ml_strategy_backtest","title":"run_ml_strategy_backtest","text":"<p>Run backtest using machine learning-enhanced strategies with adaptive capabilities.</p> <p>Function: <code>run_ml_strategy_backtest</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to backtest - <code>strategy_type</code> (str, default: \"ml_predictor\"): ML strategy type (\"ml_predictor\", \"adaptive\", \"ensemble\", \"regime_aware\") - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>initial_capital</code> (float, default: 10000.0): Initial capital amount - <code>train_ratio</code> (float, default: 0.8): Ratio of data for training (0.0-1.0) - <code>model_type</code> (str, default: \"random_forest\"): ML model type - <code>n_estimators</code> (int, default: 100): Number of estimators for ensemble models - <code>max_depth</code> (int, optional): Maximum tree depth - <code>learning_rate</code> (float, default: 0.01): Learning rate for adaptive strategies - <code>adaptation_method</code> (str, default: \"gradient\"): Adaptation method (\"gradient\", \"momentum\")</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"strategy_type\": \"ml_predictor\",\n  \"metrics\": {\n    \"total_return\": 0.24,\n    \"sharpe_ratio\": 1.35,\n    \"max_drawdown\": -0.09\n  },\n  \"ml_metrics\": {\n    \"training_period\": 400,\n    \"testing_period\": 100,\n    \"train_test_split\": 0.8,\n    \"feature_importance\": {\n      \"rsi\": 0.25,\n      \"macd\": 0.22,\n      \"volume_ratio\": 0.18,\n      \"price_momentum\": 0.16\n    },\n    \"model_accuracy\": 0.68,\n    \"prediction_confidence\": 0.72\n  }\n}\n</code></pre></p>"},{"location":"api/backtesting/#train_ml_predictor","title":"train_ml_predictor","text":"<p>Train a machine learning predictor model for generating trading signals.</p> <p>Function: <code>train_ml_predictor</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to train on - <code>start_date</code> (str, optional): Start date for training data - <code>end_date</code> (str, optional): End date for training data - <code>model_type</code> (str, default: \"random_forest\"): ML model type - <code>target_periods</code> (int, default: 5): Forward periods for target variable - <code>return_threshold</code> (float, default: 0.02): Return threshold for signal classification - <code>n_estimators</code> (int, default: 100): Number of estimators - <code>max_depth</code> (int, optional): Maximum tree depth - <code>min_samples_split</code> (int, default: 2): Minimum samples to split</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"model_type\": \"random_forest\",\n  \"training_period\": \"2022-01-01 to 2024-01-01\",\n  \"data_points\": 500,\n  \"target_periods\": 5,\n  \"return_threshold\": 0.02,\n  \"model_parameters\": {\n    \"n_estimators\": 100,\n    \"max_depth\": 10,\n    \"min_samples_split\": 2\n  },\n  \"training_metrics\": {\n    \"accuracy\": 0.68,\n    \"precision\": 0.72,\n    \"recall\": 0.65,\n    \"f1_score\": 0.68,\n    \"feature_importance\": {\n      \"rsi_14\": 0.25,\n      \"macd_signal\": 0.22,\n      \"volume_sma_ratio\": 0.18\n    }\n  }\n}\n</code></pre></p>"},{"location":"api/backtesting/#analyze_market_regimes","title":"analyze_market_regimes","text":"<p>Analyze market regimes using machine learning to identify different market conditions.</p> <p>Function: <code>analyze_market_regimes</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to analyze - <code>start_date</code> (str, optional): Start date for analysis - <code>end_date</code> (str, optional): End date for analysis - <code>method</code> (str, default: \"hmm\"): Detection method (\"hmm\", \"kmeans\", \"threshold\") - <code>n_regimes</code> (int, default: 3): Number of regimes to detect - <code>lookback_period</code> (int, default: 50): Lookback period for regime detection</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"analysis_period\": \"2023-01-01 to 2024-01-01\",\n  \"method\": \"hmm\",\n  \"n_regimes\": 3,\n  \"regime_names\": {\n    \"0\": \"Bear/Declining\",\n    \"1\": \"Sideways/Uncertain\",\n    \"2\": \"Bull/Trending\"\n  },\n  \"current_regime\": 2,\n  \"regime_counts\": {\"0\": 45, \"1\": 89, \"2\": 118},\n  \"regime_percentages\": {\"0\": 17.9, \"1\": 35.3, \"2\": 46.8},\n  \"average_regime_durations\": {\"0\": 15.2, \"1\": 22.3, \"2\": 28.7},\n  \"recent_regime_history\": [\n    {\n      \"date\": \"2024-01-15\",\n      \"regime\": 2,\n      \"probabilities\": [0.05, 0.15, 0.80]\n    }\n  ],\n  \"total_regime_switches\": 18\n}\n</code></pre></p>"},{"location":"api/backtesting/#create_strategy_ensemble","title":"create_strategy_ensemble","text":"<p>Create and backtest a strategy ensemble that combines multiple base strategies.</p> <p>Function: <code>create_strategy_ensemble</code></p> <p>Parameters: - <code>symbols</code> (list[str], required): List of stock symbols - <code>base_strategies</code> (list[str], optional): List of base strategy names (defaults to [\"sma_cross\", \"rsi\", \"macd\"]) - <code>weighting_method</code> (str, default: \"performance\"): Weighting method (\"performance\", \"equal\", \"volatility\") - <code>start_date</code> (str, optional): Start date for backtesting - <code>end_date</code> (str, optional): End date for backtesting - <code>initial_capital</code> (float, default: 10000.0): Initial capital per symbol</p> <p>Returns: <pre><code>{\n  \"ensemble_summary\": {\n    \"symbols_tested\": 5,\n    \"base_strategies\": [\"sma_cross\", \"rsi\", \"macd\"],\n    \"weighting_method\": \"performance\",\n    \"average_return\": 0.19,\n    \"total_trades\": 87,\n    \"average_trades_per_symbol\": 17.4\n  },\n  \"individual_results\": [\n    {\n      \"symbol\": \"AAPL\",\n      \"results\": {\n        \"total_return\": 0.21,\n        \"sharpe_ratio\": 1.18\n      },\n      \"ensemble_metrics\": {\n        \"strategy_weights\": {\"sma_cross\": 0.4, \"rsi\": 0.3, \"macd\": 0.3},\n        \"strategy_performance\": {\"sma_cross\": 0.15, \"rsi\": 0.12, \"macd\": 0.18}\n      }\n    }\n  ],\n  \"final_strategy_weights\": {\"sma_cross\": 0.42, \"rsi\": 0.28, \"macd\": 0.30}\n}\n</code></pre></p>"},{"location":"api/backtesting/#intelligent-backtesting-workflow","title":"Intelligent Backtesting Workflow","text":""},{"location":"api/backtesting/#run_intelligent_backtest","title":"run_intelligent_backtest","text":"<p>Run comprehensive intelligent backtesting workflow with automatic market regime analysis and strategy optimization.</p> <p>Function: <code>run_intelligent_backtest</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to analyze (e.g., 'AAPL', 'TSLA') - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD), defaults to 1 year ago - <code>end_date</code> (str, optional): End date (YYYY-MM-DD), defaults to today - <code>initial_capital</code> (float, default: 10000.0): Starting capital for backtest - <code>requested_strategy</code> (str, optional): User-preferred strategy (e.g., 'sma_cross', 'rsi', 'macd')</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"analysis_period\": \"2023-01-01 to 2024-01-01\",\n  \"execution_metadata\": {\n    \"total_execution_time\": 45.2,\n    \"steps_completed\": 6,\n    \"confidence_score\": 0.87\n  },\n  \"market_regime_analysis\": {\n    \"current_regime\": \"trending\",\n    \"regime_confidence\": 0.85,\n    \"market_characteristics\": {\n      \"volatility_percentile\": 35,\n      \"trend_strength\": 0.72,\n      \"volume_profile\": \"above_average\"\n    }\n  },\n  \"strategy_recommendations\": [\n    {\n      \"strategy\": \"macd\",\n      \"fitness_score\": 0.92,\n      \"recommended_parameters\": {\"fast_period\": 12, \"slow_period\": 26, \"signal_period\": 9},\n      \"expected_performance\": {\"sharpe_ratio\": 1.45, \"total_return\": 0.28}\n    },\n    {\n      \"strategy\": \"sma_cross\",\n      \"fitness_score\": 0.88,\n      \"recommended_parameters\": {\"fast_period\": 8, \"slow_period\": 21},\n      \"expected_performance\": {\"sharpe_ratio\": 1.32, \"total_return\": 0.24}\n    }\n  ],\n  \"optimization_results\": {\n    \"best_strategy\": \"macd\",\n    \"optimized_parameters\": {\"fast_period\": 12, \"slow_period\": 26, \"signal_period\": 9},\n    \"optimization_method\": \"grid_search\",\n    \"combinations_tested\": 48\n  },\n  \"validation_results\": {\n    \"walk_forward_analysis\": {\n      \"out_of_sample_sharpe\": 1.28,\n      \"consistency_score\": 0.82,\n      \"overfitting_risk\": \"low\"\n    },\n    \"monte_carlo_simulation\": {\n      \"probability_of_loss\": 0.12,\n      \"95_percent_confidence_interval\": {\"lower\": 0.08, \"upper\": 0.35}\n    }\n  },\n  \"final_recommendation\": {\n    \"recommended_strategy\": \"macd\",\n    \"confidence_level\": \"high\",\n    \"expected_annual_return\": 0.28,\n    \"expected_sharpe_ratio\": 1.45,\n    \"maximum_expected_drawdown\": -0.09,\n    \"risk_assessment\": \"moderate\",\n    \"implementation_notes\": [\n      \"Strategy performs well in trending markets\",\n      \"Consider position sizing based on volatility\",\n      \"Monitor for regime changes\"\n    ]\n  }\n}\n</code></pre></p>"},{"location":"api/backtesting/#quick_market_regime_analysis","title":"quick_market_regime_analysis","text":"<p>Perform fast market regime analysis and basic strategy recommendations without full optimization.</p> <p>Function: <code>quick_market_regime_analysis</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to analyze - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD), defaults to 1 year ago - <code>end_date</code> (str, optional): End date (YYYY-MM-DD), defaults to today</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"analysis_type\": \"quick_analysis\",\n  \"execution_time\": 8.5,\n  \"market_regime\": {\n    \"classification\": \"trending\",\n    \"confidence\": 0.78,\n    \"characteristics\": {\n      \"trend_direction\": \"bullish\",\n      \"volatility_level\": \"moderate\",\n      \"volume_profile\": \"above_average\"\n    }\n  },\n  \"strategy_recommendations\": [\n    {\n      \"strategy\": \"sma_cross\",\n      \"fitness_score\": 0.85,\n      \"reasoning\": \"Strong trend favors moving average strategies\"\n    },\n    {\n      \"strategy\": \"macd\",\n      \"fitness_score\": 0.82,\n      \"reasoning\": \"MACD works well in trending environments\"\n    },\n    {\n      \"strategy\": \"momentum\",\n      \"fitness_score\": 0.79,\n      \"reasoning\": \"Momentum strategies benefit from clear trends\"\n    }\n  ],\n  \"market_conditions_summary\": {\n    \"overall_assessment\": \"favorable_for_trend_following\",\n    \"risk_level\": \"moderate\",\n    \"recommended_position_sizing\": \"standard\"\n  }\n}\n</code></pre></p>"},{"location":"api/backtesting/#explain_market_regime","title":"explain_market_regime","text":"<p>Get detailed explanation of market regime characteristics and suitable strategies.</p> <p>Function: <code>explain_market_regime</code></p> <p>Parameters: - <code>regime</code> (str, required): Market regime to explain (\"trending\", \"ranging\", \"volatile\", \"volatile_trending\", \"low_volume\")</p> <p>Returns: <pre><code>{\n  \"regime\": \"trending\",\n  \"explanation\": {\n    \"description\": \"A market in a clear directional movement (up or down trend)\",\n    \"characteristics\": [\n      \"Strong directional price movement\",\n      \"Higher highs and higher lows (uptrend) or lower highs and lower lows (downtrend)\",\n      \"Good momentum indicators\",\n      \"Volume supporting the trend direction\"\n    ],\n    \"best_strategies\": [\"sma_cross\", \"ema_cross\", \"macd\", \"breakout\", \"momentum\"],\n    \"avoid_strategies\": [\"rsi\", \"mean_reversion\", \"bollinger\"],\n    \"risk_factors\": [\n      \"Trend reversals can be sudden\",\n      \"False breakouts in weak trends\",\n      \"Momentum strategies can give late signals\"\n    ]\n  },\n  \"trading_tips\": [\n    \"Focus on sma_cross, ema_cross, macd, breakout, momentum strategies\",\n    \"Avoid rsi, mean_reversion, bollinger strategies\",\n    \"Always use proper risk management\",\n    \"Consider the broader market context\"\n  ]\n}\n</code></pre></p>"},{"location":"api/backtesting/#available-strategies","title":"Available Strategies","text":""},{"location":"api/backtesting/#traditional-technical-analysis-strategies","title":"Traditional Technical Analysis Strategies","text":""},{"location":"api/backtesting/#1-sma-crossover-sma_cross","title":"1. SMA Crossover (<code>sma_cross</code>)","text":"<ul> <li>Description: Buy when fast SMA crosses above slow SMA, sell when crosses below</li> <li>Default Parameters: <code>fast_period=10, slow_period=20</code></li> <li>Best For: Trending markets</li> <li>Optimization Ranges: fast_period [5-20], slow_period [20-100]</li> </ul>"},{"location":"api/backtesting/#2-ema-crossover-ema_cross","title":"2. EMA Crossover (<code>ema_cross</code>)","text":"<ul> <li>Description: Exponential moving average crossover with faster response than SMA</li> <li>Default Parameters: <code>fast_period=12, slow_period=26</code></li> <li>Best For: Trending markets with more responsiveness</li> <li>Optimization Ranges: fast_period [8-20], slow_period [20-50]</li> </ul>"},{"location":"api/backtesting/#3-rsi-mean-reversion-rsi","title":"3. RSI Mean Reversion (<code>rsi</code>)","text":"<ul> <li>Description: Buy oversold (RSI &lt; 30), sell overbought (RSI &gt; 70)</li> <li>Default Parameters: <code>period=14, oversold=30, overbought=70</code></li> <li>Best For: Ranging/sideways markets</li> <li>Optimization Ranges: period [7-21], oversold [20-35], overbought [65-80]</li> </ul>"},{"location":"api/backtesting/#4-macd-signal-macd","title":"4. MACD Signal (<code>macd</code>)","text":"<ul> <li>Description: Buy when MACD crosses above signal line, sell when crosses below</li> <li>Default Parameters: <code>fast_period=12, slow_period=26, signal_period=9</code></li> <li>Best For: Trending markets with momentum confirmation</li> <li>Optimization Ranges: fast_period [8-14], slow_period [21-30], signal_period [7-11]</li> </ul>"},{"location":"api/backtesting/#5-bollinger-bands-bollinger","title":"5. Bollinger Bands (<code>bollinger</code>)","text":"<ul> <li>Description: Buy at lower band (oversold), sell at upper band (overbought)</li> <li>Default Parameters: <code>period=20, std_dev=2.0</code></li> <li>Best For: Mean-reverting/ranging markets</li> <li>Optimization Ranges: period [10-25], std_dev [1.5-3.0]</li> </ul>"},{"location":"api/backtesting/#6-momentum-momentum","title":"6. Momentum (<code>momentum</code>)","text":"<ul> <li>Description: Buy strong momentum, sell weak momentum based on returns threshold</li> <li>Default Parameters: <code>lookback=20, threshold=0.05</code></li> <li>Best For: Trending markets with clear momentum</li> <li>Optimization Ranges: lookback [10-30], threshold [0.02-0.10]</li> </ul>"},{"location":"api/backtesting/#7-mean-reversion-mean_reversion","title":"7. Mean Reversion (<code>mean_reversion</code>)","text":"<ul> <li>Description: Buy when price is below moving average by threshold</li> <li>Default Parameters: <code>ma_period=20, entry_threshold=0.02, exit_threshold=0.01</code></li> <li>Best For: Sideways/ranging markets</li> <li>Optimization Ranges: ma_period [15-50], entry_threshold [0.01-0.05]</li> </ul>"},{"location":"api/backtesting/#8-channel-breakout-breakout","title":"8. Channel Breakout (<code>breakout</code>)","text":"<ul> <li>Description: Buy on breakout above rolling high, sell on breakdown below rolling low</li> <li>Default Parameters: <code>lookback=20, exit_lookback=10</code></li> <li>Best For: Volatile trending markets</li> <li>Optimization Ranges: lookback [10-50], exit_lookback [5-20]</li> </ul>"},{"location":"api/backtesting/#9-volume-weighted-momentum-volume_momentum","title":"9. Volume-Weighted Momentum (<code>volume_momentum</code>)","text":"<ul> <li>Description: Momentum strategy filtered by volume surge</li> <li>Default Parameters: <code>momentum_period=20, volume_period=20, momentum_threshold=0.05, volume_multiplier=1.5</code></li> <li>Best For: Markets with significant volume participation</li> <li>Optimization Ranges: momentum_period [10-30], volume_multiplier [1.2-2.0]</li> </ul>"},{"location":"api/backtesting/#ml-enhanced-strategies_1","title":"ML-Enhanced Strategies","text":""},{"location":"api/backtesting/#1-ml-predictor-ml_predictor","title":"1. ML Predictor (<code>ml_predictor</code>)","text":"<ul> <li>Uses machine learning models (Random Forest, etc.) to predict future price movements</li> <li>Features: Technical indicators, price patterns, volume analysis</li> <li>Training/testing split with out-of-sample validation</li> </ul>"},{"location":"api/backtesting/#2-adaptive-strategy-adaptive","title":"2. Adaptive Strategy (<code>adaptive</code>)","text":"<ul> <li>Adapts base strategy parameters based on recent performance</li> <li>Uses gradient-based or momentum-based adaptation methods</li> <li>Continuously learns from market feedback</li> </ul>"},{"location":"api/backtesting/#3-strategy-ensemble-ensemble","title":"3. Strategy Ensemble (<code>ensemble</code>)","text":"<ul> <li>Combines multiple base strategies with dynamic weighting</li> <li>Weighting methods: performance-based, equal-weight, volatility-adjusted</li> <li>Provides diversification benefits</li> </ul>"},{"location":"api/backtesting/#4-regime-aware-strategy-regime_aware","title":"4. Regime-Aware Strategy (<code>regime_aware</code>)","text":"<ul> <li>Automatically switches between different strategies based on detected market regime</li> <li>Uses Hidden Markov Models or clustering for regime detection</li> <li>Optimizes strategy selection for current market conditions</li> </ul>"},{"location":"api/backtesting/#performance-considerations","title":"Performance Considerations","text":""},{"location":"api/backtesting/#execution-times","title":"Execution Times","text":"<ul> <li>Simple Backtest: 2-5 seconds</li> <li>Strategy Optimization: 30-120 seconds (depending on level)</li> <li>Walk-Forward Analysis: 60-300 seconds</li> <li>Monte Carlo Simulation: 45-90 seconds</li> <li>ML Strategy Training: 60-180 seconds</li> <li>Intelligent Backtest: 120-300 seconds (full workflow)</li> </ul>"},{"location":"api/backtesting/#memory-usage","title":"Memory Usage","text":"<ul> <li>Single Symbol: 50-200 MB</li> <li>Portfolio (5 symbols): 200-500 MB</li> <li>ML Training: 100-1000 MB (depending on data size)</li> </ul>"},{"location":"api/backtesting/#optimization-levels","title":"Optimization Levels","text":"<ul> <li>Coarse: 16-36 parameter combinations, fastest</li> <li>Medium: 36-100 combinations, balanced speed/accuracy</li> <li>Fine: 100-500+ combinations, most thorough</li> </ul>"},{"location":"api/backtesting/#error-handling","title":"Error Handling","text":""},{"location":"api/backtesting/#common-errors","title":"Common Errors","text":""},{"location":"api/backtesting/#insufficient-data","title":"Insufficient Data","text":"<pre><code>{\n  \"error\": \"Insufficient data for backtest (minimum 100 data points)\",\n  \"symbol\": \"PENNY_STOCK\",\n  \"message\": \"Please use a longer time period or different symbol\"\n}\n</code></pre>"},{"location":"api/backtesting/#invalid-strategy","title":"Invalid Strategy","text":"<pre><code>{\n  \"error\": \"Unknown strategy type: invalid_strategy\",\n  \"available_strategies\": [\"sma_cross\", \"rsi\", \"macd\", ...],\n  \"message\": \"Please use one of the available strategy types\"\n}\n</code></pre>"},{"location":"api/backtesting/#parameter-validation","title":"Parameter Validation","text":"<pre><code>{\n  \"error\": \"Invalid parameter value\",\n  \"parameter\": \"fast_period\",\n  \"value\": -5,\n  \"message\": \"fast_period must be positive integer\"\n}\n</code></pre>"},{"location":"api/backtesting/#ml-training-errors","title":"ML Training Errors","text":"<pre><code>{\n  \"error\": \"ML training failed: Insufficient data for training (minimum 200 data points)\",\n  \"symbol\": \"LOW_DATA_STOCK\",\n  \"message\": \"ML strategies require more historical data\"\n}\n</code></pre>"},{"location":"api/backtesting/#troubleshooting","title":"Troubleshooting","text":"<ol> <li>Data Issues: Ensure sufficient historical data (minimum 100 points, 200+ for ML)</li> <li>Parameter Validation: Check parameter types and ranges</li> <li>Memory Issues: Reduce number of symbols in portfolio backtests</li> <li>Timeout Issues: Use coarse optimization for faster results</li> <li>Strategy Parsing: Use exact strategy names from <code>list_strategies</code></li> </ol>"},{"location":"api/backtesting/#integration-examples","title":"Integration Examples","text":""},{"location":"api/backtesting/#claude-desktop-usage","title":"Claude Desktop Usage","text":"<pre><code># Basic backtest\n\"Run a backtest for AAPL using RSI strategy with 14-day period\"\n\n# Strategy comparison\n\"Compare SMA crossover, RSI, and MACD strategies on Tesla stock\"\n\n# Intelligent analysis\n\"Run intelligent backtest on Microsoft stock and recommend the best strategy\"\n\n# Portfolio backtest\n\"Backtest momentum strategy on AAPL, MSFT, GOOGL, AMZN, and TSLA\"\n\n# Optimization\n\"Optimize MACD parameters for Netflix stock over the last 2 years\"\n\n# ML strategies\n\"Train an ML predictor on Amazon stock and test its performance\"\n</code></pre>"},{"location":"api/backtesting/#api-integration","title":"API Integration","text":"<pre><code># Using MCP client\nimport mcp\n\nclient = mcp.Client(\"maverick-mcp\")\n\n# Run backtest\nresult = await client.call_tool(\"run_backtest\", {\n    \"symbol\": \"AAPL\",\n    \"strategy\": \"sma_cross\",\n    \"fast_period\": 10,\n    \"slow_period\": 20,\n    \"initial_capital\": 50000\n})\n\n# Optimize strategy\noptimization = await client.call_tool(\"optimize_strategy\", {\n    \"symbol\": \"TSLA\",\n    \"strategy\": \"rsi\",\n    \"optimization_level\": \"medium\",\n    \"optimization_metric\": \"sharpe_ratio\"\n})\n\n# Intelligent backtest\nintelligent_result = await client.call_tool(\"run_intelligent_backtest\", {\n    \"symbol\": \"MSFT\",\n    \"start_date\": \"2022-01-01\",\n    \"end_date\": \"2023-12-31\"\n})\n</code></pre>"},{"location":"api/backtesting/#workflow-integration","title":"Workflow Integration","text":"<pre><code># Complete backtesting workflow\nsymbols = [\"AAPL\", \"MSFT\", \"GOOGL\"]\nstrategies = [\"sma_cross\", \"rsi\", \"macd\"]\n\nfor symbol in symbols:\n    # 1. Quick regime analysis\n    regime = await client.call_tool(\"quick_market_regime_analysis\", {\n        \"symbol\": symbol\n    })\n\n    # 2. Strategy comparison\n    comparison = await client.call_tool(\"compare_strategies\", {\n        \"symbol\": symbol,\n        \"strategies\": strategies\n    })\n\n    # 3. Optimize best strategy\n    best_strategy = comparison[\"best_overall\"]\n    optimization = await client.call_tool(\"optimize_strategy\", {\n        \"symbol\": symbol,\n        \"strategy\": best_strategy\n    })\n\n    # 4. Validate with walk-forward\n    validation = await client.call_tool(\"walk_forward_analysis\", {\n        \"symbol\": symbol,\n        \"strategy\": best_strategy\n    })\n</code></pre>"},{"location":"api/backtesting/#best-practices","title":"Best Practices","text":""},{"location":"api/backtesting/#strategy-selection","title":"Strategy Selection","text":"<ol> <li>Trending Markets: Use sma_cross, ema_cross, macd, breakout, momentum</li> <li>Ranging Markets: Use rsi, bollinger, mean_reversion</li> <li>Volatile Markets: Use breakout, volatility_breakout with wider stops</li> <li>Unknown Conditions: Use intelligent_backtest for automatic selection</li> </ol>"},{"location":"api/backtesting/#parameter-optimization","title":"Parameter Optimization","text":"<ol> <li>Start with Default: Test default parameters first</li> <li>Use Medium Level: Good balance of thoroughness and speed</li> <li>Validate Results: Always use walk-forward analysis for final validation</li> <li>Avoid Overfitting: Check for consistent out-of-sample performance</li> </ol>"},{"location":"api/backtesting/#risk-management","title":"Risk Management","text":"<ol> <li>Position Sizing: Never risk more than 1-2% per trade</li> <li>Diversification: Test strategies across multiple symbols</li> <li>Regime Awareness: Monitor market regime changes</li> <li>Drawdown Limits: Set maximum acceptable drawdown levels</li> </ol>"},{"location":"api/backtesting/#performance-optimization","title":"Performance Optimization","text":"<ol> <li>Parallel Processing: Use portfolio backtests for batch analysis</li> <li>Caching: Results are cached for faster repeated analysis</li> <li>Data Efficiency: Use appropriate date ranges to balance data needs and speed</li> <li>ML Considerations: Ensure sufficient training data for ML strategies</li> </ol> <p>This comprehensive API documentation provides everything needed to effectively use the MaverickMCP backtesting system. Each tool is designed to work independently or as part of larger workflows, with extensive error handling and performance optimization built-in.</p>"},{"location":"api-reference/","title":"Package Reference","text":"<p>Maverick MCP is organized into modular packages, each with a specific responsibility.</p>"},{"location":"api-reference/#package-overview","title":"Package Overview","text":"<pre><code>packages/\n\u251c\u2500\u2500 maverick-core      # Core utilities, config, logging, resilience\n\u251c\u2500\u2500 maverick-data      # Data models, providers, services, caching\n\u251c\u2500\u2500 maverick-backtest  # Backtesting engine, strategies, ML workflows\n\u251c\u2500\u2500 maverick-india     # Indian market support, conference calls\n\u251c\u2500\u2500 maverick-server    # MCP server, routers, monitoring\n\u2514\u2500\u2500 maverick-agents    # AI agents (future)\n</code></pre>"},{"location":"api-reference/#quick-import-reference","title":"Quick Import Reference","text":""},{"location":"api-reference/#maverick-core","title":"maverick-core","text":"<pre><code>from maverick_core import (\n    # Configuration\n    Settings, get_settings,\n\n    # Logging\n    get_logger, setup_logging, CorrelationIDMiddleware,\n\n    # Exceptions\n    MaverickException, DataFetchError, ValidationError,\n\n    # Resilience\n    EnhancedCircuitBreaker, CircuitState, with_circuit_breaker,\n\n    # Validation\n    validate_ticker, validate_date_range,\n)\n</code></pre>"},{"location":"api-reference/#maverick-data","title":"maverick-data","text":"<pre><code>from maverick_data import (\n    # Models\n    Stock, PriceCache, MaverickStocks, MaverickBearStocks,\n\n    # Session\n    SessionLocal, engine, get_session, get_db,\n\n    # Providers\n    StockDataProvider, EnhancedStockDataProvider,\n\n    # Services\n    StockCacheManager, StockDataFetcher, ScreeningService,\n    MarketCalendarService,\n)\n</code></pre>"},{"location":"api-reference/#maverick-backtest","title":"maverick-backtest","text":"<pre><code>from maverick_backtest import (\n    # Engine\n    VectorBTEngine,\n\n    # Strategies\n    SMAStrategy, RSIStrategy, MACDStrategy,\n\n    # Analysis\n    StrategyOptimizer, WalkForwardAnalyzer,\n)\n</code></pre>"},{"location":"api-reference/#maverick-india","title":"maverick-india","text":"<pre><code>from maverick_india import (\n    # Market\n    IndianMarket, INDIAN_MARKET_CONFIG,\n\n    # Concall\n    TranscriptFetcher, ConcallSummarizer, SentimentAnalyzer,\n)\n</code></pre>"},{"location":"api-reference/#maverick-server","title":"maverick-server","text":"<pre><code>from maverick_server import (\n    # Monitoring\n    PrometheusMetrics, HealthChecker, SentryIntegration,\n)\n</code></pre>"},{"location":"api-reference/#package-details","title":"Package Details","text":"Package Description Key Exports maverick-core Core utilities Settings, logging, exceptions, validation maverick-data Data layer Models, providers, services, caching maverick-backtest Backtesting VectorBT engine, strategies, optimization maverick-india Indian market NSE/BSE support, concall analysis maverick-server MCP server Routers, monitoring, health checks"},{"location":"api-reference/#installation","title":"Installation","text":"<p>All packages are installed together:</p> <pre><code># Install from workspace\nuv sync\n\n# Or install individual package\npip install -e packages/core\npip install -e packages/data\n</code></pre>"},{"location":"api-reference/#migration-from-legacy","title":"Migration from Legacy","text":"<p>If you're migrating from <code>maverick_mcp</code>, see the Migration Guide.</p> <p>Old imports (deprecated): <pre><code>from maverick_mcp.data.models import Stock\nfrom maverick_mcp.config.settings import get_settings\n</code></pre></p> <p>New imports (recommended): <pre><code>from maverick_data import Stock\nfrom maverick_core import get_settings\n</code></pre></p>"},{"location":"api-reference/concall/cache/","title":"Conference Call Cache System","text":"<p>Multi-tier caching architecture for conference call data (Commit 13).</p>"},{"location":"api-reference/concall/cache/#overview","title":"Overview","text":"<p>Production-grade caching layer with SOLID principles, designed for easy extraction into a separate microservice.</p>"},{"location":"api-reference/concall/cache/#architecture-tiers","title":"Architecture Tiers","text":"<ul> <li>L1 Cache: Redis/In-memory (1-5ms response time)</li> <li>L2 Cache: Database (10-50ms response time)</li> <li>L3 Source: External APIs/AI (1000-60000ms response time)</li> </ul>"},{"location":"api-reference/concall/cache/#performance-benefits","title":"Performance Benefits","text":"<ul> <li>100-1000x speedup for cached data</li> <li>Significant cost savings on AI operations</li> <li>Redis connection pooling for production efficiency</li> <li>Automatic fallback to in-memory cache if Redis unavailable</li> </ul>"},{"location":"api-reference/concall/cache/#module-maverick_mcpconcallcachebackends","title":"Module: maverick_mcp.concall.cache.backends","text":""},{"location":"api-reference/concall/cache/#icachebackend","title":"ICacheBackend","text":"<p>Abstract interface for all cache implementations.</p> <p>Class: <code>ICacheBackend</code> (Abstract Base Class)</p> <p>Methods:</p>"},{"location":"api-reference/concall/cache/#get","title":"get()","text":"<p>Retrieve value from cache.</p> <p>Signature: <pre><code>@abstractmethod\ndef get(self, key: str) -&gt; Any | None\n</code></pre></p> <p>Parameters: - <code>key</code> (str): Cache key</p> <p>Returns: - Any | None: Cached value or None if not found</p>"},{"location":"api-reference/concall/cache/#set","title":"set()","text":"<p>Store value in cache.</p> <p>Signature: <pre><code>@abstractmethod\ndef set(self, key: str, value: Any, ttl: int | None = None) -&gt; bool\n</code></pre></p> <p>Parameters: - <code>key</code> (str): Cache key - <code>value</code> (Any): Value to cache (must be serializable) - <code>ttl</code> (int, optional): Time-to-live in seconds</p> <p>Returns: - bool: True if successful</p>"},{"location":"api-reference/concall/cache/#delete","title":"delete()","text":"<p>Remove value from cache.</p> <p>Signature: <pre><code>@abstractmethod\ndef delete(self, key: str) -&gt; bool\n</code></pre></p>"},{"location":"api-reference/concall/cache/#clear","title":"clear()","text":"<p>Clear all or pattern-matched cache entries.</p> <p>Signature: <pre><code>@abstractmethod\ndef clear(self, pattern: str = \"*\") -&gt; int\n</code></pre></p> <p>Parameters: - <code>pattern</code> (str, optional): Key pattern to match. Default: \"*\" (all)</p> <p>Returns: - int: Number of entries cleared</p>"},{"location":"api-reference/concall/cache/#health_check","title":"health_check()","text":"<p>Check cache backend health.</p> <p>Signature: <pre><code>@abstractmethod\ndef health_check(self) -&gt; bool\n</code></pre></p> <p>Returns: - bool: True if cache backend is healthy</p>"},{"location":"api-reference/concall/cache/#rediscachebackend","title":"RedisCacheBackend","text":"<p>Production Redis cache with connection pooling.</p> <p>Class: <code>RedisCacheBackend</code></p> <p>Initialization: <pre><code>from maverick_india.concall.cache.backends import RedisCacheBackend\n\ncache = RedisCacheBackend(\n    host=\"localhost\",\n    port=6379,\n    db=0,\n    password=None,\n    max_connections=10\n)\n</code></pre></p> <p>Parameters: - <code>host</code> (str, optional): Redis host. Default: \"localhost\" - <code>port</code> (int, optional): Redis port. Default: 6379 - <code>db</code> (int, optional): Redis database number. Default: 0 - <code>password</code> (str, optional): Redis password. Default: None - <code>max_connections</code> (int, optional): Connection pool size. Default: 10</p> <p>Features: - Connection pooling for efficiency - Automatic reconnection on failure - JSON serialization for complex objects - Namespace support for key organization - Pattern-based key deletion</p> <p>Example: <pre><code>from maverick_india.concall.cache.backends import RedisCacheBackend\n\n# Initialize\ncache = RedisCacheBackend(host=\"localhost\", port=6379)\n\n# Store data\ncache.set(\"transcript:AAPL:Q4:2024\", transcript_data, ttl=604800)\n\n# Retrieve data\ndata = cache.get(\"transcript:AAPL:Q4:2024\")\n\n# Clear namespace\ncache.clear(\"transcript:*\")\n\n# Health check\nif cache.health_check():\n    print(\"Redis is healthy\")\n</code></pre></p>"},{"location":"api-reference/concall/cache/#inmemorycachebackend","title":"InMemoryCacheBackend","text":"<p>In-memory cache for development and fallback.</p> <p>Class: <code>InMemoryCacheBackend</code></p> <p>Initialization: <pre><code>from maverick_india.concall.cache.backends import InMemoryCacheBackend\n\ncache = InMemoryCacheBackend(max_size=1000)\n</code></pre></p> <p>Parameters: - <code>max_size</code> (int, optional): Maximum cache entries. Default: 1000</p> <p>Features: - No external dependencies - TTL support with automatic expiration - LRU eviction when max_size reached - Thread-safe operations - Perfect for testing and development</p> <p>Example: <pre><code>from maverick_india.concall.cache.backends import InMemoryCacheBackend\n\n# Initialize\ncache = InMemoryCacheBackend(max_size=500)\n\n# Use same interface as Redis\ncache.set(\"key\", \"value\", ttl=3600)\nvalue = cache.get(\"key\")\n</code></pre></p>"},{"location":"api-reference/concall/cache/#module-maverick_mcpconcallcachecache_service","title":"Module: maverick_mcp.concall.cache.cache_service","text":""},{"location":"api-reference/concall/cache/#concallcacheservice","title":"ConcallCacheService","text":"<p>High-level domain-specific caching API.</p> <p>Class: <code>ConcallCacheService</code></p> <p>Initialization: <pre><code>from maverick_india.concall.cache.cache_service import ConcallCacheService\n\n# Auto-detects Redis, falls back to in-memory\nservice = ConcallCacheService()\n\n# Force specific backend\nservice = ConcallCacheService(backend=\"redis\")\nservice = ConcallCacheService(backend=\"memory\")\n</code></pre></p> <p>Methods:</p>"},{"location":"api-reference/concall/cache/#get_transcript","title":"get_transcript()","text":"<p>Retrieve cached transcript.</p> <p>Signature: <pre><code>def get_transcript(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int\n) -&gt; dict | None\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") - <code>fiscal_year</code> (int): Fiscal year</p> <p>Returns: - dict | None: Cached transcript or None</p> <p>Cache Key Format: <code>concall:transcript:{ticker}:{quarter}:{year}:v1</code></p> <p>Example: <pre><code>service = ConcallCacheService()\n\n# Check cache\ntranscript = service.get_transcript(\"AAPL\", \"Q4\", 2024)\nif transcript:\n    print(\"Cache hit!\")\nelse:\n    print(\"Cache miss - fetch from source\")\n</code></pre></p>"},{"location":"api-reference/concall/cache/#set_transcript","title":"set_transcript()","text":"<p>Cache transcript data.</p> <p>Signature: <pre><code>def set_transcript(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    transcript_data: dict,\n    ttl: int = 604800\n) -&gt; bool\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter - <code>fiscal_year</code> (int): Year - <code>transcript_data</code> (dict): Transcript to cache - <code>ttl</code> (int, optional): Time-to-live in seconds. Default: 604800 (7 days)</p> <p>Returns: - bool: True if cached successfully</p>"},{"location":"api-reference/concall/cache/#get_summary","title":"get_summary()","text":"<p>Retrieve cached summary.</p> <p>Signature: <pre><code>def get_summary(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    mode: str = \"standard\"\n) -&gt; dict | None\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter - <code>fiscal_year</code> (int): Year - <code>mode</code> (str, optional): Summary mode (\"concise\", \"standard\", \"detailed\")</p> <p>Returns: - dict | None: Cached summary or None</p>"},{"location":"api-reference/concall/cache/#set_summary","title":"set_summary()","text":"<p>Cache summary data.</p> <p>Signature: <pre><code>def set_summary(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    summary_data: dict,\n    mode: str = \"standard\",\n    ttl: int = 604800\n) -&gt; bool\n</code></pre></p>"},{"location":"api-reference/concall/cache/#get_sentiment","title":"get_sentiment()","text":"<p>Retrieve cached sentiment analysis.</p> <p>Signature: <pre><code>def get_sentiment(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int\n) -&gt; dict | None\n</code></pre></p>"},{"location":"api-reference/concall/cache/#set_sentiment","title":"set_sentiment()","text":"<p>Cache sentiment analysis.</p> <p>Signature: <pre><code>def set_sentiment(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    sentiment_data: dict,\n    ttl: int = 604800\n) -&gt; bool\n</code></pre></p>"},{"location":"api-reference/concall/cache/#clear_ticker","title":"clear_ticker()","text":"<p>Clear all cache for a ticker.</p> <p>Signature: <pre><code>def clear_ticker(self, ticker: str) -&gt; int\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol</p> <p>Returns: - int: Number of entries cleared</p> <p>Example: <pre><code># Clear all cached data for AAPL\ncount = service.clear_ticker(\"AAPL\")\nprint(f\"Cleared {count} entries\")\n</code></pre></p>"},{"location":"api-reference/concall/cache/#clear_old_entries","title":"clear_old_entries()","text":"<p>Clear entries older than specified days.</p> <p>Signature: <pre><code>def clear_old_entries(self, days: int = 7) -&gt; int\n</code></pre></p> <p>Parameters: - <code>days</code> (int, optional): Age threshold in days. Default: 7</p> <p>Returns: - int: Number of entries cleared</p>"},{"location":"api-reference/concall/cache/#get_cache_stats","title":"get_cache_stats()","text":"<p>Get cache statistics.</p> <p>Signature: <pre><code>def get_cache_stats(self) -&gt; dict\n</code></pre></p> <p>Returns: - dict: Contains:   - <code>backend_type</code> (str): \"redis\" or \"memory\"   - <code>total_keys</code> (int): Total cached entries   - <code>hit_rate</code> (float): Cache hit rate (if tracked)   - <code>health</code> (bool): Backend health status</p>"},{"location":"api-reference/concall/cache/#module-maverick_mcpconcallcachekey_generator","title":"Module: maverick_mcp.concall.cache.key_generator","text":""},{"location":"api-reference/concall/cache/#cachekeygenerator","title":"CacheKeyGenerator","text":"<p>Consistent, versioned cache key generation.</p> <p>Class: <code>CacheKeyGenerator</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/cache/#generate_transcript_key","title":"generate_transcript_key()","text":"<p>Generate cache key for transcript.</p> <p>Signature: <pre><code>@staticmethod\ndef generate_transcript_key(\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    version: int = 1\n) -&gt; str\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter - <code>fiscal_year</code> (int): Year - <code>version</code> (int, optional): Cache key version. Default: 1</p> <p>Returns: - str: Cache key</p> <p>Format: <code>concall:transcript:{ticker}:{quarter}:{year}:v{version}</code></p> <p>Example: <pre><code>from maverick_india.concall.cache.key_generator import CacheKeyGenerator\n\nkey = CacheKeyGenerator.generate_transcript_key(\"AAPL\", \"Q4\", 2024)\nprint(key)  # \"concall:transcript:AAPL:Q4:2024:v1\"\n</code></pre></p>"},{"location":"api-reference/concall/cache/#generate_summary_key","title":"generate_summary_key()","text":"<p>Generate cache key for summary.</p> <p>Signature: <pre><code>@staticmethod\ndef generate_summary_key(\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    mode: str = \"standard\",\n    version: int = 1\n) -&gt; str\n</code></pre></p> <p>Format: <code>concall:summary:{ticker}:{quarter}:{year}:{mode}:v{version}</code></p>"},{"location":"api-reference/concall/cache/#generate_sentiment_key","title":"generate_sentiment_key()","text":"<p>Generate cache key for sentiment.</p> <p>Signature: <pre><code>@staticmethod\ndef generate_sentiment_key(\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    version: int = 1\n) -&gt; str\n</code></pre></p> <p>Format: <code>concall:sentiment:{ticker}:{quarter}:{year}:v{version}</code></p>"},{"location":"api-reference/concall/cache/#parse_key","title":"parse_key()","text":"<p>Parse cache key into components.</p> <p>Signature: <pre><code>@staticmethod\ndef parse_key(key: str) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>key</code> (str): Cache key</p> <p>Returns: - dict: Parsed components (type, ticker, quarter, year, version, etc.)</p> <p>Example: <pre><code>key = \"concall:transcript:AAPL:Q4:2024:v1\"\nparsed = CacheKeyGenerator.parse_key(key)\n\nprint(parsed)\n# {\n#   'namespace': 'concall',\n#   'type': 'transcript',\n#   'ticker': 'AAPL',\n#   'quarter': 'Q4',\n#   'fiscal_year': 2024,\n#   'version': 1\n# }\n</code></pre></p>"},{"location":"api-reference/concall/cache/#design-principles","title":"Design Principles","text":""},{"location":"api-reference/concall/cache/#solid-compliance","title":"SOLID Compliance","text":"<p>Single Responsibility: Each class has one reason to change - <code>ICacheBackend</code>: Cache operations interface - <code>RedisCacheBackend</code>: Redis-specific implementation - <code>InMemoryCacheBackend</code>: In-memory implementation - <code>CacheKeyGenerator</code>: Key generation logic - <code>ConcallCacheService</code>: Domain-specific caching API</p> <p>Open/Closed: Extensible via new backends without modifying core - Add new backends by implementing <code>ICacheBackend</code> - No changes needed to existing code</p> <p>Liskov Substitution: All backends are interchangeable - Any <code>ICacheBackend</code> can replace another - Services work with any backend</p> <p>Interface Segregation: Minimal, focused interfaces - <code>ICacheBackend</code> has only essential methods - No bloated interfaces</p> <p>Dependency Inversion: Services depend on abstractions - <code>ConcallCacheService</code> depends on <code>ICacheBackend</code> interface - Not on concrete implementations</p>"},{"location":"api-reference/concall/cache/#integration-with-services","title":"Integration with Services","text":""},{"location":"api-reference/concall/cache/#transcriptfetcher-integration","title":"TranscriptFetcher Integration","text":"<pre><code>from maverick_india.concall.cache.cache_service import ConcallCacheService\nfrom maverick_india.concall.services.transcript_fetcher import TranscriptFetcher\n\ncache_service = ConcallCacheService()\nfetcher = TranscriptFetcher(cache_service=cache_service)\n\n# Automatically uses L1 cache\ntranscript = fetcher.fetch_transcript(\"AAPL\", \"Q4\", 2024)\n</code></pre>"},{"location":"api-reference/concall/cache/#summarization-service-integration","title":"Summarization Service Integration","text":"<pre><code>from maverick_india.concall.services.concall_summarizer import ConcallSummarizer\n\nsummarizer = ConcallSummarizer(cache_service=cache_service)\n\n# Check L1 cache before generating\nsummary = summarizer.summarize(transcript_id=123, mode=\"standard\")\n</code></pre>"},{"location":"api-reference/concall/cache/#deployment-configurations","title":"Deployment Configurations","text":""},{"location":"api-reference/concall/cache/#development-in-memory","title":"Development (In-Memory)","text":"<pre><code>service = ConcallCacheService(backend=\"memory\")\n</code></pre> <p>Benefits: - No external dependencies - Fast setup - Perfect for testing</p>"},{"location":"api-reference/concall/cache/#production-redis","title":"Production (Redis)","text":"<pre><code>service = ConcallCacheService(\n    backend=\"redis\",\n    redis_host=\"cache.example.com\",\n    redis_port=6379,\n    redis_password=\"secure-password\"\n)\n</code></pre> <p>Benefits: - Shared cache across instances - Persistent across restarts - High performance (1-5ms)</p>"},{"location":"api-reference/concall/cache/#hybrid-auto-detection","title":"Hybrid (Auto-Detection)","text":"<pre><code>service = ConcallCacheService()  # Auto-detects Redis\n</code></pre> <p>Benefits: - Tries Redis first - Falls back to in-memory if Redis unavailable - Works everywhere</p>"},{"location":"api-reference/concall/cache/#monitoring-and-health-checks","title":"Monitoring and Health Checks","text":""},{"location":"api-reference/concall/cache/#health-check","title":"Health Check","text":"<pre><code>service = ConcallCacheService()\n\nif service.health_check():\n    print(\"\u2705 Cache is healthy\")\nelse:\n    print(\"\u26a0\ufe0f Cache degraded (using fallback)\")\n</code></pre>"},{"location":"api-reference/concall/cache/#cache-statistics","title":"Cache Statistics","text":"<pre><code>stats = service.get_cache_stats()\nprint(f\"Backend: {stats['backend_type']}\")\nprint(f\"Total Keys: {stats['total_keys']}\")\nprint(f\"Hit Rate: {stats['hit_rate']:.2%}\")\n</code></pre>"},{"location":"api-reference/concall/cache/#logging","title":"Logging","text":"<p>All cache operations are logged with L1/L2/L3 hit tracking:</p> <pre><code>INFO: L1 cache hit for concall:transcript:AAPL:Q4:2024:v1\nINFO: L2 cache miss for concall:summary:MSFT:Q3:2024:standard:v1\nINFO: L3 source fetch for concall:sentiment:GOOGL:Q2:2024:v1\n</code></pre>"},{"location":"api-reference/concall/cache/#performance-metrics","title":"Performance Metrics","text":""},{"location":"api-reference/concall/cache/#response-times","title":"Response Times","text":"<ul> <li>L1 Hit (Redis): ~1-5ms</li> <li>L1 Hit (Memory): ~0.1-1ms</li> <li>L2 Hit (Database): ~10-50ms</li> <li>L3 Miss (API/AI): ~1000-60000ms</li> </ul>"},{"location":"api-reference/concall/cache/#cost-savings","title":"Cost Savings","text":"<ul> <li>Transcript Fetch: $0 (cached) vs $0.01 (API)</li> <li>AI Summary: $0 (cached) vs $0.01-0.05 (API)</li> <li>Sentiment Analysis: $0 (cached) vs $0.005-0.01 (API)</li> </ul> <p>7-day cache = 100% cost savings for repeat access</p>"},{"location":"api-reference/concall/cache/#future-enhancements","title":"Future Enhancements","text":""},{"location":"api-reference/concall/cache/#microservice-extraction","title":"Microservice Extraction","text":"<p>The cache layer is designed for easy extraction:</p> <pre><code>maverick-mcp/\n  \u2514\u2500\u2500 maverick_mcp/\n      \u2514\u2500\u2500 concall/\n          \u2514\u2500\u2500 cache/  \u2190 Can become separate service\n</code></pre>"},{"location":"api-reference/concall/cache/#additional-backends","title":"Additional Backends","text":"<p>Easy to add: - Memcached backend - DynamoDB backend - S3 backend for large objects</p>"},{"location":"api-reference/concall/cache/#distributed-caching","title":"Distributed Caching","text":"<p>Redis Cluster support for horizontal scaling.</p>"},{"location":"api-reference/concall/cache/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/concall/cache/#always-use-service-layer","title":"Always Use Service Layer","text":"<pre><code># Good - Use ConcallCacheService\nservice = ConcallCacheService()\ntranscript = service.get_transcript(\"AAPL\", \"Q4\", 2024)\n\n# Bad - Direct backend usage\nbackend = RedisCacheBackend()\ntranscript = backend.get(\"concall:transcript:AAPL:Q4:2024:v1\")\n</code></pre>"},{"location":"api-reference/concall/cache/#handle-cache-misses-gracefully","title":"Handle Cache Misses Gracefully","text":"<pre><code>transcript = service.get_transcript(\"AAPL\", \"Q4\", 2024)\nif not transcript:\n    transcript = fetch_from_source()\n    service.set_transcript(\"AAPL\", \"Q4\", 2024, transcript)\n</code></pre>"},{"location":"api-reference/concall/cache/#clear-stale-data","title":"Clear Stale Data","text":"<pre><code># Clear old entries weekly\nservice.clear_old_entries(days=7)\n\n# Clear ticker on news/events\nservice.clear_ticker(\"AAPL\")\n</code></pre>"},{"location":"api-reference/concall/cache/#monitor-health","title":"Monitor Health","text":"<pre><code># Periodic health checks\nif not service.health_check():\n    alert_ops_team()\n</code></pre>"},{"location":"api-reference/concall/models/","title":"Conference Call Models","text":"<p>Data models for conference call analysis.</p>"},{"location":"api-reference/concall/models/#module-maverick_indiaconcallmodels","title":"Module: maverick_india.concall.models","text":""},{"location":"api-reference/concall/models/#transcript","title":"Transcript","text":"<p>Conference call transcript model.</p> <p>Fields: - <code>id</code> (int): Primary key - <code>ticker</code> (str): Stock symbol (e.g., \"AAPL\", \"RELIANCE.NS\") - <code>quarter</code> (str): Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") - <code>fiscal_year</code> (int): Fiscal year (e.g., 2025) - <code>transcript_text</code> (Text): Full transcript content - <code>source</code> (str): Source (\"company_ir\", \"nse\", \"screener\") - <code>source_url</code> (str): Original transcript URL - <code>fetched_at</code> (datetime): When transcript was fetched - <code>metadata</code> (JSON): Additional data (speakers, duration, etc.)</p> <p>Indexes: - Composite unique index on (ticker, quarter, fiscal_year) - Ticker index for company queries - Fiscal year index for temporal queries</p> <p>Example: <pre><code>from maverick_india.concall.models import Transcript\nfrom maverick_data import session_scope\n\nwith session_scope() as session:\n    transcript = session.query(Transcript).filter_by(\n        ticker=\"RELIANCE.NS\",\n        quarter=\"Q1\",\n        fiscal_year=2025\n    ).first()\n\n    print(f\"Source: {transcript.source}\")\n    print(f\"Length: {len(transcript.transcript_text)} characters\")\n</code></pre></p>"},{"location":"api-reference/concall/models/#transcriptsummary","title":"TranscriptSummary","text":"<p>AI-generated transcript summary.</p> <p>Fields: - <code>id</code> (int): Primary key - <code>transcript_id</code> (int): Foreign key to Transcript - <code>summary_mode</code> (str): Mode (\"concise\", \"standard\", \"detailed\") - <code>executive_summary</code> (Text): High-level overview - <code>key_metrics</code> (JSON): Important financial metrics - <code>revenue_analysis</code> (Text): Revenue discussion - <code>guidance</code> (Text): Management guidance - <code>risks</code> (JSON): Risk factors mentioned - <code>growth_drivers</code> (JSON): Growth initiatives - <code>generated_at</code> (datetime): Summary generation time - <code>model_used</code> (str): AI model name</p> <p>Relationships: - <code>transcript</code>: Many-to-one with Transcript</p> <p>Example: <pre><code>from maverick_india.concall.models import TranscriptSummary\n\nsummary = session.query(TranscriptSummary).filter_by(\n    transcript_id=transcript_id,\n    summary_mode=\"standard\"\n).first()\n\nprint(summary.executive_summary)\nprint(f\"Key Metrics: {summary.key_metrics}\")\n</code></pre></p>"},{"location":"api-reference/concall/models/#sentimentanalysis","title":"SentimentAnalysis","text":"<p>Sentiment analysis of conference calls.</p> <p>Fields: - <code>id</code> (int): Primary key - <code>transcript_id</code> (int): Foreign key to Transcript - <code>overall_sentiment</code> (float): Score 1-5 (1=Very Bearish, 5=Very Bullish) - <code>management_tone</code> (str): Tone assessment (\"confident\", \"cautious\", \"defensive\") - <code>outlook_sentiment</code> (float): Forward-looking sentiment (1-5) - <code>risk_sentiment</code> (float): Risk discussion sentiment (1-5) - <code>confidence_score</code> (float): Analysis confidence (0-1) - <code>key_phrases</code> (JSON): Important phrases with sentiment - <code>analyzed_at</code> (datetime): Analysis timestamp - <code>model_used</code> (str): AI model name</p> <p>Sentiment Scale: - 5.0: Very Bullish - Extremely positive outlook - 4.0: Bullish - Generally positive tone - 3.0: Neutral - Balanced perspective - 2.0: Bearish - Cautious or negative - 1.0: Very Bearish - Significantly negative</p> <p>Example: <pre><code>from maverick_india.concall.models import SentimentAnalysis\n\nsentiment = session.query(SentimentAnalysis).filter_by(\n    transcript_id=transcript_id\n).first()\n\nprint(f\"Overall: {sentiment.overall_sentiment}/5\")\nprint(f\"Tone: {sentiment.management_tone}\")\nprint(f\"Confidence: {sentiment.confidence_score}\")\n</code></pre></p>"},{"location":"api-reference/concall/models/#transcriptembedding","title":"TranscriptEmbedding","text":"<p>Vector embeddings for RAG (Retrieval-Augmented Generation).</p> <p>Fields: - <code>id</code> (int): Primary key - <code>transcript_id</code> (int): Foreign key to Transcript - <code>chunk_index</code> (int): Chunk sequence number - <code>chunk_text</code> (Text): Text segment - <code>embedding</code> (Vector): Vector embedding - <code>metadata</code> (JSON): Chunk metadata (speaker, topic, timestamp) - <code>created_at</code> (datetime): Embedding creation time</p> <p>Chunk Size: ~500-1000 tokens per chunk</p> <p>Embedding Model: OpenAI text-embedding-3-small (1536 dimensions)</p> <p>Example: <pre><code>from maverick_india.concall.models import TranscriptEmbedding\n\n# Get all embeddings for a transcript\nembeddings = session.query(TranscriptEmbedding).filter_by(\n    transcript_id=transcript_id\n).order_by(TranscriptEmbedding.chunk_index).all()\n\nprint(f\"Total chunks: {len(embeddings)}\")\n</code></pre></p>"},{"location":"api-reference/concall/models/#data-flow","title":"Data Flow","text":""},{"location":"api-reference/concall/models/#transcript-lifecycle","title":"Transcript Lifecycle","text":"<ol> <li>Fetching: <code>Transcript</code> created with raw text</li> <li>Summarization: <code>TranscriptSummary</code> generated (concise/standard/detailed)</li> <li>Sentiment Analysis: <code>SentimentAnalysis</code> computed</li> <li>Embedding: <code>TranscriptEmbedding</code> chunks created for RAG</li> <li>Caching: All results cached for 7 days</li> </ol>"},{"location":"api-reference/concall/models/#database-relationships","title":"Database Relationships","text":"<pre><code>Transcript (1) \u2190\u2192 (Many) TranscriptSummary\n           (1) \u2190\u2192 (Many) SentimentAnalysis\n           (1) \u2190\u2192 (Many) TranscriptEmbedding\n</code></pre>"},{"location":"api-reference/concall/models/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/concall/models/#query-optimization","title":"Query Optimization","text":"<pre><code>from sqlalchemy.orm import joinedload\n\n# Eager load relationships\ntranscript = session.query(Transcript).options(\n    joinedload(Transcript.summaries),\n    joinedload(Transcript.sentiment_analyses)\n).filter_by(ticker=\"AAPL\").first()\n\n# Avoid N+1 queries\nfor summary in transcript.summaries:\n    print(summary.executive_summary)\n</code></pre>"},{"location":"api-reference/concall/models/#caching-strategy","title":"Caching Strategy","text":"<pre><code>from maverick_data.services import StockCacheManager as CacheManager\n\ncache = CacheManager()\n\ndef get_cached_transcript(ticker: str, quarter: str, year: int):\n    cache_key = f\"transcript:{ticker}:{quarter}:{year}\"\n\n    cached = cache.get(cache_key)\n    if cached:\n        return cached\n\n    with session_scope() as session:\n        transcript = session.query(Transcript).filter_by(\n            ticker=ticker, quarter=quarter, fiscal_year=year\n        ).first()\n\n    cache.set(cache_key, transcript, ttl=604800)  # 7 days\n    return transcript\n</code></pre>"},{"location":"api-reference/concall/models/#bulk-operations","title":"Bulk Operations","text":"<pre><code># Efficient chunk insertion\nchunks = [\n    TranscriptEmbedding(\n        transcript_id=transcript_id,\n        chunk_index=i,\n        chunk_text=text,\n        embedding=vector\n    )\n    for i, (text, vector) in enumerate(chunks_data)\n]\n\nwith session_scope() as session:\n    session.bulk_save_objects(chunks)\n</code></pre>"},{"location":"api-reference/concall/providers/","title":"Conference Call Providers","text":"<p>Data providers for fetching conference call transcripts.</p>"},{"location":"api-reference/concall/providers/#module-maverick_mcpconcallproviderscompany_ir_provider","title":"Module: maverick_mcp.concall.providers.company_ir_provider","text":""},{"location":"api-reference/concall/providers/#companyirprovider","title":"CompanyIRProvider","text":"<p>Fetch transcripts from company investor relations websites.</p> <p>Class: <code>CompanyIRProvider</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/providers/#fetch_transcript","title":"fetch_transcript()","text":"<p>Fetch transcript from company IR website.</p> <p>Signature: <pre><code>def fetch_transcript(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int\n) -&gt; dict | None\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol (e.g., \"AAPL\", \"MSFT\") - <code>quarter</code> (str): Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") - <code>fiscal_year</code> (int): Fiscal year (e.g., 2025)</p> <p>Returns: - dict | None: Transcript data or None if not found   - <code>transcript_text</code> (str): Full transcript   - <code>source</code> (str): \"company_ir\"   - <code>source_url</code> (str): Original URL   - <code>metadata</code> (dict): Additional info</p> <p>Example: <pre><code>from maverick_india.concall.providers.company_ir_provider import CompanyIRProvider\n\nprovider = CompanyIRProvider()\ntranscript = provider.fetch_transcript(\"AAPL\", \"Q4\", 2024)\n\nif transcript:\n    print(f\"Fetched from: {transcript['source_url']}\")\n    print(f\"Length: {len(transcript['transcript_text'])} chars\")\n</code></pre></p>"},{"location":"api-reference/concall/providers/#get_ir_url","title":"get_ir_url()","text":"<p>Get company IR website URL.</p> <p>Signature: <pre><code>def get_ir_url(self, ticker: str) -&gt; str | None\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol</p> <p>Returns: - str | None: IR website URL or None if not found</p> <p>Example: <pre><code>ir_url = provider.get_ir_url(\"AAPL\")\nprint(ir_url)  # https://investor.apple.com/\n</code></pre></p>"},{"location":"api-reference/concall/providers/#module-maverick_mcpconcallprovidersnse_provider","title":"Module: maverick_mcp.concall.providers.nse_provider","text":""},{"location":"api-reference/concall/providers/#nseprovider","title":"NSEProvider","text":"<p>Fetch transcripts from NSE (National Stock Exchange of India).</p> <p>Class: <code>NSEProvider</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/providers/#fetch_transcript_1","title":"fetch_transcript()","text":"<p>Fetch transcript from NSE filings.</p> <p>Signature: <pre><code>def fetch_transcript(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int\n) -&gt; dict | None\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol with .NS suffix (e.g., \"RELIANCE.NS\") - <code>quarter</code> (str): Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") - <code>fiscal_year</code> (int): Fiscal year</p> <p>Returns: - dict | None: Transcript data or None if not found</p> <p>Data Source: NSE corporate announcements and filings</p> <p>Example: <pre><code>from maverick_india.concall.providers.nse_provider import NSEProvider\n\nprovider = NSEProvider()\ntranscript = provider.fetch_transcript(\"RELIANCE.NS\", \"Q1\", 2025)\n\nif transcript:\n    print(f\"Source: NSE Exchange Filing\")\n    print(transcript['transcript_text'][:500])\n</code></pre></p>"},{"location":"api-reference/concall/providers/#search_filings","title":"search_filings()","text":"<p>Search NSE filings for transcripts.</p> <p>Signature: <pre><code>def search_filings(\n    self,\n    ticker: str,\n    start_date: str,\n    end_date: str\n) -&gt; list[dict]\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol with .NS suffix - <code>start_date</code> (str): Start date (YYYY-MM-DD) - <code>end_date</code> (str): End date (YYYY-MM-DD)</p> <p>Returns: - list[dict]: List of filing metadata</p>"},{"location":"api-reference/concall/providers/#module-maverick_mcpconcallprovidersscreener_provider","title":"Module: maverick_mcp.concall.providers.screener_provider","text":""},{"location":"api-reference/concall/providers/#screenerprovider","title":"ScreenerProvider","text":"<p>Fetch transcripts from Screener.in (future implementation).</p> <p>Class: <code>ScreenerProvider</code></p> <p>Status: Coming soon - planned for Phase 5</p> <p>Planned Features: - Access to Screener.in Indian stock transcripts - Historical transcript archive - Simplified access for Indian stocks</p>"},{"location":"api-reference/concall/providers/#cascading-provider-system","title":"Cascading Provider System","text":""},{"location":"api-reference/concall/providers/#transcriptfetcher","title":"TranscriptFetcher","text":"<p>Multi-provider orchestration with automatic fallback.</p> <p>Class: <code>TranscriptFetcher</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/providers/#fetch_transcript_2","title":"fetch_transcript()","text":"<p>Fetch transcript with cascading fallback.</p> <p>Signature: <pre><code>def fetch_transcript(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int\n) -&gt; dict | None\n</code></pre></p> <p>Fallback Order: 1. Company IR Website (primary) - Direct from source 2. NSE Exchange Filings (fallback) - For Indian stocks 3. Screener.in (future) - Alternative for Indian stocks 4. Database Cache (always checked first) - 7-day TTL</p> <p>Example: <pre><code>from maverick_india.concall.providers import TranscriptFetcher\n\nfetcher = TranscriptFetcher()\n\n# Automatically tries all providers\ntranscript = fetcher.fetch_transcript(\"RELIANCE.NS\", \"Q1\", 2025)\n\nif transcript:\n    print(f\"Fetched from: {transcript['source']}\")\nelse:\n    print(\"Transcript not found in any source\")\n</code></pre></p>"},{"location":"api-reference/concall/providers/#provider-selection-logic","title":"Provider Selection Logic","text":""},{"location":"api-reference/concall/providers/#us-stocks","title":"US Stocks","text":"<p>For US stocks (no suffix): 1. Try Company IR website 2. Return None if not found</p> <p>Example: \"AAPL\" \u2192 Company IR only</p>"},{"location":"api-reference/concall/providers/#indian-nse-stocks","title":"Indian NSE Stocks","text":"<p>For .NS suffix stocks: 1. Try Company IR website 2. Fallback to NSE exchange filings 3. Fallback to Screener.in (future)</p> <p>Example: \"RELIANCE.NS\" \u2192 Company IR \u2192 NSE \u2192 Screener</p>"},{"location":"api-reference/concall/providers/#indian-bse-stocks","title":"Indian BSE Stocks","text":"<p>For .BO suffix stocks: 1. Try Company IR website 2. Return None if not found (BSE filing support future)</p> <p>Example: \"TCS.BO\" \u2192 Company IR only</p>"},{"location":"api-reference/concall/providers/#error-handling","title":"Error Handling","text":""},{"location":"api-reference/concall/providers/#provider-errors","title":"Provider Errors","text":"<pre><code>from maverick_india.concall.providers import TranscriptFetcher, ProviderError\n\nfetcher = TranscriptFetcher()\n\ntry:\n    transcript = fetcher.fetch_transcript(\"AAPL\", \"Q4\", 2024)\nexcept ProviderError as e:\n    print(f\"Provider error: {e}\")\nexcept ValueError as e:\n    print(f\"Invalid input: {e}\")\n</code></pre>"},{"location":"api-reference/concall/providers/#common-errors","title":"Common Errors","text":"<ul> <li>ProviderError: Provider-specific failure</li> <li>ValueError: Invalid ticker, quarter, or year</li> <li>TimeoutError: Request timeout (30s default)</li> <li>ConnectionError: Network issues</li> </ul>"},{"location":"api-reference/concall/providers/#performance-optimization","title":"Performance Optimization","text":""},{"location":"api-reference/concall/providers/#caching","title":"Caching","text":"<p>All providers automatically cache results: - Cache Duration: 7 days - Cache Key: <code>transcript:{ticker}:{quarter}:{year}</code> - Cache Tiers: Redis (L1) \u2192 Database (L2) \u2192 API (L3)</p>"},{"location":"api-reference/concall/providers/#retry-logic","title":"Retry Logic","text":"<ul> <li>Max Retries: 3 attempts per provider</li> <li>Backoff: Exponential (1s, 2s, 4s)</li> <li>Timeout: 30s per request</li> </ul>"},{"location":"api-reference/concall/providers/#rate-limiting","title":"Rate Limiting","text":"<ul> <li>NSE Provider: 10 requests/minute</li> <li>Company IR: No specific limit (be respectful)</li> </ul>"},{"location":"api-reference/concall/providers/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/concall/providers/#error-recovery","title":"Error Recovery","text":"<pre><code>fetcher = TranscriptFetcher()\n\n# Try with error handling\nfor attempt in range(3):\n    try:\n        transcript = fetcher.fetch_transcript(ticker, quarter, year)\n        break\n    except ProviderError:\n        if attempt == 2:\n            raise\n        time.sleep(2 ** attempt)\n</code></pre>"},{"location":"api-reference/concall/providers/#batch-fetching","title":"Batch Fetching","text":"<pre><code>from concurrent.futures import ThreadPoolExecutor\n\ncalls = [\n    (\"AAPL\", \"Q1\", 2025),\n    (\"MSFT\", \"Q1\", 2025),\n    (\"GOOGL\", \"Q1\", 2025)\n]\n\nwith ThreadPoolExecutor(max_workers=3) as executor:\n    results = list(executor.map(\n        lambda x: fetcher.fetch_transcript(*x),\n        calls\n    ))\n</code></pre>"},{"location":"api-reference/concall/providers/#cache-warming","title":"Cache Warming","text":"<pre><code># Pre-fetch and cache important transcripts\nimportant_stocks = [\"AAPL\", \"MSFT\", \"GOOGL\"]\nquarters = [\"Q1\", \"Q2\", \"Q3\", \"Q4\"]\n\nfor ticker in important_stocks:\n    for quarter in quarters:\n        fetcher.fetch_transcript(ticker, quarter, 2024)\n</code></pre>"},{"location":"api-reference/concall/services/","title":"Conference Call Services","text":"<p>Business logic and AI services for conference call analysis.</p>"},{"location":"api-reference/concall/services/#module-maverick_mcpconcallservicestranscript_service","title":"Module: maverick_mcp.concall.services.transcript_service","text":""},{"location":"api-reference/concall/services/#transcriptservice","title":"TranscriptService","text":"<p>Core service for transcript management.</p> <p>Class: <code>TranscriptService</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/services/#get_transcript","title":"get_transcript()","text":"<p>Get or fetch transcript.</p> <p>Signature: <pre><code>def get_transcript(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    force_refresh: bool = False\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") - <code>fiscal_year</code> (int): Fiscal year - <code>force_refresh</code> (bool, optional): Bypass cache. Default: False</p> <p>Returns: - dict: Transcript data with metadata</p> <p>Cache Behavior: - Checks database first (7-day TTL) - Falls back to providers if not cached - Stores result in database and Redis</p> <p>Example: <pre><code>from maverick_india.concall.services.transcript_service import TranscriptService\n\nservice = TranscriptService()\n\n# Get cached or fetch\ntranscript = service.get_transcript(\"AAPL\", \"Q4\", 2024)\nprint(transcript['transcript_text'][:500])\n\n# Force refresh\ntranscript = service.get_transcript(\"AAPL\", \"Q4\", 2024, force_refresh=True)\n</code></pre></p>"},{"location":"api-reference/concall/services/#save_transcript","title":"save_transcript()","text":"<p>Save transcript to database.</p> <p>Signature: <pre><code>def save_transcript(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    transcript_text: str,\n    source: str,\n    source_url: str,\n    metadata: dict | None = None\n) -&gt; int\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter - <code>fiscal_year</code> (int): Year - <code>transcript_text</code> (str): Full transcript - <code>source</code> (str): Source identifier - <code>source_url</code> (str): Original URL - <code>metadata</code> (dict, optional): Additional data</p> <p>Returns: - int: Transcript ID</p>"},{"location":"api-reference/concall/services/#module-maverick_mcpconcallservicessummarization_service","title":"Module: maverick_mcp.concall.services.summarization_service","text":""},{"location":"api-reference/concall/services/#summarizationservice","title":"SummarizationService","text":"<p>AI-powered transcript summarization.</p> <p>Class: <code>SummarizationService</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/services/#summarize","title":"summarize()","text":"<p>Generate AI summary of transcript.</p> <p>Signature: <pre><code>def summarize(\n    self,\n    transcript_id: int,\n    mode: str = \"standard\",\n    force_regenerate: bool = False\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>transcript_id</code> (int): Transcript database ID - <code>mode</code> (str, optional): Detail level (\"concise\", \"standard\", \"detailed\"). Default: \"standard\" - <code>force_regenerate</code> (bool, optional): Regenerate if exists. Default: False</p> <p>Returns: - dict: Summary with structure:   - <code>executive_summary</code> (str): High-level overview   - <code>key_metrics</code> (dict): Important financial metrics   - <code>revenue_analysis</code> (str): Revenue discussion   - <code>guidance</code> (str): Management guidance   - <code>risks</code> (list): Risk factors   - <code>growth_drivers</code> (list): Growth initiatives   - <code>model_used</code> (str): AI model name</p> <p>Detail Levels:</p>"},{"location":"api-reference/concall/services/#concise-mode","title":"Concise Mode","text":"<ul> <li>Length: 2-3 paragraphs (~200-300 words)</li> <li>Read Time: ~30 seconds</li> <li>Use Case: Quick overview before meeting</li> <li>Content: Key highlights, major metrics, overall tone</li> </ul>"},{"location":"api-reference/concall/services/#standard-mode-default","title":"Standard Mode (Default)","text":"<ul> <li>Length: 1-2 pages (~500-800 words)</li> <li>Read Time: 2-3 minutes</li> <li>Use Case: General analysis and research</li> <li>Content: Executive summary, financial performance, key initiatives, risks</li> </ul>"},{"location":"api-reference/concall/services/#detailed-mode","title":"Detailed Mode","text":"<ul> <li>Length: 3-5 pages (~1500-2500 words)</li> <li>Read Time: 5-10 minutes</li> <li>Use Case: Deep analysis and investment decisions</li> <li>Content: Comprehensive analysis, segment details, management quotes, detailed metrics</li> </ul> <p>Example: <pre><code>from maverick_india.concall.services.summarization_service import SummarizationService\n\nservice = SummarizationService()\n\n# Standard summary\nsummary = service.summarize(transcript_id=123, mode=\"standard\")\nprint(summary['executive_summary'])\nprint(f\"Key Metrics: {summary['key_metrics']}\")\n\n# Detailed analysis\ndetailed = service.summarize(transcript_id=123, mode=\"detailed\")\nprint(detailed['revenue_analysis'])\n</code></pre></p>"},{"location":"api-reference/concall/services/#get_cached_summary","title":"get_cached_summary()","text":"<p>Retrieve cached summary if available.</p> <p>Signature: <pre><code>def get_cached_summary(\n    self,\n    transcript_id: int,\n    mode: str = \"standard\"\n) -&gt; dict | None\n</code></pre></p> <p>Returns: - dict | None: Cached summary or None</p>"},{"location":"api-reference/concall/services/#module-maverick_mcpconcallservicessentiment_service","title":"Module: maverick_mcp.concall.services.sentiment_service","text":""},{"location":"api-reference/concall/services/#sentimentservice","title":"SentimentService","text":"<p>AI-powered sentiment analysis.</p> <p>Class: <code>SentimentService</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/services/#analyze_sentiment","title":"analyze_sentiment()","text":"<p>Analyze sentiment of conference call.</p> <p>Signature: <pre><code>def analyze_sentiment(\n    self,\n    transcript_id: int,\n    force_regenerate: bool = False\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>transcript_id</code> (int): Transcript database ID - <code>force_regenerate</code> (bool, optional): Regenerate if exists. Default: False</p> <p>Returns: - dict: Sentiment analysis with:   - <code>overall_sentiment</code> (float): Score 1-5   - <code>management_tone</code> (str): Tone assessment   - <code>outlook_sentiment</code> (float): Forward-looking score   - <code>risk_sentiment</code> (float): Risk discussion score   - <code>confidence_score</code> (float): Analysis confidence 0-1   - <code>key_phrases</code> (list): Important phrases with sentiment   - <code>model_used</code> (str): AI model name</p> <p>Sentiment Dimensions:</p>"},{"location":"api-reference/concall/services/#overall-sentiment-1-5","title":"Overall Sentiment (1-5)","text":"<ul> <li>5.0: Very Bullish - Extremely positive, strong confidence</li> <li>4.0: Bullish - Generally positive, optimistic outlook</li> <li>3.0: Neutral - Balanced, no clear direction</li> <li>2.0: Bearish - Cautious, concerns raised</li> <li>1.0: Very Bearish - Significantly negative, defensive</li> </ul>"},{"location":"api-reference/concall/services/#management-tone","title":"Management Tone","text":"<ul> <li>Confident: Strong, assertive, optimistic</li> <li>Cautious: Measured, careful, hedging</li> <li>Defensive: Explaining issues, justifying decisions</li> <li>Mixed: Varying tones throughout</li> </ul>"},{"location":"api-reference/concall/services/#outlook-sentiment","title":"Outlook Sentiment","text":"<p>Future-focused sentiment: - Growth expectations - Guidance confidence - Market opportunity optimism</p>"},{"location":"api-reference/concall/services/#risk-sentiment","title":"Risk Sentiment","text":"<p>How risks are discussed: - High (5): Risks mentioned but manageable - Low (1): Significant concerns, uncertainty</p> <p>Example: <pre><code>from maverick_india.concall.services.sentiment_service import SentimentService\n\nservice = SentimentService()\n\nsentiment = service.analyze_sentiment(transcript_id=123)\n\nprint(f\"Overall: {sentiment['overall_sentiment']}/5\")\nprint(f\"Management Tone: {sentiment['management_tone']}\")\nprint(f\"Outlook: {sentiment['outlook_sentiment']}/5\")\nprint(f\"Confidence: {sentiment['confidence_score']}\")\n\n# Interpret overall sentiment\nif sentiment['overall_sentiment'] &gt;= 4.0:\n    print(\"Strong bullish sentiment\")\nelif sentiment['overall_sentiment'] &gt;= 3.5:\n    print(\"Moderately bullish\")\nelif sentiment['overall_sentiment'] &gt;= 2.5:\n    print(\"Neutral to slightly bearish\")\nelse:\n    print(\"Bearish sentiment\")\n</code></pre></p>"},{"location":"api-reference/concall/services/#module-maverick_mcpconcallservicesrag_service","title":"Module: maverick_mcp.concall.services.rag_service","text":""},{"location":"api-reference/concall/services/#ragservice","title":"RAGService","text":"<p>Retrieval-Augmented Generation for transcript Q&amp;A.</p> <p>Class: <code>RAGService</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/services/#setup_rag","title":"setup_rag()","text":"<p>Create vector embeddings for transcript.</p> <p>Signature: <pre><code>def setup_rag(\n    self,\n    transcript_id: int,\n    force_rebuild: bool = False\n) -&gt; int\n</code></pre></p> <p>Parameters: - <code>transcript_id</code> (int): Transcript database ID - <code>force_rebuild</code> (bool, optional): Rebuild if exists. Default: False</p> <p>Returns: - int: Number of chunks created</p> <p>Process: 1. Split transcript into ~500-1000 token chunks 2. Generate embeddings using OpenAI text-embedding-3-small 3. Store chunks and embeddings in database 4. Index for fast retrieval</p> <p>Example: <pre><code>from maverick_india.concall.services.rag_service import RAGService\n\nservice = RAGService()\n\n# Setup RAG for transcript\nnum_chunks = service.setup_rag(transcript_id=123)\nprint(f\"Created {num_chunks} chunks\")\n</code></pre></p>"},{"location":"api-reference/concall/services/#query","title":"query()","text":"<p>Ask questions about transcript.</p> <p>Signature: <pre><code>def query(\n    self,\n    transcript_id: int,\n    question: str,\n    top_k: int = 5\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>transcript_id</code> (int): Transcript database ID - <code>question</code> (str): User question - <code>top_k</code> (int, optional): Number of relevant chunks to retrieve. Default: 5</p> <p>Returns: - dict: Answer with:   - <code>answer</code> (str): AI-generated answer   - <code>sources</code> (list): Relevant transcript excerpts with citations   - <code>confidence</code> (float): Answer confidence 0-1</p> <p>Example: <pre><code># Query transcript\nresult = service.query(\n    transcript_id=123,\n    question=\"What did management say about AI initiatives?\"\n)\n\nprint(result['answer'])\nprint(f\"Confidence: {result['confidence']}\")\n\n# Show sources\nfor i, source in enumerate(result['sources'], 1):\n    print(f\"\\nSource {i}:\")\n    print(source['text'])\n</code></pre></p>"},{"location":"api-reference/concall/services/#module-maverick_mcpconcallservicescomparison_service","title":"Module: maverick_mcp.concall.services.comparison_service","text":""},{"location":"api-reference/concall/services/#comparisonservice","title":"ComparisonService","text":"<p>Compare sentiment across multiple quarters.</p> <p>Class: <code>ComparisonService</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/services/#compare_quarters","title":"compare_quarters()","text":"<p>Compare sentiment trends over time.</p> <p>Signature: <pre><code>def compare_quarters(\n    self,\n    ticker: str,\n    quarters: list[tuple[str, int]]\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarters</code> (list[tuple]): List of (quarter, year) tuples</p> <p>Returns: - dict: Comparison with:   - <code>sentiment_trends</code> (list): Sentiment progression   - <code>key_changes</code> (list): Major shifts between quarters   - <code>progression</code> (str): Overall trend (improving/declining/stable)</p> <p>Example: <pre><code>from maverick_india.concall.services.comparison_service import ComparisonService\n\nservice = ComparisonService()\n\n# Compare 3 quarters\ncomparison = service.compare_quarters(\n    ticker=\"AAPL\",\n    quarters=[(\"Q2\", 2024), (\"Q3\", 2024), (\"Q4\", 2024)]\n)\n\nprint(f\"Trend: {comparison['progression']}\")\n\nfor change in comparison['key_changes']:\n    print(f\"- {change}\")\n</code></pre></p>"},{"location":"api-reference/concall/services/#cost-performance","title":"Cost &amp; Performance","text":""},{"location":"api-reference/concall/services/#api-costs","title":"API Costs","text":"<p>Summarization: - Concise: $0.005-0.01 per transcript - Standard: $0.01-0.03 per transcript - Detailed: $0.03-0.05 per transcript</p> <p>Sentiment Analysis: $0.005-0.01 per transcript</p> <p>RAG Setup: $0.0001 per transcript (one-time)</p> <p>RAG Queries: $0.001-0.01 per query</p>"},{"location":"api-reference/concall/services/#performance","title":"Performance","text":"<p>Transcript Fetch: 2-10 seconds (cached: &lt;100ms)</p> <p>Summarization: - Concise: 10-20 seconds - Standard: 30-60 seconds - Detailed: 60-120 seconds</p> <p>Sentiment Analysis: 10-20 seconds</p> <p>RAG Setup: 20-40 seconds (one-time per transcript)</p> <p>RAG Queries: 3-5 seconds</p>"},{"location":"api-reference/concall/services/#caching","title":"Caching","text":"<p>All services use multi-tier caching: - L1 (Redis): &lt; 1ms - L2 (Database): &lt; 100ms - L3 (AI Generation): Seconds to minutes</p> <p>Cache duration: 7 days for all conference call data</p>"},{"location":"api-reference/concall/services/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/concall/services/#service-initialization","title":"Service Initialization","text":"<pre><code># Initialize services once, reuse\ntranscript_service = TranscriptService()\nsummarization_service = SummarizationService()\nsentiment_service = SentimentService()\nrag_service = RAGService()\n</code></pre>"},{"location":"api-reference/concall/services/#error-handling","title":"Error Handling","text":"<pre><code>try:\n    summary = summarization_service.summarize(transcript_id)\nexcept ValueError as e:\n    print(f\"Invalid input: {e}\")\nexcept AIError as e:\n    print(f\"AI service error: {e}\")\n</code></pre>"},{"location":"api-reference/concall/services/#batch-processing","title":"Batch Processing","text":"<pre><code># Process multiple transcripts\ntranscript_ids = [101, 102, 103]\n\nfor tid in transcript_ids:\n    summary = summarization_service.summarize(tid)\n    sentiment = sentiment_service.analyze_sentiment(tid)\n    rag_service.setup_rag(tid)\n</code></pre>"},{"location":"api-reference/concall/services/#use-appropriate-detail-level","title":"Use Appropriate Detail Level","text":"<pre><code># Quick check - use concise\nsummary = service.summarize(tid, mode=\"concise\")\n\n# Investment decision - use detailed\nsummary = service.summarize(tid, mode=\"detailed\")\n\n# General research - use standard\nsummary = service.summarize(tid, mode=\"standard\")\n</code></pre>"},{"location":"api-reference/concall/utils/","title":"Conference Call Utilities","text":"<p>Utility functions for conference call processing.</p>"},{"location":"api-reference/concall/utils/#module-maverick_mcpconcallutilstext_processing","title":"Module: maverick_mcp.concall.utils.text_processing","text":""},{"location":"api-reference/concall/utils/#chunk_text","title":"chunk_text()","text":"<p>Split text into manageable chunks for processing.</p> <p>Signature: <pre><code>def chunk_text(\n    text: str,\n    chunk_size: int = 1000,\n    overlap: int = 200\n) -&gt; list[str]\n</code></pre></p> <p>Parameters: - <code>text</code> (str): Text to split - <code>chunk_size</code> (int, optional): Target chunk size in tokens. Default: 1000 - <code>overlap</code> (int, optional): Overlap between chunks. Default: 200</p> <p>Returns: - list[str]: Text chunks</p> <p>Purpose:  - Maintains context between chunks with overlap - Ensures chunks fit within AI model token limits - Preserves sentence boundaries</p> <p>Example: <pre><code>from maverick_india.concall.utils.text_processing import chunk_text\n\ntranscript = \"Very long transcript text...\"\nchunks = chunk_text(transcript, chunk_size=800, overlap=150)\n\nprint(f\"Created {len(chunks)} chunks\")\nfor i, chunk in enumerate(chunks):\n    print(f\"Chunk {i}: {len(chunk)} characters\")\n</code></pre></p>"},{"location":"api-reference/concall/utils/#extract_speakers","title":"extract_speakers()","text":"<p>Extract speaker names from transcript.</p> <p>Signature: <pre><code>def extract_speakers(text: str) -&gt; list[str]\n</code></pre></p> <p>Parameters: - <code>text</code> (str): Transcript text</p> <p>Returns: - list[str]: Unique speaker names</p> <p>Example: <pre><code>from maverick_india.concall.utils.text_processing import extract_speakers\n\nspeakers = extract_speakers(transcript_text)\nprint(f\"Speakers: {', '.join(speakers)}\")\n# Output: \"Speakers: Tim Cook, Luca Maestri, Analyst 1\"\n</code></pre></p>"},{"location":"api-reference/concall/utils/#clean_transcript","title":"clean_transcript()","text":"<p>Clean and normalize transcript text.</p> <p>Signature: <pre><code>def clean_transcript(text: str) -&gt; str\n</code></pre></p> <p>Parameters: - <code>text</code> (str): Raw transcript text</p> <p>Returns: - str: Cleaned transcript</p> <p>Cleaning Steps: - Remove HTML tags and entities - Normalize whitespace - Fix common OCR errors - Remove timestamps and metadata - Standardize speaker labels</p> <p>Example: <pre><code>from maverick_india.concall.utils.text_processing import clean_transcript\n\nraw_text = \"&lt;p&gt;Tim Cook:&amp;nbsp;&amp;nbsp;Good morning...&lt;/p&gt;\"\ncleaned = clean_transcript(raw_text)\nprint(cleaned)\n# Output: \"Tim Cook: Good morning...\"\n</code></pre></p>"},{"location":"api-reference/concall/utils/#module-maverick_mcpconcallutilsvalidation","title":"Module: maverick_mcp.concall.utils.validation","text":""},{"location":"api-reference/concall/utils/#validate_quarter","title":"validate_quarter()","text":"<p>Validate quarter string.</p> <p>Signature: <pre><code>def validate_quarter(quarter: str) -&gt; str\n</code></pre></p> <p>Parameters: - <code>quarter</code> (str): Quarter string (e.g., \"Q1\", \"q2\", \"1\")</p> <p>Returns: - str: Normalized quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\")</p> <p>Raises: - ValueError: Invalid quarter</p> <p>Accepted Formats: - \"Q1\", \"Q2\", \"Q3\", \"Q4\" (case insensitive) - \"1\", \"2\", \"3\", \"4\" - \"FY Q1\", \"FY Q2\", etc.</p> <p>Example: <pre><code>from maverick_india.concall.utils.validation import validate_quarter\n\nquarter = validate_quarter(\"q1\")  # Returns \"Q1\"\nquarter = validate_quarter(\"2\")   # Returns \"Q2\"\nquarter = validate_quarter(\"Q3\")  # Returns \"Q3\"\n</code></pre></p>"},{"location":"api-reference/concall/utils/#validate_fiscal_year","title":"validate_fiscal_year()","text":"<p>Validate fiscal year.</p> <p>Signature: <pre><code>def validate_fiscal_year(year: int) -&gt; int\n</code></pre></p> <p>Parameters: - <code>year</code> (int): Fiscal year</p> <p>Returns: - int: Validated year</p> <p>Raises: - ValueError: Invalid year (before 2000 or in future)</p> <p>Example: <pre><code>from maverick_india.concall.utils.validation import validate_fiscal_year\n\nyear = validate_fiscal_year(2024)  # OK\nyear = validate_fiscal_year(1999)  # Raises ValueError\nyear = validate_fiscal_year(2030)  # Raises ValueError (future)\n</code></pre></p>"},{"location":"api-reference/concall/utils/#validate_ticker_for_concall","title":"validate_ticker_for_concall()","text":"<p>Validate ticker for conference call access.</p> <p>Signature: <pre><code>def validate_ticker_for_concall(ticker: str) -&gt; str\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol</p> <p>Returns: - str: Validated and normalized ticker</p> <p>Raises: - ValueError: Invalid ticker format</p> <p>Supported Formats: - US stocks: \"AAPL\", \"MSFT\", \"GOOGL\" - Indian NSE: \"RELIANCE.NS\", \"TCS.NS\" - Indian BSE: \"INFY.BO\", \"WIPRO.BO\"</p>"},{"location":"api-reference/concall/utils/#module-maverick_mcpconcallutilsdate_helpers","title":"Module: maverick_mcp.concall.utils.date_helpers","text":""},{"location":"api-reference/concall/utils/#get_quarter_dates","title":"get_quarter_dates()","text":"<p>Get start and end dates for a quarter.</p> <p>Signature: <pre><code>def get_quarter_dates(\n    quarter: str,\n    fiscal_year: int\n) -&gt; tuple[date, date]\n</code></pre></p> <p>Parameters: - <code>quarter</code> (str): Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") - <code>fiscal_year</code> (int): Fiscal year</p> <p>Returns: - tuple[date, date]: (start_date, end_date)</p> <p>Example: <pre><code>from maverick_india.concall.utils.date_helpers import get_quarter_dates\n\nstart, end = get_quarter_dates(\"Q1\", 2024)\nprint(f\"Q1 2024: {start} to {end}\")\n# Output: \"Q1 2024: 2024-01-01 to 2024-03-31\"\n</code></pre></p>"},{"location":"api-reference/concall/utils/#get_previous_quarter","title":"get_previous_quarter()","text":"<p>Get previous quarter.</p> <p>Signature: <pre><code>def get_previous_quarter(\n    quarter: str,\n    fiscal_year: int\n) -&gt; tuple[str, int]\n</code></pre></p> <p>Parameters: - <code>quarter</code> (str): Current quarter - <code>fiscal_year</code> (int): Current fiscal year</p> <p>Returns: - tuple[str, int]: (previous_quarter, year)</p> <p>Example: <pre><code>from maverick_india.concall.utils.date_helpers import get_previous_quarter\n\nprev_q, prev_y = get_previous_quarter(\"Q1\", 2024)\nprint(f\"Previous: {prev_q} {prev_y}\")\n# Output: \"Previous: Q4 2023\"\n\nprev_q, prev_y = get_previous_quarter(\"Q2\", 2024)\n# Output: Q1 2024\n</code></pre></p>"},{"location":"api-reference/concall/utils/#estimate_earnings_date","title":"estimate_earnings_date()","text":"<p>Estimate earnings call date for a quarter.</p> <p>Signature: <pre><code>def estimate_earnings_date(\n    quarter: str,\n    fiscal_year: int\n) -&gt; date\n</code></pre></p> <p>Parameters: - <code>quarter</code> (str): Quarter - <code>fiscal_year</code> (int): Fiscal year</p> <p>Returns: - date: Estimated earnings date</p> <p>Logic: Typically 2-4 weeks after quarter end</p>"},{"location":"api-reference/concall/utils/#module-maverick_mcpconcallutilscaching","title":"Module: maverick_mcp.concall.utils.caching","text":""},{"location":"api-reference/concall/utils/#get_concall_cache_key","title":"get_concall_cache_key()","text":"<p>Generate cache key for conference call data.</p> <p>Signature: <pre><code>def get_concall_cache_key(\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    data_type: str\n) -&gt; str\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter - <code>fiscal_year</code> (int): Year - <code>data_type</code> (str): Type (\"transcript\", \"summary\", \"sentiment\", \"rag\")</p> <p>Returns: - str: Cache key</p> <p>Example: <pre><code>from maverick_india.concall.utils.caching import get_concall_cache_key\n\n# Transcript cache key\nkey = get_concall_cache_key(\"AAPL\", \"Q4\", 2024, \"transcript\")\nprint(key)  # \"concall:transcript:AAPL:Q4:2024\"\n\n# Summary cache key\nkey = get_concall_cache_key(\"AAPL\", \"Q4\", 2024, \"summary\")\nprint(key)  # \"concall:summary:AAPL:Q4:2024\"\n</code></pre></p>"},{"location":"api-reference/concall/utils/#cache_concall_data","title":"cache_concall_data()","text":"<p>Cache conference call data.</p> <p>Signature: <pre><code>def cache_concall_data(\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    data_type: str,\n    data: Any\n) -&gt; bool\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter - <code>fiscal_year</code> (int): Year - <code>data_type</code> (str): Type - <code>data</code> (Any): Data to cache</p> <p>Returns: - bool: True if cached successfully</p> <p>TTL: 7 days for all conference call data</p>"},{"location":"api-reference/concall/utils/#get_cached_concall_data","title":"get_cached_concall_data()","text":"<p>Retrieve cached conference call data.</p> <p>Signature: <pre><code>def get_cached_concall_data(\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    data_type: str\n) -&gt; Any | None\n</code></pre></p> <p>Returns: - Any | None: Cached data or None</p>"},{"location":"api-reference/concall/utils/#module-maverick_mcpconcallutilsmetrics","title":"Module: maverick_mcp.concall.utils.metrics","text":""},{"location":"api-reference/concall/utils/#calculate_sentiment_change","title":"calculate_sentiment_change()","text":"<p>Calculate sentiment change between quarters.</p> <p>Signature: <pre><code>def calculate_sentiment_change(\n    current_sentiment: float,\n    previous_sentiment: float\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>current_sentiment</code> (float): Current quarter sentiment (1-5) - <code>previous_sentiment</code> (float): Previous quarter sentiment (1-5)</p> <p>Returns: - dict: Contains:   - <code>change</code> (float): Absolute change   - <code>change_percent</code> (float): Percentage change   - <code>direction</code> (str): \"improving\", \"declining\", or \"stable\"</p> <p>Example: <pre><code>from maverick_india.concall.utils.metrics import calculate_sentiment_change\n\nchange = calculate_sentiment_change(4.2, 3.8)\nprint(f\"Change: {change['change']}\")  # 0.4\nprint(f\"Direction: {change['direction']}\")  # \"improving\"\n</code></pre></p>"},{"location":"api-reference/concall/utils/#aggregate_sentiment_trend","title":"aggregate_sentiment_trend()","text":"<p>Calculate trend across multiple quarters.</p> <p>Signature: <pre><code>def aggregate_sentiment_trend(\n    sentiments: list[float]\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>sentiments</code> (list[float]): List of sentiment scores in chronological order</p> <p>Returns: - dict: Contains:   - <code>average</code> (float): Average sentiment   - <code>trend</code> (str): \"improving\", \"declining\", or \"stable\"   - <code>volatility</code> (float): Sentiment volatility</p>"},{"location":"api-reference/concall/utils/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/concall/utils/#text-processing","title":"Text Processing","text":"<pre><code>from maverick_india.concall.utils.text_processing import clean_transcript, chunk_text\n\n# Always clean before processing\nraw_text = fetch_transcript(...)\ncleaned = clean_transcript(raw_text)\n\n# Use appropriate chunk size for your model\nchunks = chunk_text(cleaned, chunk_size=1000)\n</code></pre>"},{"location":"api-reference/concall/utils/#validation","title":"Validation","text":"<pre><code>from maverick_india.concall.utils.validation import (\n    validate_quarter,\n    validate_fiscal_year,\n    validate_ticker_for_concall\n)\n\n# Validate all inputs\ntry:\n    ticker = validate_ticker_for_concall(user_ticker)\n    quarter = validate_quarter(user_quarter)\n    year = validate_fiscal_year(user_year)\nexcept ValueError as e:\n    return {\"error\": str(e)}\n</code></pre>"},{"location":"api-reference/concall/utils/#caching","title":"Caching","text":"<pre><code>from maverick_india.concall.utils.caching import (\n    get_cached_concall_data,\n    cache_concall_data\n)\n\n# Always check cache first\ncached = get_cached_concall_data(ticker, quarter, year, \"summary\")\nif cached:\n    return cached\n\n# Generate and cache\nsummary = generate_summary(...)\ncache_concall_data(ticker, quarter, year, \"summary\", summary)\n</code></pre>"},{"location":"api-reference/concall/utils/#date-helpers","title":"Date Helpers","text":"<pre><code>from maverick_india.concall.utils.date_helpers import (\n    get_quarter_dates,\n    get_previous_quarter\n)\n\n# Get quarter date range\nstart, end = get_quarter_dates(\"Q1\", 2024)\n\n# Compare with previous quarter\nprev_q, prev_y = get_previous_quarter(\"Q1\", 2024)\n</code></pre>"},{"location":"api-reference/concall/utils/#metrics","title":"Metrics","text":"<pre><code>from maverick_india.concall.utils.metrics import (\n    calculate_sentiment_change,\n    aggregate_sentiment_trend\n)\n\n# Track sentiment changes\nchange = calculate_sentiment_change(current, previous)\nif change['direction'] == \"declining\":\n    print(\"\u26a0\ufe0f Sentiment deteriorating\")\n\n# Analyze long-term trend\ntrend = aggregate_sentiment_trend([3.5, 3.7, 4.0, 4.2])\nprint(f\"Trend: {trend['trend']}\")  # \"improving\"\n</code></pre>"},{"location":"api-reference/maverick-backtest/engine/","title":"maverick-backtest: Engine","text":"<p>VectorBT-powered backtesting engine for strategy evaluation.</p>"},{"location":"api-reference/maverick-backtest/engine/#vectorbtengine","title":"VectorBTEngine","text":"<p>Core backtesting engine with multiple strategy support.</p> <pre><code>from maverick_backtest import VectorBTEngine\n\nengine = VectorBTEngine()\n\n# Run a simple backtest\nresult = engine.run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    start_date=\"2023-01-01\",\n    end_date=\"2024-01-01\",\n    initial_capital=10000,\n    fast_period=10,\n    slow_period=20\n)\n\nprint(f\"Total Return: {result['total_return']:.2%}\")\nprint(f\"Sharpe Ratio: {result['sharpe_ratio']:.2f}\")\nprint(f\"Max Drawdown: {result['max_drawdown']:.2%}\")\n</code></pre>"},{"location":"api-reference/maverick-backtest/engine/#available-strategies","title":"Available Strategies","text":""},{"location":"api-reference/maverick-backtest/engine/#sma-crossover","title":"SMA Crossover","text":"<pre><code>result = engine.run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    fast_period=10,\n    slow_period=20\n)\n</code></pre>"},{"location":"api-reference/maverick-backtest/engine/#rsi","title":"RSI","text":"<pre><code>result = engine.run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"rsi\",\n    period=14,\n    oversold=30,\n    overbought=70\n)\n</code></pre>"},{"location":"api-reference/maverick-backtest/engine/#macd","title":"MACD","text":"<pre><code>result = engine.run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"macd\",\n    fast_period=12,\n    slow_period=26,\n    signal_period=9\n)\n</code></pre>"},{"location":"api-reference/maverick-backtest/engine/#bollinger-bands","title":"Bollinger Bands","text":"<pre><code>result = engine.run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"bollinger\",\n    period=20,\n    std_dev=2.0\n)\n</code></pre>"},{"location":"api-reference/maverick-backtest/engine/#momentum","title":"Momentum","text":"<pre><code>result = engine.run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"momentum\",\n    lookback=20,\n    threshold=0.02\n)\n</code></pre>"},{"location":"api-reference/maverick-backtest/engine/#result-structure","title":"Result Structure","text":"<pre><code>{\n    # Performance Metrics\n    \"total_return\": 0.25,           # 25% return\n    \"annual_return\": 0.22,          # 22% annualized\n    \"sharpe_ratio\": 1.5,            # Risk-adjusted return\n    \"sortino_ratio\": 2.1,           # Downside risk-adjusted\n    \"max_drawdown\": -0.15,          # Maximum drawdown\n    \"calmar_ratio\": 1.47,           # Return / Max Drawdown\n\n    # Trade Statistics\n    \"total_trades\": 24,\n    \"win_rate\": 0.625,              # 62.5% winners\n    \"profit_factor\": 1.8,           # Gross profit / Gross loss\n    \"avg_trade_return\": 0.01,       # Average return per trade\n    \"avg_win\": 0.025,               # Average winning trade\n    \"avg_loss\": -0.012,             # Average losing trade\n\n    # Time Analysis\n    \"start_date\": \"2023-01-01\",\n    \"end_date\": \"2024-01-01\",\n    \"trading_days\": 252,\n\n    # Equity Curve\n    \"equity_curve\": [...],          # Daily equity values\n    \"trades\": [...]                 # Individual trade details\n}\n</code></pre>"},{"location":"api-reference/maverick-backtest/engine/#portfolio-backtesting","title":"Portfolio Backtesting","text":"<p>Test strategies across multiple symbols:</p> <pre><code>result = engine.backtest_portfolio(\n    symbols=[\"AAPL\", \"GOOGL\", \"MSFT\", \"AMZN\"],\n    strategy=\"sma_cross\",\n    start_date=\"2023-01-01\",\n    end_date=\"2024-01-01\",\n    initial_capital=100000,\n    position_size=0.25  # 25% per position\n)\n\nprint(f\"Portfolio Return: {result['portfolio_return']:.2%}\")\nfor symbol, metrics in result['symbol_metrics'].items():\n    print(f\"  {symbol}: {metrics['return']:.2%}\")\n</code></pre>"},{"location":"api-reference/maverick-backtest/engine/#strategy-optimization","title":"Strategy Optimization","text":"<p>Find optimal parameters:</p> <pre><code>from maverick_backtest import StrategyOptimizer\n\noptimizer = StrategyOptimizer()\n\nresult = optimizer.optimize(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    start_date=\"2023-01-01\",\n    end_date=\"2024-01-01\",\n    optimization_metric=\"sharpe_ratio\",\n    optimization_level=\"medium\"  # coarse, medium, fine\n)\n\nprint(f\"Best Parameters: {result['best_params']}\")\nprint(f\"Best Sharpe: {result['best_metric']:.2f}\")\n</code></pre>"},{"location":"api-reference/maverick-backtest/engine/#walk-forward-analysis","title":"Walk-Forward Analysis","text":"<p>Test strategy robustness:</p> <pre><code>from maverick_backtest import WalkForwardAnalyzer\n\nanalyzer = WalkForwardAnalyzer()\n\nresult = analyzer.analyze(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    start_date=\"2020-01-01\",\n    end_date=\"2024-01-01\",\n    window_size=252,  # 1 year training\n    step_size=63      # Quarterly steps\n)\n\nprint(f\"Out-of-Sample Return: {result['oos_return']:.2%}\")\nprint(f\"Consistency: {result['consistency_score']:.2%}\")\n</code></pre>"},{"location":"api-reference/maverick-backtest/engine/#monte-carlo-simulation","title":"Monte Carlo Simulation","text":"<p>Assess strategy risk:</p> <pre><code>result = engine.monte_carlo_simulation(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    num_simulations=1000,\n    fast_period=10,\n    slow_period=20\n)\n\nprint(f\"Median Return: {result['median_return']:.2%}\")\nprint(f\"5th Percentile: {result['percentile_5']:.2%}\")\nprint(f\"95th Percentile: {result['percentile_95']:.2%}\")\n</code></pre>"},{"location":"api-reference/maverick-backtest/engine/#strategy-comparison","title":"Strategy Comparison","text":"<p>Compare multiple strategies:</p> <pre><code>result = engine.compare_strategies(\n    symbol=\"AAPL\",\n    strategies=[\"sma_cross\", \"rsi\", \"macd\", \"bollinger\"],\n    start_date=\"2023-01-01\",\n    end_date=\"2024-01-01\"\n)\n\n# Ranked by Sharpe ratio\nfor strategy in result['rankings']:\n    print(f\"{strategy['name']}: Sharpe={strategy['sharpe_ratio']:.2f}\")\n</code></pre>"},{"location":"api-reference/maverick-core/config/","title":"maverick-core: Configuration","text":"<p>Core configuration management for Maverick MCP.</p>"},{"location":"api-reference/maverick-core/config/#settings","title":"Settings","text":"<p>The <code>Settings</code> class provides centralized configuration management.</p>"},{"location":"api-reference/maverick-core/config/#basic-usage","title":"Basic Usage","text":"<pre><code>from maverick_core import Settings, get_settings\n\n# Get singleton settings instance\nsettings = get_settings()\n\n# Access configuration\nprint(settings.database_url)\nprint(settings.redis_url)\nprint(settings.log_level)\n</code></pre>"},{"location":"api-reference/maverick-core/config/#settings-class","title":"Settings Class","text":""},{"location":"api-reference/maverick-core/config/#maverick_core.config.settings.Settings","title":"<code>Settings</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>Main application settings container.</p> Source code in <code>packages/core/src/maverick_core/config/settings.py</code> <pre><code>class Settings(BaseModel):\n    \"\"\"Main application settings container.\"\"\"\n\n    app_name: str = Field(default=\"MaverickMCP\", description=\"Application name\")\n    environment: str = Field(\n        default_factory=lambda: clean_env_var(\"MAVERICK_ENVIRONMENT\", \"development\"),\n        description=\"Environment (development, staging, production)\",\n    )\n\n    # Sub-settings\n    api: APISettings = Field(default_factory=APISettings, description=\"API settings\")\n    database: DatabaseSettings = Field(\n        default_factory=DatabaseSettings, description=\"Database settings\"\n    )\n    redis: RedisSettings = Field(\n        default_factory=RedisSettings, description=\"Redis settings\"\n    )\n    cache: CacheSettings = Field(\n        default_factory=CacheSettings, description=\"Cache settings\"\n    )\n    provider: ProviderSettings = Field(\n        default_factory=ProviderSettings, description=\"Provider settings\"\n    )\n    performance: PerformanceSettings = Field(\n        default_factory=PerformanceSettings, description=\"Performance settings\"\n    )\n    agent: AgentSettings = Field(\n        default_factory=AgentSettings, description=\"Agent settings\"\n    )\n    financial: FinancialSettings = Field(\n        default_factory=FinancialSettings, description=\"Financial settings\"\n    )\n    ui: UISettings = Field(default_factory=UISettings, description=\"UI settings\")\n    validation: ValidationSettings = Field(\n        default_factory=ValidationSettings, description=\"Validation settings\"\n    )\n    research: ResearchSettings = Field(\n        default_factory=ResearchSettings, description=\"Research settings\"\n    )\n\n    @property\n    def is_production(self) -&gt; bool:\n        \"\"\"Check if running in production environment.\"\"\"\n        return self.environment.lower() == \"production\"\n\n    @property\n    def is_development(self) -&gt; bool:\n        \"\"\"Check if running in development environment.\"\"\"\n        return self.environment.lower() in (\"development\", \"dev\")\n\n    def to_dict(self) -&gt; dict[str, Any]:\n        \"\"\"Convert settings to dictionary.\"\"\"\n        return self.model_dump()\n</code></pre>"},{"location":"api-reference/maverick-core/config/#maverick_core.config.settings.Settings-attributes","title":"Attributes","text":""},{"location":"api-reference/maverick-core/config/#maverick_core.config.settings.Settings.environment","title":"<code>environment: str = Field(default_factory=(lambda: clean_env_var('MAVERICK_ENVIRONMENT', 'development')), description='Environment (development, staging, production)')</code>  <code>class-attribute</code> <code>instance-attribute</code>","text":""},{"location":"api-reference/maverick-core/config/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>DATABASE_URL</code> PostgreSQL connection string <code>sqlite:///maverick.db</code> <code>REDIS_URL</code> Redis connection string <code>redis://localhost:6379</code> <code>LOG_LEVEL</code> Logging level <code>INFO</code> <code>ENVIRONMENT</code> Environment name <code>development</code> <code>TIINGO_API_KEY</code> Tiingo API key Required <code>OPENROUTER_API_KEY</code> OpenRouter API key Optional"},{"location":"api-reference/maverick-core/config/#configuration-validation","title":"Configuration Validation","text":"<p>Settings are validated on startup using Pydantic:</p> <pre><code>from maverick_core import Settings\n\n# Create with custom values\nsettings = Settings(\n    database_url=\"postgresql://user:pass@localhost/db\",\n    log_level=\"DEBUG\"\n)\n</code></pre>"},{"location":"api-reference/maverick-core/config/#constants","title":"Constants","text":"<p>Common constants used across the application.</p> <pre><code>from maverick_core.config.constants import (\n    DEFAULT_CACHE_TTL,\n    MAX_RETRY_ATTEMPTS,\n    RATE_LIMIT_REQUESTS,\n)\n</code></pre> Constant Value Description <code>DEFAULT_CACHE_TTL</code> 3600 Default cache TTL in seconds <code>MAX_RETRY_ATTEMPTS</code> 3 Maximum API retry attempts <code>RATE_LIMIT_REQUESTS</code> 100 Rate limit per minute"},{"location":"api-reference/maverick-core/exceptions/","title":"maverick-core: Exceptions","text":"<p>Comprehensive exception hierarchy for consistent error handling.</p>"},{"location":"api-reference/maverick-core/exceptions/#base-exception","title":"Base Exception","text":"<p>All Maverick exceptions inherit from <code>MaverickException</code>:</p> <pre><code>from maverick_core import MaverickException\n\ntry:\n    # operation\n    pass\nexcept MaverickException as e:\n    print(f\"Error code: {e.error_code}\")\n    print(f\"Message: {e.message}\")\n    print(f\"Details: {e.details}\")\n</code></pre>"},{"location":"api-reference/maverick-core/exceptions/#exception-hierarchy","title":"Exception Hierarchy","text":"<pre><code>MaverickException (base)\n\u251c\u2500\u2500 DataError\n\u2502   \u251c\u2500\u2500 DataFetchError\n\u2502   \u251c\u2500\u2500 DataValidationError\n\u2502   \u2514\u2500\u2500 DataNotFoundError\n\u251c\u2500\u2500 ConfigurationError\n\u2502   \u251c\u2500\u2500 MissingConfigError\n\u2502   \u2514\u2500\u2500 InvalidConfigError\n\u251c\u2500\u2500 ServiceError\n\u2502   \u251c\u2500\u2500 ExternalServiceError\n\u2502   \u251c\u2500\u2500 CircuitBreakerOpenError\n\u2502   \u2514\u2500\u2500 RateLimitError\n\u251c\u2500\u2500 AuthenticationError\n\u2502   \u251c\u2500\u2500 InvalidTokenError\n\u2502   \u2514\u2500\u2500 TokenExpiredError\n\u2514\u2500\u2500 ValidationError\n    \u251c\u2500\u2500 InvalidTickerError\n    \u2514\u2500\u2500 InvalidDateRangeError\n</code></pre>"},{"location":"api-reference/maverick-core/exceptions/#common-exceptions","title":"Common Exceptions","text":""},{"location":"api-reference/maverick-core/exceptions/#datafetcherror","title":"DataFetchError","text":"<p>Raised when data fetching fails.</p> <pre><code>from maverick_core import DataFetchError\n\ntry:\n    data = fetch_stock_data(\"INVALID\")\nexcept DataFetchError as e:\n    print(f\"Failed to fetch: {e.ticker}\")\n</code></pre> <p>Attributes: - <code>ticker</code> (str): Stock symbol - <code>source</code> (str): Data source that failed - <code>retry_after</code> (int, optional): Seconds to wait before retry</p>"},{"location":"api-reference/maverick-core/exceptions/#validationerror","title":"ValidationError","text":"<p>Raised for input validation failures.</p> <pre><code>from maverick_core import ValidationError\n\ntry:\n    validate_ticker(\"!!INVALID!!\")\nexcept ValidationError as e:\n    print(f\"Invalid input: {e.field} - {e.message}\")\n</code></pre> <p>Attributes: - <code>field</code> (str): Field that failed validation - <code>value</code> (Any): Invalid value - <code>constraints</code> (dict): Validation constraints</p>"},{"location":"api-reference/maverick-core/exceptions/#circuitbreakeropenerror","title":"CircuitBreakerOpenError","text":"<p>Raised when circuit breaker is open.</p> <pre><code>from maverick_core import CircuitBreakerOpenError\n\ntry:\n    result = call_external_api()\nexcept CircuitBreakerOpenError as e:\n    print(f\"Service unavailable, retry after {e.retry_after}s\")\n</code></pre> <p>Attributes: - <code>service_name</code> (str): Name of the service - <code>retry_after</code> (int): Seconds until circuit closes - <code>failure_count</code> (int): Number of consecutive failures</p>"},{"location":"api-reference/maverick-core/exceptions/#ratelimiterror","title":"RateLimitError","text":"<p>Raised when rate limit is exceeded.</p> <pre><code>from maverick_core import RateLimitError\n\ntry:\n    result = api_call()\nexcept RateLimitError as e:\n    await asyncio.sleep(e.retry_after)\n    result = api_call()  # Retry\n</code></pre> <p>Attributes: - <code>limit</code> (int): Rate limit - <code>remaining</code> (int): Remaining requests - <code>retry_after</code> (int): Seconds to wait</p>"},{"location":"api-reference/maverick-core/exceptions/#creating-custom-exceptions","title":"Creating Custom Exceptions","text":"<pre><code>from maverick_core import MaverickException\n\nclass MyCustomError(MaverickException):\n    \"\"\"Custom error for my feature.\"\"\"\n\n    error_code = \"MY_ERROR\"\n\n    def __init__(self, message: str, custom_field: str):\n        super().__init__(message)\n        self.custom_field = custom_field\n</code></pre>"},{"location":"api-reference/maverick-core/exceptions/#error-handling-best-practices","title":"Error Handling Best Practices","text":""},{"location":"api-reference/maverick-core/exceptions/#catch-specific-exceptions","title":"Catch Specific Exceptions","text":"<pre><code>from maverick_core import (\n    DataFetchError,\n    ValidationError,\n    CircuitBreakerOpenError,\n)\n\ntry:\n    data = fetch_data(ticker)\nexcept ValidationError:\n    return {\"error\": \"Invalid ticker format\"}\nexcept CircuitBreakerOpenError as e:\n    return {\"error\": f\"Service unavailable, retry in {e.retry_after}s\"}\nexcept DataFetchError as e:\n    logger.error(f\"Data fetch failed for {e.ticker}\")\n    return {\"error\": \"Data temporarily unavailable\"}\n</code></pre>"},{"location":"api-reference/maverick-core/exceptions/#use-error-codes-for-api-responses","title":"Use Error Codes for API Responses","text":"<pre><code>except MaverickException as e:\n    return {\n        \"error\": {\n            \"code\": e.error_code,\n            \"message\": str(e),\n            \"details\": e.details\n        }\n    }\n</code></pre>"},{"location":"api-reference/maverick-core/logging/","title":"maverick-core: Logging","text":"<p>Structured logging with correlation IDs for distributed tracing.</p>"},{"location":"api-reference/maverick-core/logging/#quick-start","title":"Quick Start","text":"<pre><code>from maverick_core import get_logger, setup_logging\n\n# Setup logging (call once at startup)\nsetup_logging(level=\"INFO\", json_format=True)\n\n# Get a logger\nlogger = get_logger(__name__)\n\n# Log messages\nlogger.info(\"Processing request\", extra={\"ticker\": \"AAPL\"})\nlogger.error(\"Failed to fetch data\", exc_info=True)\n</code></pre>"},{"location":"api-reference/maverick-core/logging/#functions","title":"Functions","text":""},{"location":"api-reference/maverick-core/logging/#get_logger","title":"get_logger","text":"<p>Get a configured logger instance.</p> <pre><code>from maverick_core import get_logger\n\nlogger = get_logger(\"mymodule\")\nlogger.info(\"Hello world\")\n</code></pre> <p>Parameters: - <code>name</code> (str): Logger name, typically <code>__name__</code></p> <p>Returns: - <code>logging.Logger</code>: Configured logger instance</p>"},{"location":"api-reference/maverick-core/logging/#setup_logging","title":"setup_logging","text":"<p>Configure application-wide logging.</p> <pre><code>from maverick_core import setup_logging\n\nsetup_logging(\n    level=\"DEBUG\",\n    json_format=True,\n    log_file=\"/var/log/maverick.log\"\n)\n</code></pre> <p>Parameters: - <code>level</code> (str): Log level (DEBUG, INFO, WARNING, ERROR) - <code>json_format</code> (bool): Use JSON structured logging - <code>log_file</code> (str, optional): File path for log output</p>"},{"location":"api-reference/maverick-core/logging/#correlation-ids","title":"Correlation IDs","text":"<p>Track requests across services with correlation IDs.</p>"},{"location":"api-reference/maverick-core/logging/#middleware","title":"Middleware","text":"<pre><code>from fastapi import FastAPI\nfrom maverick_core import CorrelationIDMiddleware\n\napp = FastAPI()\napp.add_middleware(CorrelationIDMiddleware)\n</code></pre>"},{"location":"api-reference/maverick-core/logging/#decorator","title":"Decorator","text":"<pre><code>from maverick_core import with_correlation_id\n\n@with_correlation_id\nasync def process_request(ticker: str):\n    logger.info(f\"Processing {ticker}\")  # Includes correlation ID\n</code></pre>"},{"location":"api-reference/maverick-core/logging/#manual-usage","title":"Manual Usage","text":"<pre><code>from maverick_core.logging import set_correlation_id, get_correlation_id\n\n# Set correlation ID\nset_correlation_id(\"req-12345\")\n\n# Get current correlation ID\ncurrent_id = get_correlation_id()\n</code></pre>"},{"location":"api-reference/maverick-core/logging/#structured-logging-format","title":"Structured Logging Format","text":"<p>When <code>json_format=True</code>, logs are output as JSON:</p> <pre><code>{\n  \"timestamp\": \"2024-01-15T10:30:00.000Z\",\n  \"level\": \"INFO\",\n  \"logger\": \"maverick_data.providers\",\n  \"message\": \"Fetched stock data\",\n  \"correlation_id\": \"req-abc123\",\n  \"ticker\": \"AAPL\",\n  \"duration_ms\": 125\n}\n</code></pre>"},{"location":"api-reference/maverick-core/logging/#error-logger","title":"Error Logger","text":"<p>Enhanced error logging with sensitive data masking.</p> <pre><code>from maverick_core import ErrorLogger\n\nerror_logger = ErrorLogger()\n\ntry:\n    # risky operation\n    pass\nexcept Exception as e:\n    error_logger.log_exception(\n        e,\n        context={\"api_key\": \"secret123\"}  # Will be masked\n    )\n</code></pre> <p>Masked Fields: - <code>api_key</code>, <code>password</code>, <code>token</code>, <code>secret</code> - Credit card numbers (pattern-matched) - Email addresses (partially masked)</p>"},{"location":"api-reference/maverick-core/resilience/","title":"maverick-core: Resilience","text":"<p>Circuit breakers and fallback strategies for robust external service calls.</p>"},{"location":"api-reference/maverick-core/resilience/#circuit-breaker","title":"Circuit Breaker","text":"<p>Prevents cascading failures when external services are unavailable.</p>"},{"location":"api-reference/maverick-core/resilience/#basic-usage","title":"Basic Usage","text":"<pre><code>from maverick_core import EnhancedCircuitBreaker, CircuitState\n\n# Create circuit breaker\nbreaker = EnhancedCircuitBreaker(\n    name=\"tiingo-api\",\n    failure_threshold=5,\n    recovery_timeout=30,\n    half_open_requests=3\n)\n\n# Use with external calls\ntry:\n    if breaker.can_execute():\n        result = call_external_api()\n        breaker.record_success()\n    else:\n        result = get_fallback_data()\nexcept Exception as e:\n    breaker.record_failure()\n    raise\n</code></pre>"},{"location":"api-reference/maverick-core/resilience/#decorator-usage","title":"Decorator Usage","text":"<pre><code>from maverick_core import with_circuit_breaker\n\n@with_circuit_breaker(\n    name=\"stock-api\",\n    failure_threshold=3,\n    recovery_timeout=60\n)\nasync def fetch_stock_data(ticker: str):\n    return await external_api.get_stock(ticker)\n</code></pre>"},{"location":"api-reference/maverick-core/resilience/#circuit-states","title":"Circuit States","text":"<pre><code>from maverick_core import CircuitState\n\n# Circuit states\nCircuitState.CLOSED      # Normal operation\nCircuitState.OPEN        # Failures exceeded threshold, blocking calls\nCircuitState.HALF_OPEN   # Testing if service recovered\n</code></pre>"},{"location":"api-reference/maverick-core/resilience/#state-transitions","title":"State Transitions","text":"<pre><code>CLOSED \u2192 (failures &gt;= threshold) \u2192 OPEN\nOPEN \u2192 (timeout elapsed) \u2192 HALF_OPEN\nHALF_OPEN \u2192 (test succeeds) \u2192 CLOSED\nHALF_OPEN \u2192 (test fails) \u2192 OPEN\n</code></pre>"},{"location":"api-reference/maverick-core/resilience/#configuration-options","title":"Configuration Options","text":"Parameter Type Default Description <code>name</code> str Required Circuit breaker identifier <code>failure_threshold</code> int 5 Failures before opening <code>recovery_timeout</code> int 30 Seconds before half-open <code>half_open_requests</code> int 3 Test requests in half-open <code>success_threshold</code> int 2 Successes to close"},{"location":"api-reference/maverick-core/resilience/#fallback-strategies","title":"Fallback Strategies","text":"<p>Define fallback behavior when circuit is open.</p>"},{"location":"api-reference/maverick-core/resilience/#fallbackchain","title":"FallbackChain","text":"<p>Chain multiple fallback options:</p> <pre><code>from maverick_core import FallbackChain, FallbackStrategy\n\nchain = FallbackChain([\n    FallbackStrategy.CACHE,      # Try cache first\n    FallbackStrategy.STALE_DATA, # Then stale data\n    FallbackStrategy.DEFAULT,    # Finally, default value\n])\n\nresult = chain.execute(\n    primary_fn=lambda: api.fetch_data(),\n    cache_fn=lambda: cache.get(\"data\"),\n    default_value={\"status\": \"unavailable\"}\n)\n</code></pre>"},{"location":"api-reference/maverick-core/resilience/#built-in-strategies","title":"Built-in Strategies","text":"Strategy Description <code>CACHE</code> Return cached value <code>STALE_DATA</code> Return expired cache data <code>DEFAULT</code> Return default value <code>RAISE</code> Re-raise exception <code>RETRY</code> Retry with backoff"},{"location":"api-reference/maverick-core/resilience/#monitoring","title":"Monitoring","text":""},{"location":"api-reference/maverick-core/resilience/#get-circuit-status","title":"Get Circuit Status","text":"<pre><code>breaker = EnhancedCircuitBreaker(\"my-service\")\n\nstatus = breaker.get_status()\nprint(f\"State: {status['state']}\")\nprint(f\"Failures: {status['failure_count']}\")\nprint(f\"Success Rate: {status['success_rate']:.2%}\")\n</code></pre>"},{"location":"api-reference/maverick-core/resilience/#health-check-integration","title":"Health Check Integration","text":"<pre><code>from maverick_core import CircuitBreakerRegistry\n\n# Get all circuit breakers\nregistry = CircuitBreakerRegistry()\nall_breakers = registry.get_all()\n\nfor name, breaker in all_breakers.items():\n    status = breaker.get_status()\n    if status['state'] == CircuitState.OPEN:\n        logger.warning(f\"Circuit {name} is OPEN\")\n</code></pre>"},{"location":"api-reference/maverick-core/resilience/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/maverick-core/resilience/#1-name-circuit-breakers-descriptively","title":"1. Name Circuit Breakers Descriptively","text":"<pre><code># Good\nEnhancedCircuitBreaker(\"tiingo-stock-api\")\nEnhancedCircuitBreaker(\"redis-cache\")\n\n# Bad\nEnhancedCircuitBreaker(\"cb1\")\n</code></pre>"},{"location":"api-reference/maverick-core/resilience/#2-set-appropriate-thresholds","title":"2. Set Appropriate Thresholds","text":"<pre><code># High-availability service (aggressive)\nEnhancedCircuitBreaker(\n    name=\"critical-api\",\n    failure_threshold=3,\n    recovery_timeout=10\n)\n\n# Best-effort service (lenient)\nEnhancedCircuitBreaker(\n    name=\"analytics-api\",\n    failure_threshold=10,\n    recovery_timeout=60\n)\n</code></pre>"},{"location":"api-reference/maverick-core/resilience/#3-always-have-fallbacks","title":"3. Always Have Fallbacks","text":"<pre><code>@with_circuit_breaker(name=\"stock-api\")\nasync def fetch_stock(ticker: str):\n    try:\n        return await primary_api.fetch(ticker)\n    except CircuitBreakerOpenError:\n        # Fallback to cache\n        cached = await cache.get(f\"stock:{ticker}\")\n        if cached:\n            return cached\n        # Fallback to default\n        return {\"ticker\": ticker, \"status\": \"unavailable\"}\n</code></pre>"},{"location":"api-reference/maverick-data/models/","title":"maverick-data: Models","text":"<p>SQLAlchemy models for stock data, screening, and caching.</p>"},{"location":"api-reference/maverick-data/models/#quick-start","title":"Quick Start","text":"<pre><code>from maverick_data import Stock, PriceCache, SessionLocal\n\n# Get database session\nwith SessionLocal() as session:\n    # Query stocks\n    stock = session.query(Stock).filter_by(ticker_symbol=\"AAPL\").first()\n    print(f\"{stock.company_name}: ${stock.price}\")\n</code></pre>"},{"location":"api-reference/maverick-data/models/#stock-model","title":"Stock Model","text":"<p>Primary model for stock information.</p> <pre><code>from maverick_data import Stock\n\n# Get or create stock\nstock = Stock.get_or_create(\n    session,\n    ticker_symbol=\"AAPL\",\n    company_name=\"Apple Inc.\",\n    sector=\"Technology\",\n    industry=\"Consumer Electronics\"\n)\n</code></pre>"},{"location":"api-reference/maverick-data/models/#fields","title":"Fields","text":"Field Type Description <code>id</code> int Primary key <code>ticker_symbol</code> str Stock symbol (e.g., \"AAPL\") <code>company_name</code> str Company name <code>sector</code> str Industry sector <code>industry</code> str Specific industry <code>exchange</code> str Exchange (NASDAQ, NYSE, NSE) <code>country</code> str Country code (US, IN) <code>currency</code> str Currency (USD, INR) <code>market_cap</code> float Market capitalization <code>is_active</code> bool Active trading status"},{"location":"api-reference/maverick-data/models/#methods","title":"Methods","text":"<pre><code># Get or create\nstock = Stock.get_or_create(session, ticker_symbol=\"AAPL\", ...)\n\n# Convert to dict\nstock_dict = stock.to_dict()\n</code></pre>"},{"location":"api-reference/maverick-data/models/#pricecache-model","title":"PriceCache Model","text":"<p>Cached historical price data.</p> <pre><code>from maverick_data import PriceCache\n\n# Get cached prices\nprices = PriceCache.get_price_data(\n    session,\n    ticker=\"AAPL\",\n    start_date=\"2024-01-01\",\n    end_date=\"2024-01-31\"\n)\n</code></pre>"},{"location":"api-reference/maverick-data/models/#fields_1","title":"Fields","text":"Field Type Description <code>id</code> int Primary key <code>stock_id</code> int Foreign key to Stock <code>date</code> date Trading date <code>open</code> float Opening price <code>high</code> float Highest price <code>low</code> float Lowest price <code>close</code> float Closing price <code>volume</code> int Trading volume"},{"location":"api-reference/maverick-data/models/#screening-models","title":"Screening Models","text":""},{"location":"api-reference/maverick-data/models/#maverickstocks","title":"MaverickStocks","text":"<p>High-momentum bullish stocks.</p> <pre><code>from maverick_data import MaverickStocks\n\n# Get top bullish stocks\ntop_stocks = session.query(MaverickStocks)\\\n    .order_by(MaverickStocks.combined_score.desc())\\\n    .limit(10)\\\n    .all()\n</code></pre> <p>Key Fields: - <code>combined_score</code>: Overall score (0-100) - <code>momentum_score</code>: Momentum strength - <code>pattern_type</code>: Detected pattern (VCP, breakout, etc.) - <code>squeeze_status</code>: TTM squeeze status</p>"},{"location":"api-reference/maverick-data/models/#maverickbearstocks","title":"MaverickBearStocks","text":"<p>Weak stocks for bearish opportunities.</p> <pre><code>from maverick_data import MaverickBearStocks\n\n# Get weakest stocks\nweak_stocks = session.query(MaverickBearStocks)\\\n    .order_by(MaverickBearStocks.score.desc())\\\n    .limit(10)\\\n    .all()\n</code></pre> <p>Key Fields: - <code>score</code>: Bear score (0-100) - <code>rsi_14</code>: RSI value - <code>atr_contraction</code>: ATR contracting flag - <code>dist_days_20</code>: Distribution days</p>"},{"location":"api-reference/maverick-data/models/#supplydemandbreakoutstocks","title":"SupplyDemandBreakoutStocks","text":"<p>Stocks breaking out from accumulation.</p> <pre><code>from maverick_data import SupplyDemandBreakoutStocks\n\n# Get breakout candidates\nbreakouts = session.query(SupplyDemandBreakoutStocks)\\\n    .filter(SupplyDemandBreakoutStocks.momentum_score &gt; 80)\\\n    .all()\n</code></pre>"},{"location":"api-reference/maverick-data/models/#session-management","title":"Session Management","text":""},{"location":"api-reference/maverick-data/models/#sessionlocal","title":"SessionLocal","text":"<p>Create database sessions:</p> <pre><code>from maverick_data import SessionLocal\n\n# Context manager (recommended)\nwith SessionLocal() as session:\n    stocks = session.query(Stock).all()\n\n# Manual management\nsession = SessionLocal()\ntry:\n    stocks = session.query(Stock).all()\n    session.commit()\nfinally:\n    session.close()\n</code></pre>"},{"location":"api-reference/maverick-data/models/#get_session-get_db","title":"get_session / get_db","text":"<p>Dependency injection helpers:</p> <pre><code>from maverick_data import get_session, get_db\n\n# Simple function\ndef fetch_stocks():\n    session = get_session()\n    return session.query(Stock).all()\n\n# FastAPI dependency\n@app.get(\"/stocks\")\ndef list_stocks(db: Session = Depends(get_db)):\n    return db.query(Stock).all()\n</code></pre>"},{"location":"api-reference/maverick-data/models/#bulk-operations","title":"Bulk Operations","text":"<p>Efficient bulk insert operations:</p> <pre><code>from maverick_data import bulk_insert_price_data, bulk_insert_screening_data\n\n# Bulk insert price data\ncount = bulk_insert_price_data(session, \"AAPL\", price_dataframe)\nprint(f\"Inserted {count} records\")\n\n# Bulk insert screening data\ncount = bulk_insert_screening_data(session, MaverickStocks, screening_data)\n</code></pre>"},{"location":"api-reference/maverick-data/models/#database-url","title":"Database URL","text":"<p>The database URL is configured via environment variable:</p> <pre><code>from maverick_data import DATABASE_URL, engine\n\nprint(f\"Database: {DATABASE_URL}\")\n</code></pre> <p>Environment Variable: <code>DATABASE_URL</code></p> <p>Default: <code>sqlite:///maverick.db</code></p> <p>Production: <code>postgresql://user:pass@host:port/dbname</code></p>"},{"location":"api-reference/maverick-data/providers/","title":"maverick-data: Providers","text":"<p>Data providers for fetching stock information from external sources.</p>"},{"location":"api-reference/maverick-data/providers/#stockdataprovider","title":"StockDataProvider","text":"<p>Primary interface for fetching stock data.</p> <pre><code>from maverick_data.providers import StockDataProvider\n\nprovider = StockDataProvider()\n\n# Fetch historical data\ndf = provider.fetch_stock_data(\n    ticker=\"AAPL\",\n    start_date=\"2024-01-01\",\n    end_date=\"2024-06-30\"\n)\n\n# Get stock info\ninfo = provider.get_stock_info(\"AAPL\")\nprint(f\"Company: {info['longName']}\")\nprint(f\"Sector: {info['sector']}\")\n</code></pre>"},{"location":"api-reference/maverick-data/providers/#methods","title":"Methods","text":""},{"location":"api-reference/maverick-data/providers/#fetch_stock_data","title":"fetch_stock_data","text":"<p>Fetch historical OHLCV data.</p> <pre><code>df = provider.fetch_stock_data(\n    ticker=\"AAPL\",\n    start_date=\"2024-01-01\",  # Optional\n    end_date=\"2024-06-30\",    # Optional\n    period=\"1y\",              # Alternative to dates\n    interval=\"1d\"             # 1d, 1h, 5m, etc.\n)\n</code></pre> <p>Returns: <code>pandas.DataFrame</code> with columns: - <code>Open</code>, <code>High</code>, <code>Low</code>, <code>Close</code>, <code>Volume</code> - Index: <code>DatetimeIndex</code></p>"},{"location":"api-reference/maverick-data/providers/#get_stock_info","title":"get_stock_info","text":"<p>Get company information.</p> <pre><code>info = provider.get_stock_info(\"AAPL\")\n</code></pre> <p>Returns: <code>dict</code> with keys: - <code>longName</code>, <code>sector</code>, <code>industry</code> - <code>marketCap</code>, <code>previousClose</code> - <code>exchange</code>, <code>currency</code></p>"},{"location":"api-reference/maverick-data/providers/#enhancedstockdataprovider","title":"EnhancedStockDataProvider","text":"<p>Extended provider with caching and resilience.</p> <pre><code>from maverick_data.providers import EnhancedStockDataProvider\n\nprovider = EnhancedStockDataProvider()\n\n# Automatically uses cache and circuit breaker\ndf = provider.fetch_stock_data(\"AAPL\", period=\"1y\")\n</code></pre>"},{"location":"api-reference/maverick-data/providers/#features","title":"Features","text":"<ul> <li>Database Caching: Stores fetched data in PriceCache</li> <li>Circuit Breaker: Protects against API failures</li> <li>Automatic Retry: Retries on transient failures</li> <li>Rate Limiting: Respects API rate limits</li> </ul>"},{"location":"api-reference/maverick-data/providers/#cache-behavior","title":"Cache Behavior","text":"<pre><code># First call: Fetches from API, stores in cache\ndf1 = provider.fetch_stock_data(\"AAPL\", period=\"1y\")\n\n# Second call: Returns from cache (fast)\ndf2 = provider.fetch_stock_data(\"AAPL\", period=\"1y\")\n\n# Force refresh\ndf3 = provider.fetch_stock_data(\"AAPL\", period=\"1y\", force_refresh=True)\n</code></pre>"},{"location":"api-reference/maverick-data/providers/#yfinancepool","title":"YFinancePool","text":"<p>Connection pooling for yfinance API calls.</p> <pre><code>from maverick_data.providers import YFinancePool, get_yfinance_pool\n\n# Get singleton pool\npool = get_yfinance_pool()\n\n# Use pool for API calls\nhistory = pool.get_history(\"AAPL\", period=\"1mo\")\ninfo = pool.get_info(\"AAPL\")\n</code></pre>"},{"location":"api-reference/maverick-data/providers/#benefits","title":"Benefits","text":"<ul> <li>Connection Reuse: Reduces API overhead</li> <li>Thread Safety: Safe for concurrent use</li> <li>Rate Limiting: Built-in rate limiting</li> <li>Error Handling: Graceful error recovery</li> </ul>"},{"location":"api-reference/maverick-data/providers/#multi-market-support","title":"Multi-Market Support","text":"<p>Providers support multiple markets:</p> <pre><code># US Market (default)\nprovider.fetch_stock_data(\"AAPL\")\n\n# Indian NSE\nprovider.fetch_stock_data(\"RELIANCE.NS\")\n\n# Indian BSE\nprovider.fetch_stock_data(\"TCS.BO\")\n</code></pre>"},{"location":"api-reference/maverick-data/providers/#market-detection","title":"Market Detection","text":"<p>The provider automatically detects the market from the symbol:</p> Suffix Market Exchange (none) US NASDAQ/NYSE <code>.NS</code> India NSE <code>.BO</code> India BSE"},{"location":"api-reference/maverick-data/providers/#error-handling","title":"Error Handling","text":"<pre><code>from maverick_core import DataFetchError, ValidationError\n\ntry:\n    df = provider.fetch_stock_data(\"INVALID_TICKER\")\nexcept ValidationError as e:\n    print(f\"Invalid ticker: {e}\")\nexcept DataFetchError as e:\n    print(f\"Failed to fetch data: {e}\")\n</code></pre>"},{"location":"api-reference/maverick-data/providers/#configuration","title":"Configuration","text":""},{"location":"api-reference/maverick-data/providers/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>YFINANCE_RATE_LIMIT</code> Requests per minute 100 <code>STOCK_CACHE_TTL</code> Cache TTL in seconds 3600"},{"location":"api-reference/maverick-data/providers/#custom-configuration","title":"Custom Configuration","text":"<pre><code>provider = EnhancedStockDataProvider(\n    cache_ttl=7200,  # 2 hours\n    enable_cache=True,\n    circuit_breaker_enabled=True\n)\n</code></pre>"},{"location":"api-reference/maverick-data/services/","title":"maverick-data: Services","text":"<p>Business logic services for stock data operations.</p>"},{"location":"api-reference/maverick-data/services/#stockdatafetcher","title":"StockDataFetcher","text":"<p>Low-level service for fetching data from external sources.</p> <pre><code>from maverick_data.services import StockDataFetcher\n\nfetcher = StockDataFetcher()\n\n# Fetch historical data\ndf = fetcher.fetch_stock_data(\"AAPL\", period=\"1y\")\n\n# Fetch real-time quote\nquote = fetcher.fetch_realtime_data(\"AAPL\")\nprint(f\"Price: ${quote['price']}, Change: {quote['change_percent']}%\")\n\n# Fetch multiple symbols\nquotes = fetcher.fetch_multiple_realtime([\"AAPL\", \"GOOGL\", \"MSFT\"])\n</code></pre>"},{"location":"api-reference/maverick-data/services/#methods","title":"Methods","text":"Method Description Returns <code>fetch_stock_data()</code> Historical OHLCV DataFrame <code>fetch_stock_info()</code> Company info dict <code>fetch_realtime_data()</code> Current quote dict <code>fetch_multiple_realtime()</code> Multiple quotes dict <code>fetch_news()</code> Stock news DataFrame <code>fetch_earnings()</code> Earnings data dict <code>is_etf()</code> Check if ETF bool"},{"location":"api-reference/maverick-data/services/#stockcachemanager","title":"StockCacheManager","text":"<p>Database-backed caching for stock data.</p> <pre><code>from maverick_data.services import StockCacheManager\n\ncache = StockCacheManager()\n\n# Get cached data\ndf = cache.get_cached_data(\"AAPL\", \"2024-01-01\", \"2024-06-30\")\n\nif df is None:\n    # Fetch and cache\n    df = fetcher.fetch_stock_data(\"AAPL\", ...)\n    cache.cache_data(\"AAPL\", df)\n</code></pre>"},{"location":"api-reference/maverick-data/services/#methods_1","title":"Methods","text":""},{"location":"api-reference/maverick-data/services/#get_cached_data","title":"get_cached_data","text":"<p>Retrieve cached price data.</p> <pre><code>df = cache.get_cached_data(\n    symbol=\"AAPL\",\n    start_date=\"2024-01-01\",\n    end_date=\"2024-06-30\"\n)\n</code></pre> <p>Returns: <code>DataFrame</code> or <code>None</code> if not cached</p>"},{"location":"api-reference/maverick-data/services/#cache_data","title":"cache_data","text":"<p>Store price data in cache.</p> <pre><code>rows_cached = cache.cache_data(\"AAPL\", df)\nprint(f\"Cached {rows_cached} rows\")\n</code></pre>"},{"location":"api-reference/maverick-data/services/#invalidate_cache","title":"invalidate_cache","text":"<p>Clear cached data.</p> <pre><code># Invalidate specific symbol\ncache.invalidate_cache(\"AAPL\")\n\n# Invalidate all\ncache.invalidate_cache(None)\n</code></pre>"},{"location":"api-reference/maverick-data/services/#screeningservice","title":"ScreeningService","text":"<p>Stock screening based on technical patterns.</p> <pre><code>from maverick_data.services import ScreeningService\n\nservice = ScreeningService()\n\n# Get bullish recommendations\nbullish = service.get_maverick_recommendations(limit=20, min_score=80)\n\n# Get bearish recommendations\nbearish = service.get_maverick_bear_recommendations(limit=20)\n\n# Get breakout candidates\nbreakouts = service.get_supply_demand_breakout_recommendations(limit=20)\n\n# Get all screening results\nall_results = service.get_all_screening_recommendations()\n</code></pre>"},{"location":"api-reference/maverick-data/services/#recommendation-format","title":"Recommendation Format","text":"<pre><code>{\n    \"ticker_symbol\": \"AAPL\",\n    \"combined_score\": 95,\n    \"momentum_score\": 92,\n    \"recommendation_type\": \"maverick_bullish\",\n    \"reason\": \"Exceptional combined score (95), outstanding relative strength\",\n    \"pattern_type\": \"VCP\",\n    \"squeeze_status\": \"high\"\n}\n</code></pre>"},{"location":"api-reference/maverick-data/services/#marketcalendarservice","title":"MarketCalendarService","text":"<p>Trading day and market hours detection.</p> <pre><code>from maverick_data.services import MarketCalendarService\n\ncalendar = MarketCalendarService()\n\n# Check if trading day\nis_trading = calendar.is_trading_day(\"2024-01-15\")\n\n# Get trading days in range\ntrading_days = calendar.get_trading_days(\"2024-01-01\", \"2024-01-31\")\nprint(f\"Trading days: {len(trading_days)}\")\n\n# Get last trading day\nlast_day = calendar.get_last_trading_day(\"2024-01-07\")  # Sunday -&gt; Friday\n\n# Check if market is open\nis_open = calendar.is_market_open()\n</code></pre>"},{"location":"api-reference/maverick-data/services/#multi-market-support","title":"Multi-Market Support","text":"<pre><code># US market (default)\ncalendar.is_trading_day(\"2024-07-04\")  # False (Independence Day)\n\n# Indian market\ncalendar.is_trading_day(\"2024-01-26\", symbol=\"RELIANCE.NS\")  # False (Republic Day)\n</code></pre>"},{"location":"api-reference/maverick-data/services/#service-dependency-injection","title":"Service Dependency Injection","text":"<p>For FastAPI applications:</p> <pre><code>from fastapi import Depends\nfrom maverick_data.services import (\n    StockDataFetcher,\n    StockCacheManager,\n    ScreeningService,\n)\n\ndef get_fetcher() -&gt; StockDataFetcher:\n    return StockDataFetcher()\n\ndef get_cache() -&gt; StockCacheManager:\n    return StockCacheManager()\n\n@app.get(\"/stocks/{ticker}\")\ndef get_stock(\n    ticker: str,\n    fetcher: StockDataFetcher = Depends(get_fetcher),\n    cache: StockCacheManager = Depends(get_cache)\n):\n    # Try cache first\n    df = cache.get_cached_data(ticker, ...)\n    if df is None:\n        df = fetcher.fetch_stock_data(ticker, ...)\n        cache.cache_data(ticker, df)\n    return df.to_dict()\n</code></pre>"},{"location":"api-reference/maverick-data/services/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/maverick-data/services/#1-use-caching-for-repeated-queries","title":"1. Use Caching for Repeated Queries","text":"<pre><code># Good: Check cache first\ndf = cache.get_cached_data(ticker, start, end)\nif df is None:\n    df = fetcher.fetch_stock_data(ticker, start, end)\n    cache.cache_data(ticker, df)\n</code></pre>"},{"location":"api-reference/maverick-data/services/#2-batch-operations-for-multiple-symbols","title":"2. Batch Operations for Multiple Symbols","text":"<pre><code># Good: Batch fetch\nquotes = fetcher.fetch_multiple_realtime([\"AAPL\", \"GOOGL\", \"MSFT\"])\n\n# Bad: Individual fetches\nfor symbol in symbols:\n    quote = fetcher.fetch_realtime_data(symbol)\n</code></pre>"},{"location":"api-reference/maverick-data/services/#3-handle-market-hours","title":"3. Handle Market Hours","text":"<pre><code>calendar = MarketCalendarService()\n\nif calendar.is_market_open():\n    # Fetch real-time data\n    quote = fetcher.fetch_realtime_data(ticker)\nelse:\n    # Use cached data\n    df = cache.get_cached_data(ticker, ...)\n</code></pre>"},{"location":"api-reference/maverick-india/concall/","title":"maverick-india: Conference Calls","text":"<p>AI-powered conference call analysis for Indian companies.</p>"},{"location":"api-reference/maverick-india/concall/#overview","title":"Overview","text":"<p>Analyze earnings call transcripts with: - Transcript fetching from company IR pages - AI-powered summarization - Sentiment analysis - RAG-based Q&amp;A</p>"},{"location":"api-reference/maverick-india/concall/#fetching-transcripts","title":"Fetching Transcripts","text":"<pre><code>from maverick_india.concall import TranscriptFetcher\n\nfetcher = TranscriptFetcher()\n\n# Fetch transcript\ntranscript = fetcher.fetch_transcript(\n    ticker=\"RELIANCE.NS\",\n    quarter=\"Q1\",\n    fiscal_year=2025\n)\n\nprint(f\"Word count: {transcript['word_count']}\")\nprint(f\"Source: {transcript['source']}\")\n</code></pre>"},{"location":"api-reference/maverick-india/concall/#supported-companies","title":"Supported Companies","text":"<p>See IR Mappings Guide for: - Supported companies - How to add new companies - Selector configuration</p>"},{"location":"api-reference/maverick-india/concall/#ai-summarization","title":"AI Summarization","text":"<pre><code>from maverick_india.concall import ConcallSummarizer\n\nsummarizer = ConcallSummarizer()\n\nsummary = summarizer.summarize(\n    ticker=\"RELIANCE.NS\",\n    quarter=\"Q1\",\n    fiscal_year=2025,\n    mode=\"standard\"  # concise, standard, detailed\n)\n\nprint(f\"Executive Summary: {summary['executive_summary']}\")\nprint(f\"Key Metrics: {summary['key_metrics']}\")\nprint(f\"Guidance: {summary['management_guidance']}\")\n</code></pre>"},{"location":"api-reference/maverick-india/concall/#summary-structure","title":"Summary Structure","text":"<pre><code>{\n    \"executive_summary\": \"...\",\n    \"key_metrics\": {\n        \"revenue_growth\": \"12%\",\n        \"margin\": \"18.5%\",\n        ...\n    },\n    \"business_highlights\": [...],\n    \"management_guidance\": \"...\",\n    \"sentiment\": \"positive\",\n    \"key_risks\": [...],\n    \"opportunities\": [...],\n    \"qa_insights\": [...],\n    \"analyst_focus\": [...]\n}\n</code></pre>"},{"location":"api-reference/maverick-india/concall/#sentiment-analysis","title":"Sentiment Analysis","text":"<pre><code>from maverick_india.concall import SentimentAnalyzer\n\nanalyzer = SentimentAnalyzer()\n\nsentiment = analyzer.analyze(\n    ticker=\"TCS.NS\",\n    quarter=\"Q4\",\n    fiscal_year=2024\n)\n\nprint(f\"Overall: {sentiment['overall_sentiment']}\")\nprint(f\"Score: {sentiment['sentiment_score']}/5\")\nprint(f\"Confidence: {sentiment['confidence_score']:.0%}\")\nprint(f\"Management Tone: {sentiment['management_tone']}\")\n</code></pre>"},{"location":"api-reference/maverick-india/concall/#sentiment-levels","title":"Sentiment Levels","text":"Sentiment Score Description very_bullish 5 Extremely positive outlook bullish 4 Positive indicators neutral 3 Balanced view bearish 2 Some concerns very_bearish 1 Significant concerns"},{"location":"api-reference/maverick-india/concall/#rag-qa","title":"RAG Q&amp;A","text":"<p>Ask questions about transcripts:</p> <pre><code>from maverick_india.concall import ConcallRAGEngine\n\nrag = ConcallRAGEngine()\n\nanswer = rag.query(\n    question=\"What was the revenue growth?\",\n    ticker=\"RELIANCE.NS\",\n    quarter=\"Q1\",\n    fiscal_year=2025,\n    top_k=5  # Number of relevant chunks\n)\n\nprint(f\"Answer: {answer['answer']}\")\nprint(f\"Sources: {len(answer['sources'])}\")\nfor source in answer['sources']:\n    print(f\"  - {source['content'][:100]}...\")\n</code></pre>"},{"location":"api-reference/maverick-india/concall/#quarter-comparison","title":"Quarter Comparison","text":"<p>Compare sentiment across quarters:</p> <pre><code>from maverick_india.concall import compare_quarters\n\nresult = compare_quarters(\n    ticker=\"RELIANCE.NS\",\n    quarters=[(\"Q4\", 2024), (\"Q1\", 2025)]\n)\n\nprint(f\"Trend: {result['sentiment_trend']}\")  # improving, declining, stable\nprint(f\"Score Change: {result['score_change']}\")\n</code></pre>"},{"location":"api-reference/maverick-india/concall/#mcp-tools","title":"MCP Tools","text":"<p>Available through Claude Desktop:</p> <pre><code>\"Summarize the Q1 2025 earnings call for Reliance\"\n\"What's the sentiment from TCS's latest earnings call?\"\n\"What did Infosys management say about margins?\"\n\"Compare HDFC Bank sentiment across last 3 quarters\"\n</code></pre>"},{"location":"api-reference/maverick-india/concall/#database-storage","title":"Database Storage","text":"<p>Transcripts and analysis are cached:</p> <pre><code>from maverick_india.concall.models import (\n    ConferenceCall,\n    TranscriptSummary,\n    TranscriptSentiment\n)\n\n# Query stored transcripts\nsession.query(ConferenceCall).filter_by(\n    ticker=\"RELIANCE.NS\",\n    quarter=\"Q1\",\n    fiscal_year=2025\n).first()\n</code></pre>"},{"location":"api-reference/maverick-india/concall/#adding-new-companies","title":"Adding New Companies","text":"<p>See IR Mappings Guide for detailed instructions.</p> <p>Quick example:</p> <pre><code>{\n    \"ticker\": \"NEWCOMPANY.NS\",\n    \"company_name\": \"New Company Ltd.\",\n    \"ir_base_url\": \"https://company.com/investors/\",\n    \"concall_url_pattern\": \"https://company.com/investors/results\",\n    \"concall_section_xpath\": \"//a[contains(text(), 'transcript')]\",\n    \"market\": \"NSE\",\n    \"country\": \"IN\",\n    \"is_active\": true\n}\n</code></pre>"},{"location":"api-reference/maverick-india/market/","title":"maverick-india: Market","text":"<p>Indian stock market support for NSE and BSE exchanges.</p>"},{"location":"api-reference/maverick-india/market/#quick-start","title":"Quick Start","text":"<pre><code>from maverick_india import IndianMarket, INDIAN_MARKET_CONFIG\n\n# Get market configuration\nnse_config = INDIAN_MARKET_CONFIG[\"NSE\"]\nprint(f\"Currency: {nse_config['currency']}\")\nprint(f\"Trading Hours: {nse_config['trading_hours']}\")\n\n# Check if Indian symbol\nmarket = IndianMarket()\nis_indian = market.is_indian_symbol(\"RELIANCE.NS\")  # True\n</code></pre>"},{"location":"api-reference/maverick-india/market/#supported-markets","title":"Supported Markets","text":""},{"location":"api-reference/maverick-india/market/#nse-national-stock-exchange","title":"NSE (National Stock Exchange)","text":"<pre><code># Symbol format\nsymbol = \"RELIANCE.NS\"\n\n# Configuration\n{\n    \"exchange\": \"NSE\",\n    \"country\": \"IN\",\n    \"currency\": \"INR\",\n    \"trading_hours\": \"09:15-15:30\",\n    \"timezone\": \"Asia/Kolkata\",\n    \"circuit_breaker\": 0.10  # 10%\n}\n</code></pre>"},{"location":"api-reference/maverick-india/market/#bse-bombay-stock-exchange","title":"BSE (Bombay Stock Exchange)","text":"<pre><code># Symbol format\nsymbol = \"TCS.BO\"\n\n# Configuration\n{\n    \"exchange\": \"BSE\",\n    \"country\": \"IN\",\n    \"currency\": \"INR\",\n    \"trading_hours\": \"09:15-15:30\",\n    \"timezone\": \"Asia/Kolkata\"\n}\n</code></pre>"},{"location":"api-reference/maverick-india/market/#market-configuration","title":"Market Configuration","text":"<pre><code>from maverick_india.market import INDIAN_MARKET_CONFIG, get_market_for_symbol\n\n# Get config for symbol\nconfig = get_market_for_symbol(\"RELIANCE.NS\")\nprint(f\"Exchange: {config['exchange']}\")\nprint(f\"Currency: {config['currency']}\")\n\n# All NSE stocks\nNSE_STOCKS = [\n    \"RELIANCE.NS\", \"TCS.NS\", \"HDFCBANK.NS\", \"INFY.NS\",\n    \"ICICIBANK.NS\", \"HINDUNILVR.NS\", \"ITC.NS\", \"SBIN.NS\"\n]\n</code></pre>"},{"location":"api-reference/maverick-india/market/#indian-stock-screening","title":"Indian Stock Screening","text":"<pre><code>from maverick_india.screening import (\n    get_maverick_bullish_india,\n    get_nifty50_momentum,\n    get_nifty_sector_rotation\n)\n\n# Bullish Indian stocks\nbullish = get_maverick_bullish_india(limit=10)\n\n# Nifty 50 momentum plays\nmomentum = get_nifty50_momentum(limit=15)\n\n# Sector rotation analysis\nsectors = get_nifty_sector_rotation(lookback_days=90)\nfor sector in sectors['top_sectors'][:3]:\n    print(f\"{sector['name']}: {sector['avg_return']:.2%}\")\n</code></pre>"},{"location":"api-reference/maverick-india/market/#economic-indicators","title":"Economic Indicators","text":"<pre><code>from maverick_india.economic import RBIDataProvider\n\nrbi = RBIDataProvider()\n\n# Get RBI policy rates\nrates = rbi.get_policy_rates()\nprint(f\"Repo Rate: {rates['repo_rate']}%\")\nprint(f\"Reverse Repo: {rates['reverse_repo_rate']}%\")\nprint(f\"CRR: {rates['crr']}%\")\nprint(f\"SLR: {rates['slr']}%\")\n\n# Get GDP data\ngdp = rbi.get_gdp_growth()\nprint(f\"GDP Growth: {gdp['current']}%\")\n\n# Get forex reserves\nforex = rbi.get_forex_reserves()\nprint(f\"Reserves: ${forex['total_reserves_usd']:.2f}B\")\n</code></pre>"},{"location":"api-reference/maverick-india/market/#currency-conversion","title":"Currency Conversion","text":"<pre><code>from maverick_india.currency import CurrencyConverter\n\nconverter = CurrencyConverter()\n\n# INR to USD\nusd = converter.convert(100000, \"INR\", \"USD\")\nprint(f\"\u20b91,00,000 = ${usd:.2f}\")\n\n# USD to INR\ninr = converter.convert(1000, \"USD\", \"INR\")\nprint(f\"$1,000 = \u20b9{inr:.2f}\")\n\n# Get exchange rate\nrate = converter.get_exchange_rate(\"USD\", \"INR\")\nprint(f\"1 USD = \u20b9{rate:.2f}\")\n</code></pre>"},{"location":"api-reference/maverick-india/market/#indian-news","title":"Indian News","text":"<pre><code>from maverick_india.news import IndianNewsProvider\n\nnews = IndianNewsProvider()\n\n# Get stock news\narticles = news.get_stock_news(\"RELIANCE.NS\", limit=10)\nfor article in articles:\n    print(f\"{article['title']} - {article['sentiment']}\")\n\n# Analyze sentiment\nsentiment = news.analyze_sentiment(\"TCS.NS\", period=\"7d\")\nprint(f\"Overall: {sentiment['overall_sentiment']}\")\nprint(f\"Score: {sentiment['sentiment_score']:.2f}\")\n</code></pre>"},{"location":"api-reference/maverick-india/market/#market-comparison","title":"Market Comparison","text":"<pre><code>from maverick_india.comparison import MarketComparisonAnalyzer\n\nanalyzer = MarketComparisonAnalyzer()\n\n# Compare US and Indian indices\ncomparison = analyzer.compare_indices(period=\"1y\")\nprint(f\"S&amp;P 500: {comparison['sp500']['return_pct']:.2%}\")\nprint(f\"Nifty 50: {comparison['nifty50']['return_pct']:.2%}\")\nprint(f\"Correlation: {comparison['correlation']:.2f}\")\n\n# Compare similar companies\ncomp = analyzer.compare_stocks(\"MSFT\", \"TCS.NS\", currency=\"USD\")\nprint(f\"MSFT Return: {comp['us_stock']['return_pct']:.2%}\")\nprint(f\"TCS Return: {comp['indian_stock']['return_pct']:.2%}\")\n</code></pre>"},{"location":"api-reference/maverick-india/market/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/maverick-india/market/#symbol-formatting","title":"Symbol Formatting","text":"<pre><code># \u2705 Correct\n\"RELIANCE.NS\"  # NSE\n\"TCS.BO\"       # BSE\n\n# \u274c Incorrect\n\"RELIANCE\"     # Missing suffix (treated as US stock)\n\"reliance.ns\"  # Should be uppercase\n</code></pre>"},{"location":"api-reference/maverick-india/market/#market-hours","title":"Market Hours","text":"<p>Indian markets: 9:15 AM - 3:30 PM IST</p> <pre><code>from maverick_india.market import is_market_open\n\nif is_market_open():\n    # Fetch real-time data\n    pass\nelse:\n    # Use cached data\n    pass\n</code></pre>"},{"location":"api-reference/maverick-india/market/#volume-thresholds","title":"Volume Thresholds","text":"<p>Indian markets have lower liquidity than US:</p> <pre><code># US default: 1,000,000 shares\n# India default: 500,000 shares\n\nbullish = get_maverick_bullish_india(\n    limit=10,\n    min_volume=250000  # Lower for small caps\n)\n</code></pre>"},{"location":"api-reference/maverick-server/monitoring/","title":"maverick-server: Monitoring","text":"<p>Health checks, metrics, and observability.</p>"},{"location":"api-reference/maverick-server/monitoring/#health-checks","title":"Health Checks","text":"<pre><code>from maverick_server.monitoring import HealthChecker\n\nchecker = HealthChecker()\n\n# Run health check\nstatus = checker.check_health()\n\nprint(f\"Status: {status['status']}\")  # healthy, degraded, unhealthy\nprint(f\"Components: {status['components']}\")\n</code></pre>"},{"location":"api-reference/maverick-server/monitoring/#component-status","title":"Component Status","text":"<pre><code>{\n    \"status\": \"healthy\",\n    \"components\": {\n        \"database\": {\"status\": \"healthy\", \"latency_ms\": 5},\n        \"redis\": {\"status\": \"healthy\", \"latency_ms\": 2},\n        \"yfinance_api\": {\"status\": \"healthy\", \"latency_ms\": 150}\n    },\n    \"timestamp\": \"2024-01-15T10:30:00Z\"\n}\n</code></pre>"},{"location":"api-reference/maverick-server/monitoring/#prometheus-metrics","title":"Prometheus Metrics","text":"<pre><code>from maverick_server.monitoring import PrometheusMetrics\n\nmetrics = PrometheusMetrics()\n\n# Record metrics\nmetrics.record_request(endpoint=\"/api/stocks\", duration=0.125)\nmetrics.record_error(endpoint=\"/api/stocks\", error_type=\"timeout\")\nmetrics.record_cache_hit(\"stock_data\")\nmetrics.record_cache_miss(\"stock_data\")\n</code></pre>"},{"location":"api-reference/maverick-server/monitoring/#available-metrics","title":"Available Metrics","text":"Metric Type Description <code>http_requests_total</code> Counter Total HTTP requests <code>http_request_duration_seconds</code> Histogram Request latency <code>cache_hits_total</code> Counter Cache hits <code>cache_misses_total</code> Counter Cache misses <code>circuit_breaker_state</code> Gauge Circuit breaker states <code>active_connections</code> Gauge Database connections"},{"location":"api-reference/maverick-server/monitoring/#prometheus-endpoint","title":"Prometheus Endpoint","text":"<pre><code>GET /metrics\n</code></pre> <p>Returns Prometheus-formatted metrics:</p> <pre><code># HELP http_requests_total Total HTTP requests\n# TYPE http_requests_total counter\nhttp_requests_total{endpoint=\"/api/stocks\",method=\"GET\"} 1234\n\n# HELP http_request_duration_seconds Request latency\n# TYPE http_request_duration_seconds histogram\nhttp_request_duration_seconds_bucket{le=\"0.1\"} 900\nhttp_request_duration_seconds_bucket{le=\"0.5\"} 1200\n</code></pre>"},{"location":"api-reference/maverick-server/monitoring/#sentry-integration","title":"Sentry Integration","text":"<p>Error tracking and performance monitoring:</p> <pre><code>from maverick_server.monitoring import SentryIntegration\n\n# Initialize (usually at startup)\nsentry = SentryIntegration(\n    dsn=\"https://xxx@sentry.io/project\",\n    environment=\"production\",\n    traces_sample_rate=0.1\n)\n\n# Capture exception\ntry:\n    risky_operation()\nexcept Exception as e:\n    sentry.capture_exception(e, extra={\"ticker\": \"AAPL\"})\n\n# Capture message\nsentry.capture_message(\"Cache cleared\", level=\"info\")\n</code></pre>"},{"location":"api-reference/maverick-server/monitoring/#configuration","title":"Configuration","text":"<p>Environment variables:</p> <pre><code>SENTRY_DSN=https://xxx@sentry.io/project\nSENTRY_ENVIRONMENT=production\nSENTRY_TRACES_SAMPLE_RATE=0.1\n</code></pre>"},{"location":"api-reference/maverick-server/monitoring/#circuit-breaker-monitoring","title":"Circuit Breaker Monitoring","text":"<pre><code>from maverick_server.monitoring import get_circuit_breaker_status\n\nstatus = get_circuit_breaker_status()\n\nfor name, breaker_status in status.items():\n    print(f\"{name}: {breaker_status['state']}\")\n    print(f\"  Failures: {breaker_status['failure_count']}\")\n    print(f\"  Success Rate: {breaker_status['success_rate']:.2%}\")\n</code></pre>"},{"location":"api-reference/maverick-server/monitoring/#resource-usage","title":"Resource Usage","text":"<pre><code>from maverick_server.monitoring import get_resource_usage\n\nusage = get_resource_usage()\n\nprint(f\"CPU: {usage['cpu_percent']}%\")\nprint(f\"Memory: {usage['memory_mb']} MB\")\nprint(f\"DB Connections: {usage['db_connections']}\")\n</code></pre>"},{"location":"api-reference/maverick-server/monitoring/#health-endpoints","title":"Health Endpoints","text":""},{"location":"api-reference/maverick-server/monitoring/#basic-health","title":"Basic Health","text":"<pre><code>GET /health\n</code></pre> <p>Returns: <pre><code>{\"status\": \"healthy\"}\n</code></pre></p>"},{"location":"api-reference/maverick-server/monitoring/#detailed-health","title":"Detailed Health","text":"<pre><code>GET /health/detailed\n</code></pre> <p>Returns: <pre><code>{\n    \"status\": \"healthy\",\n    \"components\": {\n        \"database\": {\"status\": \"healthy\"},\n        \"redis\": {\"status\": \"healthy\"},\n        \"external_apis\": {\"status\": \"degraded\"}\n    },\n    \"uptime_seconds\": 86400,\n    \"version\": \"0.1.0\"\n}\n</code></pre></p>"},{"location":"api-reference/maverick-server/monitoring/#dashboard","title":"Dashboard","text":"<pre><code>from maverick_server.monitoring import get_status_dashboard\n\ndashboard = get_status_dashboard()\n\n# Returns aggregated status for monitoring UI\n{\n    \"health\": {...},\n    \"metrics\": {...},\n    \"alerts\": [...],\n    \"recent_errors\": [...]\n}\n</code></pre>"},{"location":"api-reference/maverick-server/monitoring/#alerting","title":"Alerting","text":"<p>Configure alerts based on metrics:</p> <pre><code>from maverick_server.monitoring import AlertManager\n\nalerts = AlertManager()\n\n# Check for alerts\nactive_alerts = alerts.check_alerts()\n\nfor alert in active_alerts:\n    print(f\"ALERT: {alert['name']} - {alert['message']}\")\n</code></pre>"},{"location":"api-reference/maverick-server/monitoring/#alert-types","title":"Alert Types","text":"Alert Condition High Error Rate Error rate &gt; 5% Circuit Open Any circuit breaker open High Latency P95 latency &gt; 2s Low Cache Hit Rate Cache hit rate &lt; 50% Database Connection Pool Pool utilization &gt; 80%"},{"location":"api-reference/maverick-server/routers/","title":"maverick-server: Routers","text":"<p>MCP tool routers that expose functionality to Claude Desktop.</p>"},{"location":"api-reference/maverick-server/routers/#overview","title":"Overview","text":"<p>Routers define MCP tools that Claude can invoke. Each router handles a specific domain.</p>"},{"location":"api-reference/maverick-server/routers/#available-routers","title":"Available Routers","text":"Router Tools Description <code>data</code> Stock data, quotes Fetch historical and real-time data <code>screening</code> Stock recommendations Maverick bullish/bearish, breakouts <code>technical</code> Technical analysis RSI, MACD, support/resistance <code>portfolio</code> Portfolio management Positions, analysis, risk <code>research</code> Deep research AI-powered financial research <code>agents</code> LangGraph agents Multi-agent analysis <code>concall</code> Conference calls Transcript analysis <code>india</code> Indian market NSE/BSE, RBI data"},{"location":"api-reference/maverick-server/routers/#data-router","title":"Data Router","text":"<pre><code># MCP Tools\nget_stock_data(ticker, period)\nget_stock_info(ticker)\nget_chart_links(ticker)\nget_news_sentiment(ticker, timeframe)\n</code></pre> <p>Claude Usage: <pre><code>\"Get AAPL stock data for the last year\"\n\"Show me company info for Microsoft\"\n\"What's the sentiment on Tesla stock?\"\n</code></pre></p>"},{"location":"api-reference/maverick-server/routers/#screening-router","title":"Screening Router","text":"<pre><code># MCP Tools\nget_maverick_stocks(limit)\nget_maverick_bear_stocks(limit)\nget_supply_demand_breakouts(limit)\nget_all_screening_recommendations()\nget_screening_by_criteria(min_momentum_score, sector)\n</code></pre> <p>Claude Usage: <pre><code>\"Show me top momentum stocks\"\n\"Find bearish stock opportunities\"\n\"Get technology stocks with momentum score above 80\"\n</code></pre></p>"},{"location":"api-reference/maverick-server/routers/#technical-router","title":"Technical Router","text":"<pre><code># MCP Tools\nget_rsi_analysis(ticker, period)\nget_macd_analysis(ticker)\nget_support_resistance(ticker)\nget_full_technical_analysis(ticker)\nget_stock_chart_analysis(ticker)\n</code></pre> <p>Claude Usage: <pre><code>\"What's the RSI for Apple?\"\n\"Show MACD analysis for NVDA\"\n\"Find support and resistance levels for TSLA\"\n</code></pre></p>"},{"location":"api-reference/maverick-server/routers/#portfolio-router","title":"Portfolio Router","text":"<pre><code># MCP Tools\nadd_position(ticker, shares, purchase_price)\nget_my_portfolio()\nremove_position(ticker, shares)\nrisk_adjusted_analysis(ticker, risk_level)\ncompare_tickers(tickers)\nportfolio_correlation_analysis()\n</code></pre> <p>Claude Usage: <pre><code>\"Add 10 shares of AAPL at $180\"\n\"Show my portfolio performance\"\n\"Analyze risk for Microsoft at moderate level\"\n</code></pre></p>"},{"location":"api-reference/maverick-server/routers/#research-router","title":"Research Router","text":"<pre><code># MCP Tools\ncomprehensive_research(query, persona, scope)\ncompany_comprehensive(symbol)\nanalyze_market_sentiment(topic, timeframe)\n</code></pre> <p>Claude Usage: <pre><code>\"Research Apple's competitive position\"\n\"What's the market sentiment on AI stocks?\"\n\"Deep dive into Tesla's financials\"\n</code></pre></p>"},{"location":"api-reference/maverick-server/routers/#agents-router","title":"Agents Router","text":"<p>LangGraph-powered multi-agent analysis:</p> <pre><code># MCP Tools\nanalyze_market_with_agent(query, persona)\norchestrated_analysis(query, routing_strategy)\ndeep_research_financial(topic, focus_areas)\ncompare_personas_analysis(query)\n</code></pre> <p>Personas: - <code>conservative</code>: Lower risk tolerance - <code>moderate</code>: Balanced approach - <code>aggressive</code>: Higher risk tolerance - <code>day_trader</code>: Short-term focus</p> <p>Claude Usage: <pre><code>\"Analyze tech stocks with conservative persona\"\n\"Compare analysis across all investor types\"\n\"Research NVIDIA with focus on fundamentals\"\n</code></pre></p>"},{"location":"api-reference/maverick-server/routers/#india-router","title":"India Router","text":"<pre><code># MCP Tools\nget_indian_market_recommendations(strategy)\nanalyze_nifty_sectors()\nget_indian_market_overview()\nget_indian_economic_indicators()\nget_indian_stock_news(symbol)\ncompare_us_indian_markets(period)\nconvert_currency(amount, from_currency, to_currency)\n</code></pre> <p>Claude Usage: <pre><code>\"Show bullish Indian stocks\"\n\"What are RBI policy rates?\"\n\"Compare S&amp;P 500 with Nifty 50\"\n\"Convert 100000 INR to USD\"\n</code></pre></p>"},{"location":"api-reference/maverick-server/routers/#concall-router","title":"Concall Router","text":"<pre><code># MCP Tools\nfetch_transcript(ticker, quarter, fiscal_year)\nsummarize_transcript(ticker, quarter, fiscal_year, mode)\nanalyze_sentiment(ticker, quarter, fiscal_year)\nquery_transcript(question, ticker, quarter, fiscal_year)\ncompare_quarters(ticker, quarters)\n</code></pre> <p>Claude Usage: <pre><code>\"Summarize Reliance Q1 2025 earnings call\"\n\"What's the sentiment from TCS earnings?\"\n\"What did management say about margins?\"\n</code></pre></p>"},{"location":"api-reference/maverick-server/routers/#creating-custom-routers","title":"Creating Custom Routers","text":"<pre><code>from fastmcp import FastMCP\n\nmcp = FastMCP(\"my-router\")\n\n@mcp.tool()\ndef my_custom_tool(param: str) -&gt; dict:\n    \"\"\"Description shown to Claude.\"\"\"\n    return {\"result\": process(param)}\n\n# Register with server\ndef register_my_tools(mcp: FastMCP):\n    # Tool definitions\n    pass\n</code></pre>"},{"location":"api-reference/maverick-server/routers/#tool-registration","title":"Tool Registration","text":"<p>All tools are registered at server startup:</p> <pre><code>from maverick_server.routers import register_all_tools\n\n# In server initialization\nregister_all_tools(mcp)\n</code></pre>"},{"location":"concall/architecture/","title":"architecture","text":"<p>Documentation coming soon.</p>"},{"location":"concall/database-schema/","title":"datauase schema","text":"<p>Documentation coming soon.</p>"},{"location":"concall/fetching-transcripts/","title":"Fetching Earnings Call Transcripts","text":"<p>Comprehensive guide to transcript fetching in Maverick MCP.</p>"},{"location":"concall/fetching-transcripts/#overview","title":"Overview","text":"<p>Maverick MCP fetches earnings call transcripts from multiple sources with intelligent cascading fallback to ensure high availability. The system automatically parses various formats (PDF, HTML, TXT) and stores them in a structured database.</p>"},{"location":"concall/fetching-transcripts/#data-sources","title":"Data Sources","text":""},{"location":"concall/fetching-transcripts/#primary-source-company-investor-relations-websites","title":"Primary Source: Company Investor Relations Websites","text":"<p>The system attempts to fetch transcripts directly from company IR websites first.</p> <p>Advantages: - Most reliable and up-to-date - Official source with verified content - Often available immediately after calls - Complete transcripts with Q&amp;A</p> <p>Supported Formats: - PDF transcripts - HTML pages - Plain text files</p>"},{"location":"concall/fetching-transcripts/#fallback-source-nse-exchange-filings","title":"Fallback Source: NSE Exchange Filings","text":"<p>For Indian stocks (.NS suffix), transcripts are fetched from NSE regulatory filings.</p> <p>Advantages: - Mandatory regulatory requirement - Standardized format - Historical archive available - Verified by exchange</p> <p>Supported Companies: - All NSE-listed companies - Nifty 50 constituents - Major BSE stocks</p>"},{"location":"concall/fetching-transcripts/#fetching-process","title":"Fetching Process","text":""},{"location":"concall/fetching-transcripts/#step-1-company-identification","title":"Step 1: Company Identification","text":"<pre><code># Example: Fetching RELIANCE.NS Q1 FY2025 transcript\nticker = \"RELIANCE.NS\"\nquarter = \"Q1\"\nfiscal_year = 2025\n</code></pre> <p>Market Detection: - <code>.NS</code> suffix \u2192 NSE (India) - <code>.BO</code> suffix \u2192 BSE (India) - No suffix \u2192 US market</p>"},{"location":"concall/fetching-transcripts/#step-2-source-selection","title":"Step 2: Source Selection","text":"<p>The system cascades through sources in priority order:</p> <pre><code>1. Company IR Website\n   \u251c\u2500 Check for transcript section\n   \u251c\u2500 Parse quarter/year from URL patterns\n   \u2514\u2500 Download PDF/HTML content\n\n2. NSE Exchange Filings\n   \u251c\u2500 Query corporate actions API\n   \u251c\u2500 Filter for earnings announcements\n   \u2514\u2500 Download attached transcripts\n\n3. Database Cache\n   \u2514\u2500 Return previously fetched transcript\n</code></pre>"},{"location":"concall/fetching-transcripts/#step-3-content-extraction","title":"Step 3: Content Extraction","text":"<p>PDF Processing: <pre><code># Extract text from PDF\ntext = extract_pdf_text(pdf_file)\n\n# Clean formatting\ntext = remove_page_numbers(text)\ntext = normalize_whitespace(text)\ntext = fix_line_breaks(text)\n</code></pre></p> <p>HTML Processing: <pre><code># Parse HTML structure\nsoup = BeautifulSoup(html_content)\n\n# Extract transcript section\ntranscript = soup.find(\"div\", class_=\"transcript\")\n\n# Clean HTML tags\ntext = strip_html_tags(transcript)\n</code></pre></p>"},{"location":"concall/fetching-transcripts/#step-4-quality-validation","title":"Step 4: Quality Validation","text":"<p>Validation Checks: - Minimum length (500 words) - Contains company name - Has date/quarter information - Includes management participants - Contains Q&amp;A section</p> <p>Example Validation: <pre><code>def validate_transcript(text: str, ticker: str) -&gt; bool:\n    \"\"\"Validate transcript quality.\"\"\"\n    checks = [\n        len(text.split()) &gt; 500,  # Minimum word count\n        ticker.upper() in text,    # Company mentioned\n        \"Q\" in text and \"FY\" in text,  # Quarter info\n        any(role in text for role in [\"CEO\", \"CFO\", \"MD\"]),  # Management\n        \"question\" in text.lower()  # Q&amp;A section\n    ]\n    return all(checks)\n</code></pre></p>"},{"location":"concall/fetching-transcripts/#step-5-database-storage","title":"Step 5: Database Storage","text":"<p>Storage Schema: <pre><code>CREATE TABLE transcripts (\n    id SERIAL PRIMARY KEY,\n    ticker VARCHAR(10) NOT NULL,\n    company_name VARCHAR(255),\n    quarter VARCHAR(10) NOT NULL,\n    fiscal_year INTEGER NOT NULL,\n    call_date DATE NOT NULL,\n    raw_text TEXT NOT NULL,\n    source VARCHAR(50),\n    fetch_date TIMESTAMP DEFAULT NOW(),\n    word_count INTEGER,\n    UNIQUE(ticker, quarter, fiscal_year)\n);\n</code></pre></p>"},{"location":"concall/fetching-transcripts/#using-the-mcp-tool","title":"Using the MCP Tool","text":""},{"location":"concall/fetching-transcripts/#basic-usage","title":"Basic Usage","text":"<pre><code>Fetch RELIANCE.NS earnings call transcript for Q1 FY2025\n</code></pre> <p>Tool Call: <pre><code>concall_fetch_transcript(\n    ticker=\"RELIANCE.NS\",\n    quarter=\"Q1\",\n    fiscal_year=2025\n)\n</code></pre></p> <p>Response: <pre><code>{\n    \"status\": \"success\",\n    \"ticker\": \"RELIANCE.NS\",\n    \"company_name\": \"Reliance Industries Limited\",\n    \"quarter\": \"Q1\",\n    \"fiscal_year\": 2025,\n    \"call_date\": \"2024-07-19\",\n    \"word_count\": 8547,\n    \"source\": \"Company IR\",\n    \"transcript_preview\": \"Good evening and welcome to Reliance Industries...\"\n}\n</code></pre></p>"},{"location":"concall/fetching-transcripts/#advanced-examples","title":"Advanced Examples","text":"<p>Fetch with Auto-Detection: <pre><code>Get the latest earnings call for TCS\n</code></pre></p> <p>The system automatically: - Detects market (NSE) - Determines current quarter - Fetches most recent transcript</p> <p>Batch Fetching: <pre><code>Fetch transcripts for all Nifty 50 companies for Q1 2025\n</code></pre></p> <p>Processes multiple tickers in parallel with rate limiting.</p>"},{"location":"concall/fetching-transcripts/#error-handling","title":"Error Handling","text":""},{"location":"concall/fetching-transcripts/#common-errors","title":"Common Errors","text":"<p>1. Transcript Not Found <pre><code>{\n    \"status\": \"error\",\n    \"error\": \"TranscriptNotFound\",\n    \"message\": \"No transcript found for INFY Q1 FY2025\",\n    \"suggestions\": [\n        \"Call may not have occurred yet\",\n        \"Transcript not yet published\",\n        \"Try previous quarter\"\n    ]\n}\n</code></pre></p> <p>Solution: - Verify call date (usually 2-3 days after earnings release) - Check quarter and year format - Try fetching from a different source</p> <p>2. Invalid Quarter Format <pre><code>{\n    \"status\": \"error\",\n    \"error\": \"InvalidQuarter\",\n    \"message\": \"Quarter must be Q1, Q2, Q3, or Q4\",\n    \"provided\": \"Quarter 1\"\n}\n</code></pre></p> <p>Solution: - Use format: Q1, Q2, Q3, Q4 (not \"Quarter 1\" or \"1Q\")</p> <p>3. Rate Limit Exceeded <pre><code>{\n    \"status\": \"error\",\n    \"error\": \"RateLimitExceeded\",\n    \"message\": \"Too many requests. Please wait 60 seconds.\",\n    \"retry_after\": 60\n}\n</code></pre></p> <p>Solution: - System implements automatic rate limiting - Wait for specified retry time - Batch requests are throttled automatically</p>"},{"location":"concall/fetching-transcripts/#caching-strategy","title":"Caching Strategy","text":""},{"location":"concall/fetching-transcripts/#multi-tier-caching","title":"Multi-Tier Caching","text":"<p>L1: Redis Cache (5 minutes) - Recent fetches cached for quick access - Reduces database load - Automatic expiration</p> <p>L2: Database Cache (Permanent) - All transcripts stored permanently - Indexed by ticker + quarter + year - Never refetched unless explicitly requested</p> <p>L3: API Source (Fallback) - Fetches from source if not in cache - Rate limited to respect provider limits - Stores result in database</p>"},{"location":"concall/fetching-transcripts/#cache-invalidation","title":"Cache Invalidation","text":"<p>Transcripts are never automatically invalidated because: - Transcripts don't change after publication - Historical records are immutable - Saves API costs and bandwidth</p> <p>Manual Refresh: <pre><code># Force refetch (rare use case)\nconcall_fetch_transcript(\n    ticker=\"TCS.NS\",\n    quarter=\"Q1\",\n    fiscal_year=2025,\n    force_refresh=True\n)\n</code></pre></p>"},{"location":"concall/fetching-transcripts/#performance-characteristics","title":"Performance Characteristics","text":"Metric Value Cache Hit (L1/L2) &lt; 100ms Fresh Fetch (PDF) 2-5 seconds Fresh Fetch (HTML) 1-3 seconds NSE API Fetch 3-8 seconds Batch Processing 50 tickers/minute"},{"location":"concall/fetching-transcripts/#best-practices","title":"Best Practices","text":""},{"location":"concall/fetching-transcripts/#1-check-data-availability","title":"1. Check Data Availability","text":"<pre><code># Verify earnings call date first\nearnings_date = get_earnings_date(\"RELIANCE.NS\", \"Q1\", 2025)\n# Earnings: Jan 19, 2025\n\n# Transcripts usually available within 2-3 days\nfetch_date = earnings_date + timedelta(days=3)\n# Safe to fetch: Jan 22, 2025\n</code></pre>"},{"location":"concall/fetching-transcripts/#2-use-batch-operations-efficiently","title":"2. Use Batch Operations Efficiently","text":"<pre><code># Good: Batch with delay\ntickers = [\"RELIANCE.NS\", \"TCS.NS\", \"INFY.NS\"]\nfor ticker in tickers:\n    fetch_transcript(ticker, quarter, year)\n    time.sleep(1)  # Respect rate limits\n\n# Bad: Rapid-fire requests (will hit rate limit)\nfor ticker in tickers:\n    fetch_transcript(ticker, quarter, year)  # Too fast!\n</code></pre>"},{"location":"concall/fetching-transcripts/#3-handle-missing-transcripts-gracefully","title":"3. Handle Missing Transcripts Gracefully","text":"<pre><code>try:\n    result = fetch_transcript(ticker, quarter, year)\nexcept TranscriptNotFound:\n    # Try previous quarter\n    result = fetch_transcript(ticker, f\"Q{int(quarter[1])-1}\", year)\n</code></pre>"},{"location":"concall/fetching-transcripts/#4-verify-quality-before-analysis","title":"4. Verify Quality Before Analysis","text":"<pre><code>transcript = fetch_transcript(ticker, quarter, year)\n\nif transcript[\"word_count\"] &lt; 1000:\n    logger.warning(\"Transcript seems incomplete\")\n\nif \"question\" not in transcript[\"raw_text\"].lower():\n    logger.warning(\"Q&amp;A section may be missing\")\n</code></pre>"},{"location":"concall/fetching-transcripts/#supported-companies","title":"Supported Companies","text":""},{"location":"concall/fetching-transcripts/#indian-market-nsebse","title":"Indian Market (NSE/BSE)","text":"<p>Nifty 50: All 50 constituents supported, including: - RELIANCE.NS - TCS.NS - INFY.NS - HDFCBANK.NS - ICICIBANK.NS</p> <p>Nifty Next 50: Top 50 mid-cap stocks</p> <p>Banking Sector: All major banks with regular earnings calls</p>"},{"location":"concall/fetching-transcripts/#us-market","title":"US Market","text":"<p>S&amp;P 500: - Selected stocks based on IR website availability - Major tech companies (AAPL, MSFT, GOOGL) - Financial institutions</p>"},{"location":"concall/fetching-transcripts/#api-reference","title":"API Reference","text":"<p>For detailed API documentation, see: - Transcript Models - Provider Architecture</p>"},{"location":"concall/fetching-transcripts/#troubleshooting","title":"Troubleshooting","text":""},{"location":"concall/fetching-transcripts/#transcript-not-downloading","title":"Transcript Not Downloading","text":"<p>Check: 1. Company has published transcript (verify on IR website) 2. Quarter/year format is correct (Q1-Q4, 4-digit year) 3. Ticker symbol includes market suffix (.NS, .BO) 4. Not hitting rate limits (wait 60 seconds between requests)</p> <p>Debug Command: <pre><code># Enable debug logging\nimport logging\nlogging.basicConfig(level=logging.DEBUG)\n\n# Fetch with detailed logs\nresult = fetch_transcript(ticker, quarter, year, debug=True)\n</code></pre></p>"},{"location":"concall/fetching-transcripts/#incomplete-transcript","title":"Incomplete Transcript","text":"<p>Possible Causes: - PDF parsing errors (corrupted file) - HTML structure changed - Partial transcript published</p> <p>Solution: <pre><code># Force refetch with different source\nresult = fetch_transcript(\n    ticker, quarter, year,\n    prefer_source=\"NSE\",  # Try NSE instead of IR\n    force_refresh=True\n)\n</code></pre></p>"},{"location":"concall/fetching-transcripts/#next-steps","title":"Next Steps","text":"<ul> <li>AI Summarization \u2192</li> <li>Sentiment Analysis \u2192</li> <li>RAG Q&amp;A \u2192</li> </ul>"},{"location":"concall/finding-xpath-css-selectors/","title":"Finding XPath and CSS Selectors for IR Mappings","text":"<p>Complete visual guide to finding XPath and CSS selectors for company IR websites.</p>"},{"location":"concall/finding-xpath-css-selectors/#why-do-we-need-selectors","title":"Why Do We Need Selectors?","text":"<p>When adding companies to the IR mapping database, you need to tell the system where to find transcript links on their IR webpage. This is done using:</p> <ul> <li>XPath: XML Path Language for navigating HTML structure</li> <li>CSS Selectors: Same selectors used in CSS stylesheets</li> </ul> <p>These selectors act like \"instructions\" to find specific elements on a webpage.</p>"},{"location":"concall/finding-xpath-css-selectors/#quick-start-browser-devtools","title":"Quick Start - Browser DevTools","text":"<p>All modern browsers have built-in tools for inspecting web pages and finding selectors.</p>"},{"location":"concall/finding-xpath-css-selectors/#chromeedge-devtools","title":"Chrome/Edge DevTools","text":"<p>Step 1: Open DevTools - Right-click on the page \u2192 \"Inspect\"  - Or press <code>F12</code> - Or press <code>Ctrl+Shift+I</code> (Windows/Linux) or <code>Cmd+Opt+I</code> (Mac)</p> <p>Step 2: Enable Selector Mode - Click the \"Select element\" icon (top-left of DevTools) - Or press <code>Ctrl+Shift+C</code> (Windows/Linux) or <code>Cmd+Shift+C</code> (Mac)</p> <p>Step 3: Click on Element - Hover over the transcript link on the webpage - Click when the link is highlighted - DevTools will show you the exact HTML element</p>"},{"location":"concall/finding-xpath-css-selectors/#firefox-devtools","title":"Firefox DevTools","text":"<p>Same process as Chrome, with similar keyboard shortcuts.</p>"},{"location":"concall/finding-xpath-css-selectors/#safari-web-inspector","title":"Safari Web Inspector","text":"<p>Enable Developer Tools First: 1. Safari \u2192 Settings \u2192 Advanced 2. Check \"Show Develop menu in menu bar\"</p> <p>Then: - Develop \u2192 Show Web Inspector - Or <code>Cmd+Opt+I</code></p>"},{"location":"concall/finding-xpath-css-selectors/#real-world-example-finding-reliance-ir-selectors","title":"Real-World Example: Finding Reliance IR Selectors","text":"<p>Let's walk through finding selectors for Reliance Industries Limited.</p>"},{"location":"concall/finding-xpath-css-selectors/#step-1-navigate-to-ir-page","title":"Step 1: Navigate to IR Page","text":"<p>Visit: <code>https://www.ril.com/InvestorRelations/WebcastAndTranscript.aspx</code></p>"},{"location":"concall/finding-xpath-css-selectors/#step-2-locate-transcript-section","title":"Step 2: Locate Transcript Section","text":"<p>Look for the section containing transcript links. Usually: - Under \"Quarterly Results\" - In \"Transcripts\" or \"Earnings Calls\" section - Near \"Webcast &amp; Transcripts\"</p> <p>For Reliance, there's a clear section with transcript PDFs.</p>"},{"location":"concall/finding-xpath-css-selectors/#step-3-inspect-a-transcript-link","title":"Step 3: Inspect a Transcript Link","text":"<p>Right-click on a transcript link \u2192 \"Inspect\"</p> <p>You'll see HTML like: <pre><code>&lt;div class=\"transcript-section\"&gt;\n  &lt;div class=\"quarter-results\"&gt;\n    &lt;h3&gt;Q1 FY 2025&lt;/h3&gt;\n    &lt;a href=\"/downloads/Q1-FY2025-Transcript.pdf\" target=\"_blank\"&gt;\n      Download Transcript (PDF)\n    &lt;/a&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre></p>"},{"location":"concall/finding-xpath-css-selectors/#step-4-write-the-css-selector","title":"Step 4: Write the CSS Selector","text":"<p>Goal: Find ALL transcript links in this section</p> <p>Option 1 - By Class: <pre><code>.transcript-section a\n</code></pre> This finds all <code>&lt;a&gt;</code> tags inside elements with class <code>transcript-section</code></p> <p>Option 2 - More Specific: <pre><code>.transcript-section .quarter-results a\n</code></pre></p> <p>Option 3 - By Attribute: <pre><code>a[href*=\"Transcript.pdf\"]\n</code></pre> This finds all links where <code>href</code> contains \"Transcript.pdf\"</p>"},{"location":"concall/finding-xpath-css-selectors/#step-5-write-the-xpath","title":"Step 5: Write the XPath","text":"<p>Same goal, using XPath syntax:</p> <p>Option 1 - By Class: <pre><code>//div[contains(@class, 'transcript-section')]//a\n</code></pre></p> <p>Option 2 - By Text Content: <pre><code>//a[contains(text(), 'Transcript')]\n</code></pre></p> <p>Option 3 - By href Attribute: <pre><code>//a[contains(@href, 'Transcript.pdf')]\n</code></pre></p>"},{"location":"concall/finding-xpath-css-selectors/#step-6-test-your-selector","title":"Step 6: Test Your Selector","text":"<p>In Chrome Console (F12 \u2192 Console):</p> <pre><code>// Test CSS Selector\ndocument.querySelectorAll('.transcript-section a')\n// Should return: NodeList of links\n\n// Test XPath\ndocument.evaluate(\n  \"//div[contains(@class, 'transcript-section')]//a\",\n  document,\n  null,\n  XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,\n  null\n)\n// Or use Chrome's shortcut:\n$x(\"//div[contains(@class, 'transcript-section')]//a\")\n</code></pre> <p>Expected Result: <pre><code>// Should return 4-8 links (depending on quarters available)\nNodeList(6) [\n  &lt;a href=\"/downloads/Q1-FY2025-Transcript.pdf\"&gt;...&lt;/a&gt;,\n  &lt;a href=\"/downloads/Q4-FY2024-Transcript.pdf\"&gt;...&lt;/a&gt;,\n  ...\n]\n</code></pre></p> <p>If you get 0 results, your selector is wrong. Try again!</p>"},{"location":"concall/finding-xpath-css-selectors/#common-html-patterns-on-ir-pages","title":"Common HTML Patterns on IR Pages","text":""},{"location":"concall/finding-xpath-css-selectors/#pattern-1-simple-list-of-links","title":"Pattern 1: Simple List of Links","text":"<pre><code>&lt;div id=\"transcripts\"&gt;\n  &lt;ul&gt;\n    &lt;li&gt;&lt;a href=\"Q1-2025.pdf\"&gt;Q1 FY2025 Transcript&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"Q4-2024.pdf\"&gt;Q4 FY2024 Transcript&lt;/a&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre> <p>CSS Selector: <pre><code>#transcripts a\n</code></pre></p> <p>XPath: <pre><code>//div[@id='transcripts']//a\n</code></pre></p>"},{"location":"concall/finding-xpath-css-selectors/#pattern-2-table-with-transcripts","title":"Pattern 2: Table with Transcripts","text":"<pre><code>&lt;table class=\"financial-results\"&gt;\n  &lt;tr&gt;\n    &lt;td&gt;Q1 FY2025&lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"transcript-q1-2025.pdf\"&gt;Download&lt;/a&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;Q4 FY2024&lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"transcript-q4-2024.pdf\"&gt;Download&lt;/a&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre> <p>CSS Selector: <pre><code>table.financial-results a\n</code></pre></p> <p>XPath: <pre><code>//table[contains(@class, 'financial-results')]//a\n</code></pre></p>"},{"location":"concall/finding-xpath-css-selectors/#pattern-3-accordionexpandable-section","title":"Pattern 3: Accordion/Expandable Section","text":"<pre><code>&lt;div class=\"accordion\"&gt;\n  &lt;div class=\"accordion-item\"&gt;\n    &lt;h4 class=\"accordion-header\"&gt;Q1 FY2025&lt;/h4&gt;\n    &lt;div class=\"accordion-body\"&gt;\n      &lt;a href=\"transcript.pdf\"&gt;Transcript&lt;/a&gt;\n      &lt;a href=\"presentation.pdf\"&gt;Presentation&lt;/a&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre> <p>CSS Selector (Only Transcript Links): <pre><code>.accordion-body a[href*=\"transcript\"]\n</code></pre></p> <p>XPath: <pre><code>//div[contains(@class, 'accordion-body')]//a[contains(@href, 'transcript')]\n</code></pre></p>"},{"location":"concall/finding-xpath-css-selectors/#pattern-4-links-with-specific-text","title":"Pattern 4: Links with Specific Text","text":"<pre><code>&lt;div class=\"documents\"&gt;\n  &lt;a href=\"doc1.pdf\"&gt;Financial Results&lt;/a&gt;\n  &lt;a href=\"doc2.pdf\"&gt;Earnings Call Transcript&lt;/a&gt;\n  &lt;a href=\"doc3.pdf\"&gt;Investor Presentation&lt;/a&gt;\n&lt;/div&gt;\n</code></pre> <p>CSS Selector (Text-based): <pre><code>/* CSS doesn't support text-based selection well */\n/* Use XPath instead */\n</code></pre></p> <p>XPath: <pre><code>//div[@class='documents']//a[contains(text(), 'Transcript')]\n</code></pre></p>"},{"location":"concall/finding-xpath-css-selectors/#xpath-syntax-cheatsheet","title":"XPath Syntax Cheatsheet","text":""},{"location":"concall/finding-xpath-css-selectors/#basic-structure","title":"Basic Structure","text":"<pre><code>//tagname[@attribute='value']\n</code></pre> <ul> <li><code>//</code> = Search anywhere in document</li> <li><code>tagname</code> = HTML tag (div, a, span, etc.)</li> <li><code>@attribute</code> = HTML attribute (class, id, href, etc.)</li> <li><code>'value'</code> = Exact value to match</li> </ul>"},{"location":"concall/finding-xpath-css-selectors/#common-xpath-patterns","title":"Common XPath Patterns","text":"Pattern Syntax Example Any tag with class <code>//tag[@class='name']</code> <code>//div[@class='transcript']</code> Class contains <code>//tag[contains(@class, 'name')]</code> <code>//div[contains(@class, 'transcript')]</code> Any descendant <code>//parent//child</code> <code>//div[@id='ir']//a</code> Text contains <code>//tag[contains(text(), 'word')]</code> <code>//a[contains(text(), 'Transcript')]</code> Attribute contains <code>//tag[contains(@attr, 'val')]</code> <code>//a[contains(@href, '.pdf')]</code> Multiple conditions <code>//tag[@a='x' and @b='y']</code> <code>//a[@class='link' and contains(@href, 'pdf')]</code> Following sibling <code>//tag/following-sibling::tag</code> <code>//h3[text()='Q1']/following-sibling::a</code>"},{"location":"concall/finding-xpath-css-selectors/#advanced-xpath-examples","title":"Advanced XPath Examples","text":"<p>Find links after a specific heading: <pre><code>//h3[contains(text(), 'Q1 FY2025')]/following-sibling::div//a\n</code></pre></p> <p>Find PDF links only: <pre><code>//a[contains(@href, '.pdf')]\n</code></pre></p> <p>Find links in a specific section: <pre><code>//section[@id='quarterly-results']//a[contains(text(), 'Transcript')]\n</code></pre></p> <p>Find links with specific classes: <pre><code>//a[contains(@class, 'transcript-link') or contains(@class, 'download-link')]\n</code></pre></p>"},{"location":"concall/finding-xpath-css-selectors/#css-selector-cheatsheet","title":"CSS Selector Cheatsheet","text":""},{"location":"concall/finding-xpath-css-selectors/#basic-structure_1","title":"Basic Structure","text":"<pre><code>tag.class#id[attribute]\n</code></pre>"},{"location":"concall/finding-xpath-css-selectors/#common-css-patterns","title":"Common CSS Patterns","text":"Pattern Syntax Example Class selector <code>.classname</code> <code>.transcript</code> ID selector <code>#idname</code> <code>#quarterly-results</code> Descendant <code>parent child</code> <code>div.ir a</code> Direct child <code>parent &gt; child</code> <code>div.ir &gt; a</code> Attribute equals <code>[attr='value']</code> <code>[href='transcript.pdf']</code> Attribute contains <code>[attr*='value']</code> <code>[href*='transcript']</code> Attribute starts with <code>[attr^='value']</code> <code>[href^='/downloads']</code> Attribute ends with <code>[attr$='value']</code> <code>[href$='.pdf']</code> Multiple classes <code>.class1.class2</code> <code>.transcript.download</code>"},{"location":"concall/finding-xpath-css-selectors/#advanced-css-examples","title":"Advanced CSS Examples","text":"<p>Links inside transcript section: <pre><code>div.transcript-section a\n</code></pre></p> <p>PDF links only: <pre><code>a[href$='.pdf']\n</code></pre></p> <p>Links with specific class: <pre><code>a.transcript-link, a.download-link\n</code></pre></p> <p>Nested structure: <pre><code>#investor-relations .quarterly-results .transcripts a\n</code></pre></p>"},{"location":"concall/finding-xpath-css-selectors/#testing-your-selectors-in-browser","title":"Testing Your Selectors in Browser","text":""},{"location":"concall/finding-xpath-css-selectors/#method-1-chrome-console","title":"Method 1: Chrome Console","text":"<p>For CSS: <pre><code>// Get all matching elements\ndocument.querySelectorAll('your-css-selector')\n\n// Get first matching element\ndocument.querySelector('your-css-selector')\n\n// Count matches\ndocument.querySelectorAll('.transcript a').length\n\n// Chrome shortcut (same as querySelectorAll)\n$$('.transcript a')\n</code></pre></p> <p>For XPath: <pre><code>// Chrome's built-in XPath helper\n$x(\"//div[@class='transcript']//a\")\n\n// Full XPath evaluation\ndocument.evaluate(\n  \"//div[@class='transcript']//a\",\n  document,\n  null,\n  XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,\n  null\n)\n</code></pre></p>"},{"location":"concall/finding-xpath-css-selectors/#method-2-copy-selector-from-devtools","title":"Method 2: Copy Selector from DevTools","text":"<p>Chrome: 1. Inspect element (right-click \u2192 Inspect) 2. In Elements panel, right-click the highlighted element 3. Copy \u2192 Copy selector (CSS) or Copy XPath</p> <p>Result: <pre><code>CSS: body &gt; div#content &gt; div.ir-section &gt; a:nth-child(3)\nXPath: /html/body/div[2]/div[1]/a[3]\n</code></pre></p> <p>\u26a0\ufe0f Warning: Auto-generated selectors are often brittle and break easily. Hand-crafted selectors are more reliable!</p>"},{"location":"concall/finding-xpath-css-selectors/#method-3-browser-extensions","title":"Method 3: Browser Extensions","text":"<p>Chrome/Edge: - ChroPath: Free XPath/CSS selector generator - SelectorsHub: Advanced selector testing - XPath Helper: Hover and get XPath</p> <p>Firefox: - XPath Finder: Similar to Chrome extensions - CSS Selector Finder: Built into DevTools</p>"},{"location":"concall/finding-xpath-css-selectors/#real-world-examples-from-json","title":"Real-World Examples from JSON","text":""},{"location":"concall/finding-xpath-css-selectors/#example-1-hdfc-bank","title":"Example 1: HDFC Bank","text":"<p>Website Structure: <pre><code>&lt;div class=\"financial-results\"&gt;\n  &lt;select id=\"year\"&gt;...&lt;/select&gt;\n  &lt;select id=\"quarter\"&gt;...&lt;/select&gt;\n  &lt;div class=\"results-content\"&gt;\n    &lt;a href=\"/downloads/Q1-FY2025-Transcript.pdf\"&gt;\n      Transcript-Q1 FY25-Analyst Earnings Call\n    &lt;/a&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre></p> <p>Selectors in JSON: <pre><code>{\n  \"ticker\": \"HDFCBANK.NS\",\n  \"concall_section_xpath\": \"//div[@class='financial-results']//a[contains(text(), 'Transcript')]\",\n  \"concall_section_css\": \".financial-results a:contains('Transcript')\"\n}\n</code></pre></p>"},{"location":"concall/finding-xpath-css-selectors/#example-2-tcs","title":"Example 2: TCS","text":"<p>Website Structure: <pre><code>&lt;div id=\"quarterly-results\"&gt;\n  &lt;h3&gt;Q1 FY2025 Results&lt;/h3&gt;\n  &lt;div class=\"downloads\"&gt;\n    &lt;a href=\"/ir/q1-transcript.pdf\" class=\"transcript-link\"&gt;Transcript&lt;/a&gt;\n    &lt;a href=\"/ir/q1-ppt.pdf\" class=\"ppt-link\"&gt;Presentation&lt;/a&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre></p> <p>Selectors in JSON: <pre><code>{\n  \"ticker\": \"TCS.NS\",\n  \"concall_section_xpath\": \"//div[@id='quarterly-results']//a\",\n  \"concall_section_css\": \"#quarterly-results a\"\n}\n</code></pre></p>"},{"location":"concall/finding-xpath-css-selectors/#example-3-reliance-complex","title":"Example 3: Reliance (Complex)","text":"<p>Website Structure: <pre><code>&lt;div class=\"investor-relations\"&gt;\n  &lt;div class=\"tabs\"&gt;\n    &lt;div class=\"tab-content active\" id=\"transcripts\"&gt;\n      &lt;table class=\"transcript-table\"&gt;\n        &lt;tr&gt;\n          &lt;td class=\"quarter\"&gt;Q1 FY2025&lt;/td&gt;\n          &lt;td class=\"date\"&gt;July 19, 2024&lt;/td&gt;\n          &lt;td class=\"download\"&gt;\n            &lt;a href=\"https://www.ril.com/.../Q1-FY25-Transcript.pdf\" target=\"_blank\"&gt;\n              &lt;i class=\"icon-download\"&gt;&lt;/i&gt; Download\n            &lt;/a&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/table&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre></p> <p>Selectors in JSON: <pre><code>{\n  \"ticker\": \"RELIANCE.NS\",\n  \"concall_section_xpath\": \"//div[contains(@class, 'transcript')]//a\",\n  \"concall_section_css\": \"div.transcript a, table.transcript-table a\"\n}\n</code></pre></p>"},{"location":"concall/finding-xpath-css-selectors/#step-by-step-walkthrough","title":"Step-by-Step Walkthrough","text":"<p>Let's add Tata Motors as a complete example.</p>"},{"location":"concall/finding-xpath-css-selectors/#step-1-visit-ir-page","title":"Step 1: Visit IR Page","text":"<p>Navigate to: <code>https://www.tatamotors.com/investors/</code></p>"},{"location":"concall/finding-xpath-css-selectors/#step-2-find-quarterly-results","title":"Step 2: Find Quarterly Results","text":"<p>Click through: 1. \"Investors\" \u2192 \"Financials\" 2. \"Quarterly Results\" 3. Look for latest quarter</p>"},{"location":"concall/finding-xpath-css-selectors/#step-3-identify-transcript-pattern","title":"Step 3: Identify Transcript Pattern","text":"<p>You see: <pre><code>Q1 FY 2025 Results\n\u251c\u2500\u2500 Financial Results (PDF)\n\u251c\u2500\u2500 Analyst Presentation (PDF)\n\u2514\u2500\u2500 Earnings Call Transcript (PDF) \u2190 This is what we want!\n</code></pre></p>"},{"location":"concall/finding-xpath-css-selectors/#step-4-inspect-the-link","title":"Step 4: Inspect the Link","text":"<p>Right-click \"Earnings Call Transcript\" \u2192 Inspect</p> <pre><code>&lt;div class=\"quarterly-results\"&gt;\n  &lt;div class=\"result-item\"&gt;\n    &lt;h4&gt;Q1 FY 2025&lt;/h4&gt;\n    &lt;ul class=\"documents\"&gt;\n      &lt;li&gt;&lt;a href=\"/docs/results.pdf\"&gt;Financial Results&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"/docs/presentation.pdf\"&gt;Analyst Presentation&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"/docs/transcript.pdf\" class=\"transcript\"&gt;\n        Earnings Call Transcript\n      &lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"concall/finding-xpath-css-selectors/#step-5-write-selectors","title":"Step 5: Write Selectors","text":"<p>CSS (Option 1 - By class): <pre><code>.quarterly-results a.transcript\n</code></pre></p> <p>CSS (Option 2 - By text in link): <pre><code>.documents a[href*=\"transcript\"]\n</code></pre></p> <p>XPath (Option 1 - By class): <pre><code>//div[contains(@class, 'quarterly-results')]//a[contains(@class, 'transcript')]\n</code></pre></p> <p>XPath (Option 2 - By text): <pre><code>//div[@class='documents']//a[contains(text(), 'Transcript')]\n</code></pre></p>"},{"location":"concall/finding-xpath-css-selectors/#step-6-test-in-console","title":"Step 6: Test in Console","text":"<pre><code>// Test CSS\n$$('.quarterly-results a.transcript')\n// Result: NodeList(4) - Found 4 quarters!\n\n// Test XPath\n$x(\"//div[contains(@class, 'quarterly-results')]//a[contains(@class, 'transcript')]\")\n// Result: Array(4) - Success!\n</code></pre>"},{"location":"concall/finding-xpath-css-selectors/#step-7-add-to-json","title":"Step 7: Add to JSON","text":"<pre><code>{\n  \"ticker\": \"TATAMOTORS.NS\",\n  \"company_name\": \"Tata Motors Limited\",\n  \"ir_base_url\": \"https://www.tatamotors.com/investors/\",\n  \"concall_url_pattern\": \"https://www.tatamotors.com/investors/financials/quarterly-results/\",\n  \"concall_section_xpath\": \"//div[contains(@class, 'quarterly-results')]//a[contains(@class, 'transcript')]\",\n  \"concall_section_css\": \".quarterly-results a.transcript\",\n  \"market\": \"NSE\",\n  \"country\": \"IN\",\n  \"is_active\": true,\n  \"notes\": \"Transcripts in Financials \u2192 Quarterly Results \u2192 Look for 'Earnings Call Transcript' link\"\n}\n</code></pre>"},{"location":"concall/finding-xpath-css-selectors/#troubleshooting","title":"Troubleshooting","text":""},{"location":"concall/finding-xpath-css-selectors/#selector-returns-nothing","title":"Selector Returns Nothing","text":"<p>Problem: <code>$x(\"//div[@class='transcript']//a\")</code> returns <code>[]</code></p> <p>Solutions:</p> <ol> <li> <p>Check if class exists: <pre><code>$$('div')  // See all divs\n// Look through results for your section\n</code></pre></p> </li> <li> <p>Try broader selector: <pre><code>// Instead of exact match\n$x(\"//div[@class='transcript-section']//a\")\n// Try contains\n$x(\"//div[contains(@class, 'transcript')]//a\")\n</code></pre></p> </li> <li> <p>Check if content is dynamic (JavaScript-loaded): <pre><code>// Wait for page to fully load\nsetTimeout(() =&gt; {\n  $x(\"//div[@class='transcript']//a\")\n}, 3000)\n</code></pre></p> </li> <li> <p>Check if inside iframe: <pre><code>// Switch to iframe first\nconst iframe = document.querySelector('iframe')\nconst iframeDoc = iframe.contentDocument\niframeDoc.querySelectorAll('.transcript a')\n</code></pre></p> </li> </ol>"},{"location":"concall/finding-xpath-css-selectors/#selector-too-specific-breaks-easily","title":"Selector Too Specific (Breaks Easily)","text":"<p>Problem: Selector works now but breaks after website update</p> <p>Bad (Brittle): <pre><code>body &gt; div:nth-child(3) &gt; div:nth-child(2) &gt; a:nth-child(5)\n</code></pre></p> <p>Good (Flexible): <pre><code>.investor-relations .transcripts a\n</code></pre></p> <p>Best Practice: - Use semantic classes/IDs - Avoid positional selectors (<code>:nth-child</code>) - Test across multiple quarters - Use <code>contains()</code> for partial matches</p>"},{"location":"concall/finding-xpath-css-selectors/#multiple-selectors-return-different-results","title":"Multiple Selectors Return Different Results","text":"<p>Problem: CSS and XPath return different elements</p> <p>Debug: <pre><code>const cssResults = $$('.transcript a')\nconst xpathResults = $x(\"//div[@class='transcript']//a\")\n\nconsole.log('CSS:', cssResults.length)\nconsole.log('XPath:', xpathResults.length)\n\n// Compare first elements\nconsole.log('CSS first:', cssResults[0])\nconsole.log('XPath first:', xpathResults[0])\n</code></pre></p> <p>Solution: - Pick the one that returns ALL transcript links - Test across multiple pages - Choose simpler, more maintainable selector</p>"},{"location":"concall/finding-xpath-css-selectors/#best-practices","title":"Best Practices","text":""},{"location":"concall/finding-xpath-css-selectors/#dos","title":"\u2705 Do's","text":"<ol> <li> <p>Test across multiple quarters <pre><code>// Navigate to different quarters and test\n$x(\"//div[@class='transcripts']//a\")\n// Should work on Q1, Q2, Q3, Q4 pages\n</code></pre></p> </li> <li> <p>Use semantic selectors <pre><code>/* Good - uses meaningful class */\n.transcripts a\n\n/* Bad - uses generated class */\n.jsx-12345678 a\n</code></pre></p> </li> <li> <p>Prefer classes over IDs (if IDs change) <pre><code>/* IDs might be dynamic */\n#result-123456 a\n\n/* Classes are usually stable */\n.quarterly-results a\n</code></pre></p> </li> <li> <p>Include backup selector <pre><code>\"concall_section_xpath\": \"//div[@id='transcripts']//a\",\n\"concall_section_css\": \"#transcripts a, .transcript-section a\"\n</code></pre></p> </li> <li> <p>Add detailed notes <pre><code>\"notes\": \"Transcripts under 'Investors' \u2192 'Quarterly Results'. Links have class 'transcript-download'. Structure stable since 2023.\"\n</code></pre></p> </li> </ol>"},{"location":"concall/finding-xpath-css-selectors/#donts","title":"\u274c Don'ts","text":"<ol> <li> <p>Don't use auto-generated selectors <pre><code>/* Chrome's Copy Selector gives this - DON'T USE */\nbody &gt; div:nth-child(4) &gt; main &gt; section:nth-child(2) &gt; div &gt; a:nth-child(3)\n</code></pre></p> </li> <li> <p>Don't rely on exact text matches <pre><code>/* Breaks if text changes slightly */\n//a[text()='Download Q1 FY2025 Transcript']\n\n/* Better - partial match */\n//a[contains(text(), 'Transcript')]\n</code></pre></p> </li> <li> <p>Don't forget to handle edge cases</p> </li> <li>What if no transcripts are published?</li> <li>What if structure is different for old quarters?</li> <li>What if links are inside a dropdown?</li> </ol>"},{"location":"concall/finding-xpath-css-selectors/#tools-resources","title":"Tools &amp; Resources","text":""},{"location":"concall/finding-xpath-css-selectors/#browser-extensions","title":"Browser Extensions","text":"<p>Chrome/Edge: - ChroPath - Best XPath generator - SelectorsHub - Advanced testing - XPath Helper - Simple hover tool</p> <p>Firefox: - XPath Finder - Similar to ChroPath - Built-in DevTools have excellent CSS/XPath support</p>"},{"location":"concall/finding-xpath-css-selectors/#online-tools","title":"Online Tools","text":"<ul> <li>XPath Tester - Test XPath online</li> <li>CSS Selector Tester - Test CSS selectors</li> <li>Regex101 - For complex attribute matching</li> </ul>"},{"location":"concall/finding-xpath-css-selectors/#learning-resources","title":"Learning Resources","text":"<ul> <li>XPath Tutorial (W3Schools)</li> <li>CSS Selectors Reference (MDN)</li> <li>Chrome DevTools Guide</li> </ul>"},{"location":"concall/finding-xpath-css-selectors/#quick-reference-card","title":"Quick Reference Card","text":""},{"location":"concall/finding-xpath-css-selectors/#most-common-patterns","title":"Most Common Patterns","text":"<pre><code>// 1. Find all links in a section\n$x(\"//div[@id='transcripts']//a\")\n$$('#transcripts a')\n\n// 2. Find links containing \"transcript\"\n$x(\"//a[contains(text(), 'Transcript')]\")\n$$('a')  // Then filter manually\n\n// 3. Find PDF links\n$x(\"//a[contains(@href, '.pdf')]\")\n$$('a[href$=\".pdf\"]')\n\n// 4. Find links with specific class\n$x(\"//a[contains(@class, 'transcript')]\")\n$$('a.transcript, a.transcript-link')\n\n// 5. Find links in table\n$x(\"//table[@class='results']//a\")\n$$('table.results a')\n</code></pre>"},{"location":"concall/finding-xpath-css-selectors/#next-steps","title":"Next Steps","text":"<ul> <li>IR Mappings Guide \u2192 - Add your selectors to JSON</li> <li>Fetching Transcripts \u2192 - Test your mappings</li> <li>Database Schema \u2192 - Understanding the data model</li> </ul> <p>Pro Tip: The best way to learn is by practicing! Open your favorite company's IR page and try finding selectors yourself.</p> <p>Last Updated: 2025-11-16</p>"},{"location":"concall/ir-mappings-guide/","title":"Company IR Mappings Guide","text":"<p>Complete guide to managing Company Investor Relations (IR) URL mappings in Maverick MCP.</p>"},{"location":"concall/ir-mappings-guide/#overview","title":"Overview","text":"<p>IR mappings tell Maverick MCP where to find earnings call transcripts on company websites. These mappings are stored in a database and can be managed through JSON seed files or direct database operations.</p>"},{"location":"concall/ir-mappings-guide/#quick-start","title":"Quick Start","text":""},{"location":"concall/ir-mappings-guide/#seeding-pre-configured-mappings","title":"Seeding Pre-Configured Mappings","text":"<p>The system includes pre-configured IR mappings for top Indian companies:</p> <pre><code># Docker\ndocker exec maverick-mcp-backend-1 python scripts/seed_concall_mappings.py\n\n# Local (uv)\nuv run python scripts/seed_concall_mappings.py\n</code></pre> <p>This will seed 10 Indian companies including: - RELIANCE.NS - Reliance Industries - TCS.NS - Tata Consultancy Services - INFY.NS - Infosys Limited - HDFCBANK.NS - HDFC Bank - ICICIBANK.NS - ICICI Bank - WIPRO.NS - Wipro Limited - BHARTIARTL.NS - Bharti Airtel - ITC.NS - ITC Limited - BAJFINANCE.NS - Bajaj Finance - SBIN.NS - State Bank of India</p>"},{"location":"concall/ir-mappings-guide/#understanding-ir-mappings","title":"Understanding IR Mappings","text":""},{"location":"concall/ir-mappings-guide/#json-structure","title":"JSON Structure","text":"<p>IR mappings are defined in: <code>packages/india/src/maverick_india/concall/data/company_ir_seed.json</code></p> <pre><code>{\n  \"companies\": [\n    {\n      \"ticker\": \"RELIANCE.NS\",\n      \"company_name\": \"Reliance Industries Limited\",\n      \"ir_base_url\": \"https://www.ril.com/InvestorRelations.aspx\",\n      \"concall_url_pattern\": \"https://www.ril.com/InvestorRelations/WebcastAndTranscript.aspx\",\n      \"concall_section_xpath\": \"//div[contains(@class, 'transcript')]//a\",\n      \"concall_section_css\": \"div.transcript a\",\n      \"market\": \"NSE\",\n      \"country\": \"IN\",\n      \"is_active\": true,\n      \"notes\": \"Most comprehensive IR. All transcripts as PDFs with audio.\",\n      \"priority\": 1\n    }\n  ]\n}\n</code></pre>"},{"location":"concall/ir-mappings-guide/#field-descriptions","title":"Field Descriptions","text":"Field Required Description Example <code>ticker</code> \u2705 Yes Stock symbol with market suffix <code>\"RELIANCE.NS\"</code>, <code>\"AAPL\"</code> <code>company_name</code> \u2705 Yes Full legal company name <code>\"Reliance Industries Limited\"</code> <code>ir_base_url</code> \u26a0\ufe0f Recommended Base URL of IR section <code>\"https://www.ril.com/InvestorRelations.aspx\"</code> <code>concall_url_pattern</code> \u26a0\ufe0f Recommended Direct URL to transcripts page <code>\"https://www.ril.com/.../Transcript.aspx\"</code> <code>concall_section_xpath</code> \u274c Optional XPath selector for transcript links <code>\"//div[@class='transcript']//a\"</code> <code>concall_section_css</code> \u274c Optional CSS selector (alternative to XPath) <code>\"div.transcript a\"</code> <code>market</code> \u2705 Yes Stock exchange <code>\"NSE\"</code>, <code>\"NASDAQ\"</code>, <code>\"NYSE\"</code> <code>country</code> \u2705 Yes Country code (ISO 3166-1 alpha-2) <code>\"IN\"</code>, <code>\"US\"</code> <code>is_active</code> \u2705 Yes Whether actively tracked <code>true</code>, <code>false</code> <code>notes</code> \u274c Optional Manual notes about IR structure Any text <code>verification_status</code> \u274c Auto Status (active/broken/pending) Auto-set <code>last_verified</code> \u274c Auto Last verification timestamp Auto-set"},{"location":"concall/ir-mappings-guide/#adding-new-companies","title":"Adding New Companies","text":""},{"location":"concall/ir-mappings-guide/#method-1-edit-json-file-recommended","title":"Method 1: Edit JSON File (Recommended)","text":"<p>Step 1: Edit the seed file:</p> <pre><code>vim packages/india/src/maverick_india/concall/data/company_ir_seed.json\n</code></pre> <p>Step 2: Add your company:</p> <pre><code>{\n  \"ticker\": \"TATAMOTORS.NS\",\n  \"company_name\": \"Tata Motors Limited\",\n  \"ir_base_url\": \"https://www.tatamotors.com/investors/\",\n  \"concall_url_pattern\": \"https://www.tatamotors.com/investors/financials/quarterly-results/\",\n  \"concall_section_xpath\": \"//div[@class='quarterly-results']//a\",\n  \"market\": \"NSE\",\n  \"country\": \"IN\",\n  \"is_active\": true,\n  \"notes\": \"Check Quarterly Results section for transcript PDFs\"\n}\n</code></pre> <p>Step 3: Run the seeder:</p> <pre><code># Docker\ndocker exec maverick-mcp-backend-1 python scripts/seed_concall_mappings.py --update\n\n# Local\nuv run python scripts/seed_concall_mappings.py --update\n</code></pre> <p>The <code>--update</code> flag will update existing mappings if they already exist.</p>"},{"location":"concall/ir-mappings-guide/#method-2-direct-database-insert","title":"Method 2: Direct Database Insert","text":"<pre><code>from maverick_india.concall.models import CompanyIRMapping\nfrom maverick_data import SessionLocal\nfrom datetime import datetime, UTC\n\nsession = SessionLocal()\n\ntry:\n    mapping = CompanyIRMapping(\n        ticker=\"TATAMOTORS.NS\",\n        company_name=\"Tata Motors Limited\",\n        ir_base_url=\"https://www.tatamotors.com/investors/\",\n        concall_url_pattern=\"https://www.tatamotors.com/investors/financials/quarterly-results/\",\n        market=\"NSE\",\n        country=\"IN\",\n        verification_status=\"pending\",\n        is_active=True,\n        notes=\"Added manually for testing\"\n    )\n\n    session.add(mapping)\n    session.commit()\n    print(f\"\u2705 Added {mapping.ticker}\")\n\nexcept Exception as e:\n    print(f\"\u274c Error: {e}\")\n    session.rollback()\nfinally:\n    session.close()\n</code></pre>"},{"location":"concall/ir-mappings-guide/#finding-ir-urls","title":"Finding IR URLs","text":""},{"location":"concall/ir-mappings-guide/#step-by-step-process","title":"Step-by-Step Process","text":"<p>1. Visit Company Website</p> <p>Start with the company's main website (e.g., <code>www.reliance.com</code>)</p> <p>2. Navigate to Investor Relations</p> <p>Look for these sections: - \"Investor Relations\" - \"Investors\" - \"For Investors\" - \"Shareholder Information\"</p> <p>Usually found in: - Main navigation menu - Footer links - About section</p> <p>3. Find Earnings/Financial Results</p> <p>Within IR section, look for: - \"Financial Results\" - \"Quarterly Results\" - \"Earnings\" - \"Reports &amp; Filings\"</p> <p>4. Locate Transcripts</p> <p>Common locations: - Same page as quarterly results - Separate \"Transcripts\" or \"Webcast\" section - Under \"Presentations &amp; Transcripts\" - \"Analyst Call Transcripts\"</p> <p>5. Identify URL Patterns</p> <p>Check if transcripts follow a pattern:</p> <pre><code>\u2705 Good (Pattern-based):\nhttps://www.company.com/ir/transcripts/Q1-2025-Transcript.pdf\nhttps://www.company.com/downloads/results/FY2025/Q1/transcript.pdf\n\n\u274c Bad (No pattern):\nhttps://www.company.com/getattachment/12345abcde/transcript.pdf\n</code></pre>"},{"location":"concall/ir-mappings-guide/#example-hdfc-bank","title":"Example: HDFC Bank","text":"<p>Research Process:</p> <ol> <li>Visit: <code>https://www.hdfcbank.com</code></li> <li>Navigate: About Us \u2192 Investor Relations</li> <li>Click: Financial Results</li> <li>Find: \"Transcript-Q2 FY26-Analyst Earnings Call.pdf\"</li> <li>Verify pattern across multiple quarters</li> </ol> <p>Result:</p> <pre><code>{\n  \"ticker\": \"HDFCBANK.NS\",\n  \"company_name\": \"HDFC Bank Limited\",\n  \"ir_base_url\": \"https://www.hdfcbank.com/personal/about-us/investor-relations\",\n  \"concall_url_pattern\": \"https://www.hdfcbank.com/personal/about-us/investor-relations/financial-results\",\n  \"concall_section_xpath\": \"//div[@class='financial-results']//a[contains(text(), 'Transcript')]\",\n  \"market\": \"NSE\",\n  \"country\": \"IN\",\n  \"is_active\": true,\n  \"notes\": \"Path: Financial Results &gt; Select FY &gt; Quarter &gt; 'Transcript-Q2 FY26-Analyst Earnings Call'\"\n}\n</code></pre>"},{"location":"concall/ir-mappings-guide/#xpath-and-css-selectors","title":"XPath and CSS Selectors","text":""},{"location":"concall/ir-mappings-guide/#when-to-use-selectors","title":"When to Use Selectors","text":"<p>Use XPath/CSS selectors when: - Transcripts are listed on a dynamic page - URLs don't follow a predictable pattern - Need to scrape links from quarterly results page</p>"},{"location":"concall/ir-mappings-guide/#common-xpath-patterns","title":"Common XPath Patterns","text":"<pre><code># Find all links in a transcript section\n//div[contains(@class, 'transcript')]//a\n\n# Find links with \"transcript\" in text\n//a[contains(text(), 'Transcript')]\n\n# Find links in specific section by ID\n//div[@id='quarterly-results']//a\n\n# Find PDF links only\n//a[contains(@href, '.pdf')]\n\n# Complex: Transcript links in Q1 FY2025 section\n//div[contains(text(), 'Q1 FY2025')]//following-sibling::div//a[contains(text(), 'Transcript')]\n</code></pre>"},{"location":"concall/ir-mappings-guide/#common-css-selectors","title":"Common CSS Selectors","text":"<pre><code>/* All links in transcript section */\ndiv.transcript a\n\n/* Links with specific class */\na.transcript-link\n\n/* Links in results section */\n#quarterly-results a\n\n/* PDF links */\na[href$='.pdf']\n\n/* Specific text content */\na:contains('Transcript')\n</code></pre>"},{"location":"concall/ir-mappings-guide/#testing-selectors","title":"Testing Selectors","text":"<p>In Browser Console:</p> <pre><code>// Test XPath\n$x(\"//div[contains(@class, 'transcript')]//a\")\n\n// Test CSS\n$$(\"div.transcript a\")\n</code></pre> <p>In Python:</p> <pre><code>from bs4 import BeautifulSoup\n\n# Test CSS selector\nsoup = BeautifulSoup(html_content, 'html.parser')\nlinks = soup.select(\"div.transcript a\")\n\n# Test with lxml (XPath)\nfrom lxml import html\ntree = html.fromstring(html_content)\nlinks = tree.xpath(\"//div[contains(@class, 'transcript')]//a\")\n</code></pre>"},{"location":"concall/ir-mappings-guide/#seeding-script-commands","title":"Seeding Script Commands","text":""},{"location":"concall/ir-mappings-guide/#basic-commands","title":"Basic Commands","text":"<pre><code># Seed default mappings\npython scripts/seed_concall_mappings.py\n\n# Seed from custom file\npython scripts/seed_concall_mappings.py --file /path/to/custom.json\n\n# Update existing mappings (overwrite)\npython scripts/seed_concall_mappings.py --update\n\n# Verify data after seeding\npython scripts/seed_concall_mappings.py --verify\n\n# List seeded mappings\npython scripts/seed_concall_mappings.py --list 20\n</code></pre>"},{"location":"concall/ir-mappings-guide/#docker-commands","title":"Docker Commands","text":"<pre><code># Seed in Docker container\ndocker exec maverick-mcp-backend-1 python scripts/seed_concall_mappings.py\n\n# Seed with custom file (mount volume first)\ndocker cp custom_ir.json maverick-mcp-backend-1:/tmp/\ndocker exec maverick-mcp-backend-1 python scripts/seed_concall_mappings.py --file /tmp/custom_ir.json\n\n# Update and verify\ndocker exec maverick-mcp-backend-1 python scripts/seed_concall_mappings.py --update --verify\n\n# List all mappings\ndocker exec maverick-mcp-backend-1 python scripts/seed_concall_mappings.py --list 50\n</code></pre>"},{"location":"concall/ir-mappings-guide/#verification-and-testing","title":"Verification and Testing","text":""},{"location":"concall/ir-mappings-guide/#verify-seeded-data","title":"Verify Seeded Data","text":"<pre><code>python scripts/seed_concall_mappings.py --verify\n</code></pre> <p>Output: <pre><code>Total mappings: 10\nActive: 10, Inactive: 0\nBy market: {'NSE': 10}\nBy country: {'IN': 10}\n</code></pre></p>"},{"location":"concall/ir-mappings-guide/#test-transcript-fetching","title":"Test Transcript Fetching","text":"<pre><code>from maverick_india.concall import TranscriptFetcher\nimport asyncio\n\nasync def test():\n    fetcher = TranscriptFetcher(save_to_db=True)\n    result = await fetcher.fetch_transcript(\n        ticker=\"RELIANCE.NS\",\n        quarter=\"Q2\",\n        fiscal_year=2025\n    )\n    return result\n\nresult = asyncio.run(test())\nprint(result)\n</code></pre>"},{"location":"concall/ir-mappings-guide/#check-database","title":"Check Database","text":"<pre><code>from maverick_india.concall.models import CompanyIRMapping\nfrom maverick_data import SessionLocal\n\nsession = SessionLocal()\n\n# Count total mappings\ntotal = session.query(CompanyIRMapping).count()\nprint(f\"Total mappings: {total}\")\n\n# List all tickers\nmappings = session.query(CompanyIRMapping).all()\nfor m in mappings:\n    print(f\"{m.ticker}: {m.company_name} ({m.verification_status})\")\n\nsession.close()\n</code></pre>"},{"location":"concall/ir-mappings-guide/#url-patterns-and-templates","title":"URL Patterns and Templates","text":""},{"location":"concall/ir-mappings-guide/#pattern-syntax","title":"Pattern Syntax","text":"<p>IR mappings support simple URL templates:</p> <pre><code>Original pattern in JSON:\nhttps://www.company.com/ir/transcripts/{quarter}_{year}_Transcript.pdf\n\nWill be formatted as:\nhttps://www.company.com/ir/transcripts/Q1_2025_Transcript.pdf\n</code></pre>"},{"location":"concall/ir-mappings-guide/#common-pattern-variables","title":"Common Pattern Variables","text":"Variable Description Example <code>{quarter}</code> Quarter (Q1, Q2, Q3, Q4) <code>Q1</code> <code>{year}</code> Fiscal year (4 digits) <code>2025</code> <code>{fiscal_year}</code> Same as year <code>2025</code> <code>{fy}</code> Short fiscal year (2 digits) <code>25</code> <p>Note: Current implementation may need enhancement for complex patterns. For now, use <code>concall_url_pattern</code> to point to the transcript listing page and let the scraper find links.</p>"},{"location":"concall/ir-mappings-guide/#best-practices","title":"Best Practices","text":""},{"location":"concall/ir-mappings-guide/#dos","title":"\u2705 Do's","text":"<ol> <li>Always verify URLs manually first</li> <li>Visit the IR page yourself</li> <li>Download a transcript to confirm access</li> <li> <p>Check multiple quarters to identify patterns</p> </li> <li> <p>Include detailed notes <pre><code>\"notes\": \"Transcripts under Financial Results &gt; FY2025 &gt; Q1 &gt; 'Analyst Call Transcript.pdf'. Structure may change yearly.\"\n</code></pre></p> </li> <li> <p>Set appropriate verification status</p> </li> <li><code>\"active\"</code> - Tested and working</li> <li><code>\"pending\"</code> - Not yet verified</li> <li> <p><code>\"broken\"</code> - Known to be broken</p> </li> <li> <p>Use descriptive selectors <pre><code>\"concall_section_xpath\": \"//div[@id='quarterly-results']//a[contains(@href, 'transcript')]\"\n</code></pre></p> </li> <li> <p>Test before committing <pre><code>python scripts/seed_concall_mappings.py --file test.json --verify\n</code></pre></p> </li> </ol>"},{"location":"concall/ir-mappings-guide/#donts","title":"\u274c Don'ts","text":"<ol> <li>Don't add unverified mappings</li> <li> <p>Always test URLs before adding</p> </li> <li> <p>Don't use generic patterns <pre><code>\u274c \"concall_url_pattern\": \"https://www.company.com/\"\n\u2705 \"concall_url_pattern\": \"https://www.company.com/investors/earnings-calls\"\n</code></pre></p> </li> <li> <p>Don't forget market suffix <pre><code>\u274c \"ticker\": \"RELIANCE\"\n\u2705 \"ticker\": \"RELIANCE.NS\"\n</code></pre></p> </li> <li> <p>Don't mix markets <pre><code>\u274c \"market\": \"NSE\", \"country\": \"US\"\n\u2705 \"market\": \"NSE\", \"country\": \"IN\"\n</code></pre></p> </li> <li> <p>Don't leave empty required fields <pre><code>\u274c \"company_name\": \"\",\n\u2705 \"company_name\": \"Reliance Industries Limited\",\n</code></pre></p> </li> </ol>"},{"location":"concall/ir-mappings-guide/#troubleshooting","title":"Troubleshooting","text":""},{"location":"concall/ir-mappings-guide/#mapping-not-working","title":"Mapping Not Working","text":"<p>Symptom: Transcript fetch fails even with mapping</p> <p>Check: 1. Verify URL is accessible    <pre><code>curl -I https://www.ril.com/InvestorRelations.aspx\n</code></pre></p> <ol> <li> <p>Test XPath/CSS selector    <pre><code>from lxml import html\nimport requests\n\nresponse = requests.get(\"https://www.company.com/ir\")\ntree = html.fromstring(response.content)\nlinks = tree.xpath(\"//div[@class='transcript']//a\")\nprint(f\"Found {len(links)} links\")\n</code></pre></p> </li> <li> <p>Check database    <pre><code>from maverick_india.concall.models import CompanyIRMapping\nfrom maverick_data import SessionLocal\n\nsession = SessionLocal()\nmapping = session.query(CompanyIRMapping).filter_by(ticker=\"RELIANCE.NS\").first()\nprint(f\"Mapping exists: {mapping is not None}\")\nprint(f\"Status: {mapping.verification_status if mapping else 'N/A'}\")\n</code></pre></p> </li> </ol>"},{"location":"concall/ir-mappings-guide/#seeding-fails","title":"Seeding Fails","text":"<p>Common Errors:</p> <p>1. Invalid JSON <pre><code>Error: Invalid JSON in company_ir_seed.json: Expecting ',' delimiter\n</code></pre> Fix: Validate JSON syntax at jsonlint.com</p> <p>2. Missing Required Field <pre><code>Error: Failed to seed TATAMOTORS.NS: KeyError: 'ticker'\n</code></pre> Fix: Ensure all required fields are present</p> <p>3. Duplicate Ticker <pre><code>Skipping existing mapping for RELIANCE.NS\n</code></pre> Fix: Use <code>--update</code> flag to overwrite</p>"},{"location":"concall/ir-mappings-guide/#verification-fails","title":"Verification Fails","text":"<pre><code>python scripts/seed_concall_mappings.py --verify\n# Output: Total mappings: 0\n</code></pre> <p>Possible Causes: - Database not initialized - Wrong database URL - Migration not run</p> <p>Fix: <pre><code># Run migrations\nalembic upgrade head\n\n# Check database connection\npython -c \"from maverick_data import SessionLocal; from maverick_india.concall.models import CompanyIRMapping; s = SessionLocal(); print(s.query(CompanyIRMapping).count())\"\n</code></pre></p>"},{"location":"concall/ir-mappings-guide/#market-specific-guidance","title":"Market-Specific Guidance","text":""},{"location":"concall/ir-mappings-guide/#indian-companies-nsebse","title":"Indian Companies (NSE/BSE)","text":"<p>Characteristics: - Usually have dedicated IR sections - Quarterly results with presentations - Transcripts may be separate PDFs - Some use third-party IR platforms</p> <p>Best Sources: - Company website first - NSE announcements as fallback - BSE filings (alternative)</p> <p>Example: IT Companies - TCS, Infosys, Wipro: Excellent IR pages - Well-organized quarterly results - Separate transcript and presentation downloads</p> <p>Example: Banks - HDFC, ICICI, SBI: Good IR sections - May require navigating through year/quarter dropdowns - Transcripts often in \"Investor Downloads\" section</p>"},{"location":"concall/ir-mappings-guide/#us-companies-nysenasdaq","title":"US Companies (NYSE/NASDAQ)","text":"<p>Characteristics: - Professional IR platforms (e.g., IRW) - Usually have searchable archives - May use services like Seeking Alpha - Transcripts in \"Events &amp; Presentations\"</p> <p>Best Sources: - Company IR website - SEC Edgar filings (8-K exhibits) - Third-party platforms (Seeking Alpha, Motley Fool)</p>"},{"location":"concall/ir-mappings-guide/#api-reference","title":"API Reference","text":"<p>For programmatic access to IR mappings:</p> <pre><code>from maverick_india.concall.models import CompanyIRMapping\nfrom maverick_data import SessionLocal\n\n# Query mappings\nsession = SessionLocal()\n\n# Get specific company\nmapping = session.query(CompanyIRMapping).filter_by(ticker=\"RELIANCE.NS\").first()\n\n# Get all active Indian companies\nindian_companies = session.query(CompanyIRMapping).filter(\n    CompanyIRMapping.country == \"IN\",\n    CompanyIRMapping.is_active == True\n).all()\n\n# Get companies needing verification\nneeds_verification = session.query(CompanyIRMapping).filter(\n    CompanyIRMapping.verification_status.in_([\"pending\", \"broken\"])\n).all()\n</code></pre>"},{"location":"concall/ir-mappings-guide/#contributing","title":"Contributing","text":""},{"location":"concall/ir-mappings-guide/#adding-bulk-mappings","title":"Adding Bulk Mappings","text":"<p>If you have many mappings to add:</p> <ol> <li>Create a JSON file with all mappings</li> <li>Validate JSON structure</li> <li>Test with a small batch first</li> <li>Run with full file</li> </ol> <pre><code># Test with first 3 companies\njq '.companies |= .[:3]' full_mappings.json &gt; test_mappings.json\npython scripts/seed_concall_mappings.py --file test_mappings.json --verify\n\n# If successful, seed full file\npython scripts/seed_concall_mappings.py --file full_mappings.json --verify\n</code></pre>"},{"location":"concall/ir-mappings-guide/#submitting-new-mappings","title":"Submitting New Mappings","text":"<p>To contribute mappings back to the project:</p> <ol> <li>Add to <code>packages/india/src/maverick_india/concall/data/company_ir_seed.json</code></li> <li>Test thoroughly</li> <li>Add notes about IR structure</li> <li>Create pull request with verification results</li> </ol>"},{"location":"concall/ir-mappings-guide/#next-steps","title":"Next Steps","text":"<ul> <li>Fetching Transcripts \u2192</li> <li>Transcript Providers \u2192</li> <li>Database Schema \u2192</li> </ul> <p>Last Updated: 2025-11-16 Maintained By: Maverick MCP Team</p>"},{"location":"concall/mcp-tools/","title":"Conference Call MCP Tools","text":"<p>Complete reference for all conference call analysis tools available in Claude Desktop.</p>"},{"location":"concall/mcp-tools/#tool-overview","title":"Tool Overview","text":"Tool Name Purpose API Keys Required <code>concall_fetch_transcript</code> Fetch earnings call transcripts None <code>concall_summarize_transcript</code> Generate AI-powered summaries OPENROUTER_API_KEY <code>concall_analyze_sentiment</code> Analyze sentiment and tone OPENROUTER_API_KEY <code>concall_query_transcript</code> Ask questions using RAG OPENROUTER_API_KEY, OPENAI_API_KEY <code>concall_compare_quarters</code> Compare sentiment trends OPENROUTER_API_KEY"},{"location":"concall/mcp-tools/#tool-details","title":"Tool Details","text":""},{"location":"concall/mcp-tools/#1-concall_fetch_transcript","title":"1. concall_fetch_transcript","text":"<p>Fetch earnings call transcripts from multiple sources with automatic fallback.</p>"},{"location":"concall/mcp-tools/#parameters","title":"Parameters","text":"Parameter Type Required Default Description <code>ticker</code> string Yes - Stock symbol (e.g., \"RELIANCE.NS\", \"TCS.NS\") <code>quarter</code> string Yes - Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") <code>fiscal_year</code> int Yes - Fiscal year (e.g., 2025) <code>save_to_db</code> bool No True Save transcript to database"},{"location":"concall/mcp-tools/#returns","title":"Returns","text":"<pre><code>{\n    \"ticker\": \"RELIANCE.NS\",\n    \"quarter\": \"Q1\",\n    \"fiscal_year\": 2025,\n    \"transcript_text\": \"Full transcript content...\",\n    \"source\": \"IR_WEBSITE\",  # or \"NSE\"\n    \"fetch_date\": \"2025-01-15T10:30:00Z\",\n    \"word_count\": 8543,\n    \"transcript_url\": \"https://...\",\n    \"call_date\": \"2025-01-12\"\n}\n</code></pre>"},{"location":"concall/mcp-tools/#examples","title":"Examples","text":"<pre><code>Fetch the RELIANCE.NS Q1 2025 earnings call transcript\n</code></pre> <pre><code>Get transcript for TCS Q4 2024 and save it to the database\n</code></pre>"},{"location":"concall/mcp-tools/#error-handling","title":"Error Handling","text":"<pre><code>{\n    \"error\": \"No transcript found\",\n    \"ticker\": \"INVALID.NS\",\n    \"quarter\": \"Q1\",\n    \"fiscal_year\": 2025,\n    \"message\": \"Failed to fetch transcript. Check if IR mapping exists in database.\"\n}\n</code></pre>"},{"location":"concall/mcp-tools/#2-concall_summarize_transcript","title":"2. concall_summarize_transcript","text":"<p>Generate comprehensive AI-powered summaries of earnings call transcripts.</p>"},{"location":"concall/mcp-tools/#parameters_1","title":"Parameters","text":"Parameter Type Required Default Description <code>ticker</code> string Yes - Stock symbol <code>quarter</code> string Yes - Quarter <code>fiscal_year</code> int Yes - Fiscal year <code>mode</code> string No \"standard\" Detail level: \"concise\", \"standard\", \"detailed\" <code>force_refresh</code> bool No False Regenerate even if cached"},{"location":"concall/mcp-tools/#summary-modes","title":"Summary Modes","text":"Mode Max Tokens Use Case Cost <code>concise</code> 1500 Quick overview ~$0.01 <code>standard</code> 3000 Balanced detail ~$0.02-0.03 <code>detailed</code> 5000 Deep analysis ~$0.04-0.05"},{"location":"concall/mcp-tools/#returns_1","title":"Returns","text":"<pre><code>{\n    \"executive_summary\": \"Strong quarter with 15% YoY revenue growth...\",\n    \"key_metrics\": {\n        \"revenue\": \"$10.5B\",\n        \"revenue_growth\": \"15% YoY\",\n        \"net_profit\": \"$2.1B\",\n        \"profit_margin\": \"20%\",\n        \"eps\": \"$1.25\",\n        \"guidance\": \"15-18% growth expected for next quarter\"\n    },\n    \"business_highlights\": [\n        \"Jio subscriber base grew to 450M\",\n        \"Retail expansion with 200 new stores\",\n        \"Digital services revenue up 25%\"\n    ],\n    \"management_guidance\": \"Confident in maintaining double-digit growth...\",\n    \"sentiment\": \"positive\",\n    \"key_risks\": [\n        \"Regulatory challenges in telecom\",\n        \"Rising crude oil prices\"\n    ],\n    \"opportunities\": [\n        \"5G rollout acceleration\",\n        \"Digital commerce expansion\"\n    ],\n    \"qa_insights\": [\n        \"Analysts focused on capex plans\",\n        \"Questions about debt reduction strategy\"\n    ],\n    \"market_context\": \"Outperforming sector peers...\",\n    \"analyst_focus\": [\"Growth strategy\", \"Debt management\", \"Digital initiatives\"]\n}\n</code></pre>"},{"location":"concall/mcp-tools/#examples_1","title":"Examples","text":"<pre><code>Summarize the RELIANCE.NS Q1 2025 earnings call in standard detail\n</code></pre> <pre><code>Generate a detailed summary of the TCS Q4 2024 call\n</code></pre> <pre><code>Give me a concise summary of INFY Q1 2025, force refresh even if cached\n</code></pre>"},{"location":"concall/mcp-tools/#3-concall_analyze_sentiment","title":"3. concall_analyze_sentiment","text":"<p>Perform multi-dimensional sentiment analysis on earnings call transcripts.</p>"},{"location":"concall/mcp-tools/#parameters_2","title":"Parameters","text":"Parameter Type Required Default Description <code>ticker</code> string Yes - Stock symbol <code>quarter</code> string Yes - Quarter <code>fiscal_year</code> int Yes - Fiscal year <code>use_cache</code> bool No True Use cached results if available"},{"location":"concall/mcp-tools/#sentiment-scale","title":"Sentiment Scale","text":"Score Label Meaning 5 very_bullish Exceptional results, strong guidance, highly confident 4 bullish Good results, positive guidance, confident tone 3 neutral Mixed results, cautious guidance, balanced tone 2 bearish Weak results, lowered guidance, defensive tone 1 very_bearish Poor results, no guidance, uncertain management"},{"location":"concall/mcp-tools/#returns_2","title":"Returns","text":"<pre><code>{\n    \"overall_sentiment\": \"bullish\",\n    \"sentiment_score\": 4,\n    \"confidence_score\": 0.85,\n    \"management_tone\": \"confident\",\n    \"outlook_sentiment\": \"positive\",\n    \"risk_sentiment\": \"low_risk\",\n    \"key_positive_signals\": [\n        \"Strong revenue growth of 15%\",\n        \"Expanded profit margins\",\n        \"Confident guidance for next quarter\"\n    ],\n    \"key_negative_signals\": [\n        \"Supply chain challenges mentioned\",\n        \"Competitive pressure in retail\"\n    ],\n    \"hedge_words_count\": 5,\n    \"certainty_indicators\": [\n        \"We will deliver\",\n        \"Committed to growth\",\n        \"Confident in our strategy\"\n    ],\n    \"sentiment_rationale\": \"Strong financial performance with confident management outlook\",\n    \"tone_rationale\": \"Management expressed high confidence with minimal hedging\"\n}\n</code></pre>"},{"location":"concall/mcp-tools/#examples_2","title":"Examples","text":"<pre><code>Analyze the sentiment of the RELIANCE.NS Q1 2025 earnings call\n</code></pre> <pre><code>What was the management tone in the TCS Q4 2024 call?\n</code></pre> <pre><code>Analyze sentiment for INFY Q1 2025 without using cache\n</code></pre>"},{"location":"concall/mcp-tools/#4-concall_query_transcript","title":"4. concall_query_transcript","text":"<p>Ask questions about earnings call transcripts using RAG (Retrieval-Augmented Generation).</p>"},{"location":"concall/mcp-tools/#parameters_3","title":"Parameters","text":"Parameter Type Required Default Description <code>question</code> string Yes - Question to ask about the transcript <code>ticker</code> string Yes - Stock symbol <code>quarter</code> string Yes - Quarter <code>fiscal_year</code> int Yes - Fiscal year <code>top_k</code> int No 5 Number of relevant chunks to retrieve"},{"location":"concall/mcp-tools/#how-rag-works","title":"How RAG Works","text":"<pre><code>graph LR\n    A[Question] --&gt; B[Vector Search]\n    B --&gt; C[Retrieve Relevant Chunks]\n    C --&gt; D[LLM with Context]\n    D --&gt; E[Generated Answer]\n    C --&gt; F[Source Citations]\n    E --&gt; G[Response]\n    F --&gt; G</code></pre>"},{"location":"concall/mcp-tools/#returns_3","title":"Returns","text":"<pre><code>{\n    \"answer\": \"Revenue grew 15% year-over-year to $10.5B in Q1 2025...\",\n    \"sources\": [\n        {\n            \"content\": \"Revenue for Q1 was $10.5B, representing a 15% increase...\",\n            \"score\": 0.85,\n            \"chunk_index\": 5\n        },\n        {\n            \"content\": \"Management expressed confidence in maintaining this growth trajectory...\",\n            \"score\": 0.78,\n            \"chunk_index\": 12\n        }\n    ],\n    \"metadata\": {\n        \"ticker\": \"RELIANCE.NS\",\n        \"quarter\": \"Q1\",\n        \"fiscal_year\": 2025,\n        \"chunks_retrieved\": 5\n    }\n}\n</code></pre>"},{"location":"concall/mcp-tools/#examples_3","title":"Examples","text":"<pre><code>What was the revenue growth in the RELIANCE.NS Q1 2025 call?\n</code></pre> <pre><code>What did management say about future guidance in the TCS Q4 2024 earnings call?\n</code></pre> <pre><code>Tell me about the margin performance discussed in INFY Q1 2025\n</code></pre> <pre><code>What were the main concerns raised by analysts in the RELIANCE Q1 2025 Q&amp;A?\n</code></pre>"},{"location":"concall/mcp-tools/#features","title":"Features","text":"<ul> <li>Semantic Search: Finds relevant content even with different wording</li> <li>Context-Aware: LLM generates answers based on retrieved context</li> <li>Source Citations: Shows exact transcript excerpts used</li> <li>Auto-Indexing: Automatically indexes transcript on first query</li> </ul>"},{"location":"concall/mcp-tools/#5-concall_compare_quarters","title":"5. concall_compare_quarters","text":"<p>Compare sentiment across multiple quarters to identify trends.</p>"},{"location":"concall/mcp-tools/#parameters_4","title":"Parameters","text":"Parameter Type Required Default Description <code>ticker</code> string Yes - Stock symbol <code>quarters</code> list[tuple] Yes - List of (quarter, fiscal_year) tuples"},{"location":"concall/mcp-tools/#returns_4","title":"Returns","text":"<pre><code>{\n    \"ticker\": \"RELIANCE.NS\",\n    \"quarters_analyzed\": 3,\n    \"sentiment_trend\": \"improving\",  # or \"declining\", \"stable\"\n    \"score_change\": 2,  # Change from first to last quarter\n    \"sentiments\": [\n        {\n            \"quarter\": \"Q2\",\n            \"fiscal_year\": 2024,\n            \"overall_sentiment\": \"neutral\",\n            \"sentiment_score\": 3,\n            \"confidence_score\": 0.80\n        },\n        {\n            \"quarter\": \"Q3\",\n            \"fiscal_year\": 2024,\n            \"overall_sentiment\": \"bullish\",\n            \"sentiment_score\": 4,\n            \"confidence_score\": 0.82\n        },\n        {\n            \"quarter\": \"Q4\",\n            \"fiscal_year\": 2024,\n            \"overall_sentiment\": \"very_bullish\",\n            \"sentiment_score\": 5,\n            \"confidence_score\": 0.88\n        }\n    ],\n    \"average_confidence\": 0.83\n}\n</code></pre>"},{"location":"concall/mcp-tools/#examples_4","title":"Examples","text":"<pre><code>Compare sentiment for RELIANCE.NS across Q2, Q3, and Q4 of 2024\n</code></pre> <pre><code>Show me the sentiment trend for TCS over the last 4 quarters\n</code></pre> <pre><code>Has management confidence improved for INFY from Q4 2024 to Q1 2025?\n</code></pre>"},{"location":"concall/mcp-tools/#usage-patterns","title":"Usage Patterns","text":""},{"location":"concall/mcp-tools/#complete-analysis-workflow","title":"Complete Analysis Workflow","text":"<pre><code># 1. Fetch transcript\nFetch the RELIANCE.NS Q1 2025 earnings call\n\n# 2. Get comprehensive summary\nSummarize RELIANCE.NS Q1 2025 in detailed mode\n\n# 3. Analyze sentiment\nAnalyze sentiment for RELIANCE.NS Q1 2025\n\n# 4. Deep dive with questions\nWhat did RELIANCE management say about:\n- Jio 5G rollout progress\n- Retail expansion plans\n- New energy initiatives\n\n# 5. Compare with previous quarters\nCompare RELIANCE sentiment across Q4 2024, Q1 2025, and Q2 2025\n</code></pre>"},{"location":"concall/mcp-tools/#multi-company-analysis","title":"Multi-Company Analysis","text":"<pre><code># Compare multiple companies\nFor TCS, INFY, and WIPRO Q1 2025:\n1. Fetch all transcripts\n2. Generate standard summaries\n3. Analyze sentiment for each\n4. Compare key metrics and sentiment scores\n</code></pre>"},{"location":"concall/mcp-tools/#trend-analysis","title":"Trend Analysis","text":"<pre><code># Track evolution over time\nFor RELIANCE across last 6 quarters:\n1. Compare sentiment trends\n2. Identify inflection points\n3. Correlate with stock price movements\n4. Highlight key strategic shifts\n</code></pre>"},{"location":"concall/mcp-tools/#best-practices","title":"Best Practices","text":""},{"location":"concall/mcp-tools/#1-cost-optimization","title":"1. Cost Optimization","text":"<ul> <li>Use Cache: Don't force refresh unless necessary</li> <li>Choose Right Mode: Use \"concise\" for quick checks</li> <li>Batch Queries: Analyze multiple quarters in one request</li> </ul>"},{"location":"concall/mcp-tools/#2-quality-results","title":"2. Quality Results","text":"<ul> <li>Verify Transcripts: Check fetch succeeded before analyzing</li> <li>Review Sources: Check RAG source citations for accuracy</li> <li>Compare Trends: Use compare_quarters for context</li> </ul>"},{"location":"concall/mcp-tools/#3-error-handling","title":"3. Error Handling","text":"<ul> <li>Check API Keys: Ensure OPENROUTER_API_KEY is set</li> <li>Verify Data: Confirm transcript exists in database</li> <li>Review Logs: Check server logs for detailed errors</li> </ul>"},{"location":"concall/mcp-tools/#api-requirements","title":"API Requirements","text":"Feature Required API Keys Cost Estimate Fetch Transcripts None Free Summarization OPENROUTER_API_KEY $0.01-0.05 per call Sentiment Analysis OPENROUTER_API_KEY $0.005-0.01 per call RAG Q&amp;A (Setup) OPENAI_API_KEY $0.0001 per transcript RAG Q&amp;A (Query) OPENROUTER_API_KEY $0.005-0.01 per query"},{"location":"concall/mcp-tools/#limitations","title":"Limitations","text":"<ul> <li>Data Availability: Limited to companies with IR mappings in database</li> <li>Language: English transcripts only</li> <li>Recency: Depends on when transcripts are published</li> <li>Cache: First analysis takes longer due to AI processing</li> </ul>"},{"location":"concall/mcp-tools/#related-documentation","title":"Related Documentation","text":"<ul> <li>Overview</li> <li>Fetching Transcripts</li> <li>AI Summarization</li> <li>Sentiment Analysis</li> <li>RAG Q&amp;A</li> </ul>"},{"location":"concall/overview/","title":"Conference Call Analysis - Overview","text":"<p>Maverick MCP includes a comprehensive system for analyzing earnings call transcripts using AI-powered tools.</p>"},{"location":"concall/overview/#what-is-conference-call-analysis","title":"What is Conference Call Analysis?","text":"<p>Earnings call transcripts contain valuable insights about company performance, management sentiment, and forward guidance. Maverick MCP provides tools to:</p> <ul> <li>Fetch transcripts from multiple sources</li> <li>Summarize calls with AI-generated structured summaries</li> <li>Analyze sentiment and management tone</li> <li>Query transcripts with RAG-powered Q&amp;A</li> <li>Compare sentiment trends across quarters</li> </ul>"},{"location":"concall/overview/#system-architecture","title":"System Architecture","text":"<pre><code>graph TD\n    A[Transcript Sources] --&gt; B[Fetcher]\n    B --&gt; C[Database Storage]\n    C --&gt; D[AI Summarization]\n    C --&gt; E[Sentiment Analysis]\n    C --&gt; F[Vector Indexing]\n    F --&gt; G[RAG Q&amp;A]\n    D --&gt; H[Claude Desktop]\n    E --&gt; H\n    G --&gt; H\n\n    A1[IR Websites] --&gt; A\n    A2[NSE Filings] --&gt; A</code></pre>"},{"location":"concall/overview/#key-components","title":"Key Components","text":""},{"location":"concall/overview/#1-transcript-fetching","title":"1. Transcript Fetching","text":"<p>Multi-source fetching with cascading fallback:</p> <ul> <li>Primary: Company Investor Relations websites</li> <li>Fallback: NSE exchange filings (for Indian stocks)</li> <li>Formats: PDF, HTML, TXT with automatic parsing</li> </ul> <p>Learn more \u2192</p>"},{"location":"concall/overview/#2-ai-summarization","title":"2. AI Summarization","text":"<p>Structured summaries with key information:</p> <ul> <li>Executive summary</li> <li>Financial metrics (revenue, profit, margins, growth)</li> <li>Business highlights</li> <li>Management guidance</li> <li>Sentiment assessment</li> <li>Risk factors and opportunities</li> <li>Q&amp;A insights</li> </ul> <p>Learn more \u2192</p>"},{"location":"concall/overview/#3-sentiment-analysis","title":"3. Sentiment Analysis","text":"<p>Multi-dimensional sentiment scoring:</p> <ul> <li>Overall Sentiment: 5-point scale (very_bullish to very_bearish)</li> <li>Management Tone: confident, cautious, defensive, etc.</li> <li>Outlook Sentiment: positive, neutral, negative</li> <li>Risk Assessment: low, moderate, high risk</li> <li>Key Signals: Positive/negative phrases detected</li> <li>Confidence Score: Reliability of analysis (0.0-1.0)</li> </ul> <p>Learn more \u2192</p>"},{"location":"concall/overview/#4-rag-powered-qa","title":"4. RAG-Powered Q&amp;A","text":"<p>Ask questions about earnings calls:</p> <ul> <li>Semantic search using vector embeddings</li> <li>Context-aware LLM responses</li> <li>Source citations from transcript</li> <li>Automatic indexing on first query</li> </ul> <p>Learn more \u2192</p>"},{"location":"concall/overview/#5-comparative-analysis","title":"5. Comparative Analysis","text":"<p>Track trends over time:</p> <ul> <li>Compare sentiment across quarters</li> <li>Identify improving/declining patterns</li> <li>Score changes and confidence trends</li> </ul>"},{"location":"concall/overview/#mcp-tools","title":"MCP Tools","text":"<p>Five tools available in Claude Desktop:</p> Tool Purpose Example <code>concall_fetch_transcript</code> Fetch earnings call transcript \"Fetch RELIANCE.NS Q1 2025\" <code>concall_summarize_transcript</code> Generate AI summary \"Summarize TCS Q4 2024 call\" <code>concall_analyze_sentiment</code> Analyze sentiment \"Analyze sentiment for INFY Q1 2025\" <code>concall_query_transcript</code> Ask questions (RAG) \"What did they say about margins?\" <code>concall_compare_quarters</code> Compare over time \"Compare TCS sentiment Q3-Q1\" <p>See all tools \u2192</p>"},{"location":"concall/overview/#supported-companies","title":"Supported Companies","text":""},{"location":"concall/overview/#pre-configured-indian-companies","title":"Pre-configured Indian Companies","text":"<ul> <li>Reliance Industries (RELIANCE.NS)</li> <li>TCS (TCS.NS)</li> <li>Infosys (INFY.NS)</li> <li>Wipro (WIPRO.NS)</li> <li>HDFC Bank (HDFCBANK.NS)</li> <li>ICICI Bank (ICICIBANK.NS)</li> <li>And more...</li> </ul>"},{"location":"concall/overview/#adding-new-companies","title":"Adding New Companies","text":"<p>Use the seeding script to add any company:</p> <pre><code># Edit data/concall_ir_mappings.json\n{\n  \"companies\": [\n    {\n      \"ticker\": \"COMPANY.NS\",\n      \"company_name\": \"Company Name\",\n      \"ir_base_url\": \"https://company.com/investors\",\n      \"market\": \"NSE\",\n      \"country\": \"IN\"\n    }\n  ]\n}\n\n# Seed to database\npython scripts/seed_concall_mappings.py --file data/concall_ir_mappings.json\n</code></pre>"},{"location":"concall/overview/#data-flow","title":"Data Flow","text":""},{"location":"concall/overview/#fetching-storage","title":"Fetching &amp; Storage","text":"<pre><code>sequenceDiagram\n    participant User\n    participant MCP as MCP Tool\n    participant Fetcher\n    participant Provider as IR/NSE Provider\n    participant DB as Database\n\n    User-&gt;&gt;MCP: fetch_transcript(\"RELIANCE.NS\", \"Q1\", 2025)\n    MCP-&gt;&gt;Fetcher: Fetch request\n    Fetcher-&gt;&gt;Provider: Try IR website\n    alt IR Success\n        Provider--&gt;&gt;Fetcher: PDF/HTML transcript\n    else IR Failed\n        Provider--&gt;&gt;Fetcher: Fallback to NSE\n    end\n    Fetcher-&gt;&gt;DB: Store transcript\n    Fetcher--&gt;&gt;User: Return transcript + metadata</code></pre>"},{"location":"concall/overview/#ai-analysis","title":"AI Analysis","text":"<pre><code>sequenceDiagram\n    participant User\n    participant MCP as MCP Tool\n    participant Service as AI Service\n    participant LLM as OpenRouter\n    participant DB as Database\n\n    User-&gt;&gt;MCP: summarize_transcript(...)\n    MCP-&gt;&gt;Service: Check cache\n    alt Cached\n        DB--&gt;&gt;Service: Return cached summary\n    else Not Cached\n        Service-&gt;&gt;LLM: Generate summary\n        LLM--&gt;&gt;Service: AI summary\n        Service-&gt;&gt;DB: Cache result\n    end\n    Service--&gt;&gt;User: Return summary</code></pre>"},{"location":"concall/overview/#design-principles","title":"Design Principles","text":""},{"location":"concall/overview/#solid-architecture","title":"SOLID Architecture","text":"<p>Every component follows SOLID principles:</p> <ul> <li>Single Responsibility: Each class has one clear purpose</li> <li>Open/Closed: Extensible without modifying existing code</li> <li>Liskov Substitution: Compatible with abstractions</li> <li>Interface Segregation: Focused, minimal interfaces</li> <li>Dependency Inversion: Depends on abstractions, not concretions</li> </ul>"},{"location":"concall/overview/#performance-optimization","title":"Performance Optimization","text":"<ul> <li>Database Caching: All AI analyses cached for instant retrieval</li> <li>Vector Embeddings: Stored locally in Chroma DB</li> <li>Cost Optimization: Smart model selection saves 40-60%</li> <li>Parallel Processing: Multi-source fetching when possible</li> </ul>"},{"location":"concall/overview/#error-resilience","title":"Error Resilience","text":"<ul> <li>Cascading Fallbacks: Multiple data sources</li> <li>Graceful Degradation: Partial results when possible</li> <li>Comprehensive Logging: Track every step</li> <li>User-Friendly Errors: Helpful error messages</li> </ul>"},{"location":"concall/overview/#database-schema","title":"Database Schema","text":"<p>Conference call data is stored with comprehensive metadata:</p> <pre><code>class ConferenceCall(Base):\n    ticker: str              # Stock symbol\n    quarter: str             # Q1, Q2, Q3, Q4\n    fiscal_year: int         # Year\n    call_date: datetime      # When call occurred\n    transcript_text: str     # Full transcript\n    transcript_url: str      # Source URL\n    source: str             # IR_WEBSITE, NSE, etc.\n    summary: JSON           # AI-generated summary\n    sentiment_data: JSON    # Sentiment analysis\n    fetch_date: datetime    # When fetched\n</code></pre> <p>See full schema \u2192</p>"},{"location":"concall/overview/#requirements","title":"Requirements","text":""},{"location":"concall/overview/#required","title":"Required","text":"<ul> <li>OPENROUTER_API_KEY: For AI summarization and sentiment (all AI features)</li> <li>Database: SQLite (default) or PostgreSQL</li> </ul>"},{"location":"concall/overview/#optional","title":"Optional","text":"<ul> <li>OPENAI_API_KEY: For RAG Q&amp;A (embeddings)</li> <li>Redis: For enhanced caching</li> </ul>"},{"location":"concall/overview/#cost-considerations","title":"Cost Considerations","text":""},{"location":"concall/overview/#api-costs","title":"API Costs","text":"<ul> <li>Summarization: ~$0.01-0.05 per transcript (using Claude 3.5 Sonnet)</li> <li>Sentiment Analysis: ~$0.005-0.01 per transcript (using Claude 3.5 Haiku)</li> <li>RAG Embeddings: ~$0.0001 per transcript (text-embedding-3-small)</li> <li>RAG Queries: ~$0.005-0.01 per query</li> </ul>"},{"location":"concall/overview/#cost-optimization","title":"Cost Optimization","text":"<ul> <li>Results cached in database (analyzed once, queried many times)</li> <li>Smart model selection (cheap models for simple tasks)</li> <li>Configurable detail levels (concise/standard/detailed)</li> </ul>"},{"location":"concall/overview/#quick-examples","title":"Quick Examples","text":""},{"location":"concall/overview/#basic-workflow","title":"Basic Workflow","text":"<pre><code># 1. Fetch transcript\n\"Fetch the RELIANCE.NS Q1 2025 earnings call transcript\"\n\n# 2. Get summary\n\"Summarize this RELIANCE.NS Q1 2025 call in detail\"\n\n# 3. Analyze sentiment\n\"What was the overall sentiment of the RELIANCE Q1 2025 call?\"\n\n# 4. Ask specific questions\n\"What did RELIANCE management say about Jio in the Q1 2025 call?\"\n\n# 5. Compare trends\n\"Compare RELIANCE sentiment across Q4 2024, Q1 2025, and Q2 2025\"\n</code></pre>"},{"location":"concall/overview/#advanced-usage","title":"Advanced Usage","text":"<pre><code># Multi-step analysis\n\"For TCS Q1 2025: fetch transcript, generate detailed summary,\nanalyze sentiment, and tell me the top 3 growth drivers mentioned\"\n\n# Comparative analysis\n\"Compare the management tone between TCS Q4 2024 and Q1 2025.\nHas confidence improved?\"\n\n# Deep research\n\"Analyze all available Infosys earnings calls and tell me\nhow their AI strategy has evolved over time\"\n</code></pre>"},{"location":"concall/overview/#next-steps","title":"Next Steps","text":"<p>Explore each component in detail:</p> <ul> <li> <p> Fetching Transcripts</p> <p>Learn how to fetch transcripts from multiple sources</p> <p> Learn More</p> </li> <li> <p> AI Summarization</p> <p>Generate structured summaries with key insights</p> <p> Learn More</p> </li> <li> <p> Sentiment Analysis</p> <p>Multi-dimensional sentiment with confidence scoring</p> <p> Learn More</p> </li> <li> <p> RAG Q&amp;A</p> <p>Ask questions about earnings calls</p> <p> Learn More</p> </li> </ul>"},{"location":"concall/overview/#related-resources","title":"Related Resources","text":"<ul> <li>MCP Tools Reference</li> <li>Architecture Details</li> <li>Database Schema</li> <li>API Reference</li> </ul>"},{"location":"concall/rag-qa/","title":"rag qa","text":"<p>Documentation coming soon.</p>"},{"location":"concall/sentiment-analysis/","title":"sentiment analysis","text":"<p>Documentation coming soon.</p>"},{"location":"concall/summarization/","title":"summarization","text":"<p>Documentation coming soon.</p>"},{"location":"deployment/docker/","title":"Docker Deployment Guide","text":"<p>Complete guide for running Maverick MCP in Docker containers.</p>"},{"location":"deployment/docker/#overview","title":"Overview","text":"<p>Maverick MCP provides a production-ready Docker setup with:</p> <ul> <li>Multi-stage Dockerfile with optimized builder and runtime stages (50%+ smaller images)</li> <li>Multi-container architecture (Backend, PostgreSQL, Redis)</li> <li>Production Docker Compose with health checks, resource limits, and PostgreSQL tuning</li> <li>Development tools stack (pgAdmin, Redis Commander, Prometheus, Grafana, Portainer)</li> <li>Environment-specific configurations (.env files for development, production, testing)</li> <li>CI/CD pipeline with automated testing, multi-arch builds, and security scanning</li> <li>Persistent volumes for data retention</li> <li>Non-root user for security</li> <li>Custom ports to avoid conflicts</li> <li>Health checks for all services</li> <li>Resource limits to prevent overconsumption</li> </ul>"},{"location":"deployment/docker/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Docker Compose Stack                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502\n\u2502  \u2502  Maverick MCP Backend                      \u2502        \u2502\n\u2502  \u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501    \u2502        \u2502\n\u2502  \u2502  \u2022 Python 3.12-slim base image             \u2502        \u2502\n\u2502  \u2502  \u2022 FastMCP 2.0 with SSE transport          \u2502        \u2502\n\u2502  \u2502  \u2022 TA-Lib compiled from source             \u2502        \u2502\n\u2502  \u2502  \u2022 uv for fast package management          \u2502        \u2502\n\u2502  \u2502  \u2022 Port: 8003 (host) \u2192 8000 (container)   \u2502        \u2502\n\u2502  \u2502  \u2022 Non-root user (maverick:1000)           \u2502        \u2502\n\u2502  \u2502  \u2022 Volume mounts for live development      \u2502        \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502\n\u2502              \u2193 depends_on \u2193                             \u2502\n\u2502                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  PostgreSQL 15       \u2502  \u2502  Redis 7              \u2502   \u2502\n\u2502  \u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  \u2502  \u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  \u2502   \u2502\n\u2502  \u2502  \u2022 Alpine Linux      \u2502  \u2502  \u2022 Alpine Linux       \u2502   \u2502\n\u2502  \u2502  \u2022 Port: 55432       \u2502  \u2502  \u2022 Port: 56379        \u2502   \u2502\n\u2502  \u2502  \u2022 Persistent volume \u2502  \u2502  \u2022 Persistent volume  \u2502   \u2502\n\u2502  \u2502    (postgres-data)   \u2502  \u2502    (redis-data)       \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"deployment/docker/#service-details","title":"Service Details","text":"Service Image Port (Host:Container) Purpose Volume backend Custom (Python 3.12) 8003:8000 MCP Server Code mounts postgres postgres:15-alpine 55432:55432 Database postgres-data redis redis:7-alpine 56379:56379 Cache redis-data"},{"location":"deployment/docker/#prerequisites","title":"Prerequisites","text":""},{"location":"deployment/docker/#required-software","title":"Required Software","text":"<p>Option 1: Docker Desktop - macOS: Download Docker Desktop - Windows: Download Docker Desktop - Linux: Install Docker Engine</p> <p>Option 2: Rancher Desktop (Recommended for macOS) - Download Rancher Desktop - Free and open source - Lighter than Docker Desktop - See Rancher Desktop Guide for setup</p>"},{"location":"deployment/docker/#verify-installation","title":"Verify Installation","text":"<pre><code># Check Docker is installed\ndocker --version\n# Output: Docker version 24.0.x, build ...\n\n# Check docker-compose is installed\ndocker-compose --version\n# Output: Docker Compose version v2.x.x\n\n# Test Docker is running\ndocker ps\n# Should show empty table (no error)\n</code></pre>"},{"location":"deployment/docker/#quick-start","title":"Quick Start","text":""},{"location":"deployment/docker/#1-clone-repository","title":"1. Clone Repository","text":"<pre><code>git clone https://github.com/arunbcodes/maverick-mcp.git\ncd maverick-mcp\n</code></pre>"},{"location":"deployment/docker/#2-configure-environment","title":"2. Configure Environment","text":"<pre><code># Copy example environment file\ncp .env.example .env\n\n# Edit with your API keys\nnano .env  # or vim, code, etc.\n</code></pre> <p>Required Configuration (<code>.env</code>): <pre><code># Required - Stock data provider\nTIINGO_API_KEY=your-tiingo-api-key-here\n\n# Optional - Enhanced features\nOPENROUTER_API_KEY=your-openrouter-key  # AI research\nEXA_API_KEY=your-exa-key                # Web search\nOPENAI_API_KEY=your-openai-key          # RAG embeddings\nFRED_API_KEY=your-fred-key              # Macro data\n\n# Auto-configured by docker-compose (don't change)\nDATABASE_URL=postgresql://postgres:postgres@postgres:55432/maverick_mcp\nREDIS_HOST=redis\nREDIS_PORT=56379\n</code></pre></p>"},{"location":"deployment/docker/#3-start-services","title":"3. Start Services","text":"<p>Method 1: Using Makefile (Recommended) <pre><code># Start all services\nmake docker-up\n\n# View logs\nmake docker-logs\n\n# Stop all services\nmake docker-down\n</code></pre></p> <p>Method 2: Direct docker-compose <pre><code># Start in background\ndocker-compose up --build -d\n\n# View logs\ndocker-compose logs -f\n\n# Stop services\ndocker-compose down\n</code></pre></p>"},{"location":"deployment/docker/#4-verify-services","title":"4. Verify Services","text":"<pre><code># Check all containers are running\ndocker ps\n\n# Expected output:\n# CONTAINER ID   IMAGE                    STATUS         PORTS\n# xxxx          maverick-mcp-backend-1   Up 30 seconds  0.0.0.0:8003-&gt;8000/tcp\n# yyyy          postgres:15-alpine       Up 30 seconds  0.0.0.0:55432-&gt;55432/tcp\n# zzzz          redis:7-alpine           Up 30 seconds  0.0.0.0:56379-&gt;56379/tcp\n\n# Test MCP server is responding\ncurl http://localhost:8003/sse/\n# Should return SSE connection or JSON response\n\n# Test health endpoint (if implemented)\ncurl http://localhost:8003/health\n</code></pre>"},{"location":"deployment/docker/#5-connect-claude-desktop","title":"5. Connect Claude Desktop","text":"<p>Add to <code>~/Library/Application Support/Claude/claude_desktop_config.json</code>:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/sse/\"]\n    }\n  }\n}\n</code></pre> <p>Important: Note the trailing slash in <code>/sse/</code> - this is required to prevent redirect issues!</p> <p>Restart Claude Desktop and test: <pre><code>Show me technical analysis for AAPL\n</code></pre></p>"},{"location":"deployment/docker/#mcp-transport-configuration","title":"MCP Transport Configuration","text":"<p>Maverick MCP supports multiple transport protocols for different MCP clients:</p>"},{"location":"deployment/docker/#transport-options","title":"Transport Options","text":"Transport MCP Client Use Case Endpoint SSE (Server-Sent Events) Claude Desktop, Cursor IDE Direct SSE connections <code>/sse/</code> Streamable-HTTP ChatGPT, Claude Code CLI HTTP-based with SSE support <code>/mcp/</code> STDIO Local clients Process-based communication N/A"},{"location":"deployment/docker/#default-configuration","title":"Default Configuration","text":"<p>The default <code>docker-compose.yml</code> uses Streamable-HTTP transport for broad compatibility:</p> <pre><code>services:\n  backend:\n    command: [\"uv\", \"run\", \"python\", \"-m\", \"maverick_mcp.api.server\", \"--transport\", \"streamable-http\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre> <p>This configuration: - \u2705 Works with ChatGPT custom connectors - \u2705 Compatible with Claude Desktop (via mcp-remote bridge) - \u2705 Supports Claude Code CLI - \u2705 Enables HTTP-based MCP protocol</p>"},{"location":"deployment/docker/#switching-to-sse-transport","title":"Switching to SSE Transport","text":"<p>For direct SSE connections (Claude Desktop without mcp-remote), override the command in <code>docker-compose.override.yml</code>:</p> <pre><code>services:\n  backend:\n    command: [\"uv\", \"run\", \"python\", \"-m\", \"maverick_mcp.api.server\", \"--transport\", \"sse\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre> <p>When to use SSE: - Direct connections from Claude Desktop, Cursor IDE - Lower latency for local clients - Simpler architecture without HTTP overhead</p> <p>When to use Streamable-HTTP: - ChatGPT integration via Cloudflare Tunnel - Remote access requirements - Need both HTTP and SSE support - Multiple client types</p>"},{"location":"deployment/docker/#verifying-transport-configuration","title":"Verifying Transport Configuration","text":"<p>Check which transport is running:</p> <pre><code>docker logs maverick-mcp-backend-1 | grep \"Transport\"\n</code></pre> <p>SSE Transport: <pre><code>\ud83d\udce6 Transport:       SSE\n\ud83d\udd17 Server URL:      http://0.0.0.0:8000/sse\n</code></pre></p> <p>Streamable-HTTP Transport: <pre><code>\ud83d\udce6 Transport:       Streamable-HTTP\n\ud83d\udd17 Server URL:      http://0.0.0.0:8000/mcp/\n</code></pre></p>"},{"location":"deployment/docker/#chatgpt-integration-notes","title":"ChatGPT Integration Notes","text":"<p>For ChatGPT custom connectors, Streamable-HTTP is required. See ChatGPT Setup Guide for complete configuration instructions including:</p> <ul> <li>Docker transport configuration</li> <li>Cloudflare Tunnel setup</li> <li>Custom connector configuration</li> <li>Troubleshooting common issues</li> </ul>"},{"location":"deployment/docker/#development-workflow","title":"Development Workflow","text":""},{"location":"deployment/docker/#development-mode-with-hot-reload","title":"Development Mode with Hot Reload","text":"<p>1. Create Override File <pre><code>cp docker-compose.override.yml.example docker-compose.override.yml\n</code></pre></p> <p>2. Edit Override Configuration <pre><code># docker-compose.override.yml\nservices:\n  backend:\n    # Enable hot reload (using streamable-http for compatibility)\n    command: uv run python -m maverick_mcp.api.server --transport streamable-http --host 0.0.0.0 --port 8000 --reload\n\n    environment:\n      - ENVIRONMENT=development\n      - LOG_LEVEL=debug\n      - API_DEBUG=true\n\n    # Interactive debugging\n    stdin_open: true\n    tty: true\n</code></pre></p> <p>SSE Transport for Development</p> <p>If you're only using Claude Desktop locally, you can use <code>--transport sse</code> for slightly lower latency. However, <code>streamable-http</code> is recommended as the default for compatibility with all clients.</p> <p>3. Restart with Development Config <pre><code>docker-compose up --build\n# Now code changes will auto-reload the server\n</code></pre></p>"},{"location":"deployment/docker/#common-development-tasks","title":"Common Development Tasks","text":"<p>View Logs <pre><code># All services\ndocker-compose logs -f\n\n# Specific service\ndocker-compose logs -f backend\ndocker-compose logs -f postgres\ndocker-compose logs -f redis\n\n# Last 100 lines\ndocker-compose logs --tail=100 backend\n</code></pre></p> <p>Execute Commands in Container <pre><code># Access backend shell\ndocker-compose exec backend /bin/sh\n\n# Run Python commands\ndocker-compose exec backend python -c \"print('Hello')\"\n\n# Run tests\ndocker-compose exec backend uv run pytest\n\n# Database migrations\ndocker-compose exec backend uv run alembic upgrade head\n</code></pre></p> <p>Database Access <pre><code># Connect to PostgreSQL\ndocker-compose exec postgres psql -U postgres -d maverick_mcp\n\n# Run SQL query\ndocker-compose exec postgres psql -U postgres -d maverick_mcp -c \"SELECT * FROM stocks LIMIT 5;\"\n\n# Dump database\ndocker-compose exec postgres pg_dump -U postgres maverick_mcp &gt; backup.sql\n</code></pre></p> <p>Redis Access <pre><code># Connect to Redis CLI\ndocker-compose exec redis redis-cli -p 56379\n\n# Check cache keys\ndocker-compose exec redis redis-cli -p 56379 KEYS \"*\"\n\n# Get cache statistics\ndocker-compose exec redis redis-cli -p 56379 INFO stats\n</code></pre></p> <p>Restart Single Service <pre><code># Restart backend only\ndocker-compose restart backend\n\n# Rebuild and restart\ndocker-compose up --build -d backend\n</code></pre></p>"},{"location":"deployment/docker/#configuration-options","title":"Configuration Options","text":""},{"location":"deployment/docker/#environment-variables","title":"Environment Variables","text":"<p>All environment variables can be configured in <code>.env</code> file:</p> <p>Server Configuration: <pre><code>API_HOST=0.0.0.0              # Bind address\nAPI_PORT=8000                 # Container port (mapped to 8003)\nLOG_LEVEL=info                # debug, info, warning, error\nENVIRONMENT=production        # development or production\n</code></pre></p> <p>Database Configuration: <pre><code>DATABASE_URL=postgresql://postgres:postgres@postgres:55432/maverick_mcp\n# Auto-configured by docker-compose - don't change unless needed\n</code></pre></p> <p>Cache Configuration: <pre><code>REDIS_HOST=redis              # Redis container hostname\nREDIS_PORT=56379              # Redis port\nCACHE_TTL_SECONDS=3600        # Default cache TTL (1 hour)\n</code></pre></p> <p>Research Agent Configuration: <pre><code>RESEARCH_TIMEOUT_SECONDS=120  # Research timeout\nPARALLEL_AGENTS_MAX=6         # Max parallel agents\nCONFIDENCE_THRESHOLD=0.85     # Confidence threshold\n</code></pre></p>"},{"location":"deployment/docker/#port-customization","title":"Port Customization","text":"<p>Ports are defined in <code>docker-compose.yml</code>:</p> <pre><code>services:\n  backend:\n    ports:\n      - \"8003:8000\"  # Change 8003 to your preferred host port\n\n  postgres:\n    ports:\n      - \"55432:55432\"  # Custom port to avoid conflicts\n\n  redis:\n    ports:\n      - \"56379:56379\"  # Custom port to avoid conflicts\n</code></pre> <p>Why Custom Ports? - 8003 instead of 8000: Avoids conflicts with other services - 55432 instead of 5432: Avoids conflicts with system PostgreSQL - 56379 instead of 6379: Avoids conflicts with system Redis</p>"},{"location":"deployment/docker/#volume-mounts","title":"Volume Mounts","text":"<p>Development Volumes (Live Code) <pre><code>volumes:\n  - ./maverick_mcp:/app/maverick_mcp  # Live code reload\n  - ./alembic:/app/alembic            # Database migrations\n  - ./tests:/app/tests                # Tests\n  - ./.env:/app/.env                  # Environment config\n</code></pre></p> <p>Persistent Data Volumes <pre><code>volumes:\n  postgres-data:  # Database persists across container restarts\n  redis-data:     # Cache persists across container restarts\n</code></pre></p>"},{"location":"deployment/docker/#multi-stage-dockerfile","title":"Multi-Stage Dockerfile","text":""},{"location":"deployment/docker/#overview_1","title":"Overview","text":"<p>The Dockerfile uses a multi-stage build to create optimized production images that are 50%+ smaller than single-stage builds.</p> <p>Benefits: - Smaller Images: Only runtime dependencies in final image (~300MB vs ~600MB) - Faster Deployments: Less data to transfer and pull - Better Security: Fewer packages = smaller attack surface - Multi-Architecture: Supports both AMD64 and ARM64 (Apple Silicon, AWS Graviton)</p>"},{"location":"deployment/docker/#build-stages","title":"Build Stages","text":""},{"location":"deployment/docker/#stage-1-builder-compilation","title":"Stage 1: Builder (Compilation)","text":"<pre><code>FROM python:3.12-slim AS builder\n\nARG TALIB_VERSION=0.6.4\nARG UV_VERSION=latest\n\nWORKDIR /build\n\n# Install build dependencies\nRUN apt-get update &amp;&amp; apt-get install -yqq \\\n    build-essential \\\n    python3-dev \\\n    libpq-dev \\\n    wget \\\n    curl \\\n    &amp;&amp; rm -rf /var/lib/apt/lists/*\n\n# Install uv for fast Python package management\nRUN pip install --no-cache-dir uv\n\n# Download and compile TA-Lib\nENV TALIB_DIR=/usr/local\nRUN wget https://github.com/ta-lib/ta-lib/releases/download/v${TALIB_VERSION}/ta-lib-${TALIB_VERSION}-src.tar.gz \\\n    &amp;&amp; tar -xzf ta-lib-${TALIB_VERSION}-src.tar.gz \\\n    &amp;&amp; cd ta-lib-${TALIB_VERSION}/ \\\n    &amp;&amp; ./configure --prefix=$TALIB_DIR \\\n    &amp;&amp; make -j$(nproc) \\\n    &amp;&amp; make install \\\n    &amp;&amp; cd .. \\\n    &amp;&amp; rm -rf ta-lib-${TALIB_VERSION}-src.tar.gz ta-lib-${TALIB_VERSION}/\n\n# Copy dependency files\nCOPY pyproject.toml uv.lock README.md ./\n\n# Install Python dependencies in virtual environment\nRUN uv sync --frozen --no-dev\n</code></pre> <p>Key Points: - Uses Python 3.12-slim as base (smaller than regular Python image) - Installs build tools (gcc, make, etc.) for compiling TA-Lib - Compiles TA-Lib with parallel jobs <code>make -j$(nproc)</code> for speed - Installs Python dependencies with <code>uv sync --frozen --no-dev</code> (no dev dependencies in production) - Cleans up build artifacts to save space</p>"},{"location":"deployment/docker/#stage-2-runtime-production","title":"Stage 2: Runtime (Production)","text":"<pre><code>FROM python:3.12-slim AS runtime\n\nLABEL maintainer=\"Maverick MCP &lt;noreply@maverick-mcp.dev&gt;\"\nLABEL description=\"Maverick MCP - Personal stock analysis MCP server\"\nLABEL version=\"0.1.0\"\n\nARG APP_USER=maverick\nARG APP_UID=1000\nARG APP_GID=1000\n\nWORKDIR /app\n\n# Install only runtime dependencies\nRUN apt-get update &amp;&amp; apt-get install -yqq \\\n    libpq5 \\\n    curl \\\n    &amp;&amp; rm -rf /var/lib/apt/lists/* \\\n    &amp;&amp; apt-get clean\n\n# Copy TA-Lib from builder\nCOPY --from=builder /usr/local/lib/libta_lib.* /usr/local/lib/\nCOPY --from=builder /usr/local/include/ta-lib/ /usr/local/include/ta-lib/\nRUN ldconfig\n\n# Copy Python dependencies from builder\nCOPY --from=builder /build/.venv /app/.venv\n\n# Install uv in runtime (needed for \"uv run\")\nRUN pip install --no-cache-dir uv\n\n# Copy application code\nCOPY maverick_mcp ./maverick_mcp\nCOPY alembic ./alembic\nCOPY alembic.ini setup.py pyproject.toml uv.lock README.md ./\n\n# Set environment variables\nENV PYTHONUNBUFFERED=1 \\\n    PYTHONDONTWRITEBYTECODE=1 \\\n    PATH=\"/app/.venv/bin:$PATH\" \\\n    PYTHONPATH=\"/app:$PYTHONPATH\"\n\n# Create non-root user\nRUN groupadd -g ${APP_GID} ${APP_USER} &amp;&amp; \\\n    useradd -u ${APP_UID} -g ${APP_USER} -s /bin/sh -m ${APP_USER} &amp;&amp; \\\n    chown -R ${APP_USER}:${APP_USER} /app\n\nUSER ${APP_USER}\n\n# Expose port\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=10s --start-period=40s --retries=3 \\\n    CMD curl -f http://localhost:8000/health || exit 1\n\n# Start MCP server (default to SSE, can be overridden by docker-compose.yml)\nCMD [\"uv\", \"run\", \"python\", \"-m\", \"maverick_mcp.api.server\", \"--transport\", \"sse\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre> <p>Transport Configuration</p> <p>The Dockerfile defaults to <code>sse</code> transport for direct connections. However, <code>docker-compose.yml</code> overrides this with <code>streamable-http</code> for broader compatibility (ChatGPT, Claude Code CLI). See MCP Transport Configuration section above for details.</p> <p>Key Optimizations: 1. Layer Caching: Dependencies installed before code copy for faster rebuilds 2. Multi-Architecture Support: Works on AMD64 (Intel/AMD) and ARM64 (Apple Silicon, AWS Graviton) 3. Security: Runs as non-root user (maverick:1000) 4. Health Checks: Built-in health endpoint monitoring 5. Clean Image: Only runtime dependencies (libpq5, curl), no build tools 6. Environment Variables: Configured for production Python execution</p>"},{"location":"deployment/docker/#image-size-comparison","title":"Image Size Comparison","text":"Build Type Image Size Layers Build Time Single-stage ~600MB 15+ 3-4 min Multi-stage ~300MB 8 3-4 min Savings 50%+ 47% fewer Same"},{"location":"deployment/docker/#troubleshooting","title":"Troubleshooting","text":""},{"location":"deployment/docker/#container-wont-start","title":"Container Won't Start","text":"<p>Check logs: <pre><code>docker-compose logs backend\n</code></pre></p> <p>Common issues: - Port conflict: Change port in docker-compose.yml - Missing .env: Copy from .env.example - Invalid API keys: Check .env file</p>"},{"location":"deployment/docker/#database-connection-errors","title":"Database Connection Errors","text":"<p>Test database connectivity: <pre><code># From host\ndocker-compose exec postgres psql -U postgres -c \"SELECT 1;\"\n\n# Check backend can connect\ndocker-compose exec backend python -c \"from maverick_data import get_session; print(get_session())\"\n</code></pre></p> <p>Common issues: - Wrong DATABASE_URL: Should use <code>postgres</code> as hostname (service name) - Database not ready: Wait 10-15 seconds after <code>docker-compose up</code></p>"},{"location":"deployment/docker/#redis-connection-errors","title":"Redis Connection Errors","text":"<p>Test Redis connectivity: <pre><code># From host\ndocker-compose exec redis redis-cli -p 56379 PING\n# Should return: PONG\n\n# Check backend can connect\ndocker-compose exec backend python -c \"import redis; r = redis.Redis(host='redis', port=56379); print(r.ping())\"\n</code></pre></p>"},{"location":"deployment/docker/#permission-errors","title":"Permission Errors","text":"<p>Fix volume permissions: <pre><code># Backend runs as maverick:1000\n# If permission errors occur:\nsudo chown -R 1000:1000 ./maverick_mcp\n</code></pre></p>"},{"location":"deployment/docker/#build-errors","title":"Build Errors","text":"<p>Clean build: <pre><code># Remove all containers and volumes\ndocker-compose down -v\n\n# Remove images\ndocker-compose down --rmi all\n\n# Rebuild from scratch\ndocker-compose build --no-cache\ndocker-compose up -d\n</code></pre></p>"},{"location":"deployment/docker/#ta-lib-compilation-fails","title":"TA-Lib Compilation Fails","text":"<p>Manually debug: <pre><code># Build with verbose output\ndocker-compose build --progress=plain backend\n\n# Check TA-Lib installation\ndocker-compose run --rm backend python -c \"import talib; print(talib.__version__)\"\n</code></pre></p>"},{"location":"deployment/docker/#production-deployment","title":"Production Deployment","text":""},{"location":"deployment/docker/#production-docker-compose","title":"Production Docker Compose","text":"<p>For production deployments, use <code>docker-compose.prod.yml</code> which includes:</p> <ul> <li>Health checks for all services</li> <li>Resource limits to prevent overconsumption</li> <li>Optimized PostgreSQL with 100 connections and tuned parameters</li> <li>Redis persistence with LRU eviction policy</li> <li>Restart policies for automatic recovery</li> <li>Logging configuration with rotation</li> <li>Custom network for service isolation</li> </ul> <p>Start production stack: <pre><code># Using production compose file\ndocker-compose -f docker-compose.prod.yml up -d\n\n# View logs\ndocker-compose -f docker-compose.prod.yml logs -f\n\n# Stop services\ndocker-compose -f docker-compose.prod.yml down\n</code></pre></p> <p>Key Production Features:</p>"},{"location":"deployment/docker/#1-backend-service-with-health-checks","title":"1. Backend Service with Health Checks","text":"<pre><code>backend:\n  restart: unless-stopped\n  healthcheck:\n    test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health/\"]\n    interval: 30s\n    timeout: 10s\n    retries: 3\n    start_period: 40s\n  deploy:\n    resources:\n      limits:\n        cpus: '2.0'\n        memory: 2G\n      reservations:\n        cpus: '0.5'\n        memory: 512M\n</code></pre>"},{"location":"deployment/docker/#2-optimized-postgresql","title":"2. Optimized PostgreSQL","text":"<pre><code>postgres:\n  image: postgres:15-alpine\n  command:\n    - \"postgres\"\n    - \"-c\" \"max_connections=100\"\n    - \"-c\" \"shared_buffers=256MB\"\n    - \"-c\" \"effective_cache_size=1GB\"\n    - \"-c\" \"maintenance_work_mem=64MB\"\n    - \"-c\" \"checkpoint_completion_target=0.9\"\n    - \"-c\" \"wal_buffers=16MB\"\n    - \"-c\" \"default_statistics_target=100\"\n    - \"-c\" \"random_page_cost=1.1\"\n    - \"-c\" \"effective_io_concurrency=200\"\n    - \"-c\" \"work_mem=2621kB\"\n    - \"-c\" \"min_wal_size=1GB\"\n    - \"-c\" \"max_wal_size=4GB\"\n  deploy:\n    resources:\n      limits:\n        cpus: '1.0'\n        memory: 1G\n</code></pre>"},{"location":"deployment/docker/#3-redis-with-persistence","title":"3. Redis with Persistence","text":"<pre><code>redis:\n  command:\n    - redis-server\n    - --maxmemory 512mb\n    - --maxmemory-policy allkeys-lru\n    - --save 900 1\n    - --save 300 10\n    - --save 60 10000\n    - --appendonly yes\n    - --appendfsync everysec\n  deploy:\n    resources:\n      limits:\n        cpus: '0.5'\n        memory: 512M\n</code></pre>"},{"location":"deployment/docker/#environment-specific-configurations","title":"Environment-Specific Configurations","text":"<p>The project includes three environment configuration templates:</p>"},{"location":"deployment/docker/#development-envdevelopmentexample","title":"Development (.env.development.example)","text":"<p>Optimized for local development with hot reload:</p> <pre><code># Copy for development\ncp .env.development.example .env\n\n# Key settings\nENVIRONMENT=development\nLOG_LEVEL=debug\nHOT_RELOAD=true\nDATABASE_URL=sqlite:///maverick_mcp_dev.db  # Simple SQLite\n</code></pre> <p>Features: - SQLite database (no setup required) - Hot reload enabled - Debug logging - Reduced connection limits for faster startup</p>"},{"location":"deployment/docker/#production-envproductionexample","title":"Production (.env.production.example)","text":"<p>Optimized for production deployment:</p> <pre><code># Copy for production (NEVER commit with real values!)\ncp .env.production.example .env.production\n\n# Key settings\nENVIRONMENT=production\nLOG_LEVEL=info\nDATABASE_URL=postgresql://maverick_user:secure_password@postgres:5432/maverick_mcp\nREDIS_HOST=redis\nREDIS_PORT=6379\n</code></pre> <p>Features: - PostgreSQL required - Redis required - Security hardening - Production checklists - Monitoring configuration</p> <p>Production Checklist (from .env.production.example): - [ ] All default passwords changed - [ ] SECRET_KEY is randomly generated (32+ characters) - [ ] API keys are production-tier with appropriate limits - [ ] TLS/SSL certificates are valid and up-to-date - [ ] CORS origins restricted to actual domains - [ ] Database and Redis access restricted by IP - [ ] Sentry or monitoring configured - [ ] Automated backups running daily</p>"},{"location":"deployment/docker/#testing-envtestingexample","title":"Testing (.env.testing.example)","text":"<p>Optimized for automated testing (CI/CD):</p> <pre><code># Copy for testing\ncp .env.testing.example .env.test\n\n# Key settings\nENVIRONMENT=testing\nDATABASE_URL=sqlite:///:memory:  # In-memory for speed\nMOCK_EXTERNAL_APIS=true\nVCR_RECORD_MODE=once\n</code></pre> <p>Features: - In-memory SQLite (ephemeral, fast) - Mocked external APIs - VCR cassettes for recorded API responses - Parallel testing support</p>"},{"location":"deployment/docker/#security-checklist","title":"Security Checklist","text":"<ul> <li> Use environment-specific <code>.env</code> files (<code>.env.production</code>)</li> <li> Never commit API keys to git</li> <li> Use secrets management (Docker secrets, AWS Secrets Manager)</li> <li> Change default PostgreSQL password</li> <li> Enable SSL/TLS for external connections</li> <li> Limit container resources (CPU, memory)</li> <li> Run containers as non-root users</li> <li> Scan images for vulnerabilities (Trivy, Snyk)</li> <li> Use multi-stage builds to reduce attack surface</li> <li> Enable health checks for all services</li> <li> Configure logging with rotation to prevent disk fill</li> </ul>"},{"location":"deployment/docker/#development-tools-stack","title":"Development Tools Stack","text":"<p>Maverick MCP includes a comprehensive development tools stack via <code>docker-compose.tools.yml</code>:</p> <ul> <li>pgAdmin - PostgreSQL GUI (port 5050)</li> <li>Redis Commander - Redis GUI (port 8081)</li> <li>Prometheus - Metrics collection (port 9090)</li> <li>Grafana - Metrics visualization (port 3000)</li> <li>Portainer - Docker container management (port 9443)</li> </ul>"},{"location":"deployment/docker/#starting-development-tools","title":"Starting Development Tools","text":"<p>With development compose: <pre><code>docker-compose -f docker-compose.yml -f docker-compose.tools.yml up -d\n</code></pre></p> <p>With production compose: <pre><code>docker-compose -f docker-compose.prod.yml -f docker-compose.tools.yml up -d\n</code></pre></p>"},{"location":"deployment/docker/#tool-details","title":"Tool Details","text":""},{"location":"deployment/docker/#1-pgadmin-postgresql-management","title":"1. pgAdmin - PostgreSQL Management","text":"<p>Access: http://localhost:5050</p> <p>Default Credentials: - Email: <code>admin@maverick-mcp.dev</code> - Password: <code>admin</code></p> <p>Pre-configured Server: - Name: Maverick MCP PostgreSQL - Host: <code>postgres</code> - Port: <code>5432</code> - Database: <code>maverick_mcp</code></p> <p>Features: - Query editor with syntax highlighting - Visual schema designer - Export/import data - Performance monitoring - Backup and restore tools</p>"},{"location":"deployment/docker/#2-redis-commander-redis-management","title":"2. Redis Commander - Redis Management","text":"<p>Access: http://localhost:8081</p> <p>Default Credentials: - Username: <code>admin</code> - Password: <code>admin</code></p> <p>Features: - Browse all Redis keys - View key values and TTL - Execute Redis commands - Real-time statistics - Key search and filtering</p> <p>Common Use Cases: <pre><code># View all cache keys\n# Navigate to http://localhost:8081 and browse keys\n\n# Check cache hit rate\n# View statistics in the web interface\n\n# Clear specific cache\n# Select keys and delete via GUI\n</code></pre></p>"},{"location":"deployment/docker/#3-prometheus-metrics-collection","title":"3. Prometheus - Metrics Collection","text":"<p>Access: http://localhost:9090</p> <p>Configuration: Auto-configured to scrape: - Backend metrics (port 9090) - PostgreSQL exporter - Redis exporter - Prometheus self-monitoring</p> <p>Query Examples: <pre><code># Request rate\nrate(http_requests_total[5m])\n\n# Response time (95th percentile)\nhistogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))\n\n# Error rate\nrate(http_requests_total{status=~\"5..\"}[5m])\n\n# Cache hit rate\nrate(cache_hits_total[5m]) / (rate(cache_hits_total[5m]) + rate(cache_misses_total[5m]))\n</code></pre></p> <p>Data Retention: 30 days (configurable)</p>"},{"location":"deployment/docker/#4-grafana-metrics-visualization","title":"4. Grafana - Metrics Visualization","text":"<p>Access: http://localhost:3000</p> <p>Default Credentials: - Username: <code>admin</code> - Password: <code>admin</code></p> <p>Pre-configured Datasources: - Prometheus (http://prometheus:9090) - PostgreSQL (postgres:5432)</p> <p>Pre-configured Dashboards: - Maverick MCP Overview: API requests, response times, error rates - Cache Performance: Hit rates, memory usage - Database Monitoring: Connections, query performance - System Resources: CPU, memory, disk usage</p> <p>Custom Dashboard Creation: <pre><code># Dashboards auto-loaded from\n./tools/grafana/dashboards/\n\n# Edit provisioning\n./tools/grafana/provisioning/dashboards/dashboard.yml\n./tools/grafana/provisioning/datasources/prometheus.yml\n</code></pre></p>"},{"location":"deployment/docker/#5-portainer-container-management","title":"5. Portainer - Container Management","text":"<p>Access: https://localhost:9443</p> <p>Features: - Visual container management - View logs and stats in real-time - Access container console - Manage networks and volumes - Stack management (compose files) - Resource usage monitoring</p> <p>Quick Actions: <pre><code># All available in web interface:\n# - Start/stop/restart containers\n# - View container logs\n# - Execute commands in containers\n# - Monitor resource usage\n# - Manage volumes and networks\n</code></pre></p>"},{"location":"deployment/docker/#resource-usage","title":"Resource Usage","text":"<p>All tools are configured with resource limits:</p> Tool CPU Limit Memory Limit Storage pgAdmin 0.5 cores 512MB Volume Redis Commander 0.25 cores 256MB None Prometheus 1.0 core 1GB 30-day data Grafana 1.0 core 512MB Volume Portainer 0.5 cores 256MB Volume Total 3.25 cores 2.5GB ~5GB"},{"location":"deployment/docker/#disabling-tools","title":"Disabling Tools","text":"<p>Run without tools: <pre><code>docker-compose up -d  # Standard compose only\n</code></pre></p> <p>Stop tools only: <pre><code>docker-compose -f docker-compose.tools.yml down\n</code></pre></p>"},{"location":"deployment/docker/#cicd-pipeline","title":"CI/CD Pipeline","text":"<p>Maverick MCP includes a complete GitHub Actions CI/CD pipeline that:</p> <ul> <li>\u2705 Runs tests before building images</li> <li>\u2705 Builds multi-architecture images (AMD64 + ARM64)</li> <li>\u2705 Pushes to GitHub Container Registry</li> <li>\u2705 Performs security scanning with Trivy</li> <li>\u2705 Runs smoke tests on built images</li> <li>\u2705 Uploads coverage reports to Codecov</li> </ul>"},{"location":"deployment/docker/#pipeline-overview","title":"Pipeline Overview","text":"<p>Workflow File: <code>.github/workflows/docker-build.yml</code></p> <p>Triggered on: - Push to <code>main</code> or <code>develop</code> branches - Pull requests to <code>main</code> or <code>develop</code> - Git tags (v*) - Manual workflow dispatch</p>"},{"location":"deployment/docker/#pipeline-stages","title":"Pipeline Stages","text":""},{"location":"deployment/docker/#1-test-stage","title":"1. Test Stage","text":"<p>Runs before any images are built:</p> <pre><code>jobs:\n  test:\n    runs-on: ubuntu-latest\n    services:\n      postgres:\n        image: postgres:15-alpine\n      redis:\n        image: redis:7-alpine\n    steps:\n      - Run unit tests (pytest -m \"not integration\")\n      - Run integration tests (pytest -m integration)\n      - Upload coverage to Codecov\n</code></pre> <p>What it does: - Sets up Python 3.12 with uv - Installs dependencies - Runs unit tests with in-memory SQLite - Runs integration tests with PostgreSQL + Redis - Generates and uploads coverage reports</p>"},{"location":"deployment/docker/#2-build-and-push-stage","title":"2. Build and Push Stage","text":"<p>Builds images for multiple architectures:</p> <pre><code>jobs:\n  build-and-push:\n    needs: test\n    strategy:\n      matrix:\n        platform:\n          - linux/amd64   # Intel/AMD\n          - linux/arm64   # Apple Silicon, AWS Graviton\n    steps:\n      - Set up QEMU for cross-platform builds\n      - Set up Docker Buildx\n      - Build and push multi-arch images\n</code></pre> <p>Image Registry: GitHub Container Registry (ghcr.io)</p> <p>Image Tags: - <code>main</code> \u2192 <code>ghcr.io/arunbcodes/maverick-mcp:latest</code> - <code>develop</code> \u2192 <code>ghcr.io/arunbcodes/maverick-mcp:develop</code> - <code>v1.2.3</code> \u2192 <code>ghcr.io/arunbcodes/maverick-mcp:1.2.3</code> - PR #123 \u2192 <code>ghcr.io/arunbcodes/maverick-mcp:pr-123</code></p>"},{"location":"deployment/docker/#3-create-multi-arch-manifest","title":"3. Create Multi-Arch Manifest","text":"<p>Combines AMD64 and ARM64 images:</p> <pre><code>jobs:\n  create-manifest:\n    needs: build-and-push\n    steps:\n      - Create manifest combining both architectures\n      - Push manifest to registry\n</code></pre> <p>Result: Single image tag works on both Intel and ARM processors.</p>"},{"location":"deployment/docker/#4-smoke-test-stage","title":"4. Smoke Test Stage","text":"<p>Tests the built image:</p> <pre><code>jobs:\n  test-docker-image:\n    needs: build-and-push\n    steps:\n      - Pull built image\n      - Start container with test database\n      - Check health endpoint\n      - Verify logs\n</code></pre> <p>Validates: - Image starts successfully - Health endpoint responds - Database connection works - No critical errors in logs</p>"},{"location":"deployment/docker/#5-security-scan-stage","title":"5. Security Scan Stage","text":"<p>Scans for vulnerabilities with Trivy:</p> <pre><code>jobs:\n  security-scan:\n    needs: build-and-push\n    steps:\n      - Pull built image\n      - Run Trivy vulnerability scanner\n      - Upload results to GitHub Security tab\n      - Generate human-readable report\n</code></pre> <p>Checks for: - Known CVEs in packages - Outdated dependencies - Critical and high severity issues - License compliance issues</p> <p>Results available: - GitHub Security tab (SARIF format) - Workflow artifacts (text report)</p>"},{"location":"deployment/docker/#using-cicd-images","title":"Using CI/CD Images","text":"<p>Pull latest image: <pre><code>docker pull ghcr.io/arunbcodes/maverick-mcp:latest\n</code></pre></p> <p>Run pulled image: <pre><code>docker run -d \\\n  -p 8003:8000 \\\n  -e TIINGO_API_KEY=your_key \\\n  -e DATABASE_URL=postgresql://... \\\n  ghcr.io/arunbcodes/maverick-mcp:latest\n</code></pre></p> <p>Use in docker-compose: <pre><code>services:\n  backend:\n    image: ghcr.io/arunbcodes/maverick-mcp:latest\n    # ... rest of config\n</code></pre></p>"},{"location":"deployment/docker/#pipeline-metrics","title":"Pipeline Metrics","text":"Stage Duration Success Rate Tests 3-5 min &gt;95% Build (AMD64) 3-4 min &gt;98% Build (ARM64) 3-4 min &gt;98% Security Scan 1-2 min N/A Total 10-15 min &gt;95%"},{"location":"deployment/docker/#manual-workflow-dispatch","title":"Manual Workflow Dispatch","text":"<p>Trigger pipeline manually:</p> <ol> <li>Go to GitHub Actions tab</li> <li>Select \"Docker Build and Push\"</li> <li>Click \"Run workflow\"</li> <li>Select branch</li> <li>Click \"Run workflow\"</li> </ol>"},{"location":"deployment/docker/#local-testing-before-ci","title":"Local Testing (Before CI)","text":"<p>Test the workflow locally:</p> <pre><code># Install act (GitHub Actions local runner)\nbrew install act\n\n# Run workflow locally\nact push\n\n# Run specific job\nact -j test\n</code></pre>"},{"location":"deployment/docker/#maintenance","title":"Maintenance","text":""},{"location":"deployment/docker/#update-images","title":"Update Images","text":"<pre><code># Pull latest base images\ndocker-compose pull\n\n# Rebuild services\ndocker-compose build --pull\n\n# Restart with new images\ndocker-compose up -d\n</code></pre>"},{"location":"deployment/docker/#backup-data","title":"Backup Data","text":"<p>PostgreSQL Backup: <pre><code># Dump database\ndocker-compose exec postgres pg_dump -U postgres maverick_mcp &gt; backup_$(date +%Y%m%d).sql\n\n# Restore database\ndocker-compose exec -T postgres psql -U postgres maverick_mcp &lt; backup_20241111.sql\n</code></pre></p> <p>Redis Backup: <pre><code># Save RDB snapshot\ndocker-compose exec redis redis-cli -p 56379 SAVE\n\n# Copy RDB file\ndocker cp maverick-mcp-redis-1:/data/dump.rdb ./redis_backup_$(date +%Y%m%d).rdb\n</code></pre></p> <p>Volume Backup: <pre><code># Backup PostgreSQL volume\ndocker run --rm -v maverick-mcp_postgres-data:/data -v $(pwd):/backup alpine tar czf /backup/postgres_$(date +%Y%m%d).tar.gz /data\n\n# Backup Redis volume\ndocker run --rm -v maverick-mcp_redis-data:/data -v $(pwd):/backup alpine tar czf /backup/redis_$(date +%Y%m%d).tar.gz /data\n</code></pre></p>"},{"location":"deployment/docker/#clean-up","title":"Clean Up","text":"<pre><code># Stop and remove containers (keeps volumes)\ndocker-compose down\n\n# Remove containers and volumes (deletes data!)\ndocker-compose down -v\n\n# Remove unused images\ndocker image prune -a\n\n# Remove all unused resources\ndocker system prune -a --volumes\n</code></pre>"},{"location":"deployment/docker/#performance-tuning","title":"Performance Tuning","text":""},{"location":"deployment/docker/#postgresql-optimization","title":"PostgreSQL Optimization","text":"<p>Edit docker-compose.yml: <pre><code>services:\n  postgres:\n    environment:\n      - POSTGRES_SHARED_BUFFERS=256MB\n      - POSTGRES_WORK_MEM=8MB\n      - POSTGRES_MAINTENANCE_WORK_MEM=64MB\n    command: &gt;\n      -c shared_buffers=256MB\n      -c work_mem=8MB\n      -c maintenance_work_mem=64MB\n      -c effective_cache_size=1GB\n</code></pre></p>"},{"location":"deployment/docker/#redis-optimization","title":"Redis Optimization","text":"<p>Edit docker-compose.yml: <pre><code>services:\n  redis:\n    command: &gt;\n      redis-server\n      --port 56379\n      --maxmemory 512mb\n      --maxmemory-policy allkeys-lru\n      --save 60 1000\n</code></pre></p>"},{"location":"deployment/docker/#quick-reference","title":"Quick Reference","text":""},{"location":"deployment/docker/#docker-compose-files","title":"Docker Compose Files","text":"File Purpose Use Case Command docker-compose.yml Development Local development with hot reload <code>docker-compose up -d</code> docker-compose.prod.yml Production Production deployment with optimizations <code>docker-compose -f docker-compose.prod.yml up -d</code> docker-compose.tools.yml Dev Tools Add pgAdmin, Grafana, Prometheus, etc. <code>docker-compose -f docker-compose.yml -f docker-compose.tools.yml up -d</code>"},{"location":"deployment/docker/#environment-files","title":"Environment Files","text":"File Purpose Database Cache Hot Reload .env.development.example Development SQLite Optional Yes .env.production.example Production PostgreSQL Redis No .env.testing.example Testing/CI In-memory SQLite Mock No"},{"location":"deployment/docker/#service-ports","title":"Service Ports","text":"Service Development Port Production Port Tool URL Backend 8003 8003 http://localhost:8003/sse/ PostgreSQL 55432 5432 - Redis 56379 6379 - pgAdmin 5050 5050 http://localhost:5050 Redis Commander 8081 8081 http://localhost:8081 Prometheus 9090 9090 http://localhost:9090 Grafana 3000 3000 http://localhost:3000 Portainer 9443 9443 https://localhost:9443"},{"location":"deployment/docker/#common-commands","title":"Common Commands","text":"<pre><code># Development\nmake docker-up              # Start development stack\nmake docker-logs            # View logs\nmake docker-down            # Stop all services\n\n# Production\ndocker-compose -f docker-compose.prod.yml up -d\ndocker-compose -f docker-compose.prod.yml logs -f\n\n# With Tools\ndocker-compose -f docker-compose.yml -f docker-compose.tools.yml up -d\n\n# Maintenance\ndocker-compose exec backend uv run pytest        # Run tests\ndocker-compose exec postgres psql -U postgres    # Access database\ndocker-compose exec redis redis-cli              # Access Redis\ndocker-compose restart backend                    # Restart backend only\n\n# Cleanup\ndocker-compose down -v       # Remove containers and volumes\ndocker system prune -a       # Clean up all unused resources\n</code></pre>"},{"location":"deployment/docker/#next-steps","title":"Next Steps","text":"<ul> <li> Review Rancher Desktop Guide for macOS users</li> <li> Set up production environment with <code>.env.production.example</code></li> <li> Configure CI/CD pipeline with GitHub Actions</li> <li> Set up monitoring with Grafana dashboards</li> <li> Configure automated backups (PostgreSQL + Redis)</li> <li> Review security hardening checklist</li> <li> Enable Trivy security scanning in CI/CD</li> <li> Set up alerts for critical metrics</li> <li> Configure log aggregation (optional)</li> <li> Review multi-architecture build support</li> </ul>"},{"location":"deployment/docker/#additional-resources","title":"Additional Resources","text":"<ul> <li>Docker Documentation</li> <li>docker-compose Documentation</li> <li>Dockerfile Best Practices</li> <li>Multi-Stage Builds</li> <li>GitHub Container Registry</li> <li>Trivy Security Scanner</li> <li>Prometheus Documentation</li> <li>Grafana Documentation</li> <li>Maverick MCP GitHub</li> </ul>"},{"location":"deployment/rancher-desktop/","title":"Rancher Desktop Setup Guide","text":"<p>Complete guide for running Maverick MCP with Rancher Desktop.</p>"},{"location":"deployment/rancher-desktop/#why-rancher-desktop","title":"Why Rancher Desktop?","text":"<p>Rancher Desktop is a free, open-source alternative to Docker Desktop with several advantages:</p>"},{"location":"deployment/rancher-desktop/#advantages","title":"Advantages","text":"Feature Rancher Desktop Docker Desktop License Apache 2.0 (Free &amp; Open Source) Freemium (Paid for business &gt;250 employees) Resource Usage Generally lighter (800MB-1.5GB RAM) Heavier (2GB+ RAM) Kubernetes Built-in K3s (production-grade) Built-in (resource intensive) Container Runtime Choose: containerd or dockerd dockerd only CLI Tools Includes kubectl, helm, nerdctl Docker CLI only Updates Monthly releases, community-driven Commercial release cycle Privacy No telemetry or tracking Analytics enabled by default"},{"location":"deployment/rancher-desktop/#when-to-use-rancher-desktop","title":"When to Use Rancher Desktop","text":"<p>\u2705 Perfect for: - macOS users (especially Apple Silicon M1/M2/M3) - Linux users wanting lightweight Kubernetes - Open source advocates - Development environments - Learning Kubernetes - Organizations avoiding Docker licensing fees</p> <p>\u26a0\ufe0f Consider Docker Desktop if: - You need Docker Extensions marketplace - Your team is already standardized on Docker Desktop - You require Docker Desktop Business features</p>"},{"location":"deployment/rancher-desktop/#installation","title":"Installation","text":""},{"location":"deployment/rancher-desktop/#macos","title":"macOS","text":"<p>1. Download Rancher Desktop <pre><code># Method 1: Direct download\nopen https://rancherdesktop.io/\n\n# Method 2: Homebrew (recommended)\nbrew install --cask rancher\n</code></pre></p> <p>2. Install and Launch <pre><code># Open Rancher Desktop application\nopen -a \"Rancher Desktop\"\n</code></pre></p> <p>3. First-Time Setup Wizard</p> <p>When you first launch Rancher Desktop, you'll see the setup wizard:</p> <p>Step 1: Enable Kubernetes (Optional) <pre><code>\u2611 Enable Kubernetes\nVersion: v1.28.x (stable)\n</code></pre> - For Maverick MCP only: You can disable Kubernetes to save resources - For future K8s deployment: Enable it</p> <p>Step 2: Container Runtime <pre><code>\u25cf dockerd (moby) - Recommended for Docker compatibility\n\u25cb containerd (nerdctl) - For Kubernetes-native workflows\n</code></pre> - Choose dockerd for full Docker compatibility with Maverick MCP</p> <p>Step 3: Path Configuration <pre><code>\u2611 Automatic\n</code></pre> - Adds Docker CLI to your PATH automatically</p>"},{"location":"deployment/rancher-desktop/#linux-ubuntudebian","title":"Linux (Ubuntu/Debian)","text":"<p>Install from package: <pre><code># Download latest .deb package\ncurl -s https://api.github.com/repos/rancher-sandbox/rancher-desktop/releases/latest \\\n  | grep \"browser_download_url.*amd64.deb\" \\\n  | cut -d : -f 2,3 \\\n  | tr -d \\\" \\\n  | wget -i -\n\n# Install\nsudo dpkg -i rancher-desktop-*.deb\n\n# Fix dependencies if needed\nsudo apt-get install -f\n</code></pre></p> <p>Launch: <pre><code>rancher-desktop\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#windows","title":"Windows","text":"<p>1. Download Installer - Visit https://rancherdesktop.io/ - Download Windows installer (.exe)</p> <p>2. Install - Run installer as Administrator - Choose installation directory - Complete setup wizard (same as macOS)</p> <p>3. Configure WSL2 <pre><code># Ensure WSL2 is enabled\nwsl --install\nwsl --set-default-version 2\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#configuration","title":"Configuration","text":""},{"location":"deployment/rancher-desktop/#recommended-settings","title":"Recommended Settings","text":"<p>1. Open Rancher Desktop Preferences - macOS: Rancher Desktop \u2192 Preferences - Linux: File \u2192 Preferences - Windows: Settings icon</p> <p>2. Container Engine <pre><code>Container Engine: dockerd (moby)\n</code></pre> \u2705 This is critical - Ensures full Docker compatibility</p> <p>3. Kubernetes (Optional)</p> <p>For Docker-only usage (Recommended for Maverick MCP): <pre><code>\u2610 Enable Kubernetes\n</code></pre> - Saves ~1GB RAM - Faster startup - Simpler setup</p> <p>For future K8s deployment: <pre><code>\u2611 Enable Kubernetes\nKubernetes Version: v1.28.x (latest stable)\nContainer Runtime: dockerd\n</code></pre></p> <p>4. Resources</p> <p>Allocate resources based on your system:</p> <p>Minimum (Development): <pre><code>CPUs: 2\nMemory: 4GB\nDisk: 20GB\n</code></pre></p> <p>Recommended (Production-like): <pre><code>CPUs: 4\nMemory: 8GB\nDisk: 50GB\n</code></pre></p> <p>For Apple Silicon Macs: <pre><code>CPUs: 4-6 (M1/M2/M3 are efficient)\nMemory: 8GB\nDisk: 50GB\n</code></pre></p> <p>5. Virtual Machine</p> <p>macOS: <pre><code>Type: VZ (Virtualization.framework)\n</code></pre> - Faster than QEMU - Native Apple Silicon support - Better integration</p> <p>Linux: <pre><code>Type: None (runs natively)\n</code></pre></p> <p>Windows: <pre><code>Type: WSL2\nDistribution: Ubuntu 22.04 LTS\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#docker-socket-configuration","title":"Docker Socket Configuration","text":"<p>Rancher Desktop uses a different socket path than Docker Desktop.</p> <p>Check your socket location: <pre><code># macOS/Linux\necho $DOCKER_HOST\n\n# Should show:\n# unix:///Users/YOUR_USERNAME/.rd/docker.sock  (macOS)\n# unix:///var/run/docker.sock                  (Linux)\n</code></pre></p> <p>If not set (macOS only): <pre><code># Add to ~/.zshrc or ~/.bashrc\nexport DOCKER_HOST=\"unix://$HOME/.rd/docker.sock\"\n\n# Reload shell\nsource ~/.zshrc\n</code></pre></p> <p>Test Docker connection: <pre><code>docker info\n# Should show Rancher Desktop details\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#running-maverick-mcp","title":"Running Maverick MCP","text":""},{"location":"deployment/rancher-desktop/#quick-start","title":"Quick Start","text":"<p>1. Verify Rancher Desktop is Running <pre><code># Check Docker is available\ndocker ps\n# Should return empty list (no error)\n\n# Check socket\nls -la ~/.rd/docker.sock  # macOS\n# Should show socket file\n</code></pre></p> <p>2. Clone and Configure <pre><code>git clone https://github.com/arunbcodes/maverick-mcp.git\ncd maverick-mcp\n\n# Configure environment\ncp .env.example .env\nnano .env  # Add your TIINGO_API_KEY\n</code></pre></p> <p>3. Start Services <pre><code># Using Makefile\nmake docker-up\n\n# Or direct docker-compose\ndocker-compose up --build -d\n</code></pre></p> <p>4. Verify Services <pre><code># Check containers\ndocker ps\n\n# Check logs\ndocker-compose logs -f backend\n\n# Test endpoint\ncurl http://localhost:8003/sse/\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#troubleshooting-rancher-desktop","title":"Troubleshooting Rancher Desktop","text":""},{"location":"deployment/rancher-desktop/#socket-not-found","title":"Socket Not Found","text":"<p>Problem: <pre><code>docker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock\n</code></pre></p> <p>Solution: <pre><code># macOS - Set DOCKER_HOST\nexport DOCKER_HOST=\"unix://$HOME/.rd/docker.sock\"\n\n# Add to shell profile permanently\necho 'export DOCKER_HOST=\"unix://$HOME/.rd/docker.sock\"' &gt;&gt; ~/.zshrc\nsource ~/.zshrc\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#container-fails-to-start","title":"Container Fails to Start","text":"<p>Problem: <pre><code>Error: Cannot start container\n</code></pre></p> <p>Solutions: 1. Check Rancher Desktop is running: <pre><code># macOS\npgrep -f \"Rancher Desktop\"\n</code></pre></p> <ol> <li>Restart Rancher Desktop:</li> <li>Quit and relaunch application</li> <li> <p>Or: Rancher Desktop \u2192 Preferences \u2192 Reset Kubernetes</p> </li> <li> <p>Check resources:</p> </li> <li>Preferences \u2192 Resources</li> <li>Increase memory to 4GB minimum</li> </ol>"},{"location":"deployment/rancher-desktop/#port-already-in-use","title":"Port Already in Use","text":"<p>Problem: <pre><code>Error: Port 8003 already allocated\n</code></pre></p> <p>Check what's using the port: <pre><code># macOS/Linux\nlsof -i :8003\n\n# Kill process if needed\nkill -9 &lt;PID&gt;\n</code></pre></p> <p>Or change port in docker-compose.yml: <pre><code>services:\n  backend:\n    ports:\n      - \"8004:8000\"  # Changed from 8003\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#volume-permission-errors","title":"Volume Permission Errors","text":"<p>Problem: <pre><code>Error: Permission denied accessing /app/maverick_mcp\n</code></pre></p> <p>Solution: <pre><code># Fix ownership (container runs as UID 1000)\nsudo chown -R $(whoami):staff ./maverick_mcp\n\n# macOS - Add to file sharing (if needed)\n# Rancher Desktop \u2192 Preferences \u2192 Virtual Machine \u2192 Volumes\n# Add: /Users/YOUR_USERNAME/path/to/maverick-mcp\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#kubernetes-conflicts","title":"Kubernetes Conflicts","text":"<p>Problem: <pre><code>Error: Port 6443 already in use\n</code></pre></p> <p>Solution: - Rancher Desktop \u2192 Preferences \u2192 Kubernetes - Disable if not needed for Maverick MCP - Or change Kubernetes port</p>"},{"location":"deployment/rancher-desktop/#performance-optimization","title":"Performance Optimization","text":""},{"location":"deployment/rancher-desktop/#resource-tuning","title":"Resource Tuning","text":"<p>Check current resource usage: <pre><code># Container stats\ndocker stats\n\n# Rancher Desktop VM stats (macOS)\nvm_stat | grep -i \"Pages active\"\n</code></pre></p> <p>Optimize for Maverick MCP:</p> <ol> <li>Disable Kubernetes (if not needed):</li> <li>Saves ~1GB RAM</li> <li>Faster startup (10s vs 60s)</li> <li> <p>Simpler debugging</p> </li> <li> <p>Adjust VM Resources: <pre><code>CPUs: 2-4 (sufficient for Maverick MCP)\nMemory: 4-6GB (8GB for comfortable use)\n</code></pre></p> </li> <li> <p>Limit Container Resources:    Add to docker-compose.yml:    <pre><code>services:\n  backend:\n    deploy:\n      resources:\n        limits:\n          cpus: '2'\n          memory: 2G\n</code></pre></p> </li> </ol>"},{"location":"deployment/rancher-desktop/#disk-space-management","title":"Disk Space Management","text":"<p>Check disk usage: <pre><code># Docker disk usage\ndocker system df\n\n# Clean up unused resources\ndocker system prune -a --volumes\n</code></pre></p> <p>Rancher Desktop disk limits: - Preferences \u2192 Virtual Machine \u2192 Disk Size - Default: 60GB (adjust as needed)</p>"},{"location":"deployment/rancher-desktop/#cli-tools-included","title":"CLI Tools Included","text":"<p>Rancher Desktop includes several CLI tools:</p>"},{"location":"deployment/rancher-desktop/#docker-cli","title":"Docker CLI","text":"<pre><code>docker --version\ndocker-compose --version\n</code></pre>"},{"location":"deployment/rancher-desktop/#kubernetes-tools-if-k8s-enabled","title":"Kubernetes Tools (if K8s enabled)","text":"<pre><code>kubectl version\nkubectl get nodes\n\nhelm version\n</code></pre>"},{"location":"deployment/rancher-desktop/#nerdctl-containerd-cli","title":"nerdctl (containerd CLI)","text":"<pre><code># If using containerd runtime\nnerdctl version\nnerdctl ps\n</code></pre>"},{"location":"deployment/rancher-desktop/#rancher-desktop-cli","title":"Rancher Desktop CLI","text":"<pre><code># Check RD status\nrdctl --help\n\n# List all VMs\nrdctl list-settings\n\n# Version info\nrdctl version\n</code></pre>"},{"location":"deployment/rancher-desktop/#kubernetes-integration-optional","title":"Kubernetes Integration (Optional)","text":"<p>If you enabled Kubernetes, you can deploy Maverick MCP to K8s:</p>"},{"location":"deployment/rancher-desktop/#quick-k8s-deployment","title":"Quick K8s Deployment","text":"<p>1. Check K8s is ready: <pre><code>kubectl cluster-info\nkubectl get nodes\n</code></pre></p> <p>2. Create namespace: <pre><code>kubectl create namespace maverick-mcp\n</code></pre></p> <p>3. Deploy (basic): <pre><code># Build and load image to K8s\ndocker-compose build\ndocker save maverick-mcp-backend:latest | kubectl load -n maverick-mcp\n\n# Deploy\nkubectl apply -f k8s/deployment.yaml  # If available\n</code></pre></p> <p>See Kubernetes Deployment Guide for complete K8s setup (coming in Phase 3).</p>"},{"location":"deployment/rancher-desktop/#comparison-with-docker-desktop","title":"Comparison with Docker Desktop","text":""},{"location":"deployment/rancher-desktop/#feature-parity-for-maverick-mcp","title":"Feature Parity for Maverick MCP","text":"Feature Rancher Desktop Docker Desktop Docker CLI \u2705 Full compatibility \u2705 Native docker-compose \u2705 Fully supported \u2705 Native Volume mounts \u2705 Works perfectly \u2705 Works perfectly Port mapping \u2705 Works perfectly \u2705 Works perfectly Image building \u2705 BuildKit support \u2705 BuildKit support Networks \u2705 Bridge, host, custom \u2705 Bridge, host, custom Performance \u2705 Fast (VZ on macOS) \u2705 Fast"},{"location":"deployment/rancher-desktop/#migration-from-docker-desktop","title":"Migration from Docker Desktop","text":"<p>Switching from Docker Desktop to Rancher Desktop:</p> <ol> <li> <p>Export images: <pre><code># While Docker Desktop is running\ndocker save maverick-mcp-backend:latest &gt; backend.tar\n</code></pre></p> </li> <li> <p>Switch to Rancher Desktop:</p> </li> <li>Quit Docker Desktop</li> <li>Launch Rancher Desktop</li> <li> <p>Wait for startup</p> </li> <li> <p>Load images: <pre><code>docker load &lt; backend.tar\n</code></pre></p> </li> <li> <p>Start services: <pre><code>cd maverick-mcp\ndocker-compose up -d\n</code></pre></p> </li> </ol> <p>No configuration changes needed! Rancher Desktop is drop-in compatible.</p>"},{"location":"deployment/rancher-desktop/#best-practices","title":"Best Practices","text":""},{"location":"deployment/rancher-desktop/#development-workflow","title":"Development Workflow","text":"<p>1. Use Rancher Desktop for development: <pre><code># Start Rancher Desktop when working\n# Stop when not in use (saves battery on laptops)\n\n# Quick start\ndocker-compose up -d\n\n# Quick stop\ndocker-compose down\n</code></pre></p> <p>2. Resource Management: <pre><code># Monitor resources\ndocker stats\n\n# Clean up regularly\ndocker system prune -f\n</code></pre></p> <p>3. Shell Aliases: Add to ~/.zshrc or ~/.bashrc: <pre><code># Docker shortcuts\nalias dps='docker ps'\nalias dlog='docker-compose logs -f'\nalias dup='docker-compose up -d'\nalias ddown='docker-compose down'\n\n# Maverick MCP shortcuts\nalias mcp-start='cd ~/maverick-mcp &amp;&amp; make docker-up'\nalias mcp-stop='cd ~/maverick-mcp &amp;&amp; make docker-down'\nalias mcp-logs='cd ~/maverick-mcp &amp;&amp; make docker-logs'\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#macos-specific-tips","title":"macOS-Specific Tips","text":"<p>1. VZ vs QEMU: - Always use VZ (Virtualization.framework) - Native Apple Silicon support - 2-3x faster than QEMU</p> <p>2. File Sharing: - Rancher Desktop \u2192 Preferences \u2192 Virtual Machine \u2192 Volumes - Only share directories you need - Default: Entire home directory (slower) - Recommended: Project directory only</p> <p>3. Battery Optimization: - Quit Rancher Desktop when not coding - Or disable Kubernetes to reduce CPU usage</p>"},{"location":"deployment/rancher-desktop/#updating-rancher-desktop","title":"Updating Rancher Desktop","text":"<p>Check for updates: <pre><code># In app: Rancher Desktop \u2192 Check for Updates\n\n# CLI\nrdctl version\n</code></pre></p> <p>Update process: 1. Quit Rancher Desktop 2. Download latest version 3. Install (overwrites previous) 4. Restart Rancher Desktop</p> <p>After update: <pre><code># Verify Docker still works\ndocker version\n\n# Restart Maverick MCP if running\ncd maverick-mcp\ndocker-compose restart\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#uninstalling","title":"Uninstalling","text":"<p>macOS: <pre><code># Quit Rancher Desktop first\n\n# Method 1: Via Homebrew\nbrew uninstall --cask rancher\n\n# Method 2: Manual\nrm -rf ~/Applications/Rancher\\ Desktop.app\nrm -rf ~/.rd\nrm -rf ~/.local/share/rancher-desktop\n\n# Remove Docker socket link\nrm ~/.docker/run/docker.sock\n</code></pre></p> <p>Linux: <pre><code># Ubuntu/Debian\nsudo dpkg -r rancher-desktop\n\n# Remove data\nrm -rf ~/.local/share/rancher-desktop\nrm -rf ~/.rd\n</code></pre></p> <p>Windows: <pre><code># Uninstall via Settings \u2192 Apps\n# Or run uninstaller from installation directory\n\n# Remove data\nRemove-Item -Recurse \"$env:LOCALAPPDATA\\rancher-desktop\"\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#additional-resources","title":"Additional Resources","text":"<ul> <li>Rancher Desktop Official Docs</li> <li>GitHub Repository</li> <li>Docker Deployment Guide - General Docker guide</li> <li>Maverick MCP Documentation</li> </ul>"},{"location":"deployment/rancher-desktop/#next-steps","title":"Next Steps","text":"<ul> <li> Install and configure Rancher Desktop</li> <li> Run Maverick MCP in containers</li> <li> Explore Kubernetes deployment (Phase 3)</li> <li> Set up production environment (Phase 2)</li> </ul>"},{"location":"development/architecture/","title":"Architecture","text":"<p>Maverick MCP system architecture and design patterns.</p>"},{"location":"development/architecture/#overview","title":"Overview","text":"<p>Maverick MCP is built using modern Python architecture principles with a focus on:</p> <ul> <li>Domain-Driven Design (DDD) for business logic organization</li> <li>Clean Architecture for separation of concerns</li> <li>SOLID Principles for maintainable code</li> <li>FastMCP 2.0 for Model Context Protocol integration</li> <li>Multi-tier Caching for performance</li> <li>Microservice-Ready design for scalability</li> </ul>"},{"location":"development/architecture/#high-level-architecture","title":"High-Level Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  MCP Clients (Claude Desktop, Cursor, Claude Code CLI)     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                       \u2502 MCP Protocol (SSE/HTTP/STDIO)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  FastMCP Server (maverick_mcp/api/server.py)               \u2502\n\u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  \u2502\n\u2502  \u2022 Routers (stock, technical, portfolio, research, concall) \u2502\n\u2502  \u2022 Tool Registry (40+ MCP tools)                            \u2502\n\u2502  \u2022 Request/Response handling                                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                       \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Services Layer                                             \u2502\n\u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  \u2502\n\u2502  \u2022 ScreeningService \u2022 MarketCalendarService                 \u2502\n\u2502  \u2022 PortfolioService \u2022 TechnicalAnalysisService              \u2502\n\u2502  \u2022 ResearchService  \u2022 ConcallService                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                       \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Domain Layer (Business Logic)                              \u2502\n\u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  \u2502\n\u2502  \u2022 core/ - Technical analysis calculations                  \u2502\n\u2502  \u2022 domain/ - Financial entities and value objects           \u2502\n\u2502  \u2022 backtesting/ - Strategy testing engine                   \u2502\n\u2502  \u2022 concall/ - Conference call analysis                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                       \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Data &amp; Infrastructure Layer                                \u2502\n\u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  \u2502\n\u2502  \u2022 data/ - ORM models, caching, sessions                    \u2502\n\u2502  \u2022 providers/ - External APIs (Tiingo, OpenRouter, FRED)   \u2502\n\u2502  \u2022 infrastructure/ - Database, Redis, external services     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                       \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  External Services                                          \u2502\n\u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  \u2502\n\u2502  \u2022 PostgreSQL/SQLite (data storage)                         \u2502\n\u2502  \u2022 Redis (caching)                                          \u2502\n\u2502  \u2022 Tiingo API (stock data)                                  \u2502\n\u2502  \u2022 OpenRouter (AI models)                                   \u2502\n\u2502  \u2022 FRED API (economic data)                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"development/architecture/#directory-structure","title":"Directory Structure","text":"<pre><code>maverick_mcp/\n\u251c\u2500\u2500 api/                    # FastMCP server and routers\n\u2502   \u251c\u2500\u2500 server.py          # Main MCP server\n\u2502   \u251c\u2500\u2500 routers/           # Domain-specific tool routers\n\u2502   \u2502   \u251c\u2500\u2500 stock_router.py\n\u2502   \u2502   \u251c\u2500\u2500 technical_router.py\n\u2502   \u2502   \u251c\u2500\u2500 portfolio_router.py\n\u2502   \u2502   \u251c\u2500\u2500 research_router.py\n\u2502   \u2502   \u2514\u2500\u2500 concall_router.py\n\u2502   \u2514\u2500\u2500 services/          # API-level services\n\u2502\n\u251c\u2500\u2500 domain/                # Business logic (DDD)\n\u2502   \u251c\u2500\u2500 stock_analysis/    # Stock analysis domain\n\u2502   \u251c\u2500\u2500 screening/         # Screening strategies\n\u2502   \u2514\u2500\u2500 services/          # Domain services\n\u2502\n\u251c\u2500\u2500 core/                  # Core financial calculations\n\u2502   \u251c\u2500\u2500 technical_analysis.py  # Indicators (RSI, MACD, etc.)\n\u2502   \u2514\u2500\u2500 visualization.py       # Chart generation\n\u2502\n\u251c\u2500\u2500 backtesting/          # Strategy testing\n\u2502   \u251c\u2500\u2500 engine/           # VectorBT integration\n\u2502   \u251c\u2500\u2500 strategies/       # 15+ built-in strategies\n\u2502   \u2514\u2500\u2500 optimization/     # Parameter optimization\n\u2502\n\u251c\u2500\u2500 concall/              # Conference call analysis\n\u2502   \u251c\u2500\u2500 models.py         # Database models\n\u2502   \u251c\u2500\u2500 providers/        # Transcript fetchers\n\u2502   \u251c\u2500\u2500 services/         # Analysis services\n\u2502   \u251c\u2500\u2500 cache/            # Multi-tier caching\n\u2502   \u2514\u2500\u2500 utils/            # Utilities\n\u2502\n\u251c\u2500\u2500 data/                 # Data access layer\n\u2502   \u251c\u2500\u2500 models.py         # SQLAlchemy models\n\u2502   \u251c\u2500\u2500 cache.py          # CacheManager\n\u2502   \u251c\u2500\u2500 session_management.py\n\u2502   \u2514\u2500\u2500 validation.py\n\u2502\n\u251c\u2500\u2500 providers/            # External API integrations\n\u2502   \u251c\u2500\u2500 stock_data.py     # Tiingo provider\n\u2502   \u251c\u2500\u2500 openrouter_provider.py\n\u2502   \u251c\u2500\u2500 indian_market_data.py\n\u2502   \u2514\u2500\u2500 macro_data.py\n\u2502\n\u251c\u2500\u2500 infrastructure/       # Infrastructure concerns\n\u2502   \u251c\u2500\u2500 caching/\n\u2502   \u251c\u2500\u2500 data_fetching/\n\u2502   \u2514\u2500\u2500 database/\n\u2502\n\u251c\u2500\u2500 config/              # Configuration\n\u2502   \u2514\u2500\u2500 settings.py      # Environment settings\n\u2502\n\u251c\u2500\u2500 services/            # Application services\n\u2502   \u251c\u2500\u2500 screening_service.py\n\u2502   \u2514\u2500\u2500 market_calendar_service.py\n\u2502\n\u2514\u2500\u2500 utils/              # Shared utilities\n    \u2514\u2500\u2500 circuit_breaker_services.py\n</code></pre>"},{"location":"development/architecture/#design-patterns","title":"Design Patterns","text":""},{"location":"development/architecture/#1-repository-pattern","title":"1. Repository Pattern","text":"<p>Location: <code>data/</code> layer Purpose: Abstract data access</p> <pre><code># Example\nclass StockRepository:\n    def get_by_ticker(self, ticker: str) -&gt; Stock:\n        ...\n    def get_screening_scores(self, strategy: str) -&gt; list[ScreeningScore]:\n        ...\n</code></pre>"},{"location":"development/architecture/#2-service-pattern","title":"2. Service Pattern","text":"<p>Location: <code>services/</code>, <code>domain/services/</code> Purpose: Encapsulate business logic</p> <pre><code># Example\nclass ScreeningService:\n    def get_maverick_bullish(self, limit: int) -&gt; list[dict]:\n        ...\n</code></pre>"},{"location":"development/architecture/#3-provider-pattern","title":"3. Provider Pattern","text":"<p>Location: <code>providers/</code> Purpose: Abstract external APIs</p> <pre><code># Example\nclass StockDataProvider:\n    def get_historical_data(self, ticker: str) -&gt; pd.DataFrame:\n        ...\n</code></pre>"},{"location":"development/architecture/#4-strategy-pattern","title":"4. Strategy Pattern","text":"<p>Location: <code>backtesting/strategies/</code> Purpose: Pluggable trading strategies</p> <pre><code># Example\nclass Strategy(ABC):\n    @abstractmethod\n    def generate_signals(self, data: pd.DataFrame) -&gt; pd.Series:\n        ...\n</code></pre>"},{"location":"development/architecture/#5-cache-aside-pattern","title":"5. Cache-Aside Pattern","text":"<p>Location: <code>data/cache.py</code>, <code>concall/cache/</code> Purpose: Performance optimization</p> <pre><code># Example\ndef get_stock_data(ticker: str):\n    cached = cache.get(f\"stock:{ticker}\")\n    if cached:\n        return cached\n    data = fetch_from_api(ticker)\n    cache.set(f\"stock:{ticker}\", data, ttl=3600)\n    return data\n</code></pre>"},{"location":"development/architecture/#6-multi-agent-pattern","title":"6. Multi-Agent Pattern","text":"<p>Location: <code>agents/</code>, research tools Purpose: Parallel AI processing</p> <pre><code># Example\nagents = [\n    FinancialAgent(),\n    NewsAgent(),\n    SentimentAgent(),\n    CompetitorAgent()\n]\nresults = await asyncio.gather(*[agent.research(ticker) for agent in agents])\n</code></pre>"},{"location":"development/architecture/#key-architectural-decisions","title":"Key Architectural Decisions","text":""},{"location":"development/architecture/#fastmcp-20-for-mcp-protocol","title":"FastMCP 2.0 for MCP Protocol","text":"<p>Why: Official MCP framework with SSE/HTTP/STDIO support Benefits: Multiple transport protocols, automatic tool registration, type safety</p>"},{"location":"development/architecture/#sqlalchemy-orm","title":"SQLAlchemy ORM","text":"<p>Why: Database abstraction with multi-DB support Benefits: SQLite for development, PostgreSQL for production, type-safe queries</p>"},{"location":"development/architecture/#multi-tier-caching","title":"Multi-Tier Caching","text":"<p>Why: Performance and cost optimization Architecture: - L1: Redis/Memory (1-5ms) - L2: Database (10-50ms) - L3: External APIs (1000-60000ms)</p>"},{"location":"development/architecture/#openrouter-for-ai","title":"OpenRouter for AI","text":"<p>Why: Access to 400+ models with cost optimization Benefits: Automatic model selection, 40-60% cost savings, smart fallbacks</p>"},{"location":"development/architecture/#vectorbt-for-backtesting","title":"VectorBT for Backtesting","text":"<p>Why: Vectorized performance, production-ready Benefits: 100-1000x faster than sequential, extensive strategy library</p>"},{"location":"development/architecture/#data-flow-examples","title":"Data Flow Examples","text":""},{"location":"development/architecture/#stock-data-request","title":"Stock Data Request","text":"<pre><code>User \u2192 Claude Desktop\n  \u2193 MCP Protocol\nFastMCP Server \u2192 get_stock_data tool\n  \u2193\nStockDataProvider\n  \u2193 Check cache\nCacheManager (Redis/Database)\n  \u2193 Cache miss\nTiingo API\n  \u2193 Response\nCache \u2192 Store (TTL: 1 hour)\n  \u2193\nReturn to user\n</code></pre>"},{"location":"development/architecture/#ai-research-request","title":"AI Research Request","text":"<pre><code>User \u2192 Claude Desktop\n  \u2193 MCP Protocol\nFastMCP Server \u2192 research_comprehensive tool\n  \u2193\nResearchService \u2192 Spawn 6 parallel agents\n  \u2193\nOpenRouterProvider \u2192 Select optimal models\n  \u2193 Parallel execution\n[Agent1, Agent2, Agent3, Agent4, Agent5, Agent6]\n  \u2193 Each gathers data\n[Stock API, News API, Financial API, ...]\n  \u2193 Synthesize results\nSupervisor Agent \u2192 Aggregate insights\n  \u2193 Cache results\nConcallCacheService (Redis + Database)\n  \u2193\nReturn comprehensive analysis\n</code></pre>"},{"location":"development/architecture/#performance-optimizations","title":"Performance Optimizations","text":""},{"location":"development/architecture/#vectorization","title":"Vectorization","text":"<p>All technical analysis uses pandas/numpy vectorized operations: <pre><code># Vectorized RSI calculation\ndelta = data['Close'].diff()\ngain = delta.where(delta &gt; 0, 0)\nloss = -delta.where(delta &lt; 0, 0)\navg_gain = gain.rolling(period).mean()\navg_loss = loss.rolling(period).mean()\nrs = avg_gain / avg_loss\nrsi = 100 - (100 / (1 + rs))\n</code></pre></p>"},{"location":"development/architecture/#parallel-processing","title":"Parallel Processing","text":"<ul> <li>Multi-agent research: 6 concurrent agents</li> <li>Backtesting: Parallel strategy evaluation</li> <li>Portfolio optimization: Parallel scenarios</li> </ul>"},{"location":"development/architecture/#intelligent-caching","title":"Intelligent Caching","text":"<ul> <li>Time-based TTL (1 hour for stock data)</li> <li>Event-based invalidation</li> <li>Pre-seeded database (520 S&amp;P 500 stocks)</li> </ul>"},{"location":"development/architecture/#database-optimization","title":"Database Optimization","text":"<ul> <li>Composite indexes on (ticker, date)</li> <li>Connection pooling</li> <li>Batch operations</li> </ul>"},{"location":"development/architecture/#security-considerations","title":"Security Considerations","text":""},{"location":"development/architecture/#api-key-management","title":"API Key Management","text":"<ul> <li>Environment variables only</li> <li>Never committed to git</li> <li>Secrets rotation support</li> </ul>"},{"location":"development/architecture/#input-validation","title":"Input Validation","text":"<ul> <li>Ticker format validation</li> <li>Date range validation</li> <li>Parameter bounds checking</li> </ul>"},{"location":"development/architecture/#non-root-execution","title":"Non-Root Execution","text":"<ul> <li>Docker runs as user 1000</li> <li>No elevated privileges</li> </ul>"},{"location":"development/architecture/#rate-limiting","title":"Rate Limiting","text":"<ul> <li>Respect API limits</li> <li>Circuit breakers for failures</li> <li>Exponential backoff</li> </ul>"},{"location":"development/architecture/#scalability","title":"Scalability","text":""},{"location":"development/architecture/#current-capacity","title":"Current Capacity","text":"<ul> <li>Single instance: 100+ requests/second</li> <li>Database: 1M+ stocks</li> <li>Cache: 10GB+ Redis</li> </ul>"},{"location":"development/architecture/#horizontal-scaling","title":"Horizontal Scaling","text":"<ul> <li>Stateless design (can run multiple instances)</li> <li>Shared PostgreSQL</li> <li>Shared Redis cluster</li> <li>Load balancer ready</li> </ul>"},{"location":"development/architecture/#future-enhancements","title":"Future Enhancements","text":"<ul> <li>Kubernetes deployment</li> <li>Service mesh (Istio)</li> <li>Message queue (RabbitMQ/Kafka)</li> <li>Microservices split</li> </ul>"},{"location":"development/architecture/#testing-strategy","title":"Testing Strategy","text":"<ul> <li>Unit Tests: 90%+ coverage target</li> <li>Integration Tests: Database, Redis, APIs</li> <li>End-to-End Tests: Full MCP tool workflows</li> <li>Performance Tests: Latency, throughput</li> <li>Load Tests: Concurrent users</li> </ul> <p>See Testing Guide for details.</p>"},{"location":"development/architecture/#monitoring-observability","title":"Monitoring &amp; Observability","text":""},{"location":"development/architecture/#logging","title":"Logging","text":"<ul> <li>Structured logging (JSON)</li> <li>Log levels: DEBUG, INFO, WARNING, ERROR</li> <li>Correlation IDs for tracing</li> </ul>"},{"location":"development/architecture/#metrics-future","title":"Metrics (Future)","text":"<ul> <li>Request latency</li> <li>Cache hit rates</li> <li>API call counts</li> <li>Error rates</li> </ul>"},{"location":"development/architecture/#health-checks","title":"Health Checks","text":"<ul> <li>Database connectivity</li> <li>Redis availability</li> <li>API endpoint health</li> </ul>"},{"location":"development/architecture/#additional-resources","title":"Additional Resources","text":"<ul> <li>API Reference</li> <li>Contributing Guide</li> <li>Testing Guide</li> <li>Code Style Guide</li> </ul>"},{"location":"development/code-style/","title":"Code Style Guide","text":"<p>Code style conventions and best practices for Maverick MCP.</p>"},{"location":"development/code-style/#overview","title":"Overview","text":"<p>Maverick MCP follows modern Python best practices:</p> <ul> <li>PEP 8 Compliant: Standard Python style guide</li> <li>Type Hints: Comprehensive type annotations</li> <li>Google Docstrings: Clear, structured documentation</li> <li>Clean Code: Readable, maintainable, self-documenting</li> <li>Automated Formatting: ruff for consistency</li> <li>Type Checking: ty (Astral's modern type checker)</li> </ul>"},{"location":"development/code-style/#quick-start","title":"Quick Start","text":"<pre><code># Format code automatically\nmake format\n\n# Check code quality\nmake lint\n\n# Type checking\nmake typecheck\n\n# Run all checks\nmake check\n</code></pre>"},{"location":"development/code-style/#python-version","title":"Python Version","text":"<p>Target: Python 3.12+</p> <p>Why: Modern features for cleaner code: - Type hints with <code>|</code> union syntax - Pattern matching with <code>match/case</code> - Better error messages - Performance improvements</p> <pre><code># \u2705 Python 3.12+ syntax\ndef get_stock_data(ticker: str) -&gt; dict | None:\n    match ticker:\n        case str() if ticker.endswith(\".NS\"):\n            return fetch_nse_data(ticker)\n        case str() if ticker.endswith(\".BO\"):\n            return fetch_bse_data(ticker)\n        case _:\n            return fetch_us_data(ticker)\n\n# \u274c Old syntax (don't use)\nfrom typing import Union, Optional\n\ndef get_stock_data(ticker: str) -&gt; Optional[dict]:\n    if ticker.endswith(\".NS\"):\n        return fetch_nse_data(ticker)\n    elif ticker.endswith(\".BO\"):\n        return fetch_bse_data(ticker)\n    else:\n        return fetch_us_data(ticker)\n</code></pre>"},{"location":"development/code-style/#formatting","title":"Formatting","text":""},{"location":"development/code-style/#automated-with-ruff","title":"Automated with ruff","text":"<p>ruff is an extremely fast Python linter and formatter written in Rust.</p> <pre><code># Auto-format all code\nruff format .\n\n# Or use make\nmake format\n\n# Check formatting without modifying\nruff format --check .\n</code></pre>"},{"location":"development/code-style/#configuration","title":"Configuration","text":"<p>pyproject.toml: <pre><code>[tool.ruff]\nline-length = 88\ntarget-version = \"py312\"\n\n[tool.ruff.lint]\nselect = [\n    \"E\",   # pycodestyle errors\n    \"W\",   # pycodestyle warnings\n    \"F\",   # pyflakes\n    \"I\",   # isort (import sorting)\n    \"B\",   # flake8-bugbear\n    \"C4\",  # flake8-comprehensions\n    \"UP\",  # pyupgrade\n]\nignore = [\n    \"E501\",  # line too long (handled by formatter)\n    \"B008\",  # function calls in argument defaults\n    \"B904\",  # raise without from inside except\n]\n\n[tool.ruff.format]\nquote-style = \"double\"\nindent-style = \"space\"\n</code></pre></p>"},{"location":"development/code-style/#line-length","title":"Line Length","text":"<p>Maximum: 88 characters (Black/ruff standard)</p> <pre><code># \u2705 Good - Under 88 characters\nresult = calculate_technical_indicators(\n    data=stock_data,\n    period=14,\n    include_volume=True\n)\n\n# \u274c Bad - Over 88 characters, hard to read\nresult = calculate_technical_indicators(data=stock_data, period=14, include_volume=True, apply_smoothing=True)\n</code></pre>"},{"location":"development/code-style/#quotes","title":"Quotes","text":"<p>Use double quotes for strings:</p> <pre><code># \u2705 Good\nmessage = \"Stock data fetched successfully\"\nticker = \"AAPL\"\n\n# \u274c Bad\nmessage = 'Stock data fetched successfully'\nticker = 'AAPL'\n</code></pre> <p>Exception: Triple quotes for docstrings (always double): <pre><code>\"\"\"This is a docstring.\"\"\"\n</code></pre></p>"},{"location":"development/code-style/#imports","title":"Imports","text":"<p>Order (enforced by ruff): 1. Standard library 2. Third-party packages 3. Local application</p> <p>Format: <pre><code># \u2705 Good - Organized and sorted\nimport asyncio\nimport logging\nfrom datetime import datetime\nfrom typing import Any\n\nimport pandas as pd\nimport numpy as np\nfrom sqlalchemy import select\nfrom sqlalchemy.orm import Session\n\nfrom maverick_core import get_settings\nfrom maverick_data import Stock\nfrom maverick_data.providers import StockDataProvider\n\n# \u274c Bad - Mixed and unsorted\nfrom maverick_data import Stock\nimport pandas as pd\nfrom typing import Any\nimport logging\nfrom maverick_data.providers import StockDataProvider\nimport numpy as np\n</code></pre></p> <p>Avoid star imports: <pre><code># \u274c Bad - Pollutes namespace\nfrom maverick_backtest.analysis import *\n\n# \u2705 Good - Explicit imports\nfrom maverick_backtest.analysis import (\n    calculate_rsi,\n    calculate_macd,\n    calculate_bollinger_bands,\n)\n</code></pre></p>"},{"location":"development/code-style/#spacing","title":"Spacing","text":"<p>Around operators: <pre><code># \u2705 Good\nx = 1 + 2\nresult = price * quantity\nis_valid = value &gt; 0 and value &lt; 100\n\n# \u274c Bad\nx=1+2\nresult=price*quantity\nis_valid=value&gt;0 and value&lt;100\n</code></pre></p> <p>After commas: <pre><code># \u2705 Good\nstocks = [\"AAPL\", \"MSFT\", \"GOOGL\"]\ndata = {\"ticker\": \"AAPL\", \"price\": 150.0}\n\n# \u274c Bad\nstocks = [\"AAPL\",\"MSFT\",\"GOOGL\"]\ndata = {\"ticker\":\"AAPL\",\"price\":150.0}\n</code></pre></p> <p>Blank lines: <pre><code># \u2705 Good - Clear separation\nclass StockAnalyzer:\n    \"\"\"Analyze stock data.\"\"\"\n\n    def __init__(self, ticker: str):\n        self.ticker = ticker\n\n    def fetch_data(self) -&gt; pd.DataFrame:\n        \"\"\"Fetch historical stock data.\"\"\"\n        return self._provider.get_stock_data(self.ticker)\n\n    def calculate_indicators(self, data: pd.DataFrame) -&gt; pd.DataFrame:\n        \"\"\"Calculate technical indicators.\"\"\"\n        data = calculate_rsi(data, period=14)\n        data = calculate_macd(data)\n        return data\n\n\nclass PortfolioAnalyzer:\n    \"\"\"Analyze portfolio performance.\"\"\"\n    pass\n\n\n# \u274c Bad - No separation\nclass StockAnalyzer:\n    def __init__(self, ticker: str):\n        self.ticker = ticker\n    def fetch_data(self) -&gt; pd.DataFrame:\n        return self._provider.get_stock_data(self.ticker)\n    def calculate_indicators(self, data: pd.DataFrame) -&gt; pd.DataFrame:\n        data = calculate_rsi(data, period=14)\n        return data\nclass PortfolioAnalyzer:\n    pass\n</code></pre></p>"},{"location":"development/code-style/#type-hints","title":"Type Hints","text":""},{"location":"development/code-style/#required","title":"Required","text":"<p>All public functions must have type hints:</p> <pre><code># \u2705 Good - Complete type hints\ndef calculate_rsi(\n    data: pd.DataFrame,\n    period: int = 14,\n    price_col: str = \"Close\"\n) -&gt; pd.DataFrame:\n    \"\"\"Calculate RSI indicator.\"\"\"\n    pass\n\n# \u274c Bad - No type hints\ndef calculate_rsi(data, period=14, price_col=\"Close\"):\n    \"\"\"Calculate RSI indicator.\"\"\"\n    pass\n</code></pre>"},{"location":"development/code-style/#modern-syntax-python-312","title":"Modern Syntax (Python 3.12+)","text":"<p>Use <code>|</code> for unions: <pre><code># \u2705 Good - Modern syntax\ndef get_stock_data(ticker: str) -&gt; dict | None:\n    pass\n\ndef process_value(value: int | float | str) -&gt; str:\n    pass\n\n# \u274c Bad - Old syntax\nfrom typing import Union, Optional\n\ndef get_stock_data(ticker: str) -&gt; Optional[dict]:\n    pass\n\ndef process_value(value: Union[int, float, str]) -&gt; str:\n    pass\n</code></pre></p>"},{"location":"development/code-style/#complex-types","title":"Complex Types","text":"<pre><code>from typing import Any, Literal\n\n# \u2705 Good - Precise types\ndef screen_stocks(\n    strategy: Literal[\"bullish\", \"bearish\", \"breakout\"],\n    limit: int = 10,\n    filters: dict[str, Any] | None = None\n) -&gt; list[dict[str, Any]]:\n    \"\"\"Screen stocks using specified strategy.\"\"\"\n    pass\n\n# Return type aliases for clarity\nStockData = dict[str, float | int | str]\nScreeningResult = list[StockData]\n\ndef get_recommendations() -&gt; ScreeningResult:\n    pass\n</code></pre>"},{"location":"development/code-style/#type-checking-with-ty","title":"Type Checking with ty","text":"<p>ty is Astral's extremely fast type checker.</p> <pre><code># Check types\nty check .\n\n# Or use make\nmake typecheck\n\n# Ultra-fast with uvx (no installation)\nuvx ty check .\n</code></pre>"},{"location":"development/code-style/#naming-conventions","title":"Naming Conventions","text":""},{"location":"development/code-style/#variables-and-functions","title":"Variables and Functions","text":"<p>snake_case for variables and functions:</p> <pre><code># \u2705 Good\nstock_price = 150.0\ncalculated_rsi = 65.5\nuser_portfolio = []\n\ndef calculate_moving_average(data: pd.DataFrame) -&gt; pd.DataFrame:\n    pass\n\ndef get_stock_info(ticker: str) -&gt; dict:\n    pass\n\n# \u274c Bad\nstockPrice = 150.0\nCalculatedRSI = 65.5\nuserPortfolio = []\n\ndef CalculateMovingAverage(data):\n    pass\n</code></pre>"},{"location":"development/code-style/#classes","title":"Classes","text":"<p>PascalCase for classes:</p> <pre><code># \u2705 Good\nclass StockAnalyzer:\n    pass\n\nclass TechnicalIndicatorCalculator:\n    pass\n\nclass PortfolioOptimizer:\n    pass\n\n# \u274c Bad\nclass stock_analyzer:\n    pass\n\nclass technical_indicator_calculator:\n    pass\n</code></pre>"},{"location":"development/code-style/#constants","title":"Constants","text":"<p>UPPER_SNAKE_CASE for constants:</p> <pre><code># \u2705 Good\nMAX_RETRIES = 3\nAPI_TIMEOUT = 30\nDEFAULT_CACHE_TTL = 3600\nSUPPORTED_MARKETS = [\"US\", \"NSE\", \"BSE\"]\n\n# \u274c Bad\nmax_retries = 3\napiTimeout = 30\n</code></pre>"},{"location":"development/code-style/#private-members","title":"Private Members","text":"<p>Leading underscore for private/internal:</p> <pre><code>class StockDataProvider:\n    def __init__(self):\n        self._api_key = get_settings().TIINGO_API_KEY  # Private\n        self._cache = {}                         # Private\n\n    def get_stock_data(self, ticker: str) -&gt; dict:  # Public\n        return self._fetch_from_api(ticker)\n\n    def _fetch_from_api(self, ticker: str) -&gt; dict:  # Private\n        pass\n</code></pre>"},{"location":"development/code-style/#descriptive-names","title":"Descriptive Names","text":"<p>Use meaningful, descriptive names:</p> <pre><code># \u2705 Good - Clear intent\ndef calculate_sharpe_ratio(\n    returns: pd.Series,\n    risk_free_rate: float = 0.03\n) -&gt; float:\n    \"\"\"Calculate Sharpe ratio for portfolio.\"\"\"\n    annualized_return = returns.mean() * 252\n    annualized_volatility = returns.std() * np.sqrt(252)\n    return (annualized_return - risk_free_rate) / annualized_volatility\n\n# \u274c Bad - Unclear abbreviations\ndef calc_sr(r: pd.Series, rfr: float = 0.03) -&gt; float:\n    ar = r.mean() * 252\n    av = r.std() * np.sqrt(252)\n    return (ar - rfr) / av\n</code></pre>"},{"location":"development/code-style/#docstrings","title":"Docstrings","text":""},{"location":"development/code-style/#google-style","title":"Google Style","text":"<p>Use Google-style docstrings for all public APIs:</p> <pre><code>def optimize_portfolio(\n    tickers: list[str],\n    target_return: float | None = None,\n    risk_tolerance: float = 0.5\n) -&gt; dict[str, Any]:\n    \"\"\"Optimize portfolio allocation using Modern Portfolio Theory.\n\n    Calculates optimal asset weights to maximize Sharpe ratio or achieve\n    target return with minimum variance.\n\n    Args:\n        tickers: List of stock symbols to include in portfolio.\n        target_return: Target annual return (0.0-1.0). If None, maximizes\n            Sharpe ratio instead.\n        risk_tolerance: Risk preference (0.0=conservative, 1.0=aggressive).\n            Affects constraint boundaries.\n\n    Returns:\n        Dictionary containing:\n            - weights: Asset allocation percentages (dict[str, float])\n            - expected_return: Projected annual return\n            - volatility: Portfolio standard deviation\n            - sharpe_ratio: Risk-adjusted return metric\n\n    Raises:\n        ValueError: If tickers list is empty or contains invalid symbols.\n        APIError: If stock data cannot be fetched from provider.\n\n    Example:\n        &gt;&gt;&gt; result = optimize_portfolio([\"AAPL\", \"MSFT\", \"GOOGL\"])\n        &gt;&gt;&gt; print(result[\"sharpe_ratio\"])\n        1.85\n        &gt;&gt;&gt; print(result[\"weights\"])\n        {\"AAPL\": 0.35, \"MSFT\": 0.40, \"GOOGL\": 0.25}\n\n    Note:\n        Uses historical data from past 5 years for correlation calculation.\n        Results are for educational purposes only, not financial advice.\n    \"\"\"\n    pass\n</code></pre>"},{"location":"development/code-style/#module-docstrings","title":"Module Docstrings","text":"<pre><code>\"\"\"Stock data provider for US and Indian markets.\n\nThis module provides a unified interface for fetching stock data from multiple\nsources including Tiingo (US markets) and NSE/BSE (Indian markets).\n\nKey Features:\n    - Automatic market detection from ticker symbols\n    - Multi-tier caching (Redis + Database + API)\n    - Rate limiting and retry logic\n    - Support for real-time and historical data\n\nExample:\n    &gt;&gt;&gt; from maverick_data.providers import StockDataProvider\n    &gt;&gt;&gt; provider = StockDataProvider()\n    &gt;&gt;&gt; data = provider.get_stock_data(\"AAPL\", period=\"1y\")\n    &gt;&gt;&gt; indian_data = provider.get_stock_data(\"RELIANCE.NS\", period=\"6mo\")\n\nSee Also:\n    - maverick_india.market for NSE/BSE specific features\n    - maverick_data.services.stock_cache for caching configuration\n\"\"\"\n</code></pre>"},{"location":"development/code-style/#class-docstrings","title":"Class Docstrings","text":"<pre><code>class ScreeningService:\n    \"\"\"Service for stock screening with multiple strategies.\n\n    Provides pre-calculated screening results using various technical and\n    fundamental strategies. Data is pre-seeded for S&amp;P 500 stocks and\n    updated daily.\n\n    Attributes:\n        _db_session: SQLAlchemy database session (optional)\n\n    Available Strategies:\n        - maverick_bullish: High momentum with strong technicals\n        - maverick_bearish: Weak setups for short opportunities\n        - supply_demand_breakout: Confirmed uptrend breakouts\n        - indian_momentum: NSE/BSE momentum stocks\n\n    Example:\n        &gt;&gt;&gt; service = ScreeningService()\n        &gt;&gt;&gt; results = service.get_maverick_recommendations(limit=10)\n        &gt;&gt;&gt; for stock in results:\n        ...     print(f\"{stock['ticker']}: {stock['combined_score']}\")\n    \"\"\"\n\n    def __init__(self, db_session: Session | None = None):\n        \"\"\"Initialize screening service.\n\n        Args:\n            db_session: Optional database session. If None, creates new\n                session for each operation.\n        \"\"\"\n        pass\n</code></pre>"},{"location":"development/code-style/#one-line-docstrings","title":"One-Line Docstrings","text":"<pre><code># \u2705 Good - Simple one-liners for obvious functions\ndef get_ticker_symbol(self) -&gt; str:\n    \"\"\"Return the stock ticker symbol.\"\"\"\n    return self._ticker\n\n# \u2705 Good - More detail when needed\ndef validate_ticker_format(ticker: str) -&gt; bool:\n    \"\"\"Validate ticker symbol format.\n\n    Checks if ticker follows US (AAPL) or Indian (.NS, .BO) format.\n    \"\"\"\n    pass\n</code></pre>"},{"location":"development/code-style/#code-organization","title":"Code Organization","text":""},{"location":"development/code-style/#file-structure","title":"File Structure","text":"<pre><code>\"\"\"Module docstring at top.\"\"\"\n\n# Imports (sorted by ruff)\nimport standard_library\nimport third_party\nfrom local_app import module\n\n# Constants\nMAX_RETRIES = 3\nDEFAULT_TIMEOUT = 30\n\n# Type aliases\nStockData = dict[str, Any]\nScreeningResult = list[StockData]\n\n# Module-level variables (if needed)\nlogger = logging.getLogger(__name__)\n\n# Functions and classes\ndef helper_function() -&gt; None:\n    \"\"\"Helper function.\"\"\"\n    pass\n\n\nclass MainClass:\n    \"\"\"Main class.\"\"\"\n    pass\n\n\n# Main execution (if applicable)\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"development/code-style/#class-organization","title":"Class Organization","text":"<pre><code>class StockAnalyzer:\n    \"\"\"Analyze stock data.\"\"\"\n\n    # Class constants\n    DEFAULT_PERIOD = 14\n    SUPPORTED_INDICATORS = [\"RSI\", \"MACD\", \"BB\"]\n\n    # __init__ first\n    def __init__(self, ticker: str):\n        \"\"\"Initialize analyzer.\"\"\"\n        self.ticker = ticker\n        self._data: pd.DataFrame | None = None\n\n    # Public methods next (alphabetically)\n    def calculate_indicators(self) -&gt; dict[str, Any]:\n        \"\"\"Calculate all technical indicators.\"\"\"\n        pass\n\n    def fetch_data(self, period: str = \"1y\") -&gt; pd.DataFrame:\n        \"\"\"Fetch historical stock data.\"\"\"\n        pass\n\n    # Private methods last (alphabetically)\n    def _validate_ticker(self, ticker: str) -&gt; bool:\n        \"\"\"Validate ticker format.\"\"\"\n        pass\n\n    # Special methods at end\n    def __repr__(self) -&gt; str:\n        return f\"StockAnalyzer(ticker={self.ticker})\"\n</code></pre>"},{"location":"development/code-style/#error-handling","title":"Error Handling","text":""},{"location":"development/code-style/#explicit-exception-types","title":"Explicit Exception Types","text":"<pre><code># \u2705 Good - Specific exceptions\ntry:\n    data = fetch_stock_data(ticker)\nexcept requests.HTTPError as e:\n    logger.error(f\"HTTP error fetching {ticker}: {e}\")\n    raise APIError(f\"Failed to fetch {ticker}\") from e\nexcept ValueError as e:\n    logger.error(f\"Invalid ticker format: {ticker}\")\n    raise ValidationError(f\"Invalid ticker: {ticker}\") from e\n\n# \u274c Bad - Bare except\ntry:\n    data = fetch_stock_data(ticker)\nexcept:\n    logger.error(\"Error occurred\")\n    raise\n</code></pre>"},{"location":"development/code-style/#custom-exceptions","title":"Custom Exceptions","text":"<pre><code># Use existing exception hierarchy from maverick_core\nfrom maverick_core import (\n    MaverickException,\n    DataFetchError as APIError,\n    ValidationError,\n)\n\n# Or define custom exceptions inheriting from base\nclass CacheError(MaverickException):\n    \"\"\"Cache operation failed.\"\"\"\n    pass\n</code></pre>"},{"location":"development/code-style/#graceful-degradation","title":"Graceful Degradation","text":"<pre><code># \u2705 Good - Graceful fallback\ndef get_stock_data(ticker: str) -&gt; dict | None:\n    \"\"\"Fetch stock data with fallback.\"\"\"\n    try:\n        # Try Redis cache\n        cached = cache.get(f\"stock:{ticker}\")\n        if cached:\n            return cached\n    except CacheError as e:\n        logger.warning(f\"Cache unavailable: {e}\")\n        # Continue without cache\n\n    try:\n        # Try API\n        data = api.fetch(ticker)\n        return data\n    except APIError as e:\n        logger.error(f\"API failed for {ticker}: {e}\")\n        return None  # Graceful failure\n</code></pre>"},{"location":"development/code-style/#comments","title":"Comments","text":""},{"location":"development/code-style/#when-to-comment","title":"When to Comment","text":"<p>Comment the \"why\", not the \"what\":</p> <pre><code># \u2705 Good - Explains reasoning\n# Use 252 trading days for annualization (US market standard)\nannualized_return = daily_return * 252\n\n# RSI values above 70 indicate overbought conditions per Wilder (1978)\nif rsi &gt; 70:\n    signal = \"overbought\"\n\n# \u274c Bad - States the obvious\n# Multiply by 252\nannualized_return = daily_return * 252\n\n# Check if RSI is greater than 70\nif rsi &gt; 70:\n    signal = \"overbought\"\n</code></pre>"},{"location":"development/code-style/#todo-comments","title":"TODO Comments","text":"<pre><code># TODO(username): Brief description of what needs to be done\n# TODO(arun): Add support for sector-specific screening strategies\n\n# FIXME(username): Brief description of the bug\n# FIXME(arun): Race condition in parallel agent execution\n\n# NOTE(username): Important information\n# NOTE(arun): This endpoint rate limited to 500 calls/hour\n</code></pre>"},{"location":"development/code-style/#financial-formulas","title":"Financial Formulas","text":"<p>Always document financial calculations:</p> <pre><code>def calculate_sharpe_ratio(\n    returns: pd.Series,\n    risk_free_rate: float = 0.03\n) -&gt; float:\n    \"\"\"Calculate Sharpe ratio.\n\n    Formula: (Portfolio Return - Risk-Free Rate) / Portfolio Volatility\n    Reference: Sharpe, William F. (1966). \"Mutual Fund Performance\"\n\n    Args:\n        returns: Daily returns series\n        risk_free_rate: Annual risk-free rate (default: 3%)\n\n    Returns:\n        Sharpe ratio (annualized)\n\n    Note:\n        - Returns are annualized using 252 trading days\n        - Volatility is annualized using sqrt(252)\n        - Risk-free rate should be annualized\n    \"\"\"\n    # Annualize returns and volatility\n    annual_return = returns.mean() * 252\n    annual_volatility = returns.std() * np.sqrt(252)\n\n    # Calculate Sharpe ratio\n    sharpe = (annual_return - risk_free_rate) / annual_volatility\n\n    return sharpe\n</code></pre>"},{"location":"development/code-style/#best-practices","title":"Best Practices","text":""},{"location":"development/code-style/#1-single-responsibility","title":"1. Single Responsibility","text":"<p>Each function should do one thing:</p> <pre><code># \u2705 Good - Single responsibility\ndef fetch_stock_data(ticker: str) -&gt; pd.DataFrame:\n    \"\"\"Fetch stock data from API.\"\"\"\n    return api.get(ticker)\n\ndef cache_stock_data(ticker: str, data: pd.DataFrame) -&gt; None:\n    \"\"\"Cache stock data.\"\"\"\n    cache.set(f\"stock:{ticker}\", data, ttl=3600)\n\ndef process_stock_data(data: pd.DataFrame) -&gt; pd.DataFrame:\n    \"\"\"Process and clean stock data.\"\"\"\n    return data.dropna().sort_values(\"Date\")\n\n# \u274c Bad - Multiple responsibilities\ndef fetch_and_process_stock_data(ticker: str) -&gt; pd.DataFrame:\n    \"\"\"Fetch, cache, and process stock data.\"\"\"\n    data = api.get(ticker)\n    cache.set(f\"stock:{ticker}\", data, ttl=3600)\n    return data.dropna().sort_values(\"Date\")\n</code></pre>"},{"location":"development/code-style/#2-dry-dont-repeat-yourself","title":"2. DRY (Don't Repeat Yourself)","text":"<pre><code># \u2705 Good - Reusable function\ndef calculate_annualized_metric(\n    daily_values: pd.Series,\n    metric: Literal[\"return\", \"volatility\"]\n) -&gt; float:\n    \"\"\"Calculate annualized metric from daily values.\"\"\"\n    if metric == \"return\":\n        return daily_values.mean() * 252\n    elif metric == \"volatility\":\n        return daily_values.std() * np.sqrt(252)\n\nannual_return = calculate_annualized_metric(returns, \"return\")\nannual_volatility = calculate_annualized_metric(returns, \"volatility\")\n\n# \u274c Bad - Repeated logic\nannual_return = returns.mean() * 252\nannual_volatility = returns.std() * np.sqrt(252)\n# ... repeated elsewhere in code\nannual_return2 = returns2.mean() * 252\nannual_volatility2 = returns2.std() * np.sqrt(252)\n</code></pre>"},{"location":"development/code-style/#3-early-returns","title":"3. Early Returns","text":"<pre><code># \u2705 Good - Early returns for clarity\ndef get_stock_data(ticker: str) -&gt; dict | None:\n    \"\"\"Fetch stock data with validation.\"\"\"\n    if not ticker:\n        logger.warning(\"Empty ticker provided\")\n        return None\n\n    if not validate_ticker_format(ticker):\n        logger.error(f\"Invalid ticker format: {ticker}\")\n        return None\n\n    # Main logic\n    return fetch_from_api(ticker)\n\n# \u274c Bad - Nested conditions\ndef get_stock_data(ticker: str) -&gt; dict | None:\n    \"\"\"Fetch stock data with validation.\"\"\"\n    if ticker:\n        if validate_ticker_format(ticker):\n            return fetch_from_api(ticker)\n        else:\n            logger.error(f\"Invalid ticker format: {ticker}\")\n            return None\n    else:\n        logger.warning(\"Empty ticker provided\")\n        return None\n</code></pre>"},{"location":"development/code-style/#4-comprehensions","title":"4. Comprehensions","text":"<pre><code># \u2705 Good - List comprehensions for simple transformations\ntickers = [t.upper().strip() for t in raw_tickers]\nvalid_tickers = [t for t in tickers if validate_ticker(t)]\nprices = {ticker: data[\"Close\"] for ticker, data in stock_data.items()}\n\n# \u274c Bad - Unnecessary loops\ntickers = []\nfor t in raw_tickers:\n    tickers.append(t.upper().strip())\n</code></pre>"},{"location":"development/code-style/#5-context-managers","title":"5. Context Managers","text":"<pre><code># \u2705 Good - Context manager for resources\nwith Session() as session:\n    stocks = session.query(Stock).all()\n    # Session automatically closed\n\n# \u2705 Good - Custom context manager\n@contextmanager\ndef timed_operation(operation_name: str):\n    \"\"\"Time an operation.\"\"\"\n    start = time.time()\n    yield\n    elapsed = time.time() - start\n    logger.info(f\"{operation_name} took {elapsed:.2f}s\")\n\nwith timed_operation(\"Backtesting\"):\n    results = run_backtest(strategy, data)\n</code></pre>"},{"location":"development/code-style/#6-use-built-ins","title":"6. Use Built-ins","text":"<pre><code># \u2705 Good - Use built-in functions\ntotal = sum(values)\nmaximum = max(values)\nminimum = min(values)\nhas_positive = any(v &gt; 0 for v in values)\nall_positive = all(v &gt; 0 for v in values)\n\n# \u274c Bad - Manual loops\ntotal = 0\nfor v in values:\n    total += v\n</code></pre>"},{"location":"development/code-style/#testing-conventions","title":"Testing Conventions","text":"<p>See Testing Guide for comprehensive testing conventions.</p> <p>Key points: - AAA pattern (Arrange-Act-Assert) - Descriptive test names - One concept per test - Use fixtures for setup - Mock external dependencies</p>"},{"location":"development/code-style/#logging","title":"Logging","text":""},{"location":"development/code-style/#levels","title":"Levels","text":"<pre><code>import logging\n\nlogger = logging.getLogger(__name__)\n\n# DEBUG - Detailed diagnostic information\nlogger.debug(f\"Fetching data for {ticker} from cache\")\n\n# INFO - General informational messages\nlogger.info(f\"Stock data fetched successfully for {ticker}\")\n\n# WARNING - Warning messages (recoverable issues)\nlogger.warning(f\"Cache miss for {ticker}, fetching from API\")\n\n# ERROR - Error messages (failure but recoverable)\nlogger.error(f\"API rate limit exceeded for {ticker}\")\n\n# CRITICAL - Critical errors (system failure)\nlogger.critical(\"Database connection lost\")\n</code></pre>"},{"location":"development/code-style/#structured-logging","title":"Structured Logging","text":"<pre><code># \u2705 Good - Structured with context\nlogger.info(\n    \"Stock data fetched\",\n    extra={\n        \"ticker\": ticker,\n        \"records\": len(data),\n        \"source\": \"tiingo\",\n        \"duration_ms\": elapsed * 1000\n    }\n)\n\n# \u274c Bad - Unstructured string\nlogger.info(f\"Fetched {len(data)} records for {ticker} from tiingo in {elapsed}s\")\n</code></pre>"},{"location":"development/code-style/#additional-resources","title":"Additional Resources","text":"<ul> <li>PEP 8 - Python Style Guide</li> <li>Google Python Style Guide</li> <li>ruff Documentation</li> <li>ty Documentation</li> <li>Type Hints (PEP 484)</li> </ul> <p>Next Steps: - Set up pre-commit hooks for automatic formatting - Configure IDE for ruff integration - Enable type checking in CI/CD - Review existing code for style compliance</p>"},{"location":"development/contributing/","title":"Contributing to Maverick MCP","text":"<p>Thank you for your interest in contributing to Maverick MCP!</p>"},{"location":"development/contributing/#quick-links","title":"Quick Links","text":"<ul> <li>Root Contributing Guide: See CONTRIBUTING.md in the project root for complete guidelines</li> <li>Code of Conduct: Be respectful, inclusive, and constructive</li> <li>License: Apache 2.0 - see LICENSE</li> </ul>"},{"location":"development/contributing/#for-new-contributors","title":"For New Contributors","text":""},{"location":"development/contributing/#getting-started","title":"Getting Started","text":"<p>1. Fork and Clone <pre><code># Fork on GitHub first, then:\ngit clone https://github.com/YOUR_USERNAME/maverick-mcp.git\ncd maverick-mcp\n</code></pre></p> <p>2. Set Up Development Environment <pre><code># Install dependencies\nuv sync --extra dev\n\n# Configure environment\ncp .env.example .env\n# Add your TIINGO_API_KEY\n\n# Start development server\nmake dev\n</code></pre></p> <p>3. Create a Branch <pre><code>git checkout -b feature/your-feature-name\n# or\ngit checkout -b fix/issue-number-description\n</code></pre></p>"},{"location":"development/contributing/#development-workflow","title":"Development Workflow","text":"<p>Quick Commands: <pre><code>make dev           # Start development server\nmake test          # Run tests (5-10 seconds)\nmake lint          # Check code quality\nmake format        # Auto-format code\nmake typecheck     # Type checking\nmake check         # Run all checks\n</code></pre></p> <p>Development Loop: 1. Make changes to code 2. Run <code>make test</code> to verify 3. Run <code>make format</code> to format 4. Run <code>make check</code> to validate 5. Commit changes 6. Push and create PR</p>"},{"location":"development/contributing/#what-to-contribute","title":"What to Contribute","text":""},{"location":"development/contributing/#bug-fixes","title":"\ud83d\udc1b Bug Fixes","text":"<ul> <li>Check GitHub Issues</li> <li>Comment on issue before starting work</li> <li>Include test case that reproduces the bug</li> <li>Reference issue number in commit/PR</li> </ul>"},{"location":"development/contributing/#new-features","title":"\u2728 New Features","text":"<ul> <li>Open issue to discuss before implementing</li> <li>Follow existing patterns and architecture</li> <li>Add comprehensive tests</li> <li>Update documentation</li> </ul>"},{"location":"development/contributing/#documentation","title":"\ud83d\udcda Documentation","text":"<ul> <li>Fix typos and improve clarity</li> <li>Add examples and use cases</li> <li>Update outdated information</li> <li>Add diagrams where helpful</li> </ul>"},{"location":"development/contributing/#tests","title":"\ud83e\uddea Tests","text":"<ul> <li>Increase test coverage</li> <li>Add integration tests</li> <li>Add edge case tests</li> <li>Improve test performance</li> </ul>"},{"location":"development/contributing/#code-quality","title":"\ud83c\udfa8 Code Quality","text":"<ul> <li>Refactoring for clarity</li> <li>Performance improvements</li> <li>Type hint additions</li> <li>Code simplification</li> </ul>"},{"location":"development/contributing/#not-accepting","title":"Not Accepting","text":"<p>\u274c We generally don't accept: - Breaking changes without discussion - Large refactors without prior agreement - Features that duplicate existing functionality - Changes without tests - PRs that fail CI checks</p> <p>Before spending time on large changes, open an issue to discuss!</p>"},{"location":"development/contributing/#commit-guidelines","title":"Commit Guidelines","text":""},{"location":"development/contributing/#commit-message-format","title":"Commit Message Format","text":"<p>Use Conventional Commits:</p> <pre><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\n\n&lt;body&gt;\n\n&lt;footer&gt;\n</code></pre> <p>Types: - <code>feat</code>: New feature - <code>fix</code>: Bug fix - <code>docs</code>: Documentation only - <code>test</code>: Adding/updating tests - <code>refactor</code>: Code refactoring - <code>perf</code>: Performance improvement - <code>chore</code>: Maintenance tasks - <code>ci</code>: CI/CD changes</p> <p>Examples: <pre><code>feat(research): Add parallel agent orchestration\n\nImplement multi-agent research system with 6 parallel agents\nfor faster comprehensive stock analysis. Achieves 7-256x speedup\nover sequential execution.\n\nCloses #42\n</code></pre></p> <pre><code>fix(cache): Prevent Redis connection leak\n\nAdd connection pooling and proper cleanup to prevent\nmemory leaks in long-running processes.\n\nFixes #128\n</code></pre> <pre><code>docs(deployment): Add Rancher Desktop guide\n\nComprehensive guide for running Maverick MCP with Rancher Desktop\nincluding configuration, troubleshooting, and best practices.\n</code></pre>"},{"location":"development/contributing/#commit-best-practices","title":"Commit Best Practices","text":"<p>\u2705 Good Commits: - Atomic (one logical change) - Descriptive subject line (&lt; 72 chars) - Explain \"why\" in body, not \"what\" - Reference issues/PRs</p> <p>\u274c Avoid: - \"Fix stuff\" or \"WIP\" - Mixing multiple unrelated changes - Committing commented-out code - Committing secrets or API keys</p>"},{"location":"development/contributing/#pull-request-process","title":"Pull Request Process","text":""},{"location":"development/contributing/#before-submitting","title":"Before Submitting","text":"<p>Checklist: - [ ] Code follows project style guide - [ ] Tests pass locally (<code>make test</code>) - [ ] New tests added for new features - [ ] Documentation updated - [ ] Commit messages follow guidelines - [ ] No merge conflicts with main - [ ] PR description is clear and complete</p>"},{"location":"development/contributing/#pr-title-format","title":"PR Title Format","text":"<p>Same as commit messages: <pre><code>feat(concall): Add sentiment analysis tool\nfix(providers): Handle API rate limiting\ndocs(api): Document portfolio optimization\n</code></pre></p>"},{"location":"development/contributing/#pr-description-template","title":"PR Description Template","text":"<pre><code>## Description\nBrief description of changes\n\n## Type of Change\n- [ ] Bug fix\n- [ ] New feature\n- [ ] Breaking change\n- [ ] Documentation update\n\n## Testing\nDescribe testing performed\n\n## Related Issues\nCloses #123\nRelates to #456\n\n## Screenshots (if applicable)\n</code></pre>"},{"location":"development/contributing/#review-process","title":"Review Process","text":"<ol> <li>Automated Checks: Must pass CI/CD</li> <li>Code Review: At least one maintainer approval</li> <li>Testing: Reviewer tests changes locally</li> <li>Discussion: Address review comments</li> <li>Merge: Squash and merge to main</li> </ol> <p>Review Timeline: - Small fixes: 1-2 days - Features: 3-7 days - Large changes: 1-2 weeks</p>"},{"location":"development/contributing/#development-best-practices","title":"Development Best Practices","text":""},{"location":"development/contributing/#code-quality_1","title":"Code Quality","text":"<p>Follow the Style Guide: - See Code Style Guide - Use <code>make format</code> to auto-format - Use <code>make lint</code> to check - Use <code>make typecheck</code> for types</p> <p>Write Clean Code: - Self-documenting names - Single Responsibility Principle - DRY (Don't Repeat Yourself) - SOLID principles - Appropriate comments</p> <p>Type Hints: <pre><code># Good\ndef calculate_rsi(\n    data: pd.DataFrame,\n    period: int = 14,\n    price_col: str = \"Close\"\n) -&gt; pd.DataFrame:\n    \"\"\"Calculate RSI indicator.\"\"\"\n    ...\n\n# Bad\ndef calculate_rsi(data, period=14, price_col=\"Close\"):\n    ...\n</code></pre></p>"},{"location":"development/contributing/#testing","title":"Testing","text":"<p>Write Tests First (TDD): 1. Write failing test 2. Write minimum code to pass 3. Refactor</p> <p>Test Coverage: - Aim for 80%+ coverage - Test happy path - Test edge cases - Test error handling</p> <p>Test Types: <pre><code># Unit test\ndef test_calculate_rsi():\n    data = create_sample_data()\n    result = calculate_rsi(data, period=14)\n    assert 'RSI' in result.columns\n    assert result['RSI'].iloc[-1] &gt; 0\n\n# Integration test\n@pytest.mark.integration\ndef test_research_tool_end_to_end():\n    tool = ResearchTool()\n    result = tool.research_comprehensive(\"AAPL\")\n    assert result['company_name'] == \"Apple Inc.\"\n</code></pre></p>"},{"location":"development/contributing/#documentation_1","title":"Documentation","text":"<p>Docstring Format (Google style): <pre><code>def optimize_portfolio(\n    tickers: list[str],\n    target_return: float | None = None\n) -&gt; dict:\n    \"\"\"Optimize portfolio using Modern Portfolio Theory.\n\n    Args:\n        tickers: List of stock symbols to include\n        target_return: Target annual return (optional)\n\n    Returns:\n        Dictionary containing:\n            - optimal_weights: Asset allocation percentages\n            - expected_return: Projected annual return\n            - sharpe_ratio: Risk-adjusted return metric\n\n    Raises:\n        ValueError: If tickers list is empty\n        APIError: If stock data cannot be fetched\n\n    Example:\n        &gt;&gt;&gt; result = optimize_portfolio([\"AAPL\", \"MSFT\", \"GOOGL\"])\n        &gt;&gt;&gt; print(result['sharpe_ratio'])\n        1.85\n    \"\"\"\n    ...\n</code></pre></p> <p>Update Documentation: - Update relevant .md files - Add examples - Keep docs in sync with code - Test code examples</p>"},{"location":"development/contributing/#financial-domain-guidelines","title":"Financial Domain Guidelines","text":""},{"location":"development/contributing/#data-accuracy","title":"Data Accuracy","text":"<p>Critical: Financial data must be accurate!</p> <ul> <li>Always validate data sources</li> <li>Handle missing data appropriately</li> <li>Document data limitations</li> <li>Test with real market data</li> <li>Be transparent about approximations</li> </ul>"},{"location":"development/contributing/#calculation-correctness","title":"Calculation Correctness","text":"<p>Follow Standards: - Use established formulas (RSI, MACD, etc.) - Reference sources in comments - Test against known examples - Validate edge cases</p> <p>Example: <pre><code>def calculate_sharpe_ratio(\n    returns: pd.Series,\n    risk_free_rate: float = 0.03\n) -&gt; float:\n    \"\"\"Calculate Sharpe Ratio.\n\n    Formula: (Portfolio Return - Risk-Free Rate) / Portfolio Volatility\n    Reference: https://en.wikipedia.org/wiki/Sharpe_ratio\n\n    Note: Risk-free rate should be annualized. Returns are assumed\n    to be daily and will be annualized internally.\n    \"\"\"\n    ...\n</code></pre></p>"},{"location":"development/contributing/#compliance-and-disclaimers","title":"Compliance and Disclaimers","text":"<p>Important: - Not financial advice - For educational/personal use - No guarantees on accuracy - Users responsible for own decisions</p> <p>Add Disclaimers: <pre><code># In documentation\n\"\"\"\nDISCLAIMER: This tool is for educational and informational purposes only.\nIt does not constitute financial advice. Always do your own research and\nconsult with qualified financial advisors before making investment decisions.\n\"\"\"\n</code></pre></p>"},{"location":"development/contributing/#community","title":"Community","text":""},{"location":"development/contributing/#getting-help","title":"Getting Help","text":"<ul> <li>Documentation: https://arunbcodes.github.io/maverick-mcp/</li> <li>GitHub Issues: Bug reports and feature requests</li> <li>GitHub Discussions: Questions and community chat</li> <li>Code Review: Learn from PR comments</li> </ul>"},{"location":"development/contributing/#recognition","title":"Recognition","text":"<p>Contributors are recognized in: - README.md contributors section - Release notes for significant contributions - GitHub contributor graph</p>"},{"location":"development/contributing/#additional-resources","title":"Additional Resources","text":"<ul> <li>Architecture Guide - System design and patterns</li> <li>Testing Guide - Comprehensive testing guide</li> <li>Code Style Guide - Style and conventions</li> <li>Docker Deployment - Container deployment</li> <li>API Reference - Complete API docs</li> </ul>"},{"location":"development/contributing/#questions","title":"Questions?","text":"<p>If you have questions: 1. Check existing documentation 2. Search GitHub Issues 3. Ask in GitHub Discussions 4. Open a new issue with \"question\" label</p> <p>Thank you for contributing to Maverick MCP! \ud83d\ude80</p>"},{"location":"development/testing/","title":"Testing Guide","text":"<p>Comprehensive guide to testing Maverick MCP.</p>"},{"location":"development/testing/#philosophy","title":"Philosophy","text":"<p>Maverick MCP follows a rigorous testing approach:</p> <ul> <li>Test-Driven Development (TDD): Write tests before implementation</li> <li>High Coverage Target: 80%+ overall, 90%+ for critical paths</li> <li>Fast Feedback: Unit tests complete in 5-10 seconds</li> <li>Layered Testing: Unit \u2192 Integration \u2192 End-to-End \u2192 Performance</li> <li>Financial Accuracy: Extra scrutiny for financial calculations</li> <li>Regression Protection: All bugs get a test case</li> </ul>"},{"location":"development/testing/#test-structure","title":"Test Structure","text":"<pre><code>tests/\n\u251c\u2500\u2500 conftest.py                 # Global fixtures\n\u251c\u2500\u2500 core/                       # Core financial calculations\n\u2502   \u2514\u2500\u2500 test_technical_analysis.py\n\u251c\u2500\u2500 domain/                     # Business logic tests\n\u2502   \u251c\u2500\u2500 conftest.py\n\u2502   \u2514\u2500\u2500 test_technical_analysis_service.py\n\u251c\u2500\u2500 services/                   # Service layer tests\n\u2502   \u251c\u2500\u2500 conftest.py\n\u2502   \u251c\u2500\u2500 test_screening_service.py\n\u2502   \u251c\u2500\u2500 test_stock_cache_manager.py\n\u2502   \u251c\u2500\u2500 test_stock_data_fetcher.py\n\u2502   \u2514\u2500\u2500 test_market_calendar_service.py\n\u251c\u2500\u2500 providers/                  # External API integration\n\u2502   \u2514\u2500\u2500 test_stock_data_simple.py\n\u251c\u2500\u2500 data/                       # Database models\n\u2502   \u2514\u2500\u2500 test_portfolio_models.py\n\u251c\u2500\u2500 strategies/                 # Trading strategies\n\u2502   \u2514\u2500\u2500 test_market_strategy.py\n\u251c\u2500\u2500 concall/                    # Conference call system\n\u2502   \u251c\u2500\u2500 models/\n\u2502   \u251c\u2500\u2500 providers/\n\u2502   \u2514\u2500\u2500 utils/\n\u251c\u2500\u2500 integration/                # Integration tests\n\u2502   \u251c\u2500\u2500 base.py\n\u2502   \u251c\u2500\u2500 test_api_technical.py\n\u2502   \u251c\u2500\u2500 test_mcp_tools.py\n\u2502   \u251c\u2500\u2500 test_redis_cache.py\n\u2502   \u251c\u2500\u2500 test_full_backtest_workflow.py\n\u2502   \u2514\u2500\u2500 test_orchestration_complete.py\n\u2514\u2500\u2500 performance/                # Performance tests\n    \u251c\u2500\u2500 test_benchmarks.py\n    \u251c\u2500\u2500 test_load.py\n    \u251c\u2500\u2500 test_profiling.py\n    \u2514\u2500\u2500 test_stress.py\n</code></pre>"},{"location":"development/testing/#running-tests","title":"Running Tests","text":""},{"location":"development/testing/#quick-commands","title":"Quick Commands","text":"<pre><code># Unit tests only (5-10 seconds)\nmake test\n\n# Specific test file\nmake test-specific TEST=test_screening_service\n\n# Watch mode (auto-rerun on changes)\nmake test-watch\n\n# With coverage report\nmake test-cov\n\n# All tests (including integration)\nmake test-all\n\n# Integration tests only\nmake test-integration\n\n# Performance tests\nmake test-performance\n</code></pre>"},{"location":"development/testing/#using-uv-recommended","title":"Using uv (Recommended)","text":"<pre><code># Unit tests (fast, no external dependencies)\nuv run pytest\n\n# With coverage\nuv run pytest --cov=maverick_mcp --cov-report=html\n\n# Integration tests (requires PostgreSQL/Redis)\nuv run pytest -m integration\n\n# Specific markers\nuv run pytest -m \"not slow\"\nuv run pytest -m \"unit\"\nuv run pytest -m \"database\"\n\n# Parallel execution (faster)\nuv run pytest -n auto\n\n# Show slowest tests\nuv run pytest --durations=10\n</code></pre>"},{"location":"development/testing/#direct-pytest","title":"Direct pytest","text":"<pre><code># If in activated venv\npytest                                    # Unit tests\npytest -m integration                     # Integration tests\npytest -k \"test_screening\"                # Match pattern\npytest tests/services/                    # Specific directory\npytest --lf                               # Last failed\npytest --ff                               # Failed first\n</code></pre>"},{"location":"development/testing/#test-categories","title":"Test Categories","text":""},{"location":"development/testing/#markers","title":"Markers","text":"<p>Tests are categorized using pytest markers:</p> <pre><code>@pytest.mark.unit           # Unit tests (default)\n@pytest.mark.integration    # Integration tests\n@pytest.mark.slow           # Slow tests (&gt;1s)\n@pytest.mark.external       # Requires external APIs\n@pytest.mark.database       # Requires database\n@pytest.mark.redis          # Requires Redis\n</code></pre> <p>Usage: <pre><code># Run only unit tests\npytest -m unit\n\n# Exclude slow tests\npytest -m \"not slow\"\n\n# Integration + database tests\npytest -m \"integration and database\"\n\n# Everything except external API tests\npytest -m \"not external\"\n</code></pre></p>"},{"location":"development/testing/#test-types","title":"Test Types","text":""},{"location":"development/testing/#1-unit-tests-default","title":"1. Unit Tests (Default)","text":"<p>Purpose: Test individual functions/classes in isolation</p> <p>Characteristics: - No external dependencies - Uses mocks/stubs - Fast (&lt;100ms per test) - High coverage target (90%+)</p> <p>Example: <pre><code>\"\"\"tests/services/test_screening_service.py\"\"\"\n\nimport pytest\nfrom unittest.mock import Mock, patch\n\nfrom maverick_data.services import ScreeningService\n\n\nclass TestScreeningServiceInitialization:\n    \"\"\"Test initialization and configuration.\"\"\"\n\n    def test_initializes_without_session(self):\n        \"\"\"Test initialization without provided session.\"\"\"\n        service = ScreeningService()\n        assert service._db_session is None\n\n    def test_initializes_with_session(self):\n        \"\"\"Test initialization with injected session.\"\"\"\n        mock_session = Mock(spec=Session)\n        service = ScreeningService(db_session=mock_session)\n        assert service._db_session == mock_session\n\n\nclass TestGetMaverickRecommendations:\n    \"\"\"Test Maverick bullish recommendations.\"\"\"\n\n    @patch('maverick_data.services.screening.SessionLocal')\n    def test_returns_recommendations_successfully(self, mock_session_local):\n        \"\"\"Test successful retrieval of bullish recommendations.\"\"\"\n        mock_stock = Mock()\n        mock_stock.combined_score = 95\n        mock_query = Mock()\n        mock_query.all.return_value = [mock_stock]\n\n        mock_session = Mock()\n        mock_session.query.return_value = mock_query\n        mock_session_local.return_value = mock_session\n\n        service = ScreeningService()\n        results = service.get_maverick_recommendations(limit=10)\n\n        assert len(results) == 1\n        assert results[0][\"ticker_symbol\"] == \"AAPL\"\n</code></pre></p>"},{"location":"development/testing/#2-integration-tests","title":"2. Integration Tests","text":"<p>Purpose: Test component interactions</p> <p>Characteristics: - Real database/Redis connections - May call external APIs (with VCR recording) - Slower (100ms-5s per test) - Tests full workflows</p> <p>Example: <pre><code>\"\"\"tests/integration/test_mcp_tools.py\"\"\"\n\nimport pytest\nfrom fastmcp.testutils import client_for\n\nfrom maverick_server import mcp\n\n\n@pytest.mark.integration\n@pytest.mark.asyncio\nasync def test_get_stock_data_integration():\n    \"\"\"Test get_stock_data tool end-to-end.\"\"\"\n    async with client_for(mcp) as client:\n        # Call MCP tool\n        result = await client.call_tool(\n            \"get_stock_data\",\n            arguments={\n                \"ticker\": \"AAPL\",\n                \"period\": \"1mo\"\n            }\n        )\n\n        # Verify response structure\n        assert result[\"status\"] == \"success\"\n        assert \"data\" in result\n        assert len(result[\"data\"]) &gt; 0\n\n        # Verify data quality\n        first_row = result[\"data\"][0]\n        assert \"Date\" in first_row\n        assert \"Close\" in first_row\n        assert first_row[\"Close\"] &gt; 0\n</code></pre></p>"},{"location":"development/testing/#3-end-to-end-tests","title":"3. End-to-End Tests","text":"<p>Purpose: Test full user workflows</p> <p>Characteristics: - Simulates real user scenarios - Multiple components involved - Slowest (5-30s per test) - Critical path testing</p> <p>Example: <pre><code>\"\"\"tests/integration/test_full_backtest_workflow.py\"\"\"\n\n@pytest.mark.integration\n@pytest.mark.slow\nasync def test_complete_backtest_workflow():\n    \"\"\"Test complete backtest from strategy to report.\"\"\"\n    async with client_for(mcp) as client:\n        # Step 1: Fetch stock data\n        data_result = await client.call_tool(\n            \"get_stock_data\",\n            arguments={\"ticker\": \"SPY\", \"period\": \"1y\"}\n        )\n        assert data_result[\"status\"] == \"success\"\n\n        # Step 2: Run backtest\n        backtest_result = await client.call_tool(\n            \"run_backtest\",\n            arguments={\n                \"ticker\": \"SPY\",\n                \"strategy\": \"momentum\",\n                \"start_date\": \"2024-01-01\"\n            }\n        )\n        assert backtest_result[\"metrics\"][\"sharpe_ratio\"] &gt; 0\n\n        # Step 3: Generate report\n        report_result = await client.call_tool(\n            \"get_backtest_report\",\n            arguments={\"backtest_id\": backtest_result[\"id\"]}\n        )\n        assert \"html\" in report_result\n</code></pre></p>"},{"location":"development/testing/#4-performance-tests","title":"4. Performance Tests","text":"<p>Purpose: Ensure system meets performance targets</p> <p>Characteristics: - Measures latency, throughput - Resource usage monitoring - Stress testing - Regression detection</p> <p>Example: <pre><code>\"\"\"tests/performance/test_benchmarks.py\"\"\"\n\nimport time\nimport pytest\n\nfrom maverick_data.services import ScreeningService\n\n\n@pytest.mark.performance\ndef test_screening_performance(benchmark):\n    \"\"\"Test screening completes in under 500ms.\"\"\"\n    service = ScreeningService()\n\n    result = benchmark(\n        service.get_maverick_recommendations,\n        limit=100\n    )\n\n    # Performance assertions\n    assert benchmark.stats.mean &lt; 0.5  # 500ms\n    assert len(result) == 100\n\n\n@pytest.mark.performance\n@pytest.mark.slow\ndef test_parallel_agent_speedup():\n    \"\"\"Test parallel research achieves 7x+ speedup.\"\"\"\n    from maverick_agents.research import ParallelResearchOrchestrator\n\n    orchestrator = ParallelResearchOrchestrator(num_agents=6)\n\n    start = time.time()\n    results = orchestrator.research_comprehensive(\"AAPL\")\n    elapsed = time.time() - start\n\n    # Should complete in 30s with 6 agents vs 180s sequential\n    assert elapsed &lt; 30\n    assert results[\"speedup_factor\"] &gt;= 7\n</code></pre></p>"},{"location":"development/testing/#writing-tests","title":"Writing Tests","text":""},{"location":"development/testing/#test-structure-aaa-pattern","title":"Test Structure (AAA Pattern)","text":"<p>Follow Arrange-Act-Assert pattern:</p> <pre><code>def test_calculate_rsi():\n    \"\"\"Test RSI calculation for sample data.\"\"\"\n    # Arrange - Set up test data\n    data = create_sample_ohlcv_data()\n    expected_rsi = 65.5\n\n    # Act - Execute function under test\n    result = calculate_rsi(data, period=14)\n\n    # Assert - Verify results\n    assert \"RSI\" in result.columns\n    assert abs(result[\"RSI\"].iloc[-1] - expected_rsi) &lt; 0.1\n</code></pre>"},{"location":"development/testing/#fixtures","title":"Fixtures","text":"<p>Global fixtures (<code>tests/conftest.py</code>): <pre><code>\"\"\"tests/conftest.py\"\"\"\n\nimport pytest\nimport pandas as pd\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\n\nfrom maverick_data.models import Base\n\n\n@pytest.fixture\ndef sample_ohlcv_data():\n    \"\"\"Sample OHLCV data for testing.\"\"\"\n    return pd.DataFrame({\n        'Date': pd.date_range('2024-01-01', periods=100),\n        'Open': range(100, 200),\n        'High': range(105, 205),\n        'Low': range(95, 195),\n        'Close': range(100, 200),\n        'Volume': [1000000] * 100\n    })\n\n\n@pytest.fixture\ndef test_db_session():\n    \"\"\"In-memory SQLite session for testing.\"\"\"\n    engine = create_engine('sqlite:///:memory:')\n    Base.metadata.create_all(engine)\n\n    SessionLocal = sessionmaker(bind=engine)\n    session = SessionLocal()\n\n    yield session\n\n    session.close()\n    engine.dispose()\n\n\n@pytest.fixture\ndef mock_redis_client():\n    \"\"\"Mock Redis client.\"\"\"\n    from unittest.mock import Mock\n\n    client = Mock()\n    client.get.return_value = None\n    client.set.return_value = True\n\n    return client\n</code></pre></p> <p>Service-specific fixtures (<code>tests/services/conftest.py</code>): <pre><code>\"\"\"tests/services/conftest.py\"\"\"\n\nimport pytest\nfrom maverick_data.services import ScreeningService\n\n\n@pytest.fixture\ndef screening_service(test_db_session):\n    \"\"\"ScreeningService instance with test database.\"\"\"\n    return ScreeningService(db_session=test_db_session)\n</code></pre></p>"},{"location":"development/testing/#mocking","title":"Mocking","text":"<p>Use <code>unittest.mock</code> for dependencies:</p> <pre><code>from unittest.mock import Mock, patch, MagicMock\n\n\n# Mock external API calls\n@patch('maverick_data.providers.stock_data.requests.get')\ndef test_fetch_stock_data(mock_get):\n    \"\"\"Test stock data fetching with mocked API.\"\"\"\n    # Arrange\n    mock_response = Mock()\n    mock_response.json.return_value = {\"close\": [100, 101, 102]}\n    mock_get.return_value = mock_response\n\n    # Act\n    from maverick_data.providers import fetch_stock_data\n    result = fetch_stock_data(\"AAPL\")\n\n    # Assert\n    assert result[\"close\"] == [100, 101, 102]\n    mock_get.assert_called_once()\n\n\n# Mock class methods\n@patch.object(ScreeningService, '_get_db_session')\ndef test_screening_with_mock_session(mock_get_session):\n    \"\"\"Test screening with mocked database.\"\"\"\n    mock_session = Mock()\n    mock_get_session.return_value = (mock_session, False)\n\n    service = ScreeningService()\n    # Test continues...\n</code></pre>"},{"location":"development/testing/#async-testing","title":"Async Testing","text":"<p>Use <code>pytest-asyncio</code> for async functions:</p> <pre><code>import pytest\n\n\n@pytest.mark.asyncio\nasync def test_async_research():\n    \"\"\"Test async research agent.\"\"\"\n    from maverick_agents.research import ResearchAgent\n\n    agent = ResearchAgent()\n    result = await agent.research_company(\"AAPL\")\n\n    assert result[\"company_name\"] == \"Apple Inc.\"\n    assert \"financials\" in result\n\n\n# Multiple async operations\n@pytest.mark.asyncio\nasync def test_parallel_execution():\n    \"\"\"Test parallel agent execution.\"\"\"\n    import asyncio\n    from maverick_agents.research import create_agents\n\n    agents = create_agents(count=6)\n\n    # Run agents in parallel\n    results = await asyncio.gather(*[\n        agent.research(\"AAPL\") for agent in agents\n    ])\n\n    assert len(results) == 6\n    assert all(r[\"status\"] == \"success\" for r in results)\n</code></pre>"},{"location":"development/testing/#testing-exceptions","title":"Testing Exceptions","text":"<pre><code>import pytest\n\n\ndef test_invalid_ticker_raises_error():\n    \"\"\"Test that invalid ticker raises ValueError.\"\"\"\n    from maverick_data.providers import StockDataProvider\n\n    provider = StockDataProvider()\n\n    with pytest.raises(ValueError, match=\"Invalid ticker format\"):\n        provider.get_stock_data(\"INVALID@TICKER\")\n\n\ndef test_api_error_handling():\n    \"\"\"Test graceful handling of API errors.\"\"\"\n    with patch('requests.get') as mock_get:\n        mock_get.side_effect = requests.RequestException(\"API unavailable\")\n\n        provider = StockDataProvider()\n        result = provider.get_stock_data(\"AAPL\")\n\n        # Should return error dict instead of raising\n        assert result[\"status\"] == \"error\"\n        assert \"API unavailable\" in result[\"message\"]\n</code></pre>"},{"location":"development/testing/#financial-testing","title":"Financial Testing","text":""},{"location":"development/testing/#calculation-accuracy","title":"Calculation Accuracy","text":"<p>Test against known values:</p> <pre><code>def test_rsi_calculation_accuracy():\n    \"\"\"Test RSI matches established reference values.\"\"\"\n    # Use data from tradingview.com or investing.com\n    reference_data = load_reference_data(\"AAPL_2024-01-01_2024-12-31\")\n\n    result = calculate_rsi(reference_data, period=14)\n\n    # RSI should match reference within 0.1%\n    expected_rsi = 65.42\n    actual_rsi = result[\"RSI\"].iloc[-1]\n\n    tolerance = expected_rsi * 0.001  # 0.1% tolerance\n    assert abs(actual_rsi - expected_rsi) &lt; tolerance\n\n\ndef test_sharpe_ratio_calculation():\n    \"\"\"Test Sharpe ratio formula correctness.\"\"\"\n    # Annual returns: 15%, Volatility: 20%, Risk-free: 3%\n    returns = pd.Series([0.01] * 12)  # Monthly returns\n    risk_free_rate = 0.03\n\n    sharpe = calculate_sharpe_ratio(returns, risk_free_rate)\n\n    # Expected: (15% - 3%) / 20% = 0.6\n    assert abs(sharpe - 0.6) &lt; 0.05\n</code></pre>"},{"location":"development/testing/#edge-cases","title":"Edge Cases","text":"<pre><code>def test_rsi_with_flat_prices():\n    \"\"\"Test RSI when prices don't change.\"\"\"\n    data = pd.DataFrame({\n        'Close': [100] * 50  # Flat prices\n    })\n\n    result = calculate_rsi(data, period=14)\n\n    # RSI should be 50 (neutral)\n    assert result[\"RSI\"].iloc[-1] == 50.0\n\n\ndef test_portfolio_with_zero_variance():\n    \"\"\"Test portfolio optimization with zero variance asset.\"\"\"\n    # Asset with zero variance should be handled gracefully\n    returns = pd.DataFrame({\n        'CASH': [0.0] * 100,  # Zero variance\n        'SPY': np.random.normal(0.001, 0.02, 100)\n    })\n\n    optimizer = PortfolioOptimizer()\n    result = optimizer.optimize(returns)\n\n    # Should not crash, should allocate 100% to CASH (min variance)\n    assert result[\"weights\"][\"CASH\"] == 1.0\n</code></pre>"},{"location":"development/testing/#coverage-requirements","title":"Coverage Requirements","text":""},{"location":"development/testing/#target-coverage","title":"Target Coverage","text":"Component Target Critical Path Core calculations 95%+ Financial formulas Services 90%+ Business logic API/Routers 85%+ MCP tools Providers 80%+ External integrations Models 70%+ Data structures Utils 80%+ Helper functions"},{"location":"development/testing/#running-coverage","title":"Running Coverage","text":"<pre><code># HTML report (detailed)\nmake test-cov\nopen htmlcov/index.html\n\n# Terminal report\nuv run pytest --cov=maverick_mcp --cov-report=term-missing\n\n# XML report (for CI/CD)\nuv run pytest --cov=maverick_mcp --cov-report=xml\n\n# Fail if coverage below 60%\nuv run pytest --cov-fail-under=60\n</code></pre>"},{"location":"development/testing/#coverage-configuration","title":"Coverage Configuration","text":"<p>pytest.ini: <pre><code>[coverage:run]\nsource = maverick_mcp\nomit =\n    */tests/*\n    */__pycache__/*\n\n[coverage:report]\nprecision = 2\nshow_missing = True\nexclude_lines =\n    pragma: no cover\n    def __repr__\n    raise NotImplementedError\n    if __name__ == .__main__.:\n    if TYPE_CHECKING:\n    @abstractmethod\n</code></pre></p>"},{"location":"development/testing/#vcr-for-external-apis","title":"VCR for External APIs","text":"<p>Use VCR.py to record/replay HTTP requests:</p> <pre><code>import pytest\nimport vcr\n\n\n@pytest.mark.external\n@vcr.use_cassette('tests/vcr_cassettes/tiingo_aapl.yaml')\ndef test_tiingo_api():\n    \"\"\"Test Tiingo API with recorded response.\"\"\"\n    from maverick_data.providers import StockDataProvider\n\n    provider = StockDataProvider(api_key=\"test_key\")\n    result = provider.get_stock_data(\"AAPL\", period=\"1mo\")\n\n    assert len(result) &gt; 0\n    assert \"Close\" in result.columns\n</code></pre> <p>Benefits: - \u2705 Tests run without API keys - \u2705 Consistent test results - \u2705 Fast execution (no network calls) - \u2705 Works offline</p> <p>Recording new cassettes: <pre><code># Delete old cassette\nrm tests/vcr_cassettes/tiingo_aapl.yaml\n\n# Run test with real API (records response)\nTIINGO_API_KEY=real_key pytest tests/test_stock_data.py\n</code></pre></p>"},{"location":"development/testing/#cicd-integration","title":"CI/CD Integration","text":""},{"location":"development/testing/#github-actions-example","title":"GitHub Actions Example","text":"<pre><code># .github/workflows/test.yml\nname: Tests\n\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n\n    services:\n      postgres:\n        image: postgres:15\n        env:\n          POSTGRES_PASSWORD: postgres\n        options: &gt;-\n          --health-cmd pg_isready\n          --health-interval 10s\n\n      redis:\n        image: redis:7\n        options: &gt;-\n          --health-cmd \"redis-cli ping\"\n          --health-interval 10s\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Install uv\n        uses: astral-sh/setup-uv@v4\n\n      - name: Install dependencies\n        run: uv sync --extra dev\n\n      - name: Run unit tests\n        run: uv run pytest -m \"not integration\"\n\n      - name: Run integration tests\n        run: uv run pytest -m integration\n        env:\n          DATABASE_URL: postgresql://postgres:postgres@localhost/test\n          REDIS_HOST: localhost\n\n      - name: Upload coverage\n        uses: codecov/codecov-action@v3\n        with:\n          file: ./coverage.xml\n</code></pre>"},{"location":"development/testing/#test-data-management","title":"Test Data Management","text":""},{"location":"development/testing/#sample-data","title":"Sample Data","text":"<p>Create reusable test data:</p> <pre><code># tests/fixtures/sample_data.py\n\nimport pandas as pd\nimport numpy as np\n\n\ndef create_sample_ohlcv(days=100, start_price=100):\n    \"\"\"Create sample OHLCV data with realistic patterns.\"\"\"\n    dates = pd.date_range('2024-01-01', periods=days)\n\n    # Simulate random walk\n    returns = np.random.normal(0.001, 0.02, days)\n    close_prices = start_price * (1 + returns).cumprod()\n\n    return pd.DataFrame({\n        'Date': dates,\n        'Open': close_prices * np.random.uniform(0.99, 1.01, days),\n        'High': close_prices * np.random.uniform(1.00, 1.02, days),\n        'Low': close_prices * np.random.uniform(0.98, 1.00, days),\n        'Close': close_prices,\n        'Volume': np.random.randint(1000000, 5000000, days)\n    })\n</code></pre>"},{"location":"development/testing/#database-seeding","title":"Database Seeding","text":"<pre><code># tests/fixtures/db_fixtures.py\n\n@pytest.fixture\ndef seeded_db(test_db_session):\n    \"\"\"Database with S&amp;P 500 stocks seeded.\"\"\"\n    from maverick_data import Stock, MaverickStocks as ScreeningScore\n\n    # Add sample stocks\n    stocks = [\n        Stock(ticker_symbol=\"AAPL\", company_name=\"Apple Inc.\"),\n        Stock(ticker_symbol=\"MSFT\", company_name=\"Microsoft Corp.\"),\n        Stock(ticker_symbol=\"GOOGL\", company_name=\"Alphabet Inc.\"),\n    ]\n    test_db_session.add_all(stocks)\n\n    # Add screening scores\n    scores = [\n        ScreeningScore(\n            ticker_symbol=\"AAPL\",\n            strategy=\"maverick_bullish\",\n            combined_score=95,\n            date=datetime.now()\n        )\n    ]\n    test_db_session.add_all(scores)\n    test_db_session.commit()\n\n    return test_db_session\n</code></pre>"},{"location":"development/testing/#best-practices","title":"Best Practices","text":""},{"location":"development/testing/#1-test-organization","title":"1. Test Organization","text":"<pre><code># \u2705 Good - Organized by functionality\nclass TestScreeningServiceInitialization:\n    def test_initializes_without_session(self): ...\n    def test_initializes_with_session(self): ...\n\nclass TestMaverickRecommendations:\n    def test_returns_top_stocks(self): ...\n    def test_filters_by_score(self): ...\n    def test_handles_empty_results(self): ...\n</code></pre>"},{"location":"development/testing/#2-descriptive-test-names","title":"2. Descriptive Test Names","text":"<pre><code># \u2705 Good - Clear intent\ndef test_rsi_returns_correct_value_for_uptrend(): ...\ndef test_api_retries_on_timeout(): ...\ndef test_portfolio_optimization_with_zero_variance_asset(): ...\n\n# \u274c Bad - Unclear\ndef test_rsi(): ...\ndef test_api(): ...\ndef test_portfolio(): ...\n</code></pre>"},{"location":"development/testing/#3-test-independence","title":"3. Test Independence","text":"<pre><code># \u2705 Good - Each test is independent\ndef test_screening_returns_results():\n    service = ScreeningService()  # Fresh instance\n    results = service.get_maverick_recommendations()\n    assert len(results) &gt; 0\n\ndef test_screening_limits_results():\n    service = ScreeningService()  # Fresh instance\n    results = service.get_maverick_recommendations(limit=5)\n    assert len(results) == 5\n\n# \u274c Bad - Tests depend on shared state\nservice = ScreeningService()  # Shared instance\n\ndef test_screening_returns_results():\n    results = service.get_maverick_recommendations()\n    assert len(results) &gt; 0\n\ndef test_screening_limits_results():\n    # Depends on previous test state\n    results = service.get_maverick_recommendations(limit=5)\n    assert len(results) == 5\n</code></pre>"},{"location":"development/testing/#4-single-assertion-per-test","title":"4. Single Assertion per Test","text":"<pre><code># \u2705 Good - One concept per test\ndef test_rsi_column_exists():\n    result = calculate_rsi(data)\n    assert \"RSI\" in result.columns\n\ndef test_rsi_range_is_valid():\n    result = calculate_rsi(data)\n    assert result[\"RSI\"].between(0, 100).all()\n\n# \u274c Bad - Multiple unrelated assertions\ndef test_rsi():\n    result = calculate_rsi(data)\n    assert \"RSI\" in result.columns\n    assert result[\"RSI\"].between(0, 100).all()\n    assert len(result) == len(data)\n    assert result[\"RSI\"].dtype == float\n</code></pre>"},{"location":"development/testing/#5-use-parametrized-tests","title":"5. Use Parametrized Tests","text":"<pre><code>import pytest\n\n\n@pytest.mark.parametrize(\"ticker,expected_market\", [\n    (\"AAPL\", \"US\"),\n    (\"RELIANCE.NS\", \"NSE\"),\n    (\"TCS.BO\", \"BSE\"),\n])\ndef test_market_detection(ticker, expected_market):\n    \"\"\"Test market detection for various ticker formats.\"\"\"\n    market = detect_market(ticker)\n    assert market == expected_market\n\n\n@pytest.mark.parametrize(\"period,expected_days\", [\n    (\"1d\", 1),\n    (\"1mo\", 30),\n    (\"1y\", 365),\n])\ndef test_period_parsing(period, expected_days):\n    \"\"\"Test period string parsing.\"\"\"\n    days = parse_period(period)\n    assert days == expected_days\n</code></pre>"},{"location":"development/testing/#troubleshooting-tests","title":"Troubleshooting Tests","text":""},{"location":"development/testing/#common-issues","title":"Common Issues","text":"<p>1. Import errors: <pre><code># Install package in editable mode\nuv pip install -e .\n\n# Or set PYTHONPATH\nexport PYTHONPATH=\"${PYTHONPATH}:$(pwd)\"\n</code></pre></p> <p>2. Database connection errors: <pre><code># Check PostgreSQL is running\npg_isctl status\n\n# Use in-memory SQLite for unit tests\nDATABASE_URL=sqlite:///:memory: pytest\n</code></pre></p> <p>3. Redis connection errors: <pre><code># Check Redis is running\nredis-cli ping\n\n# Skip Redis tests\npytest -m \"not redis\"\n</code></pre></p> <p>4. Async errors: <pre><code># Ensure pytest-asyncio is configured\n# pytest.ini\n[pytest]\nasyncio_mode = auto\n</code></pre></p> <p>5. VCR cassette errors: <pre><code># Delete old cassettes\nrm tests/vcr_cassettes/*.yaml\n\n# Re-record with real API\nTIINGO_API_KEY=real_key pytest\n</code></pre></p>"},{"location":"development/testing/#additional-resources","title":"Additional Resources","text":"<ul> <li>pytest Documentation</li> <li>pytest-asyncio</li> <li>VCR.py Documentation</li> <li>Coverage.py</li> <li>unittest.mock</li> </ul> <p>Next Steps: - Write tests for new features - Improve coverage for critical paths - Add integration tests for workflows - Set up CI/CD testing pipeline</p>"},{"location":"features/backtesting/","title":"Backtesting","text":"<p>VectorBT-powered strategy testing and optimization.</p>"},{"location":"features/backtesting/#features","title":"Features","text":""},{"location":"features/backtesting/#strategy-testing","title":"Strategy Testing","text":"<p>Test trading strategies on historical data: - VectorBT Engine: Vectorized high-performance - 15+ Built-in Strategies: Ready to use - Custom Strategies: Define your own logic - Multi-Timeframe: 1min to monthly data</p>"},{"location":"features/backtesting/#performance-metrics","title":"Performance Metrics","text":"<p>Comprehensive strategy evaluation: - Returns: Total, annualized, CAGR - Risk Metrics: Sharpe, Sortino, Calmar ratios - Drawdowns: Maximum, average, recovery time - Win Rate: % of profitable trades - Profit Factor: Gross profit / gross loss</p>"},{"location":"features/backtesting/#optimization","title":"Optimization","text":"<p>Parameter tuning and walk-forward analysis: - Grid Search: Test parameter combinations - Walk-Forward: Out-of-sample validation - Monte Carlo: Robustness testing - Cross-Validation: Avoid overfitting</p>"},{"location":"features/backtesting/#built-in-strategies","title":"Built-in Strategies","text":""},{"location":"features/backtesting/#momentum-strategies","title":"Momentum Strategies","text":"<ol> <li>RSI Strategy: Buy oversold, sell overbought</li> <li>MACD Strategy: Crossover signals</li> <li>Moving Average: SMA/EMA crossovers</li> <li>Breakout: New highs/lows</li> </ol>"},{"location":"features/backtesting/#mean-reversion","title":"Mean Reversion","text":"<ol> <li>Bollinger Band: Band touch reversions</li> <li>Mean Reversion: Distance from average</li> <li>Pairs Trading: Relative value</li> </ol>"},{"location":"features/backtesting/#ml-powered","title":"ML-Powered","text":"<ol> <li>Adaptive ML: Machine learning signals</li> <li>Ensemble: Multiple model combination</li> <li>Regime-Aware: Market condition adaptation</li> </ol>"},{"location":"features/backtesting/#advanced","title":"Advanced","text":"<ol> <li>Portfolio Rebalancing: Multi-asset</li> <li>Sector Rotation: Momentum sectors</li> <li>Factor Investing: Value, momentum, quality</li> <li>Options Strategies: Covered calls, spreads</li> <li>Risk Parity: Volatility-weighted</li> </ol>"},{"location":"features/backtesting/#usage-examples","title":"Usage Examples","text":""},{"location":"features/backtesting/#basic-backtest","title":"Basic Backtest","text":"<pre><code>Backtest RSI strategy on AAPL from 2023 to 2024\n</code></pre>"},{"location":"features/backtesting/#strategy-comparison","title":"Strategy Comparison","text":"<pre><code>Compare RSI vs MACD strategies on SPY\n</code></pre>"},{"location":"features/backtesting/#parameter-optimization","title":"Parameter Optimization","text":"<pre><code>Optimize RSI period and thresholds for best Sharpe ratio\n</code></pre>"},{"location":"features/backtesting/#multi-asset","title":"Multi-Asset","text":"<pre><code>Backtest momentum strategy on AAPL, MSFT, GOOGL\n</code></pre>"},{"location":"features/backtesting/#backtesting-process","title":"Backtesting Process","text":""},{"location":"features/backtesting/#1-data-preparation","title":"1. Data Preparation","text":"<ul> <li>Fetch historical OHLCV data</li> <li>Handle missing data</li> <li>Adjust for splits and dividends</li> <li>Align timestamps</li> </ul>"},{"location":"features/backtesting/#2-strategy-definition","title":"2. Strategy Definition","text":"<p>Define entry and exit rules: <pre><code># Example RSI Strategy\nEntry: RSI &lt; 30 (oversold)\nExit: RSI &gt; 70 (overbought)\n</code></pre></p>"},{"location":"features/backtesting/#3-execution-simulation","title":"3. Execution Simulation","text":"<ul> <li>Apply strategy to historical data</li> <li>Account for slippage and commissions</li> <li>Track position sizes</li> <li>Calculate P&amp;L</li> </ul>"},{"location":"features/backtesting/#4-performance-analysis","title":"4. Performance Analysis","text":"<ul> <li>Calculate all metrics</li> <li>Generate equity curve</li> <li>Identify drawdown periods</li> <li>Analyze trade distribution</li> </ul>"},{"location":"features/backtesting/#performance-metrics_1","title":"Performance Metrics","text":""},{"location":"features/backtesting/#returns","title":"Returns","text":"<ul> <li>Total Return: Overall profit/loss %</li> <li>Annualized Return: Yearly equivalent</li> <li>CAGR: Compound annual growth rate</li> <li>Monthly/Daily Returns: Distribution</li> </ul>"},{"location":"features/backtesting/#risk-adjusted-returns","title":"Risk-Adjusted Returns","text":"<ul> <li>Sharpe Ratio: Return per unit of volatility</li> <li>Good: &gt; 1.0</li> <li>Excellent: &gt; 2.0</li> <li>Sortino Ratio: Return per unit of downside risk</li> <li>Calmar Ratio: Return / max drawdown</li> </ul>"},{"location":"features/backtesting/#drawdown-analysis","title":"Drawdown Analysis","text":"<ul> <li>Maximum Drawdown: Worst peak-to-trough decline</li> <li>Average Drawdown: Typical decline size</li> <li>Drawdown Duration: Time underwater</li> <li>Recovery Time: Time to new high</li> </ul>"},{"location":"features/backtesting/#trade-statistics","title":"Trade Statistics","text":"<ul> <li>Win Rate: % profitable trades</li> <li>Profit Factor: Gross profit / gross loss</li> <li>Average Win/Loss: Trade sizing</li> <li>Expectancy: Average profit per trade</li> </ul>"},{"location":"features/backtesting/#walk-forward-optimization","title":"Walk-Forward Optimization","text":"<p>Avoid overfitting with out-of-sample testing:</p>"},{"location":"features/backtesting/#process","title":"Process","text":"<ol> <li>Training Window: Optimize on historical data</li> <li>Testing Window: Test on unseen future data</li> <li>Roll Forward: Move windows forward</li> <li>Aggregate Results: Overall performance</li> </ol>"},{"location":"features/backtesting/#benefits","title":"Benefits","text":"<ul> <li>Realistic performance estimates</li> <li>Identify robust parameters</li> <li>Detect overfitting</li> <li>Validate strategy logic</li> </ul>"},{"location":"features/backtesting/#monte-carlo-simulation","title":"Monte Carlo Simulation","text":"<p>Test strategy robustness: - Random Entry: Shuffle entry dates - Random Exits: Shuffle exit dates - Parameter Variation: Test parameter ranges - Confidence Intervals: Expected performance range</p>"},{"location":"features/backtesting/#optimization-techniques","title":"Optimization Techniques","text":""},{"location":"features/backtesting/#grid-search","title":"Grid Search","text":"<p>Test all parameter combinations: <pre><code>Optimize RSI:\n- Period: 10, 12, 14, 16, 18, 20\n- Oversold: 20, 25, 30, 35\n- Overbought: 65, 70, 75, 80\n</code></pre></p>"},{"location":"features/backtesting/#genetic-algorithm","title":"Genetic Algorithm","text":"<p>Evolutionary optimization: - Faster than grid search - Finds local optima - Good for many parameters</p>"},{"location":"features/backtesting/#bayesian-optimization","title":"Bayesian Optimization","text":"<p>Smart parameter selection: - Learn from previous tests - Focus on promising areas - Fewer iterations needed</p>"},{"location":"features/backtesting/#reporting","title":"Reporting","text":""},{"location":"features/backtesting/#html-reports","title":"HTML Reports","text":"<p>Interactive visualizations: - Equity curve - Drawdown chart - Monthly returns heatmap - Trade analysis - Performance metrics table</p>"},{"location":"features/backtesting/#export-options","title":"Export Options","text":"<ul> <li>CSV: Trade log</li> <li>JSON: All metrics</li> <li>PDF: Summary report</li> <li>Excel: Detailed analysis</li> </ul>"},{"location":"features/backtesting/#api-reference","title":"API Reference","text":"<p>See Backtesting Tools for complete API documentation.</p>"},{"location":"features/backtesting/#best-practices","title":"Best Practices","text":""},{"location":"features/backtesting/#data-quality","title":"Data Quality","text":"<ul> <li>Use adjusted prices</li> <li>Check for data gaps</li> <li>Validate against known events</li> <li>Handle corporate actions</li> </ul>"},{"location":"features/backtesting/#realistic-assumptions","title":"Realistic Assumptions","text":"<ul> <li>Include commissions (e.g., $0.005/share)</li> <li>Add slippage (e.g., 0.05%)</li> <li>Account for market impact</li> <li>Consider liquidity</li> </ul>"},{"location":"features/backtesting/#avoid-overfitting","title":"Avoid Overfitting","text":"<ul> <li>Use walk-forward analysis</li> <li>Test on multiple assets</li> <li>Validate on different time periods</li> <li>Keep strategies simple</li> </ul>"},{"location":"features/backtesting/#risk-management","title":"Risk Management","text":"<ul> <li>Test position sizing</li> <li>Set stop losses</li> <li>Limit max drawdown</li> <li>Diversify across strategies</li> </ul>"},{"location":"features/conference-call-analysis/","title":"Conference Call Analysis","text":"<p>AI-powered earnings call transcript analysis.</p> <p>See Conference Call System for complete documentation.</p>"},{"location":"features/conference-call-analysis/#quick-overview","title":"Quick Overview","text":""},{"location":"features/conference-call-analysis/#transcript-fetching","title":"Transcript Fetching","text":"<p>Automatic retrieval from multiple sources: - Company IR websites - NSE exchange filings (Indian stocks) - Screener.in (coming soon)</p>"},{"location":"features/conference-call-analysis/#ai-summarization","title":"AI Summarization","text":"<p>Structured summaries with: - Executive summary - Key financial metrics - Revenue and earnings analysis - Management guidance - Risk factors and concerns - Growth drivers</p>"},{"location":"features/conference-call-analysis/#sentiment-analysis","title":"Sentiment Analysis","text":"<p>Multi-dimensional sentiment scoring: - Overall sentiment (1-5 scale) - Management tone (confident/cautious/defensive) - Forward outlook sentiment - Risk sentiment - Confidence scoring</p>"},{"location":"features/conference-call-analysis/#rag-qa","title":"RAG Q&amp;A","text":"<p>Ask questions about transcripts: - Vector search for relevant sections - LLM-powered answers - Source citations - Follow-up questions supported</p>"},{"location":"features/conference-call-analysis/#comparative-analysis","title":"Comparative Analysis","text":"<p>Compare across quarters: - Sentiment trends - Metric changes - Guidance evolution - Concern tracking</p>"},{"location":"features/conference-call-analysis/#supported-companies","title":"Supported Companies","text":""},{"location":"features/conference-call-analysis/#us-stocks","title":"US Stocks","text":"<p>Most major US companies with: - Public IR websites - Regular earnings calls - Transcript availability</p>"},{"location":"features/conference-call-analysis/#indian-stocks","title":"Indian Stocks","text":"<p>Major NSE/BSE listed companies: - Nifty 50 constituents - Large-cap companies - Midcap-150 stocks</p> <p>See full list in Supported Companies.</p>"},{"location":"features/conference-call-analysis/#usage-examples","title":"Usage Examples","text":""},{"location":"features/conference-call-analysis/#fetch-transcript","title":"Fetch Transcript","text":"<pre><code>Fetch RELIANCE.NS Q1 2025 earnings call transcript\n</code></pre>"},{"location":"features/conference-call-analysis/#summarize","title":"Summarize","text":"<pre><code>Summarize AAPL Q4 2024 earnings call in detail\n</code></pre>"},{"location":"features/conference-call-analysis/#analyze-sentiment","title":"Analyze Sentiment","text":"<pre><code>Analyze sentiment for TCS.NS Q2 2025 call\n</code></pre>"},{"location":"features/conference-call-analysis/#ask-questions","title":"Ask Questions","text":"<pre><code>What did INFY management say about AI initiatives in Q1 2025?\n</code></pre>"},{"location":"features/conference-call-analysis/#compare-quarters","title":"Compare Quarters","text":"<pre><code>Compare RELIANCE sentiment across Q4 2024, Q1 2025, Q2 2025\n</code></pre>"},{"location":"features/conference-call-analysis/#features","title":"Features","text":""},{"location":"features/conference-call-analysis/#multi-source-fetching","title":"Multi-Source Fetching","text":"<p>Cascading fallback system: 1. Company IR website (primary) 2. NSE exchange filings (fallback) 3. Alternative sources (future)</p>"},{"location":"features/conference-call-analysis/#ai-models","title":"AI Models","text":"<ul> <li>OpenRouter for summarization</li> <li>Multiple model support</li> <li>Cost-optimized selection</li> <li>Quality-first approach</li> </ul>"},{"location":"features/conference-call-analysis/#caching","title":"Caching","text":"<p>Three-tier caching: - L1: Redis/Memory (milliseconds) - L2: Database (seconds) - L3: AI generation (minutes)</p> <p>Benefits: - Instant retrieval for cached analyses - Significant cost savings - No redundant AI calls</p>"},{"location":"features/conference-call-analysis/#detail-levels","title":"Detail Levels","text":""},{"location":"features/conference-call-analysis/#concise","title":"Concise","text":"<p>Quick overview (2-3 paragraphs): - Key highlights only - Major metrics - Overall sentiment - 30 seconds to read</p>"},{"location":"features/conference-call-analysis/#standard-default","title":"Standard (Default)","text":"<p>Balanced analysis (1-2 pages): - Executive summary - Financial performance - Key initiatives - Risks and concerns - 2-3 minutes to read</p>"},{"location":"features/conference-call-analysis/#detailed","title":"Detailed","text":"<p>Comprehensive analysis (3-5 pages): - Full transcript synthesis - Detailed metrics - Segment-by-segment analysis - Management quotes - 5-10 minutes to read</p>"},{"location":"features/conference-call-analysis/#cost-performance","title":"Cost &amp; Performance","text":""},{"location":"features/conference-call-analysis/#api-costs","title":"API Costs","text":"<ul> <li>Summarization: $0.01-0.05 per transcript</li> <li>Sentiment: $0.005-0.01 per transcript</li> <li>RAG embeddings: $0.0001 per transcript</li> <li>RAG queries: $0.001-0.01 per query</li> </ul>"},{"location":"features/conference-call-analysis/#performance","title":"Performance","text":"<ul> <li>Transcript fetch: 2-10 seconds</li> <li>Summarization: 30-60 seconds</li> <li>Sentiment analysis: 10-20 seconds</li> <li>RAG setup: 20-40 seconds (one-time)</li> <li>RAG queries: 3-5 seconds</li> </ul>"},{"location":"features/conference-call-analysis/#caching-benefits","title":"Caching Benefits","text":"<ul> <li>Cached retrieval: &lt; 100ms</li> <li>Cost savings: 90%+ on repeat access</li> <li>No quality degradation</li> </ul>"},{"location":"features/conference-call-analysis/#api-reference","title":"API Reference","text":"<p>See Conference Call MCP Tools for complete API documentation.</p>"},{"location":"features/conference-call-analysis/#configuration","title":"Configuration","text":"<p>Required: <pre><code># For AI features\nOPENROUTER_API_KEY=your-key-here\n\n# For RAG Q&amp;A only\nOPENAI_API_KEY=your-key-here\n</code></pre></p> <p>Optional: <pre><code># For caching\nREDIS_HOST=localhost\nREDIS_PORT=6379\n</code></pre></p>"},{"location":"features/conference-call-analysis/#learn-more","title":"Learn More","text":"<ul> <li>Complete Guide</li> <li>MCP Tools Reference</li> <li>Supported Companies</li> <li>Architecture</li> </ul>"},{"location":"features/overview/","title":"Features Overview","text":"<p>Maverick MCP provides comprehensive stock analysis and conference call analysis tools designed for use with Claude Desktop and other MCP-compatible clients.</p>"},{"location":"features/overview/#core-capabilities","title":"Core Capabilities","text":""},{"location":"features/overview/#stock-analysis","title":"\ud83d\udcca Stock Analysis","text":"<ul> <li>Multi-Market Support: US (NASDAQ/NYSE), Indian NSE, Indian BSE</li> <li>Real-time &amp; Historical Data: Price quotes, volume, fundamentals</li> <li>Technical Indicators: 15+ indicators including RSI, MACD, Bollinger Bands</li> <li>Pre-seeded Database: 520+ S&amp;P 500 stocks ready to analyze</li> </ul>"},{"location":"features/overview/#conference-call-analysis","title":"\ud83d\udcde Conference Call Analysis","text":"<ul> <li>Transcript Fetching: Automatic retrieval from IR websites and NSE</li> <li>AI Summarization: Structured summaries with key metrics and insights</li> <li>Sentiment Analysis: Multi-dimensional sentiment scoring</li> <li>RAG Q&amp;A: Ask questions over transcripts with source citations</li> <li>Trend Analysis: Compare sentiment across quarters</li> </ul>"},{"location":"features/overview/#stock-screening","title":"\ud83d\udd0d Stock Screening","text":"<ul> <li>Maverick Strategies: Bullish/Bearish momentum patterns</li> <li>Breakout Detection: Supply/demand breakout candidates</li> <li>Indian Market Screening: 7 specialized strategies for NSE/BSE</li> <li>Pre-calculated Results: Instant screening from database</li> </ul>"},{"location":"features/overview/#portfolio-analysis","title":"\ud83d\udcc8 Portfolio Analysis","text":"<ul> <li>Modern Portfolio Theory: Optimization and efficient frontier</li> <li>Risk Metrics: Sharpe ratio, volatility, correlation matrices</li> <li>Performance Tracking: Returns, drawdowns, alpha/beta</li> </ul>"},{"location":"features/overview/#backtesting","title":"\ud83e\uddea Backtesting","text":"<ul> <li>VectorBT Engine: High-performance vectorized backtesting</li> <li>15+ Strategies: Including ML-powered adaptive algorithms</li> <li>Walk-Forward Optimization: Out-of-sample testing</li> <li>Monte Carlo Simulation: Robustness testing</li> </ul>"},{"location":"features/overview/#research-tools","title":"\ud83d\udd2c Research Tools","text":"<ul> <li>AI-Powered Research: Multi-agent parallel research (7-256x faster)</li> <li>Market Sentiment: Multi-source sentiment analysis</li> <li>Company Research: Deep fundamental and competitive analysis</li> <li>Smart Model Selection: 400+ AI models via OpenRouter</li> </ul>"},{"location":"features/overview/#key-features","title":"Key Features","text":""},{"location":"features/overview/#multi-market-support","title":"Multi-Market Support","text":"<p>Analyze stocks from: - US Markets: NASDAQ, NYSE - Indian NSE: <code>.NS</code> suffix (e.g., RELIANCE.NS) - Indian BSE: <code>.BO</code> suffix (e.g., TCS.BO)</p> <p>Market-specific features: - Trading calendars (NYSE, NSE) - Currency handling (USD, INR) - Circuit breakers (7% US, 10% India) - Settlement cycles (T+2 US, T+1 India)</p>"},{"location":"features/overview/#production-grade-caching","title":"Production-Grade Caching","text":"<p>Multi-tier caching for optimal performance: - L1 Cache: Redis/In-memory (1-5ms) - L2 Cache: Database (10-50ms) - L3 Source: External APIs (seconds to minutes)</p> <p>Benefits: - 100-1000x speedup for cached data - Significant cost savings on AI operations - Automatic TTL management</p>"},{"location":"features/overview/#ai-integration","title":"AI Integration","text":"<p>Intelligent AI model selection: - OpenRouter: Access to 400+ models - Cost Optimization: 40-60% cost reduction - Task-Specific Models: Automatic selection based on complexity - Fallback Support: Graceful degradation</p>"},{"location":"features/overview/#data-sources","title":"Data Sources","text":"<ul> <li>Tiingo API: Stock market data (500 requests/day free)</li> <li>OpenRouter: AI analysis and summarization</li> <li>OpenAI: Embeddings for RAG Q&amp;A</li> <li>FRED: Economic indicators (optional)</li> <li>Exa: Web search for research (optional)</li> </ul>"},{"location":"features/overview/#architecture","title":"Architecture","text":""},{"location":"features/overview/#design-principles","title":"Design Principles","text":"<ul> <li>SOLID Principles: Single Responsibility, Open/Closed, etc.</li> <li>Modular Design: Easy to extract components</li> <li>Provider Pattern: Swappable data providers</li> <li>Cache-First: Minimize API calls and costs</li> <li>Error Resilient: Graceful fallback and recovery</li> </ul>"},{"location":"features/overview/#database","title":"Database","text":"<ul> <li>Default: SQLite (zero setup required)</li> <li>Optional: PostgreSQL for better performance</li> <li>Pre-seeded: S&amp;P 500 stocks and screening data</li> <li>Migrations: Alembic-based schema management</li> </ul>"},{"location":"features/overview/#performance","title":"Performance","text":"<ul> <li>Connection Pooling: Efficient database connections</li> <li>Parallel Processing: Multi-threaded operations</li> <li>Vector Search: Fast similarity search for RAG</li> <li>Batch Operations: Bulk data processing</li> </ul>"},{"location":"features/overview/#use-cases","title":"Use Cases","text":""},{"location":"features/overview/#for-individual-investors","title":"For Individual Investors","text":"<ul> <li>Screen stocks based on technical patterns</li> <li>Analyze earnings call transcripts</li> <li>Compare sentiment across quarters</li> <li>Build and optimize portfolios</li> <li>Backtest trading strategies</li> </ul>"},{"location":"features/overview/#for-traders","title":"For Traders","text":"<ul> <li>Real-time technical analysis</li> <li>Breakout candidate detection</li> <li>Multi-timeframe analysis</li> <li>Risk management tools</li> <li>Performance tracking</li> </ul>"},{"location":"features/overview/#for-researchers","title":"For Researchers","text":"<ul> <li>Historical data analysis</li> <li>Strategy development and testing</li> <li>Sentiment analysis at scale</li> <li>Market trend identification</li> <li>Comparative analysis</li> </ul>"},{"location":"features/overview/#for-developers","title":"For Developers","text":"<ul> <li>MCP server reference implementation</li> <li>SOLID architecture patterns</li> <li>Multi-market data handling</li> <li>AI integration best practices</li> <li>Production-grade caching</li> </ul>"},{"location":"features/overview/#getting-started","title":"Getting Started","text":"<ol> <li>Installation: Installation Guide</li> <li>Configuration: API Keys Setup</li> <li>Quick Start: Quick Start Guide</li> <li>Claude Desktop: Integration Guide</li> </ol>"},{"location":"features/overview/#feature-pages","title":"Feature Pages","text":"<p>Explore detailed documentation for each feature:</p> <ul> <li>Stock Analysis - Real-time quotes and historical data</li> <li>Technical Analysis - Indicators and charting</li> <li>Stock Screening - Pattern-based screening</li> <li>Portfolio Analysis - MPT and optimization</li> <li>Conference Call Analysis - Transcript analysis</li> <li>Research Tools - AI-powered research</li> <li>Backtesting - Strategy testing and optimization</li> </ul>"},{"location":"features/portfolio-analysis/","title":"Portfolio Analysis","text":"<p>Modern Portfolio Theory (MPT) and optimization tools.</p>"},{"location":"features/portfolio-analysis/#features","title":"Features","text":""},{"location":"features/portfolio-analysis/#portfolio-optimization","title":"Portfolio Optimization","text":"<p>Build efficient portfolios using MPT: - Efficient Frontier: Risk-return tradeoff curve - Optimal Weights: Asset allocation percentages - Sharpe Ratio Maximization: Best risk-adjusted return - Minimum Variance: Lowest risk portfolio</p>"},{"location":"features/portfolio-analysis/#risk-analysis","title":"Risk Analysis","text":"<p>Comprehensive risk metrics: - Volatility: Standard deviation of returns - Value at Risk (VaR): Potential loss estimates - Conditional VaR: Expected loss beyond VaR - Maximum Drawdown: Peak-to-trough decline - Beta: Market sensitivity - Alpha: Excess returns</p>"},{"location":"features/portfolio-analysis/#correlation-analysis","title":"Correlation Analysis","text":"<p>Understand portfolio relationships: - Correlation Matrix: Pairwise correlations - Diversification Score: How well-diversified - Sector Exposure: Concentration risk - Factor Analysis: Common risk factors</p>"},{"location":"features/portfolio-analysis/#usage-examples","title":"Usage Examples","text":""},{"location":"features/portfolio-analysis/#build-portfolio","title":"Build Portfolio","text":"<pre><code>Create a portfolio with AAPL 10 shares at $150, MSFT 5 shares at $380\n</code></pre>"},{"location":"features/portfolio-analysis/#optimize-portfolio","title":"Optimize Portfolio","text":"<pre><code>Optimize portfolio weights for maximum Sharpe ratio: AAPL, MSFT, GOOGL\n</code></pre>"},{"location":"features/portfolio-analysis/#risk-analysis_1","title":"Risk Analysis","text":"<pre><code>Calculate portfolio risk metrics and correlation matrix\n</code></pre>"},{"location":"features/portfolio-analysis/#performance-tracking","title":"Performance Tracking","text":"<pre><code>Show portfolio performance over last 6 months\n</code></pre>"},{"location":"features/portfolio-analysis/#portfolio-optimization_1","title":"Portfolio Optimization","text":""},{"location":"features/portfolio-analysis/#efficient-frontier","title":"Efficient Frontier","text":"<p>Find optimal risk-return combinations:</p> <p>Inputs: - List of stocks/assets - Historical returns (1-5 years) - Target return or risk tolerance</p> <p>Outputs: - Optimal weight allocation - Expected return - Expected volatility - Sharpe ratio - Efficient frontier curve</p> <p>Example: <pre><code>Optimize portfolio: AAPL, MSFT, GOOGL, AMZN\nTarget return: 15% annually\n</code></pre></p>"},{"location":"features/portfolio-analysis/#constraints","title":"Constraints","text":"<p>Support for realistic constraints: - Minimum/maximum position sizes - Sector limits - Long-only vs long-short - Transaction costs - Rebalancing frequency</p>"},{"location":"features/portfolio-analysis/#risk-metrics","title":"Risk Metrics","text":""},{"location":"features/portfolio-analysis/#sharpe-ratio","title":"Sharpe Ratio","text":"<p>Formula: (Portfolio Return - Risk-Free Rate) / Portfolio Volatility - Interpretation: Return per unit of risk - Good: &gt; 1.0 - Excellent: &gt; 2.0</p>"},{"location":"features/portfolio-analysis/#sortino-ratio","title":"Sortino Ratio","text":"<p>Formula: (Portfolio Return - Target) / Downside Deviation - Focus: Only penalizes downside volatility - Better Than Sharpe: For asymmetric returns</p>"},{"location":"features/portfolio-analysis/#maximum-drawdown","title":"Maximum Drawdown","text":"<p>Definition: Largest peak-to-trough decline - Risk Measure: Worst-case historical loss - Recovery Time: How long to recover</p>"},{"location":"features/portfolio-analysis/#beta","title":"Beta","text":"<p>Definition: Sensitivity to market movements - Beta = 1: Moves with market - Beta &gt; 1: More volatile than market - Beta &lt; 1: Less volatile than market</p>"},{"location":"features/portfolio-analysis/#correlation-analysis_1","title":"Correlation Analysis","text":""},{"location":"features/portfolio-analysis/#benefits-of-diversification","title":"Benefits of Diversification","text":"<p>Low correlation assets reduce portfolio risk: - Correlation = 1: No diversification benefit - Correlation = 0: Partial diversification - Correlation = -1: Maximum diversification</p>"},{"location":"features/portfolio-analysis/#correlation-matrix","title":"Correlation Matrix","text":"<p>See relationships between all assets: <pre><code>Calculate correlation matrix for AAPL, MSFT, GOOGL, GLD, TLT\n</code></pre></p> <p>Helps identify: - Similar-moving assets - Diversification opportunities - Hedging candidates - Sector concentration</p>"},{"location":"features/portfolio-analysis/#backtesting-integration","title":"Backtesting Integration","text":"<p>Test portfolio strategies historically: <pre><code>Backtest 60/40 stock/bond portfolio over 10 years\n</code></pre></p> <p>Compare strategies: - Buy and hold vs rebalancing - Equal weight vs optimized - Sector rotation vs static - Different rebalancing frequencies</p>"},{"location":"features/portfolio-analysis/#performance-attribution","title":"Performance Attribution","text":"<p>Understand where returns come from: - Asset Selection: Stock-picking skill - Sector Allocation: Sector timing - Market Timing: Entry/exit timing - Diversification: Risk reduction benefit</p>"},{"location":"features/portfolio-analysis/#rebalancing","title":"Rebalancing","text":"<p>Automatic rebalancing recommendations: - Threshold-Based: Rebalance when drift &gt; X% - Calendar-Based: Monthly, quarterly, annually - Optimization-Based: When Sharpe ratio declines</p>"},{"location":"features/portfolio-analysis/#api-reference","title":"API Reference","text":"<p>See Portfolio Tools for complete API documentation.</p>"},{"location":"features/portfolio-analysis/#example-portfolios","title":"Example Portfolios","text":""},{"location":"features/portfolio-analysis/#conservative","title":"Conservative","text":"<ul> <li>60% bonds</li> <li>30% large-cap stocks</li> <li>10% cash/gold</li> </ul>"},{"location":"features/portfolio-analysis/#balanced","title":"Balanced","text":"<ul> <li>40% US stocks</li> <li>20% International stocks</li> <li>30% bonds</li> <li>10% alternatives</li> </ul>"},{"location":"features/portfolio-analysis/#aggressive","title":"Aggressive","text":"<ul> <li>80% stocks (mix of cap sizes)</li> <li>15% alternatives</li> <li>5% cash</li> </ul>"},{"location":"features/portfolio-analysis/#indian-market","title":"Indian Market","text":"<ul> <li>50% Nifty 50 stocks</li> <li>30% Mid-cap stocks</li> <li>20% bonds/gold</li> </ul>"},{"location":"features/research-tools/","title":"Research Tools","text":"<p>AI-powered research with multi-agent parallel execution.</p>"},{"location":"features/research-tools/#features","title":"Features","text":""},{"location":"features/research-tools/#comprehensive-research","title":"Comprehensive Research","text":"<p>Multi-agent parallel research system: - 7-256x Speedup: Parallel agent execution - 400+ AI Models: Smart model selection via OpenRouter - Cost Optimization: 40-60% cost reduction - Early Termination: Confidence-based stopping</p>"},{"location":"features/research-tools/#company-research","title":"Company Research","text":"<p>Deep fundamental and competitive analysis: - Financial performance analysis - Competitive positioning - Industry trends - Management quality assessment - Growth catalysts and risks</p>"},{"location":"features/research-tools/#market-sentiment","title":"Market Sentiment","text":"<p>Multi-source sentiment analysis: - News aggregation from multiple sources - Social media sentiment - Analyst recommendations - Insider trading activity - Confidence scoring</p>"},{"location":"features/research-tools/#usage-examples","title":"Usage Examples","text":""},{"location":"features/research-tools/#comprehensive-research_1","title":"Comprehensive Research","text":"<pre><code>Research AAPL comprehensively with financial analysis\n</code></pre> <p>Returns: - Company overview and business model - Financial health and metrics - Competitive analysis - Industry positioning - Investment thesis - Risk factors - Analyst consensus</p>"},{"location":"features/research-tools/#company-specific-research","title":"Company-Specific Research","text":"<pre><code>Research TCS.NS focusing on IT services sector\n</code></pre> <p>Focused analysis: - Sector-specific metrics - Competitor comparison - Market share analysis - Technology capabilities</p>"},{"location":"features/research-tools/#sentiment-analysis","title":"Sentiment Analysis","text":"<pre><code>Analyze market sentiment for RELIANCE.NS\n</code></pre> <p>Multi-source sentiment: - News sentiment (positive/negative/neutral) - Volume of mentions - Sentiment trend over time - Key topics and themes - Confidence score</p>"},{"location":"features/research-tools/#multi-agent-architecture","title":"Multi-Agent Architecture","text":""},{"location":"features/research-tools/#agent-types","title":"Agent Types","text":"<ul> <li>Financial Analyst: Numbers and metrics</li> <li>Industry Expert: Sector knowledge</li> <li>Technical Analyst: Charts and patterns</li> <li>News Aggregator: Current events</li> <li>Sentiment Analyzer: Market mood</li> </ul>"},{"location":"features/research-tools/#parallel-execution","title":"Parallel Execution","text":"<p>Agents work simultaneously: 1. Task distributed to all agents 2. Each agent researches in parallel 3. Results aggregated and synthesized 4. Consensus built from multiple viewpoints</p>"},{"location":"features/research-tools/#performance","title":"Performance","text":"<ul> <li>Sequential: 5-10 minutes per company</li> <li>Parallel: 30-60 seconds per company</li> <li>Speedup: 7-256x depending on task</li> <li>Quality: Equal or better than sequential</li> </ul>"},{"location":"features/research-tools/#model-selection","title":"Model Selection","text":""},{"location":"features/research-tools/#task-based-selection","title":"Task-Based Selection","text":"<p>OpenRouter automatically selects optimal model: - Simple Tasks: Fast, cheap models (Haiku, GPT-4o-mini) - Complex Analysis: Powerful models (Opus, GPT-4) - Cost-Sensitive: Balance quality and cost - Fallback: Graceful degradation on errors</p>"},{"location":"features/research-tools/#cost-optimization","title":"Cost Optimization","text":"<ul> <li>Cheap models for data gathering</li> <li>Expensive models only for synthesis</li> <li>Caching to avoid duplicate calls</li> <li>Early termination when confident</li> </ul>"},{"location":"features/research-tools/#available-models","title":"Available Models","text":"<p>Access to 400+ models including: - Claude (Opus, Sonnet, Haiku) - GPT-4, GPT-4 Turbo, GPT-4o - Gemini 2.0, 2.5 Pro - DeepSeek R1 - Llama, Mixtral, and more</p>"},{"location":"features/research-tools/#research-depth","title":"Research Depth","text":""},{"location":"features/research-tools/#quick-research-30-60-seconds","title":"Quick Research (30-60 seconds)","text":"<ul> <li>Basic company overview</li> <li>Current price and fundamentals</li> <li>Recent news headlines</li> <li>Quick sentiment check</li> </ul>"},{"location":"features/research-tools/#standard-research-1-2-minutes","title":"Standard Research (1-2 minutes)","text":"<ul> <li>Comprehensive company analysis</li> <li>Financial metrics deep-dive</li> <li>Competitive positioning</li> <li>Industry trends</li> <li>Risk assessment</li> </ul>"},{"location":"features/research-tools/#deep-research-2-5-minutes","title":"Deep Research (2-5 minutes)","text":"<ul> <li>All of standard research</li> <li>Historical performance analysis</li> <li>Management analysis</li> <li>Supply chain examination</li> <li>Regulatory landscape</li> <li>Long-term projections</li> </ul>"},{"location":"features/research-tools/#confidence-scoring","title":"Confidence Scoring","text":"<p>All research includes confidence metrics: - Data Quality: How reliable are sources - Consensus Level: Agreement between agents - Recency: How current is the information - Coverage: Completeness of analysis</p> <p>Example output: <pre><code>{\n  \"confidence\": 0.85,\n  \"data_quality\": \"high\",\n  \"consensus\": \"strong\",\n  \"last_updated\": \"2025-01-10\"\n}\n</code></pre></p>"},{"location":"features/research-tools/#caching","title":"Caching","text":"<p>Research results are cached: - Duration: 24 hours for general research - Duration: 1 hour for sentiment analysis - Invalidation: Manual refresh available - Cost Savings: Avoid duplicate AI calls</p>"},{"location":"features/research-tools/#api-reference","title":"API Reference","text":"<p>See Research Tools for complete API documentation.</p>"},{"location":"features/research-tools/#use-cases","title":"Use Cases","text":""},{"location":"features/research-tools/#investment-research","title":"Investment Research","text":"<pre><code>Research AAPL for long-term investment\n</code></pre>"},{"location":"features/research-tools/#sector-analysis","title":"Sector Analysis","text":"<pre><code>Compare research for AAPL, MSFT, GOOGL in tech sector\n</code></pre>"},{"location":"features/research-tools/#event-driven","title":"Event-Driven","text":"<pre><code>Research impact of earnings report on RELIANCE.NS\n</code></pre>"},{"location":"features/research-tools/#competitive-analysis","title":"Competitive Analysis","text":"<pre><code>Compare INFY.NS vs TCS.NS vs WIPRO.NS\n</code></pre>"},{"location":"features/research-tools/#data-sources","title":"Data Sources","text":""},{"location":"features/research-tools/#financial-data","title":"Financial Data","text":"<ul> <li>Tiingo API (price, fundamentals)</li> <li>Company filings (10-K, 10-Q)</li> <li>Earnings transcripts</li> <li>Financial statements</li> </ul>"},{"location":"features/research-tools/#news-sentiment","title":"News &amp; Sentiment","text":"<ul> <li>Exa web search (optional)</li> <li>Major financial news outlets</li> <li>Company press releases</li> <li>Social media aggregation</li> </ul>"},{"location":"features/research-tools/#analysis","title":"Analysis","text":"<ul> <li>OpenRouter (AI synthesis)</li> <li>Multiple AI models</li> <li>Consensus building</li> <li>Fact verification</li> </ul>"},{"location":"features/stock-analysis/","title":"Stock Analysis","text":"<p>Comprehensive stock data and analysis for US and Indian markets.</p>"},{"location":"features/stock-analysis/#supported-markets","title":"Supported Markets","text":""},{"location":"features/stock-analysis/#us-markets","title":"US Markets","text":"<ul> <li>NASDAQ: Technology and growth stocks</li> <li>NYSE: Traditional blue-chip companies</li> <li>Symbol Format: Simple ticker (e.g., <code>AAPL</code>, <code>MSFT</code>)</li> </ul>"},{"location":"features/stock-analysis/#indian-markets","title":"Indian Markets","text":"<ul> <li>NSE (National Stock Exchange): <code>.NS</code> suffix (e.g., <code>RELIANCE.NS</code>)</li> <li>BSE (Bombay Stock Exchange): <code>.BO</code> suffix (e.g., <code>TCS.BO</code>)</li> </ul>"},{"location":"features/stock-analysis/#features","title":"Features","text":""},{"location":"features/stock-analysis/#real-time-data","title":"Real-Time Data","text":"<pre><code>Get current price for AAPL\n</code></pre> <p>Returns: - Current price - Day's high/low - Volume - Previous close - Change and % change - Market cap - P/E ratio</p>"},{"location":"features/stock-analysis/#historical-data","title":"Historical Data","text":"<pre><code>Get AAPL historical prices from Jan 2024 to Dec 2024\n</code></pre> <p>Returns: - OHLCV data (Open, High, Low, Close, Volume) - Adjusted close prices - Date range filtering - Automatic timezone handling</p>"},{"location":"features/stock-analysis/#company-information","title":"Company Information","text":"<pre><code>Get company info for RELIANCE.NS\n</code></pre> <p>Returns: - Company name and description - Sector and industry - Market cap - Key executives - Exchange and currency - Fundamental metrics</p>"},{"location":"features/stock-analysis/#batch-operations","title":"Batch Operations","text":"<pre><code>Compare prices for AAPL, MSFT, and GOOGL\n</code></pre> <ul> <li>Fetch multiple stocks in one request</li> <li>Efficient parallel processing</li> <li>Automatic rate limiting</li> </ul>"},{"location":"features/stock-analysis/#data-quality","title":"Data Quality","text":""},{"location":"features/stock-analysis/#accuracy","title":"Accuracy","text":"<ul> <li>Real-time quotes (15-min delay for free tier)</li> <li>Daily updates for historical data</li> <li>Validated against exchange data</li> <li>Automatic data cleaning</li> </ul>"},{"location":"features/stock-analysis/#coverage","title":"Coverage","text":"<ul> <li>520+ S&amp;P 500 stocks pre-seeded</li> <li>All US-listed stocks available</li> <li>Major Indian NSE/BSE stocks</li> <li>International ADRs</li> </ul>"},{"location":"features/stock-analysis/#freshness","title":"Freshness","text":"<ul> <li>Intraday updates every 15 minutes</li> <li>EOD updates within 30 minutes</li> <li>Historical data back to IPO date</li> <li>Corporate actions adjusted</li> </ul>"},{"location":"features/stock-analysis/#caching","title":"Caching","text":"<p>Multi-tier caching for optimal performance:</p>"},{"location":"features/stock-analysis/#l1-cache-redismemory","title":"L1 Cache (Redis/Memory)","text":"<ul> <li>Duration: 5 minutes for real-time</li> <li>Duration: 24 hours for historical</li> <li>Speed: 1-5ms response time</li> </ul>"},{"location":"features/stock-analysis/#l2-cache-database","title":"L2 Cache (Database)","text":"<ul> <li>Duration: 1 hour for real-time</li> <li>Duration: 7 days for historical  </li> <li>Speed: 10-50ms response time</li> </ul>"},{"location":"features/stock-analysis/#l3-source-tiingo-api","title":"L3 Source (Tiingo API)","text":"<ul> <li>Rate limit: 500 requests/day (free tier)</li> <li>Speed: 500-2000ms response time</li> <li>Automatic retry on failure</li> </ul>"},{"location":"features/stock-analysis/#usage-examples","title":"Usage Examples","text":""},{"location":"features/stock-analysis/#basic-quote","title":"Basic Quote","text":"<pre><code>What is the current price of AAPL?\n</code></pre>"},{"location":"features/stock-analysis/#historical-analysis","title":"Historical Analysis","text":"<pre><code>Show me RELIANCE.NS price history for Q1 2025\n</code></pre>"},{"location":"features/stock-analysis/#multi-stock-comparison","title":"Multi-Stock Comparison","text":"<pre><code>Compare year-to-date performance of AAPL, MSFT, GOOGL\n</code></pre>"},{"location":"features/stock-analysis/#fundamental-data","title":"Fundamental Data","text":"<pre><code>Get fundamentals for TCS.NS including P/E ratio and market cap\n</code></pre>"},{"location":"features/stock-analysis/#market-specific-features","title":"Market-Specific Features","text":""},{"location":"features/stock-analysis/#us-markets_1","title":"US Markets","text":"<ul> <li>Extended hours trading data</li> <li>Options data (coming soon)</li> <li>Earnings dates</li> <li>Dividend history</li> </ul>"},{"location":"features/stock-analysis/#indian-markets_1","title":"Indian Markets","text":"<ul> <li>NSE circuit breaker tracking (10%)</li> <li>Corporate actions (splits, bonuses)</li> <li>Delivery percentage</li> <li>FII/DII activity</li> </ul>"},{"location":"features/stock-analysis/#api-reference","title":"API Reference","text":"<p>See Stock Data Tools for complete API reference.</p>"},{"location":"features/stock-analysis/#configuration","title":"Configuration","text":"<p>Required: <pre><code>TIINGO_API_KEY=your-key-here\n</code></pre></p> <p>Optional: <pre><code># Redis caching (recommended)\nREDIS_HOST=localhost\nREDIS_PORT=6379\n</code></pre></p>"},{"location":"features/stock-analysis/#limitations","title":"Limitations","text":""},{"location":"features/stock-analysis/#free-tier","title":"Free Tier","text":"<ul> <li>500 API requests per day</li> <li>15-minute delayed quotes</li> <li>Limited to EOD data</li> <li>No Level 2 data</li> </ul>"},{"location":"features/stock-analysis/#upgrade-options","title":"Upgrade Options","text":"<p>See Tiingo Pricing for: - Real-time data - Unlimited requests - Options &amp; futures - Institutional features</p>"},{"location":"features/stock-screening/","title":"Stock Screening","text":"<p>Pre-calculated screening strategies for finding trading opportunities.</p>"},{"location":"features/stock-screening/#pre-seeded-database","title":"Pre-Seeded Database","text":"<p>520+ S&amp;P 500 stocks with pre-calculated screening data: - Instant results (no API calls needed) - Daily updated screening scores - Multiple strategy support - Cached in database</p>"},{"location":"features/stock-screening/#screening-strategies","title":"Screening Strategies","text":""},{"location":"features/stock-screening/#maverick-bullish","title":"Maverick Bullish","text":"<p>High momentum stocks with strong technical setup.</p> <p>Criteria: - RSI between 50-70 (strong but not overbought) - MACD above signal line (bullish momentum) - Price above 20-day SMA (uptrend) - Volume above average (confirmation) - Positive price momentum (rising)</p> <p>Use Case: Finding strong trending stocks for swing trading</p> <pre><code>Show me top 10 Maverick bullish stocks\n</code></pre>"},{"location":"features/stock-screening/#maverick-bearish","title":"Maverick Bearish","text":"<p>Weak stocks with potential for shorting or avoiding.</p> <p>Criteria: - RSI between 30-50 (weak but not oversold) - MACD below signal line (bearish momentum) - Price below 20-day SMA (downtrend) - Volume declining (weakness) - Negative price momentum</p> <p>Use Case: Finding weak stocks for short positions</p> <pre><code>Show me Maverick bearish stocks to avoid\n</code></pre>"},{"location":"features/stock-screening/#supplydemand-breakouts","title":"Supply/Demand Breakouts","text":"<p>Stocks in confirmed uptrend with breakout patterns.</p> <p>Criteria: - Price above all major moving averages (20, 50, 200 SMA) - Volume surge on breakout - New 52-week high or near it - Consolidation followed by expansion - Strong relative strength</p> <p>Use Case: Finding breakout candidates</p> <pre><code>Find supply/demand breakout opportunities\n</code></pre>"},{"location":"features/stock-screening/#indian-market-screening","title":"Indian Market Screening","text":"<p>7 specialized strategies for NSE/BSE stocks:</p>"},{"location":"features/stock-screening/#1-bullish-momentum-nsebse","title":"1. Bullish Momentum (NSE/BSE)","text":"<ul> <li>Adapted 10% circuit breakers</li> <li>INR currency formatting</li> <li>T+1 settlement consideration</li> <li>Nifty/Sensex correlation</li> </ul>"},{"location":"features/stock-screening/#2-value-stocks-nsebse","title":"2. Value Stocks (NSE/BSE)","text":"<ul> <li>Low P/E ratios (&lt; sector average)</li> <li>High dividend yield</li> <li>Strong fundamentals</li> <li>Book value considerations</li> </ul>"},{"location":"features/stock-screening/#3-dividend-yield-nsebse","title":"3. Dividend Yield (NSE/BSE)","text":"<ul> <li>Consistent dividend payers</li> <li>Yield &gt; 3%</li> <li>Payout ratio sustainability</li> <li>Dividend growth history</li> </ul>"},{"location":"features/stock-screening/#4-small-cap-growth-nsebse","title":"4. Small-Cap Growth (NSE/BSE)","text":"<ul> <li>Market cap &lt; \u20b95000 crore</li> <li>Revenue growth &gt; 20% YoY</li> <li>Emerging sectors</li> <li>Management quality</li> </ul>"},{"location":"features/stock-screening/#5-sector-rotation-nsebse","title":"5. Sector Rotation (NSE/BSE)","text":"<ul> <li>Identify hot sectors</li> <li>Top performers within sector</li> <li>Sector momentum</li> <li>Relative strength</li> </ul>"},{"location":"features/stock-screening/#6-breakout-candidates-nsebse","title":"6. Breakout Candidates (NSE/BSE)","text":"<ul> <li>52-week high proximity</li> <li>Volume breakouts</li> <li>Chart pattern completion</li> <li>Support/resistance levels</li> </ul>"},{"location":"features/stock-screening/#7-oversold-recovery-nsebse","title":"7. Oversold Recovery (NSE/BSE)","text":"<ul> <li>RSI &lt; 30 (oversold)</li> <li>Fundamental strength intact</li> <li>No structural issues</li> <li>Reversal signals</li> </ul>"},{"location":"features/stock-screening/#usage-examples","title":"Usage Examples","text":""},{"location":"features/stock-screening/#us-market-screening","title":"US Market Screening","text":"<pre><code>Show me top 5 Maverick bullish stocks from S&amp;P 500\n</code></pre>"},{"location":"features/stock-screening/#indian-market-screening_1","title":"Indian Market Screening","text":"<pre><code>Find dividend yield stocks from Nifty 50\n</code></pre>"},{"location":"features/stock-screening/#sector-specific","title":"Sector-Specific","text":"<pre><code>Screen for bullish tech stocks\n</code></pre>"},{"location":"features/stock-screening/#custom-filters","title":"Custom Filters","text":"<pre><code>Find stocks with RSI &lt; 35 and price above 200-day SMA\n</code></pre>"},{"location":"features/stock-screening/#screening-process","title":"Screening Process","text":""},{"location":"features/stock-screening/#data-collection","title":"Data Collection","text":"<ol> <li>Daily price and volume data</li> <li>Technical indicator calculation</li> <li>Fundamental data updates</li> <li>Screening score computation</li> </ol>"},{"location":"features/stock-screening/#ranking-system","title":"Ranking System","text":"<p>Stocks ranked by: - Score (0-100): Composite screening score - Signal Strength: How strongly criteria are met - Confidence: Data quality and recency - Risk Level: Volatility and beta</p>"},{"location":"features/stock-screening/#refresh-frequency","title":"Refresh Frequency","text":"<ul> <li>S&amp;P 500: Updated daily at market close</li> <li>Indian Stocks: Updated daily after NSE close</li> <li>Cache: Results cached for 24 hours</li> <li>On-Demand: Force refresh available</li> </ul>"},{"location":"features/stock-screening/#performance-metrics","title":"Performance Metrics","text":"<p>Track screening strategy performance: - Historical hit rate - Average return per recommendation - Time to target achievement - Risk-adjusted returns</p>"},{"location":"features/stock-screening/#api-reference","title":"API Reference","text":"<p>See Screening Tools for complete API documentation.</p>"},{"location":"features/stock-screening/#customization","title":"Customization","text":"<p>While pre-calculated screens are instant, you can also: - Combine multiple strategies - Add custom filters - Adjust threshold values - Create sector-specific screens</p> <p>Example: <pre><code>Find Maverick bullish tech stocks with market cap &gt; $10B\n</code></pre></p>"},{"location":"features/technical-analysis/","title":"Technical Analysis","text":"<p>Comprehensive technical indicators and analysis tools.</p>"},{"location":"features/technical-analysis/#available-indicators","title":"Available Indicators","text":""},{"location":"features/technical-analysis/#moving-averages","title":"Moving Averages","text":"<ul> <li>Simple Moving Average (SMA): Basic trend indicator</li> <li>Exponential Moving Average (EMA): Weighted recent prices</li> <li>Common Periods: 20, 50, 100, 200 days</li> </ul>"},{"location":"features/technical-analysis/#momentum-indicators","title":"Momentum Indicators","text":"<ul> <li>RSI (Relative Strength Index): Overbought/oversold (0-100)</li> <li>MACD: Trend following momentum (MACD, Signal, Histogram)</li> <li>Stochastic Oscillator: %K and %D lines</li> </ul>"},{"location":"features/technical-analysis/#volatility-indicators","title":"Volatility Indicators","text":"<ul> <li>Bollinger Bands: Price volatility bands (Upper, Middle, Lower)</li> <li>ATR (Average True Range): Volatility measurement</li> <li>Standard Deviation: Price dispersion</li> </ul>"},{"location":"features/technical-analysis/#volume-indicators","title":"Volume Indicators","text":"<ul> <li>OBV (On-Balance Volume): Volume-price relationship</li> <li>Volume MA: Average volume trends</li> <li>Money Flow Index: Volume-weighted RSI</li> </ul>"},{"location":"features/technical-analysis/#trend-indicators","title":"Trend Indicators","text":"<ul> <li>ADX (Average Directional Index): Trend strength</li> <li>Parabolic SAR: Stop and reverse points</li> <li>Ichimoku Cloud: Comprehensive trend system</li> </ul>"},{"location":"features/technical-analysis/#full-technical-analysis","title":"Full Technical Analysis","text":"<pre><code>Get full technical analysis for AAPL\n</code></pre> <p>Returns comprehensive analysis including: - All major indicators calculated - Support and resistance levels - Trend direction and strength - Buy/sell/hold signals - Chart patterns detected</p>"},{"location":"features/technical-analysis/#usage-examples","title":"Usage Examples","text":""},{"location":"features/technical-analysis/#single-indicator","title":"Single Indicator","text":"<pre><code>Calculate 20-day SMA for AAPL\n</code></pre>"},{"location":"features/technical-analysis/#multiple-indicators","title":"Multiple Indicators","text":"<pre><code>Get RSI, MACD, and Bollinger Bands for RELIANCE.NS\n</code></pre>"},{"location":"features/technical-analysis/#complete-analysis","title":"Complete Analysis","text":"<pre><code>Provide full technical analysis for TCS.NS\n</code></pre>"},{"location":"features/technical-analysis/#indicator-details","title":"Indicator Details","text":""},{"location":"features/technical-analysis/#rsi-relative-strength-index","title":"RSI (Relative Strength Index)","text":"<p>Formula: RSI = 100 - (100 / (1 + RS)) - Period: 14 days (default) - Overbought: Above 70 - Oversold: Below 30 - Divergence: Price vs RSI trends</p> <p>Signals: - RSI &gt; 70: Overbought, consider selling - RSI &lt; 30: Oversold, consider buying - Bullish divergence: Price lower, RSI higher - Bearish divergence: Price higher, RSI lower</p>"},{"location":"features/technical-analysis/#macd-moving-average-convergence-divergence","title":"MACD (Moving Average Convergence Divergence)","text":"<p>Components: - MACD Line: 12 EMA - 26 EMA - Signal Line: 9 EMA of MACD - Histogram: MACD - Signal</p> <p>Signals: - MACD crosses above Signal: Bullish - MACD crosses below Signal: Bearish - Histogram expansion: Trend strengthening - Histogram contraction: Trend weakening</p>"},{"location":"features/technical-analysis/#bollinger-bands","title":"Bollinger Bands","text":"<p>Formula: - Middle Band: 20-day SMA - Upper Band: Middle + (2 \u00d7 SD) - Lower Band: Middle - (2 \u00d7 SD)</p> <p>Signals: - Price touches upper band: Overbought - Price touches lower band: Oversold - Band squeeze: Low volatility, breakout coming - Band expansion: High volatility, trend in motion</p>"},{"location":"features/technical-analysis/#support-and-resistance","title":"Support and Resistance","text":"<p>Automatic calculation of: - Support Levels: Price floors (recent lows) - Resistance Levels: Price ceilings (recent highs) - Pivot Points: Daily/weekly/monthly pivots - Fibonacci Retracements: Key reversal levels</p>"},{"location":"features/technical-analysis/#pattern-recognition","title":"Pattern Recognition","text":"<p>Detects common chart patterns: - Head and Shoulders - Double Top/Bottom - Triangles (Ascending, Descending, Symmetrical) - Flags and Pennants - Cup and Handle</p>"},{"location":"features/technical-analysis/#backtesting-integration","title":"Backtesting Integration","text":"<p>Technical indicators can be used in backtesting strategies: <pre><code>Backtest RSI strategy on AAPL: Buy when RSI &lt; 30, Sell when RSI &gt; 70\n</code></pre></p>"},{"location":"features/technical-analysis/#performance","title":"Performance","text":"<p>All technical indicators are calculated using: - pandas_ta library: Fast, reliable calculations - Vectorized operations: Efficient numpy arrays - Caching: Results cached for 1 hour - Batch processing: Multiple stocks in parallel</p>"},{"location":"features/technical-analysis/#api-reference","title":"API Reference","text":"<p>See Technical Analysis Tools for complete API documentation.</p>"},{"location":"getting-started/chatgpt-setup/","title":"ChatGPT Integration Setup","text":"<p>Connect Maverick MCP to ChatGPT for AI-powered stock analysis through custom connectors.</p> <p>Beta Feature</p> <p>ChatGPT's MCP connector support is currently in BETA (as of November 2025). Some features may have compatibility issues. For a production-ready experience, we recommend using Claude Desktop which has full MCP support.</p>"},{"location":"getting-started/chatgpt-setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>ChatGPT Plus or Pro subscription ($20/month) - Required for custom connectors</li> <li>Docker Desktop or Rancher Desktop - For running the MCP server</li> <li>Cloudflare Tunnel (free) - For exposing local server to public HTTPS endpoint</li> <li>API Keys - At minimum, <code>TIINGO_API_KEY</code> for stock data</li> </ul>"},{"location":"getting-started/chatgpt-setup/#overview","title":"Overview","text":"<p>ChatGPT integration requires:</p> <ol> <li>Running Maverick MCP server with Streamable-HTTP transport</li> <li>Exposing the server via Cloudflare Tunnel (public HTTPS endpoint)</li> <li>Configuring ChatGPT Custom Connector with the tunnel URL</li> </ol>"},{"location":"getting-started/chatgpt-setup/#step-1-docker-configuration","title":"Step 1: Docker Configuration","text":""},{"location":"getting-started/chatgpt-setup/#required-docker-changes","title":"Required Docker Changes","text":"<p>ChatGPT requires the MCP server to use Streamable-HTTP transport (not SSE). This is already configured in the <code>docker-compose.yml</code> file.</p>"},{"location":"getting-started/chatgpt-setup/#verify-docker-composeyml","title":"Verify docker-compose.yml","text":"<p>Ensure your <code>docker-compose.yml</code> has the following command override for the backend service:</p> <pre><code>services:\n  backend:\n    build: .\n    command: [\"uv\", \"run\", \"python\", \"-m\", \"maverick_mcp.api.server\", \"--transport\", \"streamable-http\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n    ports:\n      - \"8003:8000\"\n    environment:\n      # ... your environment variables\n</code></pre> <p>Key Point: The <code>--transport streamable-http</code> flag is critical for ChatGPT compatibility.</p>"},{"location":"getting-started/chatgpt-setup/#environment-setup","title":"Environment Setup","text":"<p>Create a <code>.env</code> file with your API keys:</p> <pre><code># Required - Stock data provider\nTIINGO_API_KEY=your-tiingo-key\n\n# Optional - Enhanced features\nOPENROUTER_API_KEY=your-openrouter-key\nEXA_API_KEY=your-exa-key\nFRED_API_KEY=your-fred-key\n</code></pre>"},{"location":"getting-started/chatgpt-setup/#start-docker-containers","title":"Start Docker Containers","text":"<pre><code># Start all containers (backend, postgres, redis)\ndocker-compose up -d\n\n# Verify backend is running with Streamable-HTTP\ndocker logs maverick-mcp-backend-1 | grep \"Transport\"\n# Should show: \ud83d\udce6 Transport: Streamable-HTTP\n\n# Check server URL\ndocker logs maverick-mcp-backend-1 | grep \"Server URL\"\n# Should show: \ud83d\udd17 Server URL: http://0.0.0.0:8000/mcp/\n</code></pre> <p>Verify the server is accessible:</p> <pre><code>curl http://localhost:8003/mcp/ -X POST \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"method\":\"ping\",\"id\":1}'\n</code></pre> <p>You should get a successful response (not 404 or 400).</p>"},{"location":"getting-started/chatgpt-setup/#step-2-cloudflare-tunnel-setup","title":"Step 2: Cloudflare Tunnel Setup","text":"<p>ChatGPT needs a public HTTPS endpoint to connect to your local MCP server. Cloudflare Tunnel provides this for free without requiring a Cloudflare account (though production use should use named tunnels).</p>"},{"location":"getting-started/chatgpt-setup/#option-a-quick-tunnel-testing-recommended","title":"Option A: Quick Tunnel (Testing - Recommended)","text":"<p>Install cloudflared locally (in project directory):</p> <pre><code># Download ARM64 binary for macOS (Apple Silicon)\ncurl -L https://github.com/cloudflare/cloudflared/releases/download/2025.11.1/cloudflared-darwin-arm64.tgz -o cloudflared.tgz\ntar -xzf cloudflared.tgz\nrm cloudflared.tgz\nchmod +x cloudflared\n\n# For Intel Macs, use:\n# curl -L https://github.com/cloudflare/cloudflared/releases/download/2025.11.1/cloudflared-darwin-amd64.tgz -o cloudflared.tgz\n</code></pre> <p>Start the tunnel:</p> <pre><code>./cloudflared tunnel --url http://localhost:8003\n</code></pre> <p>You'll see output like:</p> <pre><code>+--------------------------------------------------------------------------------------------+\n|  Your quick Tunnel has been created! Visit it at (it may take some time to be reachable):  |\n|  https://random-words-subdomain.trycloudflare.com                              |\n+--------------------------------------------------------------------------------------------+\n</code></pre> <p>Copy the tunnel URL - you'll need it for ChatGPT configuration.</p> <p>Temporary URL</p> <p>Quick tunnels generate a new random URL each time you restart the tunnel. For production use, create a named tunnel with a Cloudflare account.</p>"},{"location":"getting-started/chatgpt-setup/#option-b-named-tunnel-production","title":"Option B: Named Tunnel (Production)","text":"<p>For a permanent URL:</p> <ol> <li>Create free Cloudflare account</li> <li>Install cloudflared: <code>brew install cloudflare/cloudflare/cloudflared</code></li> <li>Authenticate: <code>cloudflared tunnel login</code></li> <li>Create named tunnel: <code>cloudflared tunnel create maverick-mcp</code></li> <li>Configure DNS: Point subdomain to tunnel</li> <li>Run tunnel: <code>cloudflared tunnel run maverick-mcp</code></li> </ol> <p>See Cloudflare documentation for details.</p>"},{"location":"getting-started/chatgpt-setup/#step-3-chatgpt-connector-configuration","title":"Step 3: ChatGPT Connector Configuration","text":""},{"location":"getting-started/chatgpt-setup/#enable-developer-mode","title":"Enable Developer Mode","text":"<ol> <li>Go to ChatGPT</li> <li>Click your profile icon (bottom-left corner)</li> <li>Navigate to Settings \u2192 Connectors</li> <li>Scroll to Advanced Settings</li> <li>Toggle Enable Developer Mode to ON</li> </ol>"},{"location":"getting-started/chatgpt-setup/#add-mcp-server-connector","title":"Add MCP Server Connector","text":"<ol> <li>In the Connectors section, click Add Connector</li> <li>Configure:</li> <li>Name: <code>Maverick MCP</code> (or any name you prefer)</li> <li>Description (optional): <code>Stock analysis and technical indicators</code></li> <li>MCP Server URL: <code>https://your-tunnel-url.trycloudflare.com/mcp/</code></li> <li>Authentication: <code>No authentication</code></li> </ol> <p>Critical: Include Trailing Slash</p> <p>The URL must end with <code>/mcp/</code> (including the trailing slash). Wrong: <code>https://example.com/mcp</code> \u2717 Correct: <code>https://example.com/mcp/</code> \u2713</p> <ol> <li>Acknowledge security warning:</li> <li>Check \"I understand and want to continue\"</li> <li>Read the security implications</li> <li>Click Create</li> </ol>"},{"location":"getting-started/chatgpt-setup/#verify-connection","title":"Verify Connection","text":"<p>ChatGPT will attempt to connect to the server. Check your Docker logs:</p> <pre><code>docker logs -f maverick-mcp-backend-1\n</code></pre> <p>You should see POST requests from ChatGPT:</p> <pre><code>INFO:     172.19.0.1:xxxxx - \"POST /mcp/ HTTP/1.1\" 200 OK\nDEBUG    Handler called: list_tools\n</code></pre>"},{"location":"getting-started/chatgpt-setup/#step-4-using-mcp-tools-in-chatgpt","title":"Step 4: Using MCP Tools in ChatGPT","text":""},{"location":"getting-started/chatgpt-setup/#explicit-connector-reference","title":"Explicit Connector Reference","text":"<p>ChatGPT may not automatically use custom connectors. Mention the connector explicitly:</p> <pre><code>\"Using the Maverick MCP connector, show me technical analysis for AAPL\"\n\n\"Use Maverick MCP to get bullish stock recommendations\"\n\n\"Through the MCP connector, analyze portfolio risk for MSFT, GOOGL, AAPL\"\n</code></pre>"},{"location":"getting-started/chatgpt-setup/#example-queries","title":"Example Queries","text":"<p>Try these to test your integration:</p> <p>Stock Analysis: <pre><code>Using Maverick MCP connector, get real-time data for AAPL with RSI and MACD indicators\n</code></pre></p> <p>Screening: <pre><code>Use Maverick MCP to show me top 10 momentum stocks from S&amp;P 500\n</code></pre></p> <p>Portfolio Analysis: <pre><code>Through Maverick MCP, calculate correlation matrix for MSFT, GOOGL, AMZN\n</code></pre></p> <p>Indian Market: <pre><code>Using Maverick MCP, get bullish screening recommendations for NSE stocks\n</code></pre></p>"},{"location":"getting-started/chatgpt-setup/#available-tools","title":"Available Tools","text":"<p>When connected, you have access to 35+ MCP tools including:</p> <ul> <li>Stock Data: Historical prices, company info, real-time quotes</li> <li>Technical Analysis: RSI, MACD, Bollinger Bands, moving averages</li> <li>Screening: Maverick Bullish/Bearish, breakout patterns</li> <li>Portfolio: Optimization, risk analysis, correlation</li> <li>Indian Market: NSE/BSE screening, economic indicators</li> <li>Research: AI-powered company research, sentiment analysis</li> <li>Backtesting: Strategy testing with 15+ algorithms</li> </ul> <p>See MCP Tools Reference for complete list.</p>"},{"location":"getting-started/chatgpt-setup/#known-issues-limitations","title":"Known Issues &amp; Limitations","text":""},{"location":"getting-started/chatgpt-setup/#current-limitations-november-2025","title":"Current Limitations (November 2025)","text":"<p>Beta Compatibility Issues</p> <p>ChatGPT's MCP support is in beta and may have intermittent connection issues:</p> <ul> <li>400 Bad Request errors - ChatGPT's client may not send required headers</li> <li>Connector disappears - May need to re-add after ChatGPT updates</li> <li>Inconsistent tool discovery - Sometimes requires explicit connector mention</li> <li>No streaming support - Large responses may timeout</li> </ul>"},{"location":"getting-started/chatgpt-setup/#common-errors","title":"Common Errors","text":""},{"location":"getting-started/chatgpt-setup/#400-bad-request","title":"\"400 Bad Request\"","text":"<p>Symptom: ChatGPT shows \"400: Client error\" when calling tools</p> <p>Cause: ChatGPT's MCP client not sending required <code>text/event-stream</code> Accept header</p> <p>Solution: - Verify server is using <code>streamable-http</code> transport (not <code>sse</code>) - Check Docker logs for detailed error messages - This is a known beta compatibility issue with ChatGPT</p> <p>Temporary Workaround: Use Claude Desktop which has full MCP support</p>"},{"location":"getting-started/chatgpt-setup/#connection-failed","title":"\"Connection Failed\"","text":"<p>Symptom: Connector creation fails or shows connection error</p> <p>Causes &amp; Solutions:</p> <ol> <li>Tunnel not running: Start cloudflared tunnel</li> <li>Wrong URL: Ensure URL ends with <code>/mcp/</code> (trailing slash required)</li> <li>Server not ready: Check <code>docker ps</code> - backend should be \"Up\"</li> <li>Port mismatch: Verify tunnel points to <code>localhost:8003</code> (not 8000)</li> </ol>"},{"location":"getting-started/chatgpt-setup/#libta-libso0-cannot-open-shared-object-file","title":"\"libta-lib.so.0: cannot open shared object file\"","text":"<p>Symptom: Technical analysis tools fail with library error</p> <p>Cause: TA-Lib libraries not properly copied in Docker build</p> <p>Solution: Rebuild Docker image (this is fixed in latest Dockerfile):</p> <pre><code>docker-compose build backend --no-cache\ndocker-compose up -d backend\n</code></pre>"},{"location":"getting-started/chatgpt-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/chatgpt-setup/#check-docker-container-status","title":"Check Docker Container Status","text":"<pre><code>docker ps --format \"table {{.Names}}\\t{{.Status}}\\t{{.Ports}}\"\n</code></pre> <p>All three containers should be \"Up\": - <code>maverick-mcp-backend-1</code> - Main MCP server - <code>maverick-mcp-postgres-1</code> - Database - <code>maverick-mcp-redis-1</code> - Cache</p>"},{"location":"getting-started/chatgpt-setup/#check-backend-logs","title":"Check Backend Logs","text":"<pre><code># Real-time logs\ndocker logs -f maverick-mcp-backend-1\n\n# Check for errors\ndocker logs maverick-mcp-backend-1 | grep -i error\n\n# Verify transport\ndocker logs maverick-mcp-backend-1 | grep \"Transport\"\n</code></pre>"},{"location":"getting-started/chatgpt-setup/#verify-ta-lib-libraries","title":"Verify TA-Lib Libraries","text":"<pre><code># Check if TA-Lib is installed\ndocker exec maverick-mcp-backend-1 ls -la /usr/local/lib/ | grep -i ta\n\n# Should show:\n# libta-lib.so\n# libta-lib.so.0\n# libta-lib.so.0.0.0\n</code></pre>"},{"location":"getting-started/chatgpt-setup/#test-endpoint-directly","title":"Test Endpoint Directly","text":"<pre><code># Test local endpoint\ncurl -X POST http://localhost:8003/mcp/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"method\":\"ping\",\"id\":1}'\n\n# Test through tunnel\ncurl -X POST https://your-tunnel-url.trycloudflare.com/mcp/ \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"method\":\"ping\",\"id\":1}'\n</code></pre> <p>Both should return success (not 404 or 400).</p>"},{"location":"getting-started/chatgpt-setup/#restart-everything","title":"Restart Everything","text":"<p>If all else fails, full restart:</p> <pre><code># Stop containers\ndocker-compose down\n\n# Rebuild backend with fixed dependencies\ndocker-compose build backend --no-cache\n\n# Start fresh\ndocker-compose up -d\n\n# Restart tunnel\n./cloudflared tunnel --url http://localhost:8003\n\n# Update ChatGPT connector with new tunnel URL\n</code></pre>"},{"location":"getting-started/chatgpt-setup/#production-considerations","title":"Production Considerations","text":""},{"location":"getting-started/chatgpt-setup/#security","title":"Security","text":"<p>Security Warning</p> <p>Quick tunnels expose your local server to the internet without authentication. For production:</p> <ul> <li>Use named tunnels with Cloudflare accounts</li> <li>Enable authentication (API keys, OAuth)</li> <li>Implement rate limiting</li> <li>Monitor access logs</li> <li>Use environment-specific configs</li> </ul>"},{"location":"getting-started/chatgpt-setup/#monitoring","title":"Monitoring","text":"<p>Track connector usage:</p> <pre><code># Monitor requests\ndocker logs -f maverick-mcp-backend-1 | grep \"POST /mcp\"\n\n# Watch for errors\ndocker logs -f maverick-mcp-backend-1 | grep -i error\n\n# Check tunnel status\n# Tunnel logs show request counts and errors\n</code></pre>"},{"location":"getting-started/chatgpt-setup/#cost-optimization","title":"Cost Optimization","text":"<ul> <li>Cloudflare Tunnel: Free (but no uptime guarantee for quick tunnels)</li> <li>ChatGPT Plus: $20/month (required for connectors)</li> <li>API Keys: Tiingo free tier includes 500 requests/day</li> <li>Server Hosting: Free if running locally</li> </ul>"},{"location":"getting-started/chatgpt-setup/#alternative-claude-desktop","title":"Alternative: Claude Desktop","text":"<p>If you encounter persistent issues with ChatGPT integration, Claude Desktop provides better MCP support:</p> <p>Advantages: - \u2705 Full MCP protocol support - \u2705 No public HTTPS endpoint required - \u2705 Direct STDIO connection (faster) - \u2705 More stable and mature - \u2705 Better error messages</p> <p>Setup: See Claude Desktop Setup Guide</p>"},{"location":"getting-started/chatgpt-setup/#getting-help","title":"Getting Help","text":"<p>If issues persist:</p> <ol> <li>Check logs: Docker backend logs show detailed error messages</li> <li>GitHub Issues: Report bugs</li> <li>Documentation: Troubleshooting Guide</li> <li>Alternative: Try Claude Desktop for production use</li> </ol>"},{"location":"getting-started/chatgpt-setup/#next-steps","title":"Next Steps","text":"<ul> <li>MCP Tools Reference - Complete list of available tools</li> <li>Examples - Sample queries and use cases</li> <li>Best Practices - Optimization tips</li> <li>Troubleshooting - Common issues and solutions</li> </ul>"},{"location":"getting-started/claude-desktop-setup/","title":"Claude Desktop Setup","text":"<p>Complete guide for integrating Maverick MCP with Claude Desktop.</p>"},{"location":"getting-started/claude-desktop-setup/#overview","title":"Overview","text":"<p>Claude Desktop supports the Model Context Protocol (MCP), allowing you to extend Claude's capabilities with custom tools. This guide shows you how to connect Maverick MCP to Claude Desktop for stock analysis and conference call analysis.</p>"},{"location":"getting-started/claude-desktop-setup/#prerequisites","title":"Prerequisites","text":"<p>Before you begin:</p> <ol> <li> <p>Server Running: Maverick MCP server must be running    <pre><code>make dev  # Server runs on port 8003\n</code></pre></p> </li> <li> <p>Node.js Installed: Required for mcp-remote bridge    <pre><code>node --version  # Should be v16+\n</code></pre></p> </li> <li> <p>Claude Desktop Installed: Download from claude.ai</p> </li> </ol>"},{"location":"getting-started/claude-desktop-setup/#connection-architecture","title":"Connection Architecture","text":"<pre><code>graph LR\n    A[Claude Desktop] --&gt;|STDIO| B[mcp-remote]\n    B --&gt;|HTTP/SSE| C[Maverick MCP Server :8003]\n    C --&gt;|API Calls| D[Stock Data APIs]\n    C --&gt;|Database| E[SQLite/PostgreSQL]\n    C --&gt;|AI| F[OpenRouter/OpenAI]</code></pre> <p>Why mcp-remote?</p> <ul> <li>Claude Desktop only supports STDIO transport</li> <li>Maverick MCP runs as HTTP/SSE server</li> <li>mcp-remote bridges STDIO \u2194 HTTP/SSE</li> </ul>"},{"location":"getting-started/claude-desktop-setup/#method-a-sse-transport-recommended","title":"Method A: SSE Transport (Recommended)","text":"<p>This is the most stable configuration, tested and proven to prevent tools from disappearing.</p>"},{"location":"getting-started/claude-desktop-setup/#step-1-locate-configuration-file","title":"Step 1: Locate Configuration File","text":"<p>Find your Claude Desktop config file:</p> macOSWindowsLinux <pre><code># Path\n~/Library/Application Support/Claude/claude_desktop_config.json\n\n# Quick edit\nnano ~/Library/Application\\ Support/Claude/claude_desktop_config.json\n</code></pre> <pre><code># Path\n%APPDATA%\\Claude\\claude_desktop_config.json\n\n# Quick edit\nnotepad %APPDATA%\\Claude\\claude_desktop_config.json\n</code></pre> <pre><code># Path\n~/.config/Claude/claude_desktop_config.json\n\n# Quick edit\nnano ~/.config/Claude/claude_desktop_config.json\n</code></pre>"},{"location":"getting-started/claude-desktop-setup/#step-2-add-maverick-mcp-configuration","title":"Step 2: Add Maverick MCP Configuration","text":"<p>Create or edit the file with this configuration:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/sse/\"]\n    }\n  }\n}\n</code></pre> <p>Critical: Trailing Slash Required</p> <p>The SSE endpoint must include the trailing slash: <code>/sse/</code></p> <p>\u2705 Correct: <code>http://localhost:8003/sse/</code></p> <p>\u274c Wrong: <code>http://localhost:8003/sse</code></p> <p>Without the trailing slash, you'll get 307 redirects that cause tools to disappear!</p>"},{"location":"getting-started/claude-desktop-setup/#step-3-restart-claude-desktop","title":"Step 3: Restart Claude Desktop","text":"<ol> <li>Quit Claude Desktop completely (not just close window)</li> <li>macOS: <code>Cmd+Q</code> or Claude menu \u2192 Quit</li> <li>Windows: Right-click taskbar icon \u2192 Exit</li> <li> <p>Linux: Close all windows</p> </li> <li> <p>Wait 5 seconds</p> </li> <li> <p>Reopen Claude Desktop</p> </li> </ol>"},{"location":"getting-started/claude-desktop-setup/#step-4-verify-connection","title":"Step 4: Verify Connection","text":"<p>Test that the connection works:</p> <pre><code>User: \"List available tools\"\n</code></pre> <p>You should see 40+ tools including:</p> <ul> <li><code>concall_fetch_transcript</code></li> <li><code>concall_summarize_transcript</code></li> <li><code>concall_analyze_sentiment</code></li> <li><code>concall_query_transcript</code></li> <li><code>concall_compare_quarters</code></li> <li><code>data_fetch_stock_data</code></li> <li><code>technical_get_full_technical_analysis</code></li> <li><code>screening_get_maverick_stocks</code></li> <li>And many more...</li> </ul>"},{"location":"getting-started/claude-desktop-setup/#step-5-test-with-commands","title":"Step 5: Test with Commands","text":"<p>Try these commands:</p> <pre><code>Get technical analysis for AAPL\n</code></pre> <pre><code>Fetch the RELIANCE.NS Q1 2025 earnings call transcript\n</code></pre> <pre><code>Show me the top Maverick bullish stocks\n</code></pre> <p>If tools appear and work correctly, you're all set! \ud83c\udf89</p>"},{"location":"getting-started/claude-desktop-setup/#method-b-http-streamable-alternative","title":"Method B: HTTP Streamable (Alternative)","text":"<p>If SSE doesn't work for some reason, try HTTP Streamable:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/mcp/\"]\n    }\n  }\n}\n</code></pre> <p>Note</p> <p>Also requires trailing slash: <code>/mcp/</code></p>"},{"location":"getting-started/claude-desktop-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/claude-desktop-setup/#tools-disappear-after-initial-connection","title":"Tools Disappear After Initial Connection","text":"<p>Symptom: Tools show up briefly, then disappear.</p> <p>Cause: Missing trailing slash causes 307 redirect.</p> <p>Solution: <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/sse/\"]\n    }\n  }\n}\n</code></pre></p> <p>Note the <code>/</code> at the end of <code>/sse/</code>!</p>"},{"location":"getting-started/claude-desktop-setup/#connection-failed","title":"Connection Failed","text":"<p>Check server is running: <pre><code>lsof -i :8003\n</code></pre></p> <p>Should show: <pre><code>COMMAND   PID   USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME\nPython  12345  user    8u  IPv4 0x1234567890      0t0  TCP *:8003 (LISTEN)\n</code></pre></p> <p>If nothing shows: <pre><code>make dev  # Start the server\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#invalid-json-error","title":"Invalid JSON Error","text":"<p>Check config file syntax: <pre><code># Validate JSON\ncat ~/Library/Application\\ Support/Claude/claude_desktop_config.json | python -m json.tool\n</code></pre></p> <p>Common mistakes: - Missing commas between entries - Extra comma after last entry - Unclosed brackets or quotes</p>"},{"location":"getting-started/claude-desktop-setup/#npx-command-not-found","title":"npx Command Not Found","text":"<p>Install Node.js:</p> macOSWindowsLinux <pre><code>brew install node\n</code></pre> <p>Download from nodejs.org</p> <pre><code>sudo apt update\nsudo apt install nodejs npm\n</code></pre>"},{"location":"getting-started/claude-desktop-setup/#port-already-in-use","title":"Port Already in Use","text":"<p>Find what's using port 8003: <pre><code>lsof -i :8003\nkill -9 &lt;PID&gt;  # Kill the process\nmake dev       # Restart Maverick MCP\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#mcp-remote-installation-issues","title":"mcp-remote Installation Issues","text":"<p>Manual install: <pre><code>npm install -g mcp-remote\n</code></pre></p> <p>Check version: <pre><code>npx mcp-remote --version\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#server-logs","title":"Server Logs","text":"<p>View real-time logs: <pre><code>make tail-log\n</code></pre></p> <p>Check for errors: <pre><code>tail -100 ~/.maverick_mcp/logs/maverick_mcp.log\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#multiple-servers-configuration","title":"Multiple Servers Configuration","text":"<p>If you have multiple MCP servers, add them all:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/sse/\"]\n    },\n    \"other-mcp-server\": {\n      \"command\": \"node\",\n      \"args\": [\"/path/to/other/server.js\"]\n    }\n  }\n}\n</code></pre>"},{"location":"getting-started/claude-desktop-setup/#auto-start-server-optional","title":"Auto-Start Server (Optional)","text":""},{"location":"getting-started/claude-desktop-setup/#macos-launchagent","title":"macOS (LaunchAgent)","text":"<p>Create <code>~/Library/LaunchAgents/com.maverick-mcp.plist</code>:</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n&lt;plist version=\"1.0\"&gt;\n&lt;dict&gt;\n    &lt;key&gt;Label&lt;/key&gt;\n    &lt;string&gt;com.maverick-mcp&lt;/string&gt;\n    &lt;key&gt;ProgramArguments&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;/usr/local/bin/python3&lt;/string&gt;\n        &lt;string&gt;-m&lt;/string&gt;\n        &lt;string&gt;maverick_mcp.api.server&lt;/string&gt;\n        &lt;string&gt;--transport&lt;/string&gt;\n        &lt;string&gt;sse&lt;/string&gt;\n        &lt;string&gt;--port&lt;/string&gt;\n        &lt;string&gt;8003&lt;/string&gt;\n    &lt;/array&gt;\n    &lt;key&gt;WorkingDirectory&lt;/key&gt;\n    &lt;string&gt;/Users/YOUR_USERNAME/maverick-mcp&lt;/string&gt;\n    &lt;key&gt;StandardOutPath&lt;/key&gt;\n    &lt;string&gt;/tmp/maverick-mcp.out.log&lt;/string&gt;\n    &lt;key&gt;StandardErrorPath&lt;/key&gt;\n    &lt;string&gt;/tmp/maverick-mcp.err.log&lt;/string&gt;\n    &lt;key&gt;KeepAlive&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre> <p>Load it: <pre><code>launchctl load ~/Library/LaunchAgents/com.maverick-mcp.plist\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#linux-systemd","title":"Linux (systemd)","text":"<p>Create <code>/etc/systemd/system/maverick-mcp.service</code>:</p> <pre><code>[Unit]\nDescription=Maverick MCP Server\nAfter=network.target\n\n[Service]\nType=simple\nUser=YOUR_USERNAME\nWorkingDirectory=/home/YOUR_USERNAME/maverick-mcp\nExecStart=/usr/bin/python3 -m maverick_mcp.api.server --transport sse --port 8003\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>Enable and start: <pre><code>sudo systemctl daemon-reload\nsudo systemctl enable maverick-mcp\nsudo systemctl start maverick-mcp\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#windows-task-scheduler","title":"Windows (Task Scheduler)","text":"<ol> <li>Open Task Scheduler</li> <li>Create Basic Task</li> <li>Name: \"Maverick MCP Server\"</li> <li>Trigger: At log on</li> <li>Action: Start a program</li> <li>Program: <code>python.exe</code></li> <li>Arguments: <code>-m maverick_mcp.api.server --transport sse --port 8003</code></li> <li>Start in: <code>C:\\path\\to\\maverick-mcp</code></li> </ol>"},{"location":"getting-started/claude-desktop-setup/#security-considerations","title":"Security Considerations","text":""},{"location":"getting-started/claude-desktop-setup/#local-network-only","title":"Local Network Only","text":"<p>By default, the server binds to <code>localhost</code> (127.0.0.1), making it accessible only from your machine.</p> <p>To allow network access (use with caution): <pre><code>python -m maverick_mcp.api.server --host 0.0.0.0 --port 8003\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#firewall-configuration","title":"Firewall Configuration","text":"<p>If using network access, configure firewall:</p> macOSLinux (ufw)Windows <pre><code># Allow incoming on port 8003\nsudo /usr/libexec/ApplicationFirewall/socketfilterfw --add /path/to/python\nsudo /usr/libexec/ApplicationFirewall/socketfilterfw --unblockapp /path/to/python\n</code></pre> <pre><code>sudo ufw allow 8003/tcp\n</code></pre> <p>Windows Firewall \u2192 Advanced Settings \u2192 Inbound Rules \u2192 New Rule \u2192 Port 8003</p>"},{"location":"getting-started/claude-desktop-setup/#api-keys","title":"API Keys","text":"<p>Ensure your <code>.env</code> file is secure: <pre><code>chmod 600 .env  # Unix/Linux/macOS\n</code></pre></p> <p>Never commit <code>.env</code> to version control!</p>"},{"location":"getting-started/claude-desktop-setup/#performance-tips","title":"Performance Tips","text":""},{"location":"getting-started/claude-desktop-setup/#use-redis-caching","title":"Use Redis Caching","text":"<p>For better performance: <pre><code>brew install redis\nbrew services start redis\n</code></pre></p> <p>Add to <code>.env</code>: <pre><code>REDIS_HOST=localhost\nREDIS_PORT=6379\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#postgresql-database","title":"PostgreSQL Database","text":"<p>For larger datasets: <pre><code># Install PostgreSQL\nbrew install postgresql\n\n# Create database\ncreatedb maverick_mcp\n\n# Update .env\nDATABASE_URL=postgresql://localhost/maverick_mcp\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#increase-worker-threads","title":"Increase Worker Threads","text":"<p>For heavy usage: <pre><code>python -m maverick_mcp.api.server --workers 4\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#next-steps","title":"Next Steps","text":"<p>Now that Claude Desktop is connected:</p> <ul> <li>\ud83d\udcd6 Learn about Features</li> <li>\ud83d\udcde Explore Conference Call Analysis</li> <li>\ud83d\udca1 See Examples</li> <li>\ud83d\udd27 Browse All Tools</li> </ul>"},{"location":"getting-started/claude-desktop-setup/#need-help","title":"Need Help?","text":"<ul> <li>\ud83d\udc1b Report Issues</li> <li>\ud83d\udcda Troubleshooting Guide</li> <li>\u2753 FAQ</li> </ul>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>Configure Maverick MCP with your API keys and settings.</p>"},{"location":"getting-started/configuration/#environment-variables","title":"Environment Variables","text":"<p>All configuration is done through environment variables stored in a <code>.env</code> file.</p>"},{"location":"getting-started/configuration/#required-configuration","title":"Required Configuration","text":"<pre><code># Required - Stock Data Provider\nTIINGO_API_KEY=your-tiingo-key-here\n</code></pre> <p>Get a free Tiingo API key at tiingo.com - includes 500 requests/day.</p>"},{"location":"getting-started/configuration/#recommended-configuration","title":"Recommended Configuration","text":"<pre><code># AI Features (Highly Recommended)\nOPENROUTER_API_KEY=your-openrouter-key-here\n\n# For RAG Q&amp;A (Required for conference call queries)\nOPENAI_API_KEY=your-openai-key-here\n</code></pre>"},{"location":"getting-started/configuration/#optional-configuration","title":"Optional Configuration","text":"<pre><code># Enhanced Data\nFRED_API_KEY=your-fred-key-here\nEXA_API_KEY=your-exa-key-here\n\n# Database (SQLite by default)\nDATABASE_URL=postgresql://localhost/maverick_mcp\n\n# Redis Caching\nREDIS_HOST=localhost\nREDIS_PORT=6379\n</code></pre>"},{"location":"getting-started/configuration/#configuration-file","title":"Configuration File","text":"<p>Create <code>.env</code> in the project root:</p> <pre><code>cp .env.example .env\nnano .env  # Edit with your keys\n</code></pre>"},{"location":"getting-started/configuration/#api-key-details","title":"API Key Details","text":""},{"location":"getting-started/configuration/#tiingo-required","title":"Tiingo (Required)","text":"<ul> <li>Purpose: Stock market data (prices, fundamentals)</li> <li>Free Tier: 500 requests/day</li> <li>Sign Up: tiingo.com</li> <li>Cost: Free tier sufficient for personal use</li> </ul>"},{"location":"getting-started/configuration/#openrouter-recommended","title":"OpenRouter (Recommended)","text":"<ul> <li>Purpose: AI analysis, summarization, sentiment</li> <li>Pricing: Pay-as-you-go, access to 400+ models</li> <li>Sign Up: openrouter.ai</li> <li>Cost: ~$0.01-0.05 per analysis</li> </ul>"},{"location":"getting-started/configuration/#openai-optional-rag-only","title":"OpenAI (Optional - RAG Only)","text":"<ul> <li>Purpose: Embeddings for RAG Q&amp;A</li> <li>Required For: Conference call Q&amp;A feature</li> <li>Sign Up: platform.openai.com</li> <li>Cost: ~$0.0001 per transcript</li> </ul>"},{"location":"getting-started/configuration/#fred-optional","title":"FRED (Optional)","text":"<ul> <li>Purpose: Economic indicators</li> <li>Free: Unlimited</li> <li>Sign Up: fred.stlouisfed.org/docs/api/api_key.html</li> </ul>"},{"location":"getting-started/configuration/#exa-optional","title":"Exa (Optional)","text":"<ul> <li>Purpose: Web search for research</li> <li>Sign Up: exa.ai</li> </ul>"},{"location":"getting-started/configuration/#database-configuration","title":"Database Configuration","text":""},{"location":"getting-started/configuration/#sqlite-default","title":"SQLite (Default)","text":"<p>No configuration needed. Database created automatically at: <pre><code>~/.maverick_mcp/maverick_mcp.db\n</code></pre></p>"},{"location":"getting-started/configuration/#postgresql-optional","title":"PostgreSQL (Optional)","text":"<p>For better performance with large datasets:</p> <pre><code># Install PostgreSQL\nbrew install postgresql\n\n# Create database\ncreatedb maverick_mcp\n\n# Add to .env\nDATABASE_URL=postgresql://localhost/maverick_mcp\n\n# Run migrations\nmake migrate\n</code></pre>"},{"location":"getting-started/configuration/#caching-configuration","title":"Caching Configuration","text":""},{"location":"getting-started/configuration/#in-memory-default","title":"In-Memory (Default)","text":"<p>Works out of the box, no setup required.</p>"},{"location":"getting-started/configuration/#redis-recommended","title":"Redis (Recommended)","text":"<p>For better performance:</p> <pre><code># Install Redis\nbrew install redis\n\n# Start Redis\nbrew services start redis\n\n# Add to .env\nREDIS_HOST=localhost\nREDIS_PORT=6379\n</code></pre>"},{"location":"getting-started/configuration/#security","title":"Security","text":""},{"location":"getting-started/configuration/#protect-api-keys","title":"Protect API Keys","text":"<pre><code># Set proper permissions\nchmod 600 .env\n</code></pre>"},{"location":"getting-started/configuration/#gitignore","title":"Gitignore","text":"<p>Ensure <code>.env</code> is in <code>.gitignore</code>: <pre><code>.env\n.env.*\n*.env\n</code></pre></p>"},{"location":"getting-started/configuration/#never-commit","title":"Never Commit","text":"<p>Never commit API keys to version control!</p>"},{"location":"getting-started/configuration/#verification","title":"Verification","text":"<p>Test your configuration:</p> <pre><code># Start server\nmake dev\n\n# Check logs for any errors\nmake tail-log\n</code></pre>"},{"location":"getting-started/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide</li> <li>Claude Desktop Setup</li> <li>Cursor IDE Setup</li> </ul>"},{"location":"getting-started/cursor-setup/","title":"Cursor IDE Setup","text":"<p>Complete guide for integrating Maverick MCP with Cursor IDE.</p>"},{"location":"getting-started/cursor-setup/#overview","title":"Overview","text":"<p>Cursor IDE has native MCP support, making integration straightforward. This guide shows you how to connect Maverick MCP to Cursor for stock analysis directly in your development environment.</p>"},{"location":"getting-started/cursor-setup/#prerequisites","title":"Prerequisites","text":"<ol> <li>Cursor IDE Installed: Download from cursor.sh</li> <li>Server Running:    <pre><code>make dev  # Server runs on port 8003\n</code></pre></li> </ol>"},{"location":"getting-started/cursor-setup/#connection-architecture","title":"Connection Architecture","text":"<pre><code>graph LR\n    A[Cursor IDE] --&gt;|SSE/STDIO| B[Maverick MCP Server :8003]\n    B --&gt;|API Calls| C[Stock Data APIs]\n    B --&gt;|Database| D[SQLite/PostgreSQL]\n    B --&gt;|AI| E[OpenRouter/OpenAI]</code></pre> <p>Cursor Advantages:</p> <ul> <li>Native STDIO support (via mcp-remote bridge)</li> <li>Better integration with IDE workflow</li> <li>Direct access to all MCP tools</li> </ul> <p>Why mcp-remote?</p> <p>Cursor doesn't support direct SSE connections reliably. The <code>mcp-remote</code> package bridges STDIO (which Cursor supports) to SSE (which the server uses).</p>"},{"location":"getting-started/cursor-setup/#method-a-stdio-via-mcp-remote-recommended","title":"Method A: STDIO via mcp-remote (Recommended)","text":"<p>Direct SSE connections don't work reliably with Cursor. Use <code>mcp-remote</code> as a bridge instead.</p>"},{"location":"getting-started/cursor-setup/#step-1-ensure-nodejs-18-is-installed","title":"Step 1: Ensure Node.js 18+ is Installed","text":"<p>Check your Node version:</p> <pre><code>node --version\n</code></pre> <p>If you have Node &lt; 18, install Node 20:</p> <pre><code># Using nvm (recommended)\nnvm install 20\nnvm use 20\nnvm alias default 20\n</code></pre>"},{"location":"getting-started/cursor-setup/#step-2-configure-mcp-server","title":"Step 2: Configure MCP Server","text":"<p>Recommended Configuration (Full Path - Most Reliable):</p> <p>Create or edit <code>~/.cursor/mcp.json</code>:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"/Users/YOUR_USERNAME/.nvm/versions/node/v20.19.5/bin/npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://127.0.0.1:8003/sse\"],\n      \"env\": {\n        \"PATH\": \"/Users/YOUR_USERNAME/.nvm/versions/node/v20.19.5/bin:/usr/local/bin:/usr/bin:/bin\"\n      }\n    }\n  }\n}\n</code></pre> <p>To find your Node v20 path:</p> <pre><code>nvm use 20\nwhich npx\n# Example output: /Users/YOUR_USERNAME/.nvm/versions/node/v20.19.5/bin/npx\n</code></pre> <p>Replace <code>YOUR_USERNAME</code> with your actual username.</p> <p>Simple Configuration (If Node 20 is in PATH):</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://127.0.0.1:8003/sse\"]\n    }\n  }\n}\n</code></pre> <p>!!! warning \"Important Configuration Notes\" - Node.js 18+ required (mcp-remote doesn't work with Node 14) - Use <code>127.0.0.1</code> not <code>localhost</code> (Docker IPv4 vs IPv6 issue) - No trailing slash on <code>/sse</code> (prevents 307 redirect) - Full path to npx ensures Cursor uses the correct Node version</p>"},{"location":"getting-started/cursor-setup/#step-3-restart-cursor","title":"Step 3: Restart Cursor","text":"<ol> <li>Close Cursor completely</li> <li>Reopen Cursor</li> <li>The MCP server should connect automatically</li> </ol>"},{"location":"getting-started/cursor-setup/#step-4-verify-connection","title":"Step 4: Verify Connection","text":"<p>Open Cursor's AI chat and test:</p> <pre><code>List available MCP tools\n</code></pre> <p>You should see 40+ tools including:</p> <ul> <li>concall_fetch_transcript</li> <li>concall_summarize_transcript</li> <li>data_fetch_stock_data</li> <li>technical_get_full_technical_analysis</li> <li>And more...</li> </ul>"},{"location":"getting-started/cursor-setup/#step-5-test-with-commands","title":"Step 5: Test with Commands","text":"<p>Try these in Cursor's AI chat:</p> <pre><code>Get technical analysis for AAPL and explain the RSI indicator\n</code></pre> <pre><code>Fetch RELIANCE.NS Q1 2025 earnings call and summarize key points\n</code></pre> <pre><code>Show me code to calculate moving averages using the MCP tools\n</code></pre>"},{"location":"getting-started/cursor-setup/#alternative-direct-stdio-development-only","title":"Alternative: Direct STDIO (Development Only)","text":"<p>For local development without Docker, you can run the server directly:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"uv\",\n      \"args\": [\n        \"run\",\n        \"python\",\n        \"-m\",\n        \"maverick_mcp.api.server\",\n        \"--transport\",\n        \"stdio\"\n      ],\n      \"cwd\": \"/path/to/maverick-mcp\"\n    }\n  }\n}\n</code></pre> <p>Replace <code>/path/to/maverick-mcp</code> with your actual path.</p> <p>Direct STDIO Limitations</p> <p>This method bypasses Docker and runs the Python server directly. Only use this if you're actively developing the MCP server itself.</p>"},{"location":"getting-started/cursor-setup/#configuration-file-location","title":"Configuration File Location","text":"<p>Cursor stores MCP configuration in:</p> macOS <p><code>~/.cursor/mcp.json</code></p> Windows <p><code>%USERPROFILE%\\.cursor\\mcp.json</code></p> Linux <p><code>~/.cursor/mcp.json</code></p>"},{"location":"getting-started/cursor-setup/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"getting-started/cursor-setup/#multiple-servers","title":"Multiple Servers","text":"<p>Configure multiple MCP servers:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"url\": \"http://localhost:8003/sse/\"\n    },\n    \"other-mcp-server\": {\n      \"url\": \"http://localhost:8004/sse/\"\n    }\n  }\n}\n</code></pre>"},{"location":"getting-started/cursor-setup/#custom-port","title":"Custom Port","text":"<p>If using a different port:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"url\": \"http://localhost:9000/sse/\"\n    }\n  }\n}\n</code></pre> <p>Start server on custom port:</p> <pre><code>python -m maverick_mcp.api.server --port 9000\n</code></pre>"},{"location":"getting-started/cursor-setup/#environment-variables","title":"Environment Variables","text":"<p>Pass environment variables to STDIO mode:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"python\",\n      \"args\": [\"-m\", \"maverick_mcp.api.server\", \"--transport\", \"stdio\"],\n      \"cwd\": \"/path/to/maverick-mcp\",\n      \"env\": {\n        \"TIINGO_API_KEY\": \"your-key\",\n        \"OPENROUTER_API_KEY\": \"your-key\"\n      }\n    }\n  }\n}\n</code></pre> <p>Security</p> <p>Avoid storing API keys in config files. Use <code>.env</code> file instead.</p>"},{"location":"getting-started/cursor-setup/#usage-in-cursor","title":"Usage in Cursor","text":""},{"location":"getting-started/cursor-setup/#ai-chat","title":"AI Chat","text":"<p>Access MCP tools through Cursor's AI chat:</p> <pre><code>@maverick-mcp Get stock data for AAPL\n</code></pre> <pre><code>@maverick-mcp Analyze sentiment for TCS Q1 2025\n</code></pre>"},{"location":"getting-started/cursor-setup/#code-generation","title":"Code Generation","text":"<p>Use MCP tools to generate code:</p> <pre><code>Generate Python code to fetch and plot AAPL stock data\nusing the Maverick MCP tools\n</code></pre> <pre><code>Write a function that uses MCP to analyze multiple stocks\nand returns a comparison table\n</code></pre>"},{"location":"getting-started/cursor-setup/#context-aware-analysis","title":"Context-Aware Analysis","text":"<p>Cursor can use MCP tools with your code:</p> <pre><code>Analyze the stock symbols in this file using technical analysis\n</code></pre> <pre><code>Fetch earnings call transcripts for all companies mentioned in this code\n</code></pre>"},{"location":"getting-started/cursor-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/cursor-setup/#loading-tools-forever","title":"\"Loading tools...\" Forever","text":"<p>Symptom: Status shows \"loading tools\" indefinitely or never completes.</p> <p>Cause: Node.js version incompatibility. <code>mcp-remote</code> requires Node 18+, but Cursor may use system Node 14.</p> <p>Solution:</p> <ol> <li>Verify your Node version:</li> </ol> <pre><code>node --version\n</code></pre> <ol> <li>If Node &lt; 18, install Node 20:</li> </ol> <pre><code>nvm install 20\nnvm use 20\n</code></pre> <ol> <li>Use full path in config:</li> </ol> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"/Users/YOUR_USERNAME/.nvm/versions/node/v20.19.5/bin/npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://127.0.0.1:8003/sse\"],\n      \"env\": {\n        \"PATH\": \"/Users/YOUR_USERNAME/.nvm/versions/node/v20.19.5/bin:/usr/local/bin:/usr/bin:/bin\"\n      }\n    }\n  }\n}\n</code></pre> <ol> <li>Completely restart Cursor (Cmd+Q, not just close window)</li> </ol>"},{"location":"getting-started/cursor-setup/#syntax-error-nodefspromises","title":"Syntax Error: node:fs/promises","text":"<p>Full Error:</p> <pre><code>SyntaxError: The requested module 'node:fs/promises' does not provide an export named 'constants'\n</code></pre> <p>Cause: This error confirms Node version is too old.</p> <p>Solution: Follow the steps above to use Node 20.</p>"},{"location":"getting-started/cursor-setup/#connection-refused-on-1-ipv6","title":"Connection Refused on ::1 (IPv6)","text":"<p>Symptom: <code>connect ECONNREFUSED ::1:8003</code></p> <p>Cause: <code>mcp-remote</code> tries IPv6 first, but Docker only listens on IPv4.</p> <p>Solution: Use <code>127.0.0.1</code> instead of <code>localhost</code>:</p> <pre><code>{\n  \"args\": [\"-y\", \"mcp-remote\", \"http://127.0.0.1:8003/sse\"]\n}\n</code></pre>"},{"location":"getting-started/cursor-setup/#connection-failed","title":"Connection Failed","text":"<p>Check server status:</p> <pre><code>lsof -i :8003\n# Or with Docker\ndocker ps | grep maverick\n</code></pre> <p>View logs:</p> <pre><code>make tail-log\n# Or with Docker\ndocker logs maverick-mcp-backend-1 --tail 50\n</code></pre> <p>Restart server:</p> <pre><code>make stop\nmake dev\n# Or with Docker\ndocker-compose restart\n</code></pre>"},{"location":"getting-started/cursor-setup/#tools-not-appearing","title":"Tools Not Appearing","text":"<ol> <li> <p>Verify config syntax:</p> </li> <li> <p>Open <code>~/.cursor/mcp.json</code></p> </li> <li>Ensure valid JSON (no trailing commas)</li> <li> <p>Check quotes are correct</p> </li> <li> <p>Verify Node path:</p> </li> </ol> <pre><code>which npx\n# Should match the path in your config\n</code></pre> <ol> <li>Check server is running:</li> </ol> <pre><code>curl http://127.0.0.1:8003/sse\n# Should return SSE connection or see streaming\n</code></pre> <ol> <li>Restart Cursor completely:</li> <li>Quit (Cmd+Q on Mac)</li> <li>Wait 5 seconds</li> <li>Reopen</li> </ol>"},{"location":"getting-started/cursor-setup/#npm-cache-permission-errors","title":"npm Cache Permission Errors","text":"<p>Symptom: <code>EPERM: operation not permitted</code> errors</p> <p>Solution:</p> <pre><code>sudo chown -R $(whoami) ~/.npm\n</code></pre>"},{"location":"getting-started/cursor-setup/#stdio-mode-issues","title":"STDIO Mode Issues","text":"<p>Permission errors:</p> <pre><code>chmod +x /path/to/maverick-mcp/maverick_mcp/api/server.py\n</code></pre> <p>Python not found:</p> <pre><code>{\n  \"command\": \"/full/path/to/python3\",\n  \"args\": [\"-m\", \"maverick_mcp.api.server\", \"--transport\", \"stdio\"]\n}\n</code></pre> <p>Find Python path:</p> <pre><code>which python3\n</code></pre>"},{"location":"getting-started/cursor-setup/#port-conflicts","title":"Port Conflicts","text":"<p>Change port:</p> <pre><code>{\n  \"url\": \"http://localhost:8004/sse/\"\n}\n</code></pre> <p>Start on new port:</p> <pre><code>python -m maverick_mcp.api.server --port 8004\n</code></pre>"},{"location":"getting-started/cursor-setup/#integration-patterns","title":"Integration Patterns","text":""},{"location":"getting-started/cursor-setup/#stock-analysis-workflow","title":"Stock Analysis Workflow","text":"<ol> <li>Analyze in Chat:</li> </ol> <pre><code>Get full technical analysis for AAPL\n</code></pre> <ol> <li>Generate Code:</li> </ol> <pre><code>Write code to automate this analysis for multiple stocks\n</code></pre> <ol> <li>Iterate:    <pre><code>Add error handling and export to CSV\n</code></pre></li> </ol>"},{"location":"getting-started/cursor-setup/#conference-call-analysis","title":"Conference Call Analysis","text":"<ol> <li>Fetch Transcript:</li> </ol> <pre><code>Fetch RELIANCE.NS Q1 2025 earnings call\n</code></pre> <ol> <li>Analyze:</li> </ol> <pre><code>Summarize and analyze sentiment\n</code></pre> <ol> <li>Generate Report:    <pre><code>Create a markdown report with the analysis\n</code></pre></li> </ol>"},{"location":"getting-started/cursor-setup/#multi-stock-comparison","title":"Multi-Stock Comparison","text":"<ol> <li>Fetch Data:</li> </ol> <pre><code>Get stock data for AAPL, MSFT, GOOGL\n</code></pre> <ol> <li>Compare:</li> </ol> <pre><code>Calculate correlation matrix\n</code></pre> <ol> <li>Visualize:    <pre><code>Generate plotly chart comparing performance\n</code></pre></li> </ol>"},{"location":"getting-started/cursor-setup/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":""},{"location":"getting-started/cursor-setup/#open-ai-chat","title":"Open AI Chat","text":"<ul> <li>macOS: <code>Cmd + K</code></li> <li>Windows/Linux: <code>Ctrl + K</code></li> </ul>"},{"location":"getting-started/cursor-setup/#mcp-tool-selection","title":"MCP Tool Selection","text":"<ul> <li>Type <code>@maverick-mcp</code> in chat</li> <li>Press Space to see tool list</li> <li>Arrow keys to navigate</li> <li>Enter to select</li> </ul>"},{"location":"getting-started/cursor-setup/#best-practices","title":"Best Practices","text":""},{"location":"getting-started/cursor-setup/#1-use-descriptive-commands","title":"1. Use Descriptive Commands","text":"<p>\u274c Bad:</p> <pre><code>Get data\n</code></pre> <p>\u2705 Good:</p> <pre><code>Get historical stock data for AAPL from Jan 2024 to Dec 2024\n</code></pre>"},{"location":"getting-started/cursor-setup/#2-combine-tools","title":"2. Combine Tools","text":"<pre><code>Fetch RELIANCE.NS Q1 2025 transcript, summarize it,\nanalyze sentiment, and tell me the top 3 concerns\n</code></pre>"},{"location":"getting-started/cursor-setup/#3-generate-reusable-code","title":"3. Generate Reusable Code","text":"<pre><code>Create a Python class that wraps the Maverick MCP tools\nfor easier stock analysis\n</code></pre>"},{"location":"getting-started/cursor-setup/#4-use-with-existing-code","title":"4. Use with Existing Code","text":"<pre><code>Analyze the stocks in stocks.csv using technical indicators\nfrom Maverick MCP\n</code></pre>"},{"location":"getting-started/cursor-setup/#performance-tips","title":"Performance Tips","text":""},{"location":"getting-started/cursor-setup/#enable-caching","title":"Enable Caching","text":"<p>Add to <code>.env</code>:</p> <pre><code>REDIS_HOST=localhost\nREDIS_PORT=6379\n</code></pre> <p>Start Redis:</p> <pre><code>brew install redis\nbrew services start redis\n</code></pre>"},{"location":"getting-started/cursor-setup/#use-postgresql","title":"Use PostgreSQL","text":"<p>For larger datasets:</p> <pre><code>DATABASE_URL=postgresql://localhost/maverick_mcp\n</code></pre>"},{"location":"getting-started/cursor-setup/#parallel-requests","title":"Parallel Requests","text":"<p>MCP server handles concurrent requests automatically.</p>"},{"location":"getting-started/cursor-setup/#security","title":"Security","text":""},{"location":"getting-started/cursor-setup/#local-development-only","title":"Local Development Only","text":"<p>By default, server binds to localhost only.</p>"},{"location":"getting-started/cursor-setup/#api-keys-in-env","title":"API Keys in .env","text":"<p>Never hardcode API keys:</p> <pre><code># .env file\nTIINGO_API_KEY=your-key\nOPENROUTER_API_KEY=your-key\nOPENAI_API_KEY=your-key\n</code></pre>"},{"location":"getting-started/cursor-setup/#gitignore","title":"Gitignore","text":"<p>Ensure <code>.env</code> is in <code>.gitignore</code>:</p> <pre><code>.env\n.env.*\n</code></pre>"},{"location":"getting-started/cursor-setup/#cursor-specific-features","title":"Cursor-Specific Features","text":""},{"location":"getting-started/cursor-setup/#code-actions","title":"Code Actions","text":"<p>Cursor can suggest MCP tools automatically:</p> <ol> <li>Select stock symbol in code</li> <li>Right-click \u2192 \"Analyze with MCP\"</li> <li>Cursor suggests relevant tools</li> </ol>"},{"location":"getting-started/cursor-setup/#inline-suggestions","title":"Inline Suggestions","text":"<p>Type stock symbols and Cursor may suggest:</p> <pre><code># AAPL\n# Cursor suggests: Fetch AAPL data with MCP?\n</code></pre>"},{"location":"getting-started/cursor-setup/#composer-mode","title":"Composer Mode","text":"<p>Use MCP tools in Composer for complex tasks:</p> <pre><code>Create a stock analysis dashboard that:\n1. Fetches data for multiple stocks\n2. Calculates technical indicators\n3. Generates comparison charts\n4. Exports to HTML report\n</code></pre>"},{"location":"getting-started/cursor-setup/#comparison-cursor-vs-claude-desktop","title":"Comparison: Cursor vs Claude Desktop","text":"Feature Cursor IDE Claude Desktop Native MCP Support \u2705 STDIO (via mcp-remote) \u2705 STDIO (via mcp-remote) Code Integration \u2705 Direct \u274c Manual copy Context Awareness \u2705 Full IDE context \u274c Chat only Setup Complexity \u2b50\u2b50 Medium (Node 20 required) \u2b50\u2b50 Medium Best For Development General analysis <p>Both Need mcp-remote</p> <p>Both Cursor and Claude Desktop require the <code>mcp-remote</code> bridge when connecting to SSE servers. The key difference is Cursor's IDE integration.</p>"},{"location":"getting-started/cursor-setup/#next-steps","title":"Next Steps","text":"<p>Now that Cursor is connected:</p> <ul> <li>\ud83d\udcd6 Learn about Features</li> <li>\ud83d\udcde Explore Conference Call Analysis</li> <li>\ud83d\udca1 See Examples</li> <li>\ud83d\udd27 Browse All Tools</li> </ul>"},{"location":"getting-started/cursor-setup/#need-help","title":"Need Help?","text":"<ul> <li>\ud83d\udc1b Report Issues</li> <li>\ud83d\udcda Troubleshooting Guide</li> <li>\u2753 FAQ</li> <li>\ud83d\udcac Cursor Community</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>Complete installation guide for Maverick MCP.</p>"},{"location":"getting-started/installation/#system-requirements","title":"System Requirements","text":""},{"location":"getting-started/installation/#minimum-requirements","title":"Minimum Requirements","text":"<ul> <li>Python: 3.12 or higher</li> <li>RAM: 4GB minimum</li> <li>Disk Space: 1GB free</li> <li>Internet: For API access</li> </ul>"},{"location":"getting-started/installation/#recommended","title":"Recommended","text":"<ul> <li>RAM: 8GB+</li> <li>Redis: For caching</li> <li>PostgreSQL: For better database performance</li> </ul>"},{"location":"getting-started/installation/#installation-methods","title":"Installation Methods","text":""},{"location":"getting-started/installation/#method-1-using-uv-recommended-fastest","title":"Method 1: Using uv (Recommended - Fastest)","text":"<p>uv is a fast Python package manager.</p> <pre><code># 1. Install uv\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# 2. Clone repository\ngit clone https://github.com/arunbcodes/maverick-mcp.git\ncd maverick-mcp\n\n# 3. Install dependencies (very fast!)\nuv sync\n\n# 4. Done! Dependencies installed\n</code></pre>"},{"location":"getting-started/installation/#method-2-using-pip-traditional","title":"Method 2: Using pip (Traditional)","text":"<pre><code># 1. Clone repository\ngit clone https://github.com/arunbcodes/maverick-mcp.git\ncd maverick-mcp\n\n# 2. Create virtual environment\npython -m venv .venv\n\n# 3. Activate virtual environment\nsource .venv/bin/activate  # macOS/Linux\n# OR\n.venv\\Scripts\\activate  # Windows\n\n# 4. Install dependencies\npip install -e .\n\n# 5. Done!\n</code></pre>"},{"location":"getting-started/installation/#post-installation-setup","title":"Post-Installation Setup","text":""},{"location":"getting-started/installation/#1-configure-environment","title":"1. Configure Environment","text":"<pre><code># Copy example environment file\ncp .env.example .env\n\n# Edit with your API keys\nnano .env\n</code></pre> <p>Add your keys: <pre><code>TIINGO_API_KEY=your-key-here\nOPENROUTER_API_KEY=your-key-here  # For AI features\nOPENAI_API_KEY=your-key-here      # For RAG Q&amp;A\n</code></pre></p>"},{"location":"getting-started/installation/#2-verify-installation","title":"2. Verify Installation","text":"<pre><code># Test server starts\nmake dev\n\n# Should see:\n# INFO: Server started on http://localhost:8003\n# INFO: 40+ tools registered\n</code></pre>"},{"location":"getting-started/installation/#3-check-database","title":"3. Check Database","text":"<p>Database is created automatically with S&amp;P 500 data:</p> <pre><code># Check database location\nls ~/.maverick_mcp/maverick_mcp.db\n\n# Verify S&amp;P 500 data seeded\n# Should see logs about 520+ stocks loaded\n</code></pre>"},{"location":"getting-started/installation/#optional-components","title":"Optional Components","text":""},{"location":"getting-started/installation/#redis-recommended","title":"Redis (Recommended)","text":"<p>For better caching performance:</p> macOSUbuntu/DebianWindows <pre><code>brew install redis\nbrew services start redis\n</code></pre> <pre><code>sudo apt update\nsudo apt install redis-server\nsudo systemctl start redis\n</code></pre> <p>Download from redis.io/download</p>"},{"location":"getting-started/installation/#postgresql-optional","title":"PostgreSQL (Optional)","text":"<p>For larger datasets:</p> macOSUbuntu/DebianWindows <pre><code>brew install postgresql\nbrew services start postgresql\ncreatedb maverick_mcp\n</code></pre> <pre><code>sudo apt install postgresql\nsudo systemctl start postgresql\nsudo -u postgres createdb maverick_mcp\n</code></pre> <p>Download from postgresql.org/download</p>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#python-version","title":"Python Version","text":"<pre><code>python --version  # Should be 3.12+\n</code></pre> <p>If older:</p> macOSUbuntu <pre><code>brew install python@3.12\n</code></pre> <pre><code>sudo add-apt-repository ppa:deadsnakes/ppa\nsudo apt update\nsudo apt install python3.12\n</code></pre>"},{"location":"getting-started/installation/#permission-errors","title":"Permission Errors","text":"<pre><code># macOS/Linux\nchmod +x scripts/*.sh\n\n# Fix .env permissions\nchmod 600 .env\n</code></pre>"},{"location":"getting-started/installation/#missing-dependencies","title":"Missing Dependencies","text":"<pre><code># Reinstall\npip install --force-reinstall -e .\n\n# Or with uv\nuv sync --reinstall\n</code></pre>"},{"location":"getting-started/installation/#port-8003-in-use","title":"Port 8003 in Use","text":"<pre><code># Find process\nlsof -i :8003\n\n# Kill it\nkill -9 &lt;PID&gt;\n</code></pre>"},{"location":"getting-started/installation/#verify-everything-works","title":"Verify Everything Works","text":"<p>Run these commands to verify installation:</p> <pre><code># 1. Check Python version\npython --version\n\n# 2. Activate environment (if using pip)\nsource .venv/bin/activate\n\n# 3. Start server\nmake dev\n\n# 4. In another terminal, check it's running\nlsof -i :8003\n\n# 5. View logs\nmake tail-log\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Installation complete! Now:</p> <ol> <li>Configure your API keys</li> <li>Start using with Quick Start guide</li> <li>Connect to Claude Desktop</li> <li>Or use with Cursor IDE</li> </ol>"},{"location":"getting-started/installation/#uninstallation","title":"Uninstallation","text":"<p>To remove Maverick MCP:</p> <pre><code># Stop server\nmake stop\n\n# Remove virtual environment\nrm -rf .venv\n\n# Remove database (optional)\nrm -rf ~/.maverick_mcp\n\n# Remove repository\ncd ..\nrm -rf maverick-mcp\n</code></pre>"},{"location":"getting-started/installation/#updating","title":"Updating","text":"<p>To update to the latest version:</p> <pre><code>cd maverick-mcp\ngit pull origin main\n\n# Reinstall dependencies\nuv sync  # or pip install -e .\n\n# Restart server\nmake stop\nmake dev\n</code></pre>"},{"location":"getting-started/quick-start/","title":"Quick Start Guide","text":"<p>Get Maverick MCP up and running in minutes!</p>"},{"location":"getting-started/quick-start/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, ensure you have:</p> <ul> <li>Python 3.12+ installed</li> <li>uv package manager (recommended) or pip</li> <li>Git for cloning the repository</li> <li>Tiingo API key (free tier available at tiingo.com)</li> </ul>"},{"location":"getting-started/quick-start/#optional-recommended","title":"Optional (Recommended)","text":"<ul> <li>OpenRouter API key for AI features (openrouter.ai)</li> <li>OpenAI API key for embeddings/RAG (platform.openai.com)</li> <li>Redis for enhanced caching performance</li> </ul>"},{"location":"getting-started/quick-start/#installation","title":"Installation","text":""},{"location":"getting-started/quick-start/#step-1-clone-the-repository","title":"Step 1: Clone the Repository","text":"<pre><code>git clone https://github.com/arunbcodes/maverick-mcp.git\ncd maverick-mcp\n</code></pre>"},{"location":"getting-started/quick-start/#step-2-install-dependencies","title":"Step 2: Install Dependencies","text":"Using uv (Recommended)Using pip <pre><code># Install uv if you haven't already\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Install dependencies\nuv sync\n</code></pre> <pre><code># Create virtual environment\npython -m venv .venv\nsource .venv/bin/activate  # On Windows: .venv\\Scripts\\activate\n\n# Install dependencies\npip install -e .\n</code></pre>"},{"location":"getting-started/quick-start/#step-3-configure-environment-variables","title":"Step 3: Configure Environment Variables","text":"<p>Create a <code>.env</code> file in the project root:</p> <pre><code>cp .env.example .env\n</code></pre> <p>Edit <code>.env</code> and add your API keys:</p> <pre><code># Required - Stock data provider\nTIINGO_API_KEY=your-tiingo-key-here\n\n# Recommended - AI features\nOPENROUTER_API_KEY=your-openrouter-key-here\n\n# Optional - For RAG Q&amp;A\nOPENAI_API_KEY=your-openai-key-here\n\n# Optional - For enhanced data\nFRED_API_KEY=your-fred-key-here\nEXA_API_KEY=your-exa-key-here\n\n# Optional - Database (uses SQLite by default)\n# DATABASE_URL=postgresql://localhost/maverick_mcp\n\n# Optional - Redis caching\n# REDIS_HOST=localhost\n# REDIS_PORT=6379\n</code></pre> <p>Get Free API Keys</p> <ul> <li>Tiingo: Free tier includes 500 requests/day - Sign up</li> <li>OpenRouter: Pay-as-you-go pricing, access to 400+ models - Sign up</li> <li>OpenAI: Required only for RAG features - Sign up</li> </ul>"},{"location":"getting-started/quick-start/#step-4-initialize-database","title":"Step 4: Initialize Database","text":"<p>The database will be automatically initialized on first run with 520+ S&amp;P 500 stocks:</p> <pre><code>make dev\n</code></pre> <p>This will: - Create SQLite database (or connect to PostgreSQL if configured) - Seed S&amp;P 500 companies and screening data - Start the MCP server on port 8003</p>"},{"location":"getting-started/quick-start/#verify-installation","title":"Verify Installation","text":"<p>Check that the server is running:</p> <pre><code># Check if server is listening\nlsof -i :8003\n\n# You should see:\n# COMMAND   PID   USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME\n# Python  12345  abalak   8u  IPv4 0x1234567890abcdef      0t0  TCP *:8003 (LISTEN)\n</code></pre>"},{"location":"getting-started/quick-start/#connect-to-claude-desktop","title":"Connect to Claude Desktop","text":""},{"location":"getting-started/quick-start/#method-a-sse-transport-recommended-most-stable","title":"Method A: SSE Transport (Recommended - Most Stable)","text":"<ol> <li> <p>Ensure server is running:    <pre><code>make dev  # Server runs on port 8003\n</code></pre></p> </li> <li> <p>Configure Claude Desktop:</p> </li> </ol> <p>Edit your Claude Desktop config file:</p> <p>=== \"macOS\"        <pre><code>nano ~/Library/Application\\ Support/Claude/claude_desktop_config.json\n</code></pre></p> <p>=== \"Windows\"        <pre><code>notepad %APPDATA%\\Claude\\claude_desktop_config.json\n</code></pre></p> <p>=== \"Linux\"        <pre><code>nano ~/.config/Claude/claude_desktop_config.json\n</code></pre></p> <ol> <li>Add this configuration:    <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/sse/\"]\n    }\n  }\n}\n</code></pre></li> </ol> <p>!!! warning \"Critical: Trailing Slash Required\"        The <code>/sse/</code> endpoint must include the trailing slash to prevent 307 redirects that cause tools to disappear!</p> <ol> <li> <p>Restart Claude Desktop completely</p> </li> <li> <p>Test the connection:    <pre><code>User: \"List available tools\"\nClaude: [Shows 40+ Maverick MCP tools including conference call tools]\n</code></pre></p> </li> </ol>"},{"location":"getting-started/quick-start/#method-b-http-streamable-alternative","title":"Method B: HTTP Streamable (Alternative)","text":"<p>Follow the same steps but use: <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/mcp/\"]\n    }\n  }\n}\n</code></pre></p>"},{"location":"getting-started/quick-start/#quick-test","title":"Quick Test","text":"<p>Try these commands in Claude Desktop:</p>"},{"location":"getting-started/quick-start/#stock-analysis","title":"Stock Analysis","text":"<pre><code>Get technical analysis for AAPL\n</code></pre>"},{"location":"getting-started/quick-start/#conference-call-analysis","title":"Conference Call Analysis","text":"<pre><code>Fetch the transcript for RELIANCE.NS Q1 2025\n</code></pre> <pre><code>Summarize the TCS Q4 2024 earnings call\n</code></pre> <pre><code>What did management say about revenue growth in the INFY Q1 2025 call?\n</code></pre>"},{"location":"getting-started/quick-start/#stock-screening","title":"Stock Screening","text":"<pre><code>Show me the top Maverick bullish stocks\n</code></pre>"},{"location":"getting-started/quick-start/#portfolio-analysis","title":"Portfolio Analysis","text":"<pre><code>Add AAPL 10 shares at $150 to my portfolio\nCompare AAPL vs MSFT performance\n</code></pre>"},{"location":"getting-started/quick-start/#common-commands","title":"Common Commands","text":""},{"location":"getting-started/quick-start/#development","title":"Development","text":"<pre><code>make dev          # Start server\nmake stop         # Stop server\nmake tail-log     # Follow logs\nmake test         # Run tests\nmake lint         # Check code quality\n</code></pre>"},{"location":"getting-started/quick-start/#database","title":"Database","text":"<pre><code>make migrate      # Run migrations\nmake setup        # Initial setup\n</code></pre>"},{"location":"getting-started/quick-start/#utilities","title":"Utilities","text":"<pre><code>make clean        # Clean temporary files\nmake redis-start  # Start Redis (if using caching)\n</code></pre>"},{"location":"getting-started/quick-start/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/quick-start/#server-wont-start","title":"Server won't start","text":"<pre><code>make stop          # Stop any running processes\nmake clean         # Clean temporary files\nmake dev           # Restart\n</code></pre>"},{"location":"getting-started/quick-start/#port-already-in-use","title":"Port already in use","text":"<pre><code>lsof -i :8003      # Find what's using port 8003\nkill -9 &lt;PID&gt;      # Kill the process\nmake dev           # Restart\n</code></pre>"},{"location":"getting-started/quick-start/#claude-desktop-not-connecting","title":"Claude Desktop not connecting","text":"<ol> <li>Verify server is running: <code>lsof -i :8003</code></li> <li>Check config syntax in <code>claude_desktop_config.json</code></li> <li>Ensure you're using the SSE endpoint with trailing slash</li> <li>Restart Claude Desktop completely</li> <li>Check logs: <code>make tail-log</code></li> </ol>"},{"location":"getting-started/quick-start/#tools-disappearing-after-initial-connection","title":"Tools disappearing after initial connection","text":"<p>This usually means missing trailing slash in the SSE endpoint. Use: <pre><code>\"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/sse/\"]\n</code></pre></p> <p>NOT: <pre><code>\"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/sse\"]\n</code></pre></p>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<p>Now that you're up and running:</p> <ul> <li>\ud83d\udcd6 Learn about Configuration</li> <li>\ud83d\udcde Explore Conference Call Analysis</li> <li>\ud83d\udd27 Configure Claude Desktop properly</li> <li>\ud83d\udcda Browse MCP Tools Reference</li> <li>\ud83d\udca1 See Examples</li> </ul>"},{"location":"getting-started/quick-start/#need-help","title":"Need Help?","text":"<ul> <li>\ud83d\udcd6 Check the FAQ</li> <li>\ud83d\udc1b Report Issues</li> <li>\ud83d\udcda Read the Troubleshooting Guide</li> </ul>"},{"location":"packages/","title":"Package Architecture","text":"<p>Maverick MCP is built on a modular package architecture for maintainability, testability, and clean separation of concerns.</p>"},{"location":"packages/#package-overview","title":"Package Overview","text":"<pre><code>packages/\n\u251c\u2500\u2500 maverick-core      # Domain logic, interfaces, config, exceptions\n\u251c\u2500\u2500 maverick-data      # Models, providers, cache, repositories\n\u251c\u2500\u2500 maverick-backtest  # Backtesting engine, strategies, workflows\n\u251c\u2500\u2500 maverick-india     # Indian market support, news, concall\n\u251c\u2500\u2500 maverick-agents    # LLM agents, research, supervisors\n\u2514\u2500\u2500 maverick-server    # MCP server, routers, tools\n</code></pre>"},{"location":"packages/#architecture-diagram","title":"Architecture Diagram","text":"<pre><code>graph TB\n    subgraph \"Presentation Layer\"\n        MCP[MCP Server]\n        REST[REST API]\n    end\n\n    subgraph \"maverick-server\"\n        Routers[Tool Routers]\n        Monitoring[Monitoring]\n    end\n\n    subgraph \"Domain Layer\"\n        Agents[maverick-agents]\n        Backtest[maverick-backtest]\n        India[maverick-india]\n    end\n\n    subgraph \"Data Layer\"\n        Data[maverick-data]\n    end\n\n    subgraph \"Core\"\n        Core[maverick-core]\n    end\n\n    MCP --&gt; Routers\n    REST --&gt; Routers\n    Routers --&gt; Agents\n    Routers --&gt; Backtest\n    Routers --&gt; India\n    Agents --&gt; Data\n    Backtest --&gt; Data\n    India --&gt; Data\n    Data --&gt; Core\n    Agents --&gt; Core\n    Backtest --&gt; Core\n    India --&gt; Core</code></pre>"},{"location":"packages/#package-dependencies","title":"Package Dependencies","text":"Package Dependencies Purpose maverick-core numpy, pandas, pydantic Foundation - zero framework deps maverick-data maverick-core, sqlalchemy, redis Data persistence and caching maverick-backtest maverick-core, maverick-data, vectorbt Strategy backtesting maverick-india maverick-core, maverick-data Indian market support maverick-agents maverick-core, langchain, langgraph AI-powered analysis maverick-server All packages, fastmcp MCP server and API"},{"location":"packages/#quick-start","title":"Quick Start","text":""},{"location":"packages/#installation","title":"Installation","text":"<pre><code># Install all packages\npip install maverick-core maverick-data maverick-backtest maverick-india maverick-server\n\n# Or install from workspace\ncd maverick-mcp\nuv sync\n</code></pre>"},{"location":"packages/#basic-usage","title":"Basic Usage","text":"<pre><code># Core configuration\nfrom maverick_core import get_settings, get_logger\n\nsettings = get_settings()\nlogger = get_logger(__name__)\n\n# Data access\nfrom maverick_data import Stock, SessionLocal, StockDataProvider\n\nprovider = StockDataProvider()\ndf = provider.fetch_stock_data(\"AAPL\", period=\"1y\")\n\n# Technical analysis\nfrom maverick_core.technical import calculate_rsi, calculate_macd\n\ndf = calculate_rsi(df, period=14)\nmacd = calculate_macd(df)\n\n# Backtesting\nfrom maverick_backtest import BacktestEngine\n\nengine = BacktestEngine()\nresults = engine.run_backtest(\"AAPL\", strategy=\"sma_cross\")\n</code></pre>"},{"location":"packages/#design-principles","title":"Design Principles","text":""},{"location":"packages/#1-clean-architecture","title":"1. Clean Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Presentation (Server)           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           Application (Routers)           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           Domain (Agents, Backtest)       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           Data (Models, Providers)        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           Core (Interfaces, Entities)     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <ul> <li>Dependencies point inward</li> <li>Core has no external dependencies</li> <li>Domain is framework-agnostic</li> </ul>"},{"location":"packages/#2-interface-based-design","title":"2. Interface-Based Design","text":"<p>All services implement interfaces from <code>maverick-core</code>:</p> <pre><code>from maverick_core.interfaces import IStockDataFetcher\n\nclass MyProvider(IStockDataFetcher):\n    async def get_stock_data(self, symbol: str, ...) -&gt; pd.DataFrame:\n        # Custom implementation\n        ...\n</code></pre>"},{"location":"packages/#3-dependency-injection","title":"3. Dependency Injection","text":"<pre><code>from maverick_data import StockDataProvider\nfrom maverick_data.services import ScreeningService\n\n# Inject dependencies\nprovider = StockDataProvider()\nservice = ScreeningService(data_provider=provider)\n</code></pre>"},{"location":"packages/#4-resilience-patterns","title":"4. Resilience Patterns","text":"<pre><code>from maverick_core.resilience import circuit_breaker\n\n@circuit_breaker(name=\"api\", failure_threshold=3)\ndef fetch_data(ticker: str) -&gt; dict:\n    return api.get(ticker)\n</code></pre>"},{"location":"packages/#package-details","title":"Package Details","text":"<ul> <li>maverick-core - Core domain logic</li> <li>maverick-data - Data access layer</li> <li>maverick-backtest - Backtesting engine</li> <li>maverick-india - Indian market support</li> <li>maverick-server - MCP server</li> <li>Migration Guide - Migrating from legacy code</li> </ul>"},{"location":"packages/#version-compatibility","title":"Version Compatibility","text":"Package Version Python maverick-core 0.1.0 \u22653.12 maverick-data 0.1.0 \u22653.12 maverick-backtest 0.1.0 \u22653.12 maverick-india 0.1.0 \u22653.12 maverick-agents 0.1.0 \u22653.12 maverick-server 0.1.0 \u22653.12"},{"location":"packages/maverick-backtest/","title":"maverick-backtest","text":"<p>Backtesting engine and trading strategies for Maverick MCP.</p>"},{"location":"packages/maverick-backtest/#overview","title":"Overview","text":"<p><code>maverick-backtest</code> provides:</p> <ul> <li>Backtesting Engine: VectorBT-powered strategy execution</li> <li>Trading Strategies: SMA, RSI, MACD, Bollinger, and more</li> <li>ML Strategies: Machine learning enhanced trading</li> <li>Optimization: Parameter optimization with grid search</li> <li>Analysis: Walk-forward analysis and Monte Carlo simulation</li> <li>Workflows: LangGraph-based intelligent backtesting</li> </ul>"},{"location":"packages/maverick-backtest/#installation","title":"Installation","text":"<pre><code>pip install maverick-backtest\n</code></pre>"},{"location":"packages/maverick-backtest/#quick-start","title":"Quick Start","text":"<pre><code>from maverick_backtest import BacktestEngine, run_backtest\n\n# Simple backtest\nresults = run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    fast_period=10,\n    slow_period=20\n)\n\nprint(f\"Total Return: {results['total_return']:.2%}\")\nprint(f\"Sharpe Ratio: {results['sharpe_ratio']:.2f}\")\nprint(f\"Max Drawdown: {results['max_drawdown']:.2%}\")\n</code></pre>"},{"location":"packages/maverick-backtest/#backtesting-engine","title":"Backtesting Engine","text":""},{"location":"packages/maverick-backtest/#basic-usage","title":"Basic Usage","text":"<pre><code>from maverick_backtest import BacktestEngine\n\nengine = BacktestEngine()\n\n# Run backtest\nresults = engine.run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    start_date=\"2023-01-01\",\n    end_date=\"2024-01-01\",\n    initial_capital=10000,\n    fast_period=10,\n    slow_period=20\n)\n</code></pre>"},{"location":"packages/maverick-backtest/#results-structure","title":"Results Structure","text":"<pre><code>{\n    \"symbol\": \"AAPL\",\n    \"strategy\": \"sma_cross\",\n    \"start_date\": \"2023-01-01\",\n    \"end_date\": \"2024-01-01\",\n    \"initial_capital\": 10000,\n    \"final_value\": 12500,\n\n    # Performance metrics\n    \"total_return\": 0.25,          # 25%\n    \"annualized_return\": 0.28,     # 28% annualized\n    \"sharpe_ratio\": 1.85,\n    \"sortino_ratio\": 2.10,\n    \"max_drawdown\": -0.12,         # -12%\n    \"win_rate\": 0.58,              # 58%\n\n    # Trade statistics\n    \"total_trades\": 45,\n    \"winning_trades\": 26,\n    \"losing_trades\": 19,\n    \"avg_win\": 250.00,\n    \"avg_loss\": -150.00,\n    \"profit_factor\": 1.65,\n\n    # Trades list\n    \"trades\": [\n        {\"entry_date\": \"2023-01-15\", \"exit_date\": \"2023-02-01\", \"pnl\": 150},\n        # ...\n    ]\n}\n</code></pre>"},{"location":"packages/maverick-backtest/#trading-strategies","title":"Trading Strategies","text":""},{"location":"packages/maverick-backtest/#sma-crossover","title":"SMA Crossover","text":"<p>Classic moving average crossover strategy.</p> <pre><code>results = engine.run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    fast_period=10,    # Fast MA period\n    slow_period=20     # Slow MA period\n)\n</code></pre> <p>Signal Logic: - BUY: Fast SMA crosses above Slow SMA - SELL: Fast SMA crosses below Slow SMA</p>"},{"location":"packages/maverick-backtest/#rsi-strategy","title":"RSI Strategy","text":"<p>Relative Strength Index overbought/oversold strategy.</p> <pre><code>results = engine.run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"rsi\",\n    period=14,         # RSI period\n    oversold=30,       # Buy threshold\n    overbought=70      # Sell threshold\n)\n</code></pre> <p>Signal Logic: - BUY: RSI falls below <code>oversold</code> level - SELL: RSI rises above <code>overbought</code> level</p>"},{"location":"packages/maverick-backtest/#macd-strategy","title":"MACD Strategy","text":"<p>Moving Average Convergence Divergence strategy.</p> <pre><code>results = engine.run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"macd\",\n    fast_period=12,    # Fast EMA period\n    slow_period=26,    # Slow EMA period\n    signal_period=9    # Signal line period\n)\n</code></pre> <p>Signal Logic: - BUY: MACD line crosses above Signal line - SELL: MACD line crosses below Signal line</p>"},{"location":"packages/maverick-backtest/#bollinger-bands-strategy","title":"Bollinger Bands Strategy","text":"<p>Volatility-based mean reversion strategy.</p> <pre><code>results = engine.run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"bollinger\",\n    period=20,         # Moving average period\n    std_dev=2          # Standard deviation multiplier\n)\n</code></pre> <p>Signal Logic: - BUY: Price touches lower Bollinger Band - SELL: Price touches upper Bollinger Band</p>"},{"location":"packages/maverick-backtest/#momentum-strategy","title":"Momentum Strategy","text":"<p>Price momentum strategy.</p> <pre><code>results = engine.run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"momentum\",\n    lookback=10,       # Lookback period\n    threshold=0.02     # Momentum threshold (2%)\n)\n</code></pre> <p>Signal Logic: - BUY: Momentum &gt; threshold - SELL: Momentum &lt; -threshold</p>"},{"location":"packages/maverick-backtest/#mean-reversion-strategy","title":"Mean Reversion Strategy","text":"<p>Statistical mean reversion using z-scores.</p> <pre><code>results = engine.run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"mean_reversion\",\n    lookback=20,              # Lookback period\n    z_score_threshold=2.0     # Z-score threshold\n)\n</code></pre> <p>Signal Logic: - BUY: Z-score &lt; -threshold (price below mean) - SELL: Z-score &gt; threshold (price above mean)</p>"},{"location":"packages/maverick-backtest/#breakout-strategy","title":"Breakout Strategy","text":"<p>Price breakout from consolidation.</p> <pre><code>results = engine.run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"breakout\",\n    lookback=20,              # Consolidation period\n    breakout_factor=1.02      # Breakout threshold (2% above high)\n)\n</code></pre>"},{"location":"packages/maverick-backtest/#all-available-strategies","title":"All Available Strategies","text":"Strategy Key Parameters Description <code>sma_cross</code> fast_period, slow_period Moving average crossover <code>rsi</code> period, oversold, overbought RSI overbought/oversold <code>macd</code> fast_period, slow_period, signal_period MACD crossover <code>bollinger</code> period, std_dev Bollinger band bounce <code>momentum</code> lookback, threshold Price momentum <code>mean_reversion</code> lookback, z_score_threshold Statistical mean reversion <code>breakout</code> lookback, breakout_factor Price breakout"},{"location":"packages/maverick-backtest/#ml-enhanced-strategies","title":"ML-Enhanced Strategies","text":""},{"location":"packages/maverick-backtest/#ml-predictor-strategy","title":"ML Predictor Strategy","text":"<p>Machine learning price prediction.</p> <pre><code>results = engine.run_ml_backtest(\n    symbol=\"AAPL\",\n    strategy_type=\"ml_predictor\",\n    model_type=\"random_forest\",\n    train_ratio=0.8,\n    n_estimators=100,\n    max_depth=10\n)\n</code></pre>"},{"location":"packages/maverick-backtest/#adaptive-strategy","title":"Adaptive Strategy","text":"<p>Self-adjusting parameters based on market conditions.</p> <pre><code>results = engine.run_ml_backtest(\n    symbol=\"AAPL\",\n    strategy_type=\"adaptive\",\n    adaptation_method=\"gradient\",\n    learning_rate=0.01\n)\n</code></pre>"},{"location":"packages/maverick-backtest/#ensemble-strategy","title":"Ensemble Strategy","text":"<p>Combine multiple strategies with weighted voting.</p> <pre><code>from maverick_backtest import create_strategy_ensemble\n\nresults = create_strategy_ensemble(\n    symbols=[\"AAPL\", \"MSFT\"],\n    base_strategies=[\"sma_cross\", \"rsi\", \"macd\"],\n    weighting_method=\"performance\"  # or \"equal\", \"volatility\"\n)\n</code></pre>"},{"location":"packages/maverick-backtest/#regime-aware-strategy","title":"Regime-Aware Strategy","text":"<p>Adapt strategy based on detected market regime.</p> <pre><code># First, analyze regimes\nregimes = engine.analyze_market_regimes(\n    symbol=\"AAPL\",\n    method=\"hmm\",  # Hidden Markov Model\n    n_regimes=3\n)\n\n# Then run regime-aware backtest\nresults = engine.run_ml_backtest(\n    symbol=\"AAPL\",\n    strategy_type=\"regime_aware\",\n    regimes=regimes\n)\n</code></pre>"},{"location":"packages/maverick-backtest/#train-ml-model","title":"Train ML Model","text":"<pre><code>from maverick_backtest import train_ml_predictor\n\n# Train model\nmodel_results = train_ml_predictor(\n    symbol=\"AAPL\",\n    start_date=\"2020-01-01\",\n    end_date=\"2024-01-01\",\n    model_type=\"random_forest\",\n    target_periods=5,        # Predict 5 days ahead\n    return_threshold=0.02,   # 2% return threshold\n    n_estimators=100,\n    max_depth=10\n)\n\nprint(f\"Accuracy: {model_results['accuracy']:.2%}\")\nprint(f\"Precision: {model_results['precision']:.2%}\")\nprint(f\"Feature Importance: {model_results['feature_importance']}\")\n</code></pre>"},{"location":"packages/maverick-backtest/#optimization","title":"Optimization","text":""},{"location":"packages/maverick-backtest/#parameter-optimization","title":"Parameter Optimization","text":"<pre><code>from maverick_backtest import optimize_strategy\n\nresults = optimize_strategy(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    optimization_metric=\"sharpe_ratio\",  # or \"total_return\", \"win_rate\"\n    optimization_level=\"medium\",         # \"coarse\", \"medium\", \"fine\"\n    top_n=10\n)\n\nprint(\"Best Parameters:\")\nprint(f\"  Fast Period: {results['best_params']['fast_period']}\")\nprint(f\"  Slow Period: {results['best_params']['slow_period']}\")\nprint(f\"  Sharpe Ratio: {results['best_sharpe']:.2f}\")\n</code></pre>"},{"location":"packages/maverick-backtest/#custom-parameter-grid","title":"Custom Parameter Grid","text":"<pre><code>results = optimize_strategy(\n    symbol=\"AAPL\",\n    strategy=\"rsi\",\n    param_grid={\n        \"period\": [10, 14, 20],\n        \"oversold\": [25, 30, 35],\n        \"overbought\": [65, 70, 75]\n    },\n    optimization_metric=\"sharpe_ratio\"\n)\n</code></pre>"},{"location":"packages/maverick-backtest/#walk-forward-analysis","title":"Walk-Forward Analysis","text":"<p>Test strategy robustness over time.</p> <pre><code>from maverick_backtest import walk_forward_analysis\n\nresults = walk_forward_analysis(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    window_size=252,    # 1 year training window\n    step_size=63,       # Step forward 1 quarter\n    start_date=\"2020-01-01\",\n    end_date=\"2024-01-01\"\n)\n\nprint(f\"Average OOS Sharpe: {results['avg_oos_sharpe']:.2f}\")\nprint(f\"Consistency: {results['consistency']:.2%}\")\n</code></pre>"},{"location":"packages/maverick-backtest/#monte-carlo-simulation","title":"Monte Carlo Simulation","text":"<p>Statistical analysis of strategy performance.</p> <pre><code>from maverick_backtest import monte_carlo_simulation\n\nresults = monte_carlo_simulation(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    num_simulations=1000,\n    fast_period=10,\n    slow_period=20\n)\n\nprint(f\"Mean Return: {results['mean_return']:.2%}\")\nprint(f\"5th Percentile: {results['percentile_5']:.2%}\")\nprint(f\"95th Percentile: {results['percentile_95']:.2%}\")\nprint(f\"Probability of Profit: {results['prob_profit']:.2%}\")\n</code></pre>"},{"location":"packages/maverick-backtest/#strategy-comparison","title":"Strategy Comparison","text":"<p>Compare multiple strategies on the same symbol.</p> <pre><code>from maverick_backtest import compare_strategies\n\nresults = compare_strategies(\n    symbol=\"AAPL\",\n    strategies=[\"sma_cross\", \"rsi\", \"macd\", \"bollinger\"],\n    start_date=\"2023-01-01\",\n    end_date=\"2024-01-01\"\n)\n\n# Ranked by Sharpe Ratio\nfor rank, strategy in enumerate(results['rankings'], 1):\n    print(f\"{rank}. {strategy['name']}: Sharpe {strategy['sharpe_ratio']:.2f}\")\n</code></pre>"},{"location":"packages/maverick-backtest/#portfolio-backtesting","title":"Portfolio Backtesting","text":"<p>Backtest across multiple symbols.</p> <pre><code>from maverick_backtest import backtest_portfolio\n\nresults = backtest_portfolio(\n    symbols=[\"AAPL\", \"MSFT\", \"GOOGL\", \"AMZN\"],\n    strategy=\"sma_cross\",\n    initial_capital=100000,\n    position_size=0.25,   # 25% per position\n    fast_period=10,\n    slow_period=20\n)\n\nprint(f\"Portfolio Return: {results['total_return']:.2%}\")\nprint(f\"Portfolio Sharpe: {results['sharpe_ratio']:.2f}\")\n</code></pre>"},{"location":"packages/maverick-backtest/#market-regime-analysis","title":"Market Regime Analysis","text":"<p>Detect market regimes for strategy adaptation.</p> <pre><code>from maverick_backtest import analyze_market_regimes\n\nresults = analyze_market_regimes(\n    symbol=\"SPY\",\n    method=\"hmm\",           # \"hmm\", \"kmeans\", \"threshold\"\n    n_regimes=3,            # Bull, Bear, Sideways\n    lookback_period=50\n)\n\n# Current regime\nprint(f\"Current Regime: {results['current_regime']}\")\nprint(f\"Regime Probabilities: {results['regime_probabilities']}\")\n\n# Historical regimes\nfor regime in results['regimes']:\n    print(f\"{regime['name']}: {regime['avg_return']:.2%} return, {regime['volatility']:.2%} vol\")\n</code></pre>"},{"location":"packages/maverick-backtest/#chart-generation","title":"Chart Generation","text":"<p>Generate visual analysis charts.</p> <pre><code>from maverick_backtest import (\n    generate_backtest_charts,\n    generate_optimization_charts\n)\n\n# Backtest charts\ncharts = generate_backtest_charts(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    theme=\"dark\"  # or \"light\"\n)\n\n# Returns base64-encoded images\n# - equity_curve\n# - drawdown_chart\n# - trade_analysis\n# - indicator_chart\n\n# Optimization heatmap\nopt_charts = generate_optimization_charts(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\"\n)\n</code></pre>"},{"location":"packages/maverick-backtest/#langgraph-workflows","title":"LangGraph Workflows","text":"<p>Intelligent backtesting with AI agents.</p> <pre><code>from maverick_backtest import BacktestingWorkflow\n\nworkflow = BacktestingWorkflow()\n\n# Run intelligent backtest\nresults = await workflow.run({\n    \"symbol\": \"AAPL\",\n    \"user_goal\": \"Find the best momentum strategy for AAPL\",\n    \"risk_tolerance\": \"moderate\"\n})\n\n# Workflow steps:\n# 1. Market Analyzer - Determine market regime\n# 2. Strategy Selector - Select appropriate strategies\n# 3. Optimizer - Optimize parameters\n# 4. Validator - Validate with walk-forward analysis\n</code></pre>"},{"location":"packages/maverick-backtest/#natural-language-parsing","title":"Natural Language Parsing","text":"<p>Parse strategy descriptions.</p> <pre><code>from maverick_backtest import parse_strategy\n\n# Natural language to strategy\nconfig = parse_strategy(\n    \"Buy when RSI is below 30 and sell when above 70\"\n)\n# {\"strategy\": \"rsi\", \"period\": 14, \"oversold\": 30, \"overbought\": 70}\n\nconfig = parse_strategy(\n    \"Use 10-day and 20-day moving average crossover\"\n)\n# {\"strategy\": \"sma_cross\", \"fast_period\": 10, \"slow_period\": 20}\n</code></pre>"},{"location":"packages/maverick-backtest/#configuration","title":"Configuration","text":""},{"location":"packages/maverick-backtest/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>BACKTEST_CACHE_TTL</code> Results cache TTL <code>3600</code> <code>VBT_PARALLEL</code> Enable parallel execution <code>true</code>"},{"location":"packages/maverick-backtest/#engine-configuration","title":"Engine Configuration","text":"<pre><code>engine = BacktestEngine(\n    cache_enabled=True,\n    parallel_enabled=True,\n    max_workers=4\n)\n</code></pre>"},{"location":"packages/maverick-backtest/#testing","title":"Testing","text":"<pre><code>import pytest\nfrom maverick_backtest import BacktestEngine\nimport pandas as pd\n\ndef test_sma_crossover():\n    engine = BacktestEngine()\n\n    results = engine.run_backtest(\n        symbol=\"AAPL\",\n        strategy=\"sma_cross\",\n        start_date=\"2023-01-01\",\n        end_date=\"2023-12-31\",\n        fast_period=10,\n        slow_period=20\n    )\n\n    assert results['total_trades'] &gt; 0\n    assert 'sharpe_ratio' in results\n    assert 'max_drawdown' in results\n</code></pre>"},{"location":"packages/maverick-backtest/#api-reference","title":"API Reference","text":"<p>For detailed API documentation, see:</p> <ul> <li>Backtesting Engine API</li> </ul>"},{"location":"packages/maverick-core/","title":"maverick-core","text":"<p>Core domain logic, interfaces, and utilities for Maverick MCP.</p>"},{"location":"packages/maverick-core/#overview","title":"Overview","text":"<p><code>maverick-core</code> is the foundation package containing:</p> <ul> <li>Domain Entities: Portfolio, Position, and other business objects</li> <li>Interfaces: Protocol-based contracts for all services</li> <li>Technical Analysis: Pure functions for indicators</li> <li>Configuration: Centralized settings management</li> <li>Exceptions: Comprehensive exception hierarchy</li> <li>Resilience: Circuit breakers and fallback strategies</li> <li>Logging: Structured logging with correlation IDs</li> <li>Validation: Input validation utilities</li> </ul> <p>Zero Framework Dependencies</p> <p>This package has minimal external dependencies (numpy, pandas, pydantic) and no framework dependencies like SQLAlchemy or Redis.</p>"},{"location":"packages/maverick-core/#installation","title":"Installation","text":"<pre><code>pip install maverick-core\n</code></pre>"},{"location":"packages/maverick-core/#configuration","title":"Configuration","text":""},{"location":"packages/maverick-core/#settings-management","title":"Settings Management","text":"<pre><code>from maverick_core import Settings, get_settings\n\n# Get singleton settings\nsettings = get_settings()\n\n# Access configuration\nprint(settings.database_url)\nprint(settings.redis_url)\nprint(settings.tiingo_api_key)\nprint(settings.log_level)\n</code></pre>"},{"location":"packages/maverick-core/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>DATABASE_URL</code> PostgreSQL connection <code>sqlite:///maverick.db</code> <code>REDIS_URL</code> Redis connection <code>redis://localhost:6379</code> <code>LOG_LEVEL</code> Logging level <code>INFO</code> <code>ENVIRONMENT</code> Environment name <code>development</code> <code>TIINGO_API_KEY</code> Stock data API key Required <code>OPENROUTER_API_KEY</code> LLM API key Optional <code>EXA_API_KEY</code> Web search API key Optional"},{"location":"packages/maverick-core/#custom-settings","title":"Custom Settings","text":"<pre><code>from maverick_core import Settings\n\n# Create with custom values\nsettings = Settings(\n    database_url=\"postgresql://user:pass@localhost/db\",\n    log_level=\"DEBUG\",\n    environment=\"production\"\n)\n</code></pre>"},{"location":"packages/maverick-core/#domain-entities","title":"Domain Entities","text":""},{"location":"packages/maverick-core/#portfolio-position","title":"Portfolio &amp; Position","text":"<pre><code>from maverick_core.domain import Portfolio, Position\nfrom decimal import Decimal\nfrom datetime import datetime, UTC\n\n# Create a portfolio\nportfolio = Portfolio(\n    portfolio_id=\"my-portfolio\",\n    user_id=\"default\",\n    name=\"My Investments\"\n)\n\n# Add positions\nportfolio.add_position(\n    ticker=\"AAPL\",\n    shares=Decimal(\"10\"),\n    price=Decimal(\"150.00\"),\n    date=datetime.now(UTC)\n)\n\nportfolio.add_position(\n    ticker=\"MSFT\",\n    shares=Decimal(\"5\"),\n    price=Decimal(\"400.00\"),\n    date=datetime.now(UTC)\n)\n\n# Get position\nposition = portfolio.get_position(\"AAPL\")\nprint(f\"AAPL: {position.shares} shares @ ${position.cost_basis}\")\n\n# Calculate metrics with current prices\nmetrics = portfolio.calculate_portfolio_metrics({\n    \"AAPL\": Decimal(\"175.00\"),\n    \"MSFT\": Decimal(\"420.00\")\n})\n\nprint(f\"Total Value: ${metrics['total_current_value']:,.2f}\")\nprint(f\"Total P&amp;L: ${metrics['total_pnl']:,.2f}\")\nprint(f\"P&amp;L %: {metrics['total_pnl_percent']:.2f}%\")\n</code></pre>"},{"location":"packages/maverick-core/#position-operations","title":"Position Operations","text":"<pre><code># Add to existing position (averages cost)\nposition = position.add_shares(\n    shares=Decimal(\"5\"),\n    price=Decimal(\"160.00\")\n)\n\n# Remove shares\nremaining = position.remove_shares(Decimal(\"3\"))\n\n# Calculate current value\npnl = position.calculate_current_value(Decimal(\"175.00\"))\nprint(f\"Unrealized P&amp;L: ${pnl['pnl']:,.2f}\")\n</code></pre>"},{"location":"packages/maverick-core/#interfaces","title":"Interfaces","text":"<p>All services implement interfaces for testability and flexibility.</p>"},{"location":"packages/maverick-core/#stock-data-interface","title":"Stock Data Interface","text":"<pre><code>from maverick_core.interfaces import IStockDataFetcher\nimport pandas as pd\n\nclass MyDataProvider(IStockDataFetcher):\n    \"\"\"Custom data provider implementation.\"\"\"\n\n    async def get_stock_data(\n        self,\n        symbol: str,\n        start_date: str | None = None,\n        end_date: str | None = None,\n        interval: str = \"1d\"\n    ) -&gt; pd.DataFrame:\n        # Your implementation\n        ...\n\n    async def get_stock_info(self, symbol: str) -&gt; dict:\n        # Your implementation\n        ...\n</code></pre>"},{"location":"packages/maverick-core/#available-interfaces","title":"Available Interfaces","text":"Interface Package Purpose <code>IStockDataFetcher</code> maverick-data Stock data fetching <code>IStockScreener</code> maverick-data Stock screening <code>ICacheProvider</code> maverick-data Cache operations <code>IRepository</code> maverick-data Data persistence <code>IStockRepository</code> maverick-data Stock-specific persistence <code>IPortfolioRepository</code> maverick-data Portfolio persistence <code>ITechnicalAnalyzer</code> maverick-backtest Technical analysis <code>IMarketCalendar</code> maverick-data Market hours/holidays <code>ILLMProvider</code> maverick-agents LLM access <code>IResearchAgent</code> maverick-agents Research operations <code>IBacktestEngine</code> maverick-backtest Backtesting <code>IStrategy</code> maverick-backtest Trading strategies"},{"location":"packages/maverick-core/#technical-analysis","title":"Technical Analysis","text":"<p>Pure functions for calculating technical indicators.</p>"},{"location":"packages/maverick-core/#moving-averages","title":"Moving Averages","text":"<pre><code>from maverick_core.technical import calculate_sma, calculate_ema\nimport pandas as pd\n\n# Sample data\ndf = pd.DataFrame({\n    'Close': [100, 102, 101, 103, 105, 104, 106, 108, 107, 109]\n})\n\n# Simple Moving Average\ndf['SMA_5'] = calculate_sma(df['Close'], period=5)\n\n# Exponential Moving Average\ndf['EMA_5'] = calculate_ema(df['Close'], period=5)\n</code></pre>"},{"location":"packages/maverick-core/#rsi","title":"RSI","text":"<pre><code>from maverick_core.technical import calculate_rsi\n\n# RSI (default period=14)\ndf['RSI'] = calculate_rsi(df['Close'], period=14)\n\n# Overbought/oversold signals\ndf['Signal'] = df['RSI'].apply(\n    lambda x: 'Overbought' if x &gt; 70 else ('Oversold' if x &lt; 30 else 'Neutral')\n)\n</code></pre>"},{"location":"packages/maverick-core/#macd","title":"MACD","text":"<pre><code>from maverick_core.technical import calculate_macd\n\n# Calculate MACD\nmacd = calculate_macd(\n    df['Close'],\n    fast_period=12,\n    slow_period=26,\n    signal_period=9\n)\n\ndf['MACD'] = macd['macd']\ndf['MACD_Signal'] = macd['signal']\ndf['MACD_Histogram'] = macd['histogram']\n</code></pre>"},{"location":"packages/maverick-core/#bollinger-bands","title":"Bollinger Bands","text":"<pre><code>from maverick_core.technical import calculate_bollinger_bands\n\n# Calculate Bollinger Bands\nbb = calculate_bollinger_bands(df['Close'], period=20, std_dev=2)\n\ndf['BB_Upper'] = bb['upper']\ndf['BB_Middle'] = bb['middle']\ndf['BB_Lower'] = bb['lower']\n</code></pre>"},{"location":"packages/maverick-core/#all-available-indicators","title":"All Available Indicators","text":"Function Parameters Returns <code>calculate_sma</code> prices, period Series <code>calculate_ema</code> prices, period Series <code>calculate_rsi</code> prices, period Series <code>calculate_macd</code> prices, fast, slow, signal Dict <code>calculate_bollinger_bands</code> prices, period, std_dev Dict <code>calculate_atr</code> high, low, close, period Series <code>calculate_stochastic</code> high, low, close, k, d Dict <code>calculate_momentum</code> prices, period Series <code>calculate_obv</code> close, volume Series <code>calculate_support_resistance</code> high, low, close Dict <code>calculate_trend_strength</code> prices, period Series"},{"location":"packages/maverick-core/#exceptions","title":"Exceptions","text":"<p>Comprehensive exception hierarchy for error handling.</p>"},{"location":"packages/maverick-core/#exception-hierarchy","title":"Exception Hierarchy","text":"<pre><code>MaverickException (base)\n\u251c\u2500\u2500 ValidationError\n\u2502   \u251c\u2500\u2500 ParameterValidationError\n\u2502   \u2514\u2500\u2500 DataValidationError\n\u251c\u2500\u2500 StockDataError\n\u2502   \u251c\u2500\u2500 SymbolNotFoundError\n\u2502   \u2514\u2500\u2500 DataProviderError\n\u251c\u2500\u2500 CacheError\n\u2502   \u2514\u2500\u2500 CacheConnectionError\n\u251c\u2500\u2500 DatabaseError\n\u2502   \u251c\u2500\u2500 DatabaseConnectionError\n\u2502   \u2514\u2500\u2500 DataIntegrityError\n\u251c\u2500\u2500 StrategyError\n\u2502   \u2514\u2500\u2500 BacktestError\n\u251c\u2500\u2500 AgentError\n\u2502   \u251c\u2500\u2500 AgentInitializationError\n\u2502   \u2514\u2500\u2500 AgentExecutionError\n\u251c\u2500\u2500 LLMError\n\u251c\u2500\u2500 RateLimitError\n\u2502   \u2514\u2500\u2500 APIRateLimitError\n\u251c\u2500\u2500 CircuitBreakerError\n\u2514\u2500\u2500 ExternalServiceError\n</code></pre>"},{"location":"packages/maverick-core/#usage","title":"Usage","text":"<pre><code>from maverick_core import (\n    MaverickException,\n    ValidationError,\n    StockDataError,\n    SymbolNotFoundError,\n)\n\ndef get_stock_data(ticker: str) -&gt; dict:\n    if not ticker:\n        raise ValidationError(\"Ticker symbol is required\")\n\n    if ticker not in valid_tickers:\n        raise SymbolNotFoundError(f\"Symbol not found: {ticker}\")\n\n    try:\n        return fetch_data(ticker)\n    except APIError as e:\n        raise StockDataError(f\"Failed to fetch {ticker}: {e}\") from e\n</code></pre>"},{"location":"packages/maverick-core/#error-codes","title":"Error Codes","text":"<pre><code>from maverick_core.exceptions import ERROR_CODES, get_error_message\n\n# Get human-readable message\nmessage = get_error_message(\"VALIDATION_ERROR\")\n# \"Invalid input parameters provided\"\n</code></pre>"},{"location":"packages/maverick-core/#resilience","title":"Resilience","text":"<p>Circuit breakers and fallback strategies for robust APIs.</p>"},{"location":"packages/maverick-core/#circuit-breaker","title":"Circuit Breaker","text":"<pre><code>from maverick_core.resilience import circuit_breaker, CircuitBreakerError\n\n@circuit_breaker(\n    name=\"stock_api\",\n    failure_threshold=3,\n    recovery_timeout=60\n)\ndef fetch_stock_data(ticker: str) -&gt; dict:\n    return external_api.get(ticker)\n\n# Usage\ntry:\n    data = fetch_stock_data(\"AAPL\")\nexcept CircuitBreakerError:\n    # Circuit is open, use fallback\n    data = get_cached_data(\"AAPL\")\n</code></pre>"},{"location":"packages/maverick-core/#circuit-breaker-configuration","title":"Circuit Breaker Configuration","text":"<pre><code>from maverick_core.resilience import (\n    EnhancedCircuitBreaker,\n    CircuitBreakerConfig,\n    CircuitState,\n    FailureDetectionStrategy\n)\n\nconfig = CircuitBreakerConfig(\n    name=\"api_breaker\",\n    failure_threshold=5,\n    recovery_timeout=30,\n    half_open_max_calls=3,\n    detection_strategy=FailureDetectionStrategy.CONSECUTIVE_FAILURES\n)\n\nbreaker = EnhancedCircuitBreaker(config)\n\n# Manual check\nif breaker.is_closed:\n    result = breaker.call_sync(lambda: api.get(\"AAPL\"))\n</code></pre>"},{"location":"packages/maverick-core/#fallback-strategies","title":"Fallback Strategies","text":"<pre><code>from maverick_core.resilience import FallbackChain, FallbackStrategy\n\nclass CacheFallback(FallbackStrategy):\n    def can_execute(self, context: dict) -&gt; bool:\n        return \"ticker\" in context\n\n    def execute_sync(self, context: dict) -&gt; dict:\n        return cache.get(f\"stock:{context['ticker']}\")\n\nclass DefaultFallback(FallbackStrategy):\n    def can_execute(self, context: dict) -&gt; bool:\n        return True\n\n    def execute_sync(self, context: dict) -&gt; dict:\n        return {\"error\": \"Data unavailable\"}\n\n# Chain fallbacks\nchain = FallbackChain([\n    CacheFallback(),\n    DefaultFallback()\n])\n\nresult = chain.execute_sync({\"ticker\": \"AAPL\"})\n</code></pre>"},{"location":"packages/maverick-core/#logging","title":"Logging","text":"<p>Structured logging with correlation IDs.</p>"},{"location":"packages/maverick-core/#basic-usage","title":"Basic Usage","text":"<pre><code>from maverick_core import get_logger, setup_logging\n\n# Setup logging\nsetup_logging(level=\"INFO\", format=\"json\")\n\n# Get logger\nlogger = get_logger(__name__)\n\nlogger.info(\"Processing request\", extra={\n    \"ticker\": \"AAPL\",\n    \"action\": \"fetch_data\"\n})\n</code></pre>"},{"location":"packages/maverick-core/#correlation-ids","title":"Correlation IDs","text":"<pre><code>from maverick_core.logging import (\n    with_correlation_id,\n    get_correlation_id,\n    set_correlation_id\n)\n\n@with_correlation_id\ndef process_request(request_id: str):\n    logger.info(\"Processing\", extra={\"request_id\": request_id})\n    # All logs in this context will have the correlation ID\n    fetch_data()\n    analyze_data()\n\n# Manual correlation ID\nset_correlation_id(\"req-12345\")\nlogger.info(\"Manual correlation\")\nprint(get_correlation_id())  # \"req-12345\"\n</code></pre>"},{"location":"packages/maverick-core/#structured-output","title":"Structured Output","text":"<pre><code># JSON format output:\n{\n    \"timestamp\": \"2025-01-15T10:30:00.000Z\",\n    \"level\": \"INFO\",\n    \"message\": \"Processing request\",\n    \"correlation_id\": \"req-12345\",\n    \"ticker\": \"AAPL\",\n    \"action\": \"fetch_data\",\n    \"module\": \"maverick_data.providers\"\n}\n</code></pre>"},{"location":"packages/maverick-core/#validation","title":"Validation","text":"<p>Input validation utilities.</p>"},{"location":"packages/maverick-core/#built-in-validators","title":"Built-in Validators","text":"<pre><code>from maverick_core.validation import (\n    validate_symbol,\n    validate_date_range,\n    validate_positive_number,\n    validate_in_range,\n    validate_percentage,\n)\n\n# Symbol validation\nvalidate_symbol(\"AAPL\")           # OK\nvalidate_symbol(\"RELIANCE.NS\")    # OK\nvalidate_symbol(\"invalid@sym\")    # Raises ValidationError\n\n# Date range validation\nvalidate_date_range(\"2024-01-01\", \"2024-12-31\")  # OK\nvalidate_date_range(\"2024-12-31\", \"2024-01-01\")  # Raises ValidationError\n\n# Number validation\nvalidate_positive_number(100)     # OK\nvalidate_positive_number(-1)      # Raises ValidationError\n\n# Range validation\nvalidate_in_range(50, 0, 100)     # OK\nvalidate_percentage(150)          # Raises ValidationError\n</code></pre>"},{"location":"packages/maverick-core/#pydantic-models","title":"Pydantic Models","text":"<pre><code>from maverick_core.validation import (\n    BaseRequest,\n    TickerSymbol,\n    DateString,\n    PositiveFloat,\n    Percentage\n)\n\nclass StockRequest(BaseRequest):\n    ticker: TickerSymbol\n    start_date: DateString | None = None\n    end_date: DateString | None = None\n    confidence: Percentage = 0.95\n    amount: PositiveFloat = 10000.0\n\n# Automatic validation\nrequest = StockRequest(\n    ticker=\"AAPL\",\n    start_date=\"2024-01-01\",\n    confidence=0.95\n)\n</code></pre>"},{"location":"packages/maverick-core/#testing","title":"Testing","text":""},{"location":"packages/maverick-core/#unit-tests","title":"Unit Tests","text":"<pre><code>from maverick_core.domain import Portfolio\nfrom decimal import Decimal\n\ndef test_portfolio_add_position():\n    portfolio = Portfolio(\"test\", \"user1\", \"Test Portfolio\")\n\n    portfolio.add_position(\"AAPL\", Decimal(\"10\"), Decimal(\"150\"))\n\n    position = portfolio.get_position(\"AAPL\")\n    assert position.shares == Decimal(\"10\")\n    assert position.cost_basis == Decimal(\"150\")\n</code></pre>"},{"location":"packages/maverick-core/#mocking-interfaces","title":"Mocking Interfaces","text":"<pre><code>from unittest.mock import Mock\nfrom maverick_core.interfaces import IStockDataFetcher\nimport pandas as pd\n\ndef test_with_mock_provider():\n    # Create mock\n    mock_provider = Mock(spec=IStockDataFetcher)\n    mock_provider.get_stock_data.return_value = pd.DataFrame({\n        \"Close\": [100, 101, 102]\n    })\n\n    # Use in tests\n    result = mock_provider.get_stock_data(\"AAPL\")\n    assert len(result) == 3\n</code></pre>"},{"location":"packages/maverick-core/#api-reference","title":"API Reference","text":"<p>For detailed API documentation, see:</p> <ul> <li>Configuration API</li> <li>Logging API</li> <li>Exceptions API</li> <li>Resilience API</li> </ul>"},{"location":"packages/maverick-data/","title":"maverick-data","text":"<p>Data access, caching, and persistence for Maverick MCP.</p>"},{"location":"packages/maverick-data/#overview","title":"Overview","text":"<p><code>maverick-data</code> provides:</p> <ul> <li>Database Models: SQLAlchemy models for stocks, prices, portfolios</li> <li>Session Management: Sync and async database connections</li> <li>Cache Providers: Redis and in-memory caching</li> <li>Data Providers: Stock data fetching (yfinance, Tiingo)</li> <li>Repositories: Repository pattern for data access</li> <li>Services: Business logic for data operations</li> </ul>"},{"location":"packages/maverick-data/#installation","title":"Installation","text":"<pre><code>pip install maverick-data\n</code></pre>"},{"location":"packages/maverick-data/#quick-start","title":"Quick Start","text":"<pre><code>from maverick_data import (\n    # Session management\n    get_session, init_db, SessionLocal,\n\n    # Models\n    Stock, PriceCache, MaverickStocks,\n\n    # Providers\n    StockDataProvider, EnhancedStockDataProvider,\n\n    # Services\n    ScreeningService, MarketCalendarService,\n)\n\n# Initialize database\ninit_db()\n\n# Fetch stock data\nprovider = StockDataProvider()\ndf = provider.fetch_stock_data(\"AAPL\", period=\"1y\")\n\n# Get screening results\nservice = ScreeningService()\nresults = service.get_maverick_recommendations(limit=10)\n</code></pre>"},{"location":"packages/maverick-data/#database-configuration","title":"Database Configuration","text":""},{"location":"packages/maverick-data/#connection-string","title":"Connection String","text":"<pre><code># Environment variable\nDATABASE_URL=postgresql://user:pass@localhost:5432/maverick_db\n\n# Or SQLite for development\nDATABASE_URL=sqlite:///maverick.db\n</code></pre>"},{"location":"packages/maverick-data/#session-management","title":"Session Management","text":"<pre><code>from maverick_data import get_session, get_db, get_async_db\n\n# Simple session (auto-closes)\nwith get_session() as session:\n    stocks = session.query(Stock).all()\n\n# FastAPI dependency\n@app.get(\"/stocks\")\ndef list_stocks(db: Session = Depends(get_db)):\n    return db.query(Stock).all()\n\n# Async session\n@app.get(\"/stocks\")\nasync def list_stocks(db: AsyncSession = Depends(get_async_db)):\n    result = await db.execute(select(Stock))\n    return result.scalars().all()\n</code></pre>"},{"location":"packages/maverick-data/#connection-pooling","title":"Connection Pooling","text":"<pre><code>from maverick_data import engine, SessionLocal\n\n# Engine with connection pooling (configured automatically)\n# - pool_size: 20\n# - max_overflow: 10\n# - pool_timeout: 30\n# - pool_recycle: 3600\n</code></pre>"},{"location":"packages/maverick-data/#models","title":"Models","text":""},{"location":"packages/maverick-data/#stock-model","title":"Stock Model","text":"<pre><code>from maverick_data import Stock\n\n# Query stocks\nwith get_session() as session:\n    # Get by ticker\n    stock = session.query(Stock).filter_by(ticker_symbol=\"AAPL\").first()\n\n    # Get all S&amp;P 500\n    sp500 = session.query(Stock).filter_by(is_sp500=True).all()\n\n    # Get Indian stocks\n    indian = session.query(Stock).filter(\n        Stock.ticker_symbol.like(\"%.NS\")\n    ).all()\n</code></pre>"},{"location":"packages/maverick-data/#price-cache-model","title":"Price Cache Model","text":"<pre><code>from maverick_data import PriceCache\nfrom datetime import date\n\n# Query cached prices\nwith get_session() as session:\n    prices = session.query(PriceCache).filter(\n        PriceCache.ticker_symbol == \"AAPL\",\n        PriceCache.date &gt;= date(2024, 1, 1)\n    ).order_by(PriceCache.date).all()\n\n    for price in prices:\n        print(f\"{price.date}: ${price.close:.2f}\")\n</code></pre>"},{"location":"packages/maverick-data/#screening-models","title":"Screening Models","text":"<pre><code>from maverick_data import (\n    MaverickStocks,\n    MaverickBearStocks,\n    SupplyDemandBreakoutStocks\n)\n\n# Get Maverick bullish picks\nwith get_session() as session:\n    bullish = session.query(MaverickStocks).filter(\n        MaverickStocks.combined_score &gt;= 80\n    ).order_by(MaverickStocks.combined_score.desc()).limit(10).all()\n\n    for stock in bullish:\n        print(f\"{stock.ticker_symbol}: {stock.combined_score}\")\n</code></pre>"},{"location":"packages/maverick-data/#portfolio-models","title":"Portfolio Models","text":"<pre><code>from maverick_data import UserPortfolio, PortfolioPosition\n\n# Create portfolio\nwith get_session() as session:\n    portfolio = UserPortfolio(\n        user_id=\"default\",\n        name=\"My Portfolio\"\n    )\n    session.add(portfolio)\n\n    # Add position\n    position = PortfolioPosition(\n        portfolio_id=portfolio.id,\n        ticker=\"AAPL\",\n        shares=10,\n        cost_basis=150.00\n    )\n    session.add(position)\n    session.commit()\n</code></pre>"},{"location":"packages/maverick-data/#all-available-models","title":"All Available Models","text":"Model Purpose <code>Stock</code> Stock master data <code>PriceCache</code> Historical price data <code>TechnicalCache</code> Technical indicator cache <code>MaverickStocks</code> Bullish screening results <code>MaverickBearStocks</code> Bearish screening results <code>SupplyDemandBreakoutStocks</code> Breakout patterns <code>UserPortfolio</code> User portfolios <code>PortfolioPosition</code> Portfolio positions <code>BacktestResult</code> Backtest results <code>BacktestTrade</code> Individual trades <code>OptimizationResult</code> Parameter optimization <code>ExchangeRate</code> Currency exchange rates <code>NewsArticle</code> News articles"},{"location":"packages/maverick-data/#providers","title":"Providers","text":""},{"location":"packages/maverick-data/#stockdataprovider","title":"StockDataProvider","text":"<p>Basic stock data fetching.</p> <pre><code>from maverick_data.providers import StockDataProvider\n\nprovider = StockDataProvider()\n\n# Fetch historical data\ndf = provider.fetch_stock_data(\n    ticker=\"AAPL\",\n    start_date=\"2024-01-01\",\n    end_date=\"2024-12-31\"\n)\n\n# Get stock info\ninfo = provider.get_stock_info(\"AAPL\")\nprint(f\"Name: {info['longName']}\")\nprint(f\"Sector: {info['sector']}\")\nprint(f\"Market Cap: ${info['marketCap']:,.0f}\")\n</code></pre>"},{"location":"packages/maverick-data/#enhancedstockdataprovider","title":"EnhancedStockDataProvider","text":"<p>Production-ready provider with caching and resilience.</p> <pre><code>from maverick_data.providers import EnhancedStockDataProvider\n\nprovider = EnhancedStockDataProvider()\n\n# Automatically uses cache and circuit breaker\ndf = provider.fetch_stock_data(\"AAPL\", period=\"1y\")\n\n# Force refresh from API\ndf = provider.fetch_stock_data(\"AAPL\", period=\"1y\", force_refresh=True)\n</code></pre>"},{"location":"packages/maverick-data/#multi-market-support","title":"Multi-Market Support","text":"<pre><code># US Market (default)\nprovider.fetch_stock_data(\"AAPL\")\nprovider.fetch_stock_data(\"MSFT\")\n\n# Indian NSE\nprovider.fetch_stock_data(\"RELIANCE.NS\")\nprovider.fetch_stock_data(\"TCS.NS\")\n\n# Indian BSE\nprovider.fetch_stock_data(\"RELIANCE.BO\")\n</code></pre>"},{"location":"packages/maverick-data/#marketdataprovider","title":"MarketDataProvider","text":"<p>Market indices and sector data.</p> <pre><code>from maverick_data.providers import MarketDataProvider\n\nmarket = MarketDataProvider()\n\n# Get market overview\noverview = market.get_market_overview()\n\n# Get sector performance\nsectors = market.get_sector_performance()\n\n# Get market breadth\nbreadth = market.get_market_breadth()\n</code></pre>"},{"location":"packages/maverick-data/#macrodataprovider","title":"MacroDataProvider","text":"<p>Economic indicators and macro data.</p> <pre><code>from maverick_data.providers import MacroDataProvider\n\nmacro = MacroDataProvider()\n\n# Get economic indicators\ngdp = macro.get_gdp_growth()\ninflation = macro.get_inflation_rate()\nunemployment = macro.get_unemployment_rate()\n\n# Get interest rates\nrates = macro.get_interest_rates()\n</code></pre>"},{"location":"packages/maverick-data/#services","title":"Services","text":""},{"location":"packages/maverick-data/#screeningservice","title":"ScreeningService","text":"<p>Stock screening with multiple strategies.</p> <pre><code>from maverick_data.services import ScreeningService\n\nservice = ScreeningService()\n\n# Maverick bullish picks\nbullish = service.get_maverick_recommendations(limit=20)\nfor stock in bullish:\n    print(f\"{stock['ticker_symbol']}: Score {stock['combined_score']}\")\n\n# Maverick bearish picks\nbearish = service.get_maverick_bear_recommendations(limit=20)\n\n# Supply/demand breakouts\nbreakouts = service.get_supply_demand_breakouts(limit=20)\n</code></pre>"},{"location":"packages/maverick-data/#marketcalendarservice","title":"MarketCalendarService","text":"<p>Market hours, holidays, and trading days.</p> <pre><code>from maverick_data.services import MarketCalendarService\n\ncalendar = MarketCalendarService()\n\n# Check if trading day\nis_trading = calendar.is_trading_day(\"2024-01-15\", \"NYSE\")\n\n# Get trading days\ntrading_days = calendar.get_trading_days(\n    \"2024-01-01\", \"2024-01-31\", \"NYSE\"\n)\n\n# Get market hours\nhours = calendar.get_market_hours(\"NYSE\")\nprint(f\"Open: {hours['open']}, Close: {hours['close']}\")\n\n# NSE market\nnse_hours = calendar.get_market_hours(\"NSE\")\nprint(f\"NSE: {nse_hours['open']} - {nse_hours['close']} IST\")\n</code></pre>"},{"location":"packages/maverick-data/#stockcachemanager","title":"StockCacheManager","text":"<p>Database-backed caching for stock data.</p> <pre><code>from maverick_data.services import StockCacheManager\n\ncache = StockCacheManager()\n\n# Get cached data\ndf = cache.get_cached_data(\"AAPL\", \"2024-01-01\", \"2024-12-31\")\n\nif df is None:\n    # Fetch and cache\n    df = provider.fetch_stock_data(\"AAPL\", ...)\n    cache.cache_data(\"AAPL\", df)\n</code></pre>"},{"location":"packages/maverick-data/#stockdatafetcher","title":"StockDataFetcher","text":"<p>Low-level data fetching with circuit breaker.</p> <pre><code>from maverick_data.services import StockDataFetcher\n\nfetcher = StockDataFetcher()\n\n# Fetch with automatic retry and circuit breaker\ndf = await fetcher.fetch_data(\"AAPL\", period=\"1y\")\n</code></pre>"},{"location":"packages/maverick-data/#cache-providers","title":"Cache Providers","text":""},{"location":"packages/maverick-data/#redis-cache","title":"Redis Cache","text":"<pre><code>from maverick_data.cache import RedisCache\n\ncache = RedisCache(url=\"redis://localhost:6379\")\n\n# Set with TTL\ncache.set(\"key\", {\"data\": \"value\"}, ttl=3600)\n\n# Get\ndata = cache.get(\"key\")\n\n# Delete\ncache.delete(\"key\")\n</code></pre>"},{"location":"packages/maverick-data/#memory-cache","title":"Memory Cache","text":"<pre><code>from maverick_data.cache import MemoryCache\n\ncache = MemoryCache(max_size=1000)\n\n# Same interface as Redis\ncache.set(\"key\", {\"data\": \"value\"}, ttl=3600)\ndata = cache.get(\"key\")\n</code></pre>"},{"location":"packages/maverick-data/#cache-manager","title":"Cache Manager","text":"<pre><code>from maverick_data import get_cache_manager\n\n# Get singleton cache manager\ncache = get_cache_manager()\n\n# Uses Redis if available, falls back to memory\ncache.set(\"stock:AAPL\", df.to_dict(), ttl=3600)\ndata = cache.get(\"stock:AAPL\")\n</code></pre>"},{"location":"packages/maverick-data/#repositories","title":"Repositories","text":"<p>Repository pattern for clean data access.</p>"},{"location":"packages/maverick-data/#stockrepository","title":"StockRepository","text":"<pre><code>from maverick_data.repositories import StockRepository\n\nrepo = StockRepository(session)\n\n# Get stock\nstock = repo.get_by_ticker(\"AAPL\")\n\n# Get multiple\nstocks = repo.get_by_tickers([\"AAPL\", \"MSFT\", \"GOOGL\"])\n\n# Get S&amp;P 500\nsp500 = repo.get_sp500_stocks()\n\n# Search\nresults = repo.search(\"Apple\")\n</code></pre>"},{"location":"packages/maverick-data/#portfoliorepository","title":"PortfolioRepository","text":"<pre><code>from maverick_data.repositories import PortfolioRepository\n\nrepo = PortfolioRepository(session)\n\n# Get user's portfolios\nportfolios = repo.get_by_user(\"default\")\n\n# Get with positions\nportfolio = repo.get_with_positions(portfolio_id)\n\n# Add position\nrepo.add_position(portfolio_id, \"AAPL\", 10, 150.00)\n\n# Calculate performance\nperformance = repo.calculate_performance(portfolio_id, current_prices)\n</code></pre>"},{"location":"packages/maverick-data/#screeningrepository","title":"ScreeningRepository","text":"<pre><code>from maverick_data.repositories import ScreeningRepository\n\nrepo = ScreeningRepository(session)\n\n# Get top stocks by strategy\nmaverick = repo.get_top_maverick(limit=20)\nbearish = repo.get_top_bearish(limit=20)\nbreakouts = repo.get_top_breakouts(limit=20)\n\n# Filter by criteria\nfiltered = repo.filter_by_criteria(\n    min_score=80,\n    max_price=100,\n    sectors=[\"Technology\", \"Healthcare\"]\n)\n</code></pre>"},{"location":"packages/maverick-data/#bulk-operations","title":"Bulk Operations","text":"<p>Efficient bulk data operations.</p> <pre><code>from maverick_data import (\n    bulk_insert_price_data,\n    bulk_insert_screening_data,\n    get_latest_maverick_screening\n)\n\n# Bulk insert prices\nbulk_insert_price_data(session, [\n    {\"ticker\": \"AAPL\", \"date\": \"2024-01-15\", \"close\": 185.50, ...},\n    {\"ticker\": \"AAPL\", \"date\": \"2024-01-16\", \"close\": 186.20, ...},\n])\n\n# Bulk insert screening\nbulk_insert_screening_data(session, \"maverick\", [\n    {\"ticker\": \"AAPL\", \"combined_score\": 92, ...},\n    {\"ticker\": \"MSFT\", \"combined_score\": 88, ...},\n])\n\n# Get latest screening date\nlatest = get_latest_maverick_screening(session)\n</code></pre>"},{"location":"packages/maverick-data/#configuration","title":"Configuration","text":""},{"location":"packages/maverick-data/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>DATABASE_URL</code> Database connection <code>sqlite:///maverick.db</code> <code>REDIS_URL</code> Redis connection <code>redis://localhost:6379</code> <code>STOCK_CACHE_TTL</code> Cache TTL in seconds <code>3600</code> <code>YFINANCE_RATE_LIMIT</code> API rate limit <code>100</code>"},{"location":"packages/maverick-data/#custom-configuration","title":"Custom Configuration","text":"<pre><code>from maverick_data.providers import EnhancedStockDataProvider\n\nprovider = EnhancedStockDataProvider(\n    cache_ttl=7200,           # 2 hours\n    enable_cache=True,\n    circuit_breaker_enabled=True,\n    max_retries=3\n)\n</code></pre>"},{"location":"packages/maverick-data/#testing","title":"Testing","text":""},{"location":"packages/maverick-data/#test-fixtures","title":"Test Fixtures","text":"<pre><code>import pytest\nfrom maverick_data import init_db, get_session\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\n\n@pytest.fixture\ndef test_session():\n    \"\"\"In-memory test database.\"\"\"\n    engine = create_engine(\"sqlite:///:memory:\")\n    init_db(engine)\n\n    Session = sessionmaker(bind=engine)\n    session = Session()\n\n    yield session\n\n    session.close()\n</code></pre>"},{"location":"packages/maverick-data/#mocking-providers","title":"Mocking Providers","text":"<pre><code>from unittest.mock import Mock, patch\nimport pandas as pd\n\ndef test_fetch_stock_data():\n    with patch('maverick_data.providers.yfinance') as mock_yf:\n        mock_ticker = Mock()\n        mock_ticker.history.return_value = pd.DataFrame({\n            \"Close\": [100, 101, 102]\n        })\n        mock_yf.Ticker.return_value = mock_ticker\n\n        provider = StockDataProvider()\n        df = provider.fetch_stock_data(\"AAPL\")\n\n        assert len(df) == 3\n</code></pre>"},{"location":"packages/maverick-data/#api-reference","title":"API Reference","text":"<p>For detailed API documentation, see:</p> <ul> <li>Models API</li> <li>Providers API</li> <li>Services API</li> </ul>"},{"location":"packages/maverick-india/","title":"maverick-india","text":"<p>Indian market support for Maverick MCP.</p>"},{"location":"packages/maverick-india/#overview","title":"Overview","text":"<p><code>maverick-india</code> provides:</p> <ul> <li>NSE/BSE Support: National Stock Exchange and Bombay Stock Exchange</li> <li>Indian Market Data: Nifty 50, Sensex, sector indices</li> <li>Conference Call Analysis: Earnings call transcripts and AI analysis</li> <li>RBI Data: Economic indicators and policy rates</li> <li>Currency Conversion: USD/INR and other currencies</li> <li>Circuit Breaker Tracking: 10% circuit limits</li> </ul>"},{"location":"packages/maverick-india/#installation","title":"Installation","text":"<pre><code>pip install maverick-india\n</code></pre>"},{"location":"packages/maverick-india/#quick-start","title":"Quick Start","text":"<pre><code>from maverick_india import (\n    # Market data\n    get_indian_market_recommendations,\n    analyze_nifty_sectors,\n    get_indian_market_overview,\n\n    # Conference calls\n    fetch_transcript,\n    summarize_transcript,\n    analyze_sentiment,\n)\n\n# Get bullish recommendations\nstocks = get_indian_market_recommendations(strategy=\"bullish\", limit=10)\n\n# Analyze earnings call\nsummary = summarize_transcript(\"RELIANCE.NS\", \"Q3\", 2025)\n</code></pre>"},{"location":"packages/maverick-india/#market-support","title":"Market Support","text":""},{"location":"packages/maverick-india/#symbol-formats","title":"Symbol Formats","text":"Exchange Suffix Example NSE <code>.NS</code> <code>RELIANCE.NS</code>, <code>TCS.NS</code> BSE <code>.BO</code> <code>RELIANCE.BO</code>, <code>TCS.BO</code>"},{"location":"packages/maverick-india/#market-hours","title":"Market Hours","text":"Market Hours (IST) Pre-market Post-market NSE 9:15 - 15:30 9:00 - 9:15 15:40 - 16:00 BSE 9:15 - 15:30 9:00 - 9:15 15:40 - 16:00"},{"location":"packages/maverick-india/#circuit-breakers","title":"Circuit Breakers","text":"<p>Indian markets have 10% circuit breakers (vs 5% in US):</p> <pre><code>from maverick_india.market import check_circuit_status\n\nstatus = check_circuit_status(\"RELIANCE.NS\")\nprint(f\"Upper Circuit: {status['upper_circuit']}\")\nprint(f\"Lower Circuit: {status['lower_circuit']}\")\nprint(f\"Current: {status['current_price']}\")\n</code></pre>"},{"location":"packages/maverick-india/#market-data","title":"Market Data","text":""},{"location":"packages/maverick-india/#market-overview","title":"Market Overview","text":"<pre><code>from maverick_india import get_indian_market_overview\n\noverview = get_indian_market_overview()\n\nprint(f\"Market Status: {overview['status']}\")\nprint(f\"Nifty 50: {overview['nifty_50']}\")\nprint(f\"Sensex: {overview['sensex']}\")\nprint(f\"Total NSE Stocks: {overview['nse_stocks']}\")\nprint(f\"Total BSE Stocks: {overview['bse_stocks']}\")\n</code></pre>"},{"location":"packages/maverick-india/#stock-recommendations","title":"Stock Recommendations","text":"<pre><code>from maverick_india import get_indian_market_recommendations\n\n# Bullish picks (adapted for 10% circuit breakers)\nbullish = get_indian_market_recommendations(\n    strategy=\"bullish\",\n    limit=20\n)\n\n# Other strategies\nbearish = get_indian_market_recommendations(strategy=\"bearish\")\nmomentum = get_indian_market_recommendations(strategy=\"momentum\")  # Nifty 50\nvalue = get_indian_market_recommendations(strategy=\"value\")       # P/E &lt; 20\ndividend = get_indian_market_recommendations(strategy=\"dividend\") # Div &gt; 2%\nsmallcap = get_indian_market_recommendations(strategy=\"smallcap\")\nsector = get_indian_market_recommendations(strategy=\"sector_rotation\")\n</code></pre>"},{"location":"packages/maverick-india/#sector-analysis","title":"Sector Analysis","text":"<pre><code>from maverick_india import analyze_nifty_sectors\n\nsectors = analyze_nifty_sectors()\n\nfor sector in sectors['rankings']:\n    print(f\"{sector['name']}: {sector['return_90d']:.2%}\")\n    print(f\"  Top stocks: {', '.join(sector['top_stocks'][:3])}\")\n</code></pre>"},{"location":"packages/maverick-india/#stock-news","title":"Stock News","text":"<pre><code>from maverick_india import get_indian_stock_news\n\nnews = get_indian_stock_news(\"RELIANCE.NS\", limit=10)\n\nfor article in news['articles']:\n    print(f\"[{article['sentiment']}] {article['title']}\")\n    print(f\"  Source: {article['source']}\")\n</code></pre>"},{"location":"packages/maverick-india/#economic-indicators","title":"Economic Indicators","text":""},{"location":"packages/maverick-india/#rbi-policy-rates","title":"RBI Policy Rates","text":"<pre><code>from maverick_india import get_indian_economic_indicators\n\nindicators = get_indian_economic_indicators()\n\nprint(\"RBI Policy Rates:\")\nprint(f\"  Repo Rate: {indicators['repo_rate']}%\")\nprint(f\"  Reverse Repo: {indicators['reverse_repo_rate']}%\")\nprint(f\"  CRR: {indicators['crr']}%\")\nprint(f\"  SLR: {indicators['slr']}%\")\n\nprint(f\"\\nGDP Growth: {indicators['gdp_growth']}%\")\nprint(f\"Forex Reserves: ${indicators['forex_reserves']} B\")\n</code></pre>"},{"location":"packages/maverick-india/#economic-calendar","title":"Economic Calendar","text":"<pre><code>events = indicators['upcoming_events']\n\nfor event in events:\n    print(f\"{event['date']}: {event['event']}\")\n</code></pre>"},{"location":"packages/maverick-india/#currency-conversion","title":"Currency Conversion","text":""},{"location":"packages/maverick-india/#basic-conversion","title":"Basic Conversion","text":"<pre><code>from maverick_india import convert_currency\n\n# USD to INR\nresult = convert_currency(\n    amount=1000,\n    from_currency=\"USD\",\n    to_currency=\"INR\"\n)\nprint(f\"1000 USD = {result['converted_amount']:.2f} INR\")\nprint(f\"Rate: {result['rate']}\")\nprint(f\"Source: {result['source']}\")\n</code></pre>"},{"location":"packages/maverick-india/#compare-companies-across-markets","title":"Compare Companies Across Markets","text":"<pre><code>from maverick_india import compare_similar_companies\n\ncomparison = compare_similar_companies(\n    us_symbol=\"MSFT\",\n    indian_symbol=\"TCS.NS\",\n    currency=\"USD\"\n)\n\nprint(f\"Microsoft vs TCS (in USD):\")\nprint(f\"  Market Cap: ${comparison['msft']['market_cap']:,.0f} vs ${comparison['tcs']['market_cap']:,.0f}\")\nprint(f\"  P/E Ratio: {comparison['msft']['pe_ratio']:.2f} vs {comparison['tcs']['pe_ratio']:.2f}\")\nprint(f\"  1Y Return: {comparison['msft']['return_1y']:.2%} vs {comparison['tcs']['return_1y']:.2%}\")\n</code></pre>"},{"location":"packages/maverick-india/#us-vs-india-market-comparison","title":"US vs India Market Comparison","text":"<pre><code>from maverick_india import compare_us_indian_markets\n\ncomparison = compare_us_indian_markets(period=\"1y\")\n\nprint(f\"S&amp;P 500 vs Nifty 50 (1 Year):\")\nprint(f\"  S&amp;P 500 Return: {comparison['sp500_return']:.2%}\")\nprint(f\"  Nifty 50 Return: {comparison['nifty_return']:.2%}\")\nprint(f\"  Correlation: {comparison['correlation']:.2f}\")\nprint(f\"  Volatility (S&amp;P/Nifty): {comparison['sp500_vol']:.2%} / {comparison['nifty_vol']:.2%}\")\n</code></pre>"},{"location":"packages/maverick-india/#conference-call-analysis","title":"Conference Call Analysis","text":""},{"location":"packages/maverick-india/#fetch-transcript","title":"Fetch Transcript","text":"<pre><code>from maverick_india.concall import fetch_transcript\n\ntranscript = fetch_transcript(\n    ticker=\"RELIANCE.NS\",\n    quarter=\"Q3\",\n    fiscal_year=2025\n)\n\nprint(f\"Word Count: {transcript['word_count']}\")\nprint(f\"Source: {transcript['source']}\")\nprint(f\"Transcript: {transcript['transcript_text'][:500]}...\")\n</code></pre>"},{"location":"packages/maverick-india/#transcript-sources","title":"Transcript Sources","text":"<p>Transcripts are fetched with cascading fallback:</p> <ol> <li>Company IR Website (primary)</li> <li>NSE Exchange Filings (fallback)</li> </ol>"},{"location":"packages/maverick-india/#ai-summarization","title":"AI Summarization","text":"<pre><code>from maverick_india.concall import summarize_transcript\n\nsummary = summarize_transcript(\n    ticker=\"RELIANCE.NS\",\n    quarter=\"Q3\",\n    fiscal_year=2025,\n    mode=\"standard\"  # \"concise\", \"standard\", \"detailed\"\n)\n\nprint(\"Executive Summary:\")\nprint(summary['executive_summary'])\n\nprint(\"\\nKey Metrics:\")\nfor metric in summary['key_metrics']:\n    print(f\"  - {metric}\")\n\nprint(\"\\nBusiness Highlights:\")\nfor highlight in summary['business_highlights']:\n    print(f\"  - {highlight}\")\n\nprint(f\"\\nManagement Guidance: {summary['management_guidance']}\")\nprint(f\"Sentiment: {summary['sentiment']}\")\n</code></pre>"},{"location":"packages/maverick-india/#sentiment-analysis","title":"Sentiment Analysis","text":"<pre><code>from maverick_india.concall import analyze_sentiment\n\nsentiment = analyze_sentiment(\n    ticker=\"RELIANCE.NS\",\n    quarter=\"Q3\",\n    fiscal_year=2025\n)\n\nprint(f\"Overall Sentiment: {sentiment['overall_sentiment']}\")\nprint(f\"Sentiment Score: {sentiment['sentiment_score']}/5\")\nprint(f\"Management Tone: {sentiment['management_tone']}\")\nprint(f\"Outlook: {sentiment['outlook_sentiment']}\")\nprint(f\"Risk Level: {sentiment['risk_sentiment']}\")\n\nprint(\"\\nPositive Signals:\")\nfor signal in sentiment['key_positive_signals']:\n    print(f\"  + {signal}\")\n\nprint(\"\\nNegative Signals:\")\nfor signal in sentiment['key_negative_signals']:\n    print(f\"  - {signal}\")\n</code></pre>"},{"location":"packages/maverick-india/#rag-qa","title":"RAG Q&amp;A","text":"<p>Ask questions about transcripts using RAG.</p> <pre><code>from maverick_india.concall import query_transcript\n\nanswer = query_transcript(\n    question=\"What was the revenue growth?\",\n    ticker=\"RELIANCE.NS\",\n    quarter=\"Q3\",\n    fiscal_year=2025,\n    top_k=5\n)\n\nprint(f\"Answer: {answer['answer']}\")\n\nprint(\"\\nSources:\")\nfor source in answer['sources']:\n    print(f\"  [{source['score']:.2f}] {source['content'][:100]}...\")\n</code></pre>"},{"location":"packages/maverick-india/#compare-quarters","title":"Compare Quarters","text":"<pre><code>from maverick_india.concall import compare_quarters\n\ncomparison = compare_quarters(\n    ticker=\"RELIANCE.NS\",\n    quarters=[(\"Q1\", 2025), (\"Q2\", 2025), (\"Q3\", 2025)]\n)\n\nprint(f\"Sentiment Trend: {comparison['sentiment_trend']}\")\nprint(f\"Score Change: {comparison['score_change']:.1f}\")\n\nfor q in comparison['sentiments']:\n    print(f\"  {q['quarter']} {q['year']}: {q['sentiment']} ({q['score']}/5)\")\n</code></pre>"},{"location":"packages/maverick-india/#ir-mappings","title":"IR Mappings","text":"<p>Company IR (Investor Relations) mappings for transcript fetching.</p>"},{"location":"packages/maverick-india/#view-mappings","title":"View Mappings","text":"<pre><code>from maverick_india.concall.models import CompanyIRMapping\nfrom maverick_data import SessionLocal\n\nwith SessionLocal() as session:\n    mappings = session.query(CompanyIRMapping).filter_by(is_active=True).all()\n\n    for m in mappings:\n        print(f\"{m.ticker_symbol}: {m.ir_url}\")\n</code></pre>"},{"location":"packages/maverick-india/#add-custom-mapping","title":"Add Custom Mapping","text":"<pre><code>from maverick_india.concall.models import CompanyIRMapping\n\nmapping = CompanyIRMapping(\n    ticker_symbol=\"INFY.NS\",\n    company_name=\"Infosys Limited\",\n    market=\"NSE\",\n    country=\"IN\",\n    ir_url=\"https://www.infosys.com/investors/reports-filings/quarterly-results.html\",\n    transcript_url_pattern=\"/results/{year}/q{quarter}\",\n    transcript_css_selector=\"div.transcript-content\",\n    is_active=True\n)\n\nsession.add(mapping)\nsession.commit()\n</code></pre>"},{"location":"packages/maverick-india/#json-format","title":"JSON Format","text":"<pre><code>{\n  \"metadata\": {\n    \"version\": \"1.0\",\n    \"source\": \"manual_research\"\n  },\n  \"companies\": [\n    {\n      \"ticker_symbol\": \"RELIANCE.NS\",\n      \"company_name\": \"Reliance Industries Limited\",\n      \"market\": \"NSE\",\n      \"country\": \"IN\",\n      \"ir_url\": \"https://www.ril.com/InvestorRelations/FinancialReporting.aspx\",\n      \"transcript_url_pattern\": null,\n      \"transcript_css_selector\": null,\n      \"transcript_xpath\": null,\n      \"is_active\": true,\n      \"notes\": \"Quarterly results and transcripts available on IR page\"\n    }\n  ]\n}\n</code></pre>"},{"location":"packages/maverick-india/#configuration","title":"Configuration","text":""},{"location":"packages/maverick-india/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>NSE_API_KEY</code> NSE API key (optional) None <code>CONCALL_CACHE_TTL</code> Transcript cache TTL <code>86400</code>"},{"location":"packages/maverick-india/#testing","title":"Testing","text":"<pre><code>import pytest\nfrom maverick_india import get_indian_market_recommendations\n\ndef test_indian_recommendations():\n    stocks = get_indian_market_recommendations(\n        strategy=\"bullish\",\n        limit=5\n    )\n\n    assert len(stocks) &lt;= 5\n    for stock in stocks:\n        assert stock['ticker_symbol'].endswith('.NS') or stock['ticker_symbol'].endswith('.BO')\n</code></pre>"},{"location":"packages/maverick-india/#api-reference","title":"API Reference","text":"<p>For detailed API documentation, see:</p> <ul> <li>Market Support API</li> <li>Conference Call API</li> </ul>"},{"location":"packages/maverick-server/","title":"maverick-server","text":"<p>MCP server, API routers, and monitoring for Maverick MCP.</p>"},{"location":"packages/maverick-server/#overview","title":"Overview","text":"<p><code>maverick-server</code> provides:</p> <ul> <li>MCP Server: FastMCP-based Model Context Protocol server</li> <li>Tool Routers: MCP tool implementations for all features</li> <li>Monitoring: Prometheus metrics, Sentry integration, health checks</li> <li>API Layer: REST endpoints (optional)</li> </ul>"},{"location":"packages/maverick-server/#installation","title":"Installation","text":"<pre><code>pip install maverick-server\n</code></pre>"},{"location":"packages/maverick-server/#quick-start","title":"Quick Start","text":"<pre><code>from maverick_server import mcp, register_all_tools\n\n# Register all MCP tools\nregister_all_tools(mcp)\n\n# Run server\nif __name__ == \"__main__\":\n    mcp.run()\n</code></pre>"},{"location":"packages/maverick-server/#mcp-server","title":"MCP Server","text":""},{"location":"packages/maverick-server/#configuration","title":"Configuration","text":"<pre><code>from maverick_server import create_mcp_server\n\n# Create server with configuration\nmcp = create_mcp_server(\n    name=\"maverick-mcp\",\n    version=\"0.1.0\",\n    description=\"Stock analysis MCP server\"\n)\n</code></pre>"},{"location":"packages/maverick-server/#run-options","title":"Run Options","text":"<pre><code># Development mode\npython -m maverick_server\n\n# With hot reload\npython -m maverick_server --reload\n\n# Production (uvicorn)\nuvicorn maverick_server.api:app --host 0.0.0.0 --port 8000\n</code></pre>"},{"location":"packages/maverick-server/#claude-desktop-integration","title":"Claude Desktop Integration","text":"<pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"uv\",\n      \"args\": [\"--directory\", \"/path/to/maverick-mcp\", \"run\", \"python\", \"-m\", \"maverick_server\"],\n      \"env\": {\n        \"TIINGO_API_KEY\": \"your-key\",\n        \"DATABASE_URL\": \"postgresql://...\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"packages/maverick-server/#tool-routers","title":"Tool Routers","text":""},{"location":"packages/maverick-server/#data-tools","title":"Data Tools","text":"<p>Stock data and market information.</p> <pre><code>from maverick_server.routers import register_data_tools\n\n# Registers:\n# - fetch_stock_data(ticker, start_date, end_date)\n# - fetch_stock_data_batch(tickers, start_date, end_date)\n# - get_stock_info(ticker)\n# - get_news_sentiment(ticker, timeframe, limit)\n# - get_cached_price_data(ticker, start_date, end_date)\n# - get_chart_links(ticker)\n# - clear_cache(ticker)\n</code></pre>"},{"location":"packages/maverick-server/#technical-analysis-tools","title":"Technical Analysis Tools","text":"<pre><code>from maverick_server.routers import register_technical_tools\n\n# Registers:\n# - get_rsi_analysis(ticker, period, days)\n# - get_macd_analysis(ticker, fast, slow, signal, days)\n# - get_support_resistance(ticker, days)\n# - get_full_technical_analysis(ticker, days)\n# - get_stock_chart_analysis(ticker)\n</code></pre>"},{"location":"packages/maverick-server/#screening-tools","title":"Screening Tools","text":"<pre><code>from maverick_server.routers import register_screening_tools\n\n# Registers:\n# - get_maverick_stocks(limit)\n# - get_maverick_bear_stocks(limit)\n# - get_supply_demand_breakouts(limit)\n# - get_all_screening_recommendations()\n# - get_screening_by_criteria(min_momentum, min_volume, max_price, sector)\n</code></pre>"},{"location":"packages/maverick-server/#portfolio-tools","title":"Portfolio Tools","text":"<pre><code>from maverick_server.routers import register_portfolio_tools\n\n# Registers:\n# - add_portfolio_position(ticker, shares, purchase_price, date, notes)\n# - get_my_portfolio(include_current_prices)\n# - remove_portfolio_position(ticker, shares)\n# - clear_my_portfolio(confirm)\n# - risk_adjusted_analysis(ticker, risk_level)\n# - compare_tickers(tickers, days)\n# - portfolio_correlation_analysis(tickers, days)\n</code></pre>"},{"location":"packages/maverick-server/#backtesting-tools","title":"Backtesting Tools","text":"<pre><code>from maverick_server.routers import register_backtest_tools\n\n# Registers:\n# - run_backtest(symbol, strategy, start_date, end_date, ...)\n# - optimize_strategy(symbol, strategy, optimization_metric, level)\n# - walk_forward_analysis(symbol, strategy, window_size, step_size)\n# - monte_carlo_simulation(symbol, strategy, num_simulations)\n# - compare_strategies(symbol, strategies)\n# - list_strategies()\n# - parse_strategy(description)\n# - backtest_portfolio(symbols, strategy, position_size)\n# - generate_backtest_charts(symbol, strategy, theme)\n</code></pre>"},{"location":"packages/maverick-server/#ml-strategy-tools","title":"ML Strategy Tools","text":"<pre><code>from maverick_server.routers import register_ml_tools\n\n# Registers:\n# - run_ml_strategy_backtest(symbol, strategy_type, model_type, ...)\n# - train_ml_predictor(symbol, model_type, n_estimators, ...)\n# - analyze_market_regimes(symbol, method, n_regimes)\n# - create_strategy_ensemble(symbols, strategies, weighting)\n</code></pre>"},{"location":"packages/maverick-server/#agent-tools","title":"Agent Tools","text":"<pre><code>from maverick_server.routers import register_agents_tools\n\n# Registers:\n# - analyze_market_with_agent(query, persona, strategy)\n# - orchestrated_analysis(query, persona, routing_strategy)\n# - deep_research_financial(topic, persona, depth, focus_areas)\n# - compare_personas_analysis(query)\n# - compare_multi_agent_analysis(query, agent_types)\n# - list_available_agents()\n</code></pre>"},{"location":"packages/maverick-server/#research-tools","title":"Research Tools","text":"<pre><code>from maverick_server.routers import register_research_tools\n\n# Registers:\n# - comprehensive_research(query, persona, scope, max_sources)\n# - company_comprehensive(symbol, include_competitive)\n# - analyze_market_sentiment(topic, timeframe, persona)\n</code></pre>"},{"location":"packages/maverick-server/#conference-call-tools","title":"Conference Call Tools","text":"<pre><code>from maverick_server.routers import register_concall_tools\n\n# Registers:\n# - fetch_transcript(ticker, quarter, fiscal_year)\n# - summarize_transcript(ticker, quarter, fiscal_year, mode)\n# - analyze_sentiment(ticker, quarter, fiscal_year)\n# - query_transcript(question, ticker, quarter, fiscal_year)\n# - compare_quarters(ticker, quarters)\n</code></pre>"},{"location":"packages/maverick-server/#indian-market-tools","title":"Indian Market Tools","text":"<pre><code>from maverick_server.routers import register_india_tools\n\n# Registers:\n# - get_indian_market_recommendations(strategy, limit)\n# - analyze_nifty_sectors()\n# - get_indian_market_overview()\n# - get_indian_economic_indicators()\n# - get_indian_stock_news(symbol, limit)\n# - compare_us_indian_markets(period)\n# - convert_currency(amount, from_currency, to_currency)\n# - compare_similar_companies(us_symbol, indian_symbol)\n</code></pre>"},{"location":"packages/maverick-server/#system-tools","title":"System Tools","text":"<pre><code>from maverick_server.routers import register_system_tools\n\n# Registers:\n# - get_system_health()\n# - get_component_status(component_name)\n# - get_circuit_breaker_status()\n# - get_resource_usage()\n# - get_status_dashboard()\n# - reset_circuit_breaker(breaker_name)\n# - get_health_history()\n# - run_health_diagnostics()\n</code></pre>"},{"location":"packages/maverick-server/#custom-router","title":"Custom Router","text":"<p>Create a custom tool router.</p> <pre><code>from fastmcp import FastMCP\n\ndef register_custom_tools(mcp: FastMCP):\n    \"\"\"Register custom MCP tools.\"\"\"\n\n    @mcp.tool()\n    async def my_custom_tool(\n        param1: str,\n        param2: int = 10\n    ) -&gt; dict:\n        \"\"\"\n        My custom tool description.\n\n        Args:\n            param1: First parameter\n            param2: Second parameter (default: 10)\n\n        Returns:\n            Dictionary with results\n        \"\"\"\n        # Implementation\n        return {\"result\": f\"{param1} * {param2}\"}\n</code></pre>"},{"location":"packages/maverick-server/#monitoring","title":"Monitoring","text":""},{"location":"packages/maverick-server/#prometheus-metrics","title":"Prometheus Metrics","text":"<pre><code>from maverick_server.monitoring import (\n    PrometheusMetrics,\n    get_metrics\n)\n\nmetrics = get_metrics()\n\n# Track request\nmetrics.track_request(\"fetch_stock_data\", \"AAPL\", 0.5)\n\n# Track cache\nmetrics.track_cache_hit(\"stock_data\")\nmetrics.track_cache_miss(\"stock_data\")\n\n# Track errors\nmetrics.track_error(\"DataFetchError\", \"fetch_stock_data\")\n</code></pre>"},{"location":"packages/maverick-server/#available-metrics","title":"Available Metrics","text":"Metric Type Description <code>maverick_requests_total</code> Counter Total MCP tool requests <code>maverick_request_duration_seconds</code> Histogram Request duration <code>maverick_cache_hits_total</code> Counter Cache hits <code>maverick_cache_misses_total</code> Counter Cache misses <code>maverick_errors_total</code> Counter Error count by type <code>maverick_active_requests</code> Gauge Active requests <code>maverick_backtest_duration_seconds</code> Histogram Backtest duration"},{"location":"packages/maverick-server/#expose-metrics-endpoint","title":"Expose Metrics Endpoint","text":"<pre><code>from maverick_server.monitoring import create_metrics_app\n\n# Create Prometheus metrics app\nmetrics_app = create_metrics_app()\n\n# Mount at /metrics\napp.mount(\"/metrics\", metrics_app)\n</code></pre>"},{"location":"packages/maverick-server/#sentry-integration","title":"Sentry Integration","text":"<pre><code>from maverick_server.monitoring import init_sentry\n\n# Initialize Sentry\ninit_sentry(\n    dsn=\"https://your-sentry-dsn\",\n    environment=\"production\",\n    traces_sample_rate=0.1\n)\n</code></pre>"},{"location":"packages/maverick-server/#health-checks","title":"Health Checks","text":"<pre><code>from maverick_server.monitoring import (\n    HealthChecker,\n    HealthStatus\n)\n\nchecker = HealthChecker()\n\n# Register health check\n@checker.check(\"database\")\nasync def check_database():\n    # Check database connection\n    return HealthStatus.HEALTHY\n\n@checker.check(\"redis\")\nasync def check_redis():\n    # Check Redis connection\n    return HealthStatus.DEGRADED\n\n# Get health status\nstatus = await checker.get_health()\nprint(f\"Overall: {status['status']}\")\nfor name, check in status['checks'].items():\n    print(f\"  {name}: {check['status']}\")\n</code></pre>"},{"location":"packages/maverick-server/#health-endpoint","title":"Health Endpoint","text":"<pre><code>from maverick_server.monitoring import create_health_app\n\n# Create health check app\nhealth_app = create_health_app()\n\n# Mount at /health\napp.mount(\"/health\", health_app)\n</code></pre>"},{"location":"packages/maverick-server/#error-handling","title":"Error Handling","text":"<pre><code>from maverick_core import MaverickException\nfrom maverick_server import error_handler\n\n@mcp.tool()\n@error_handler\nasync def safe_tool(ticker: str) -&gt; dict:\n    \"\"\"Tool with automatic error handling.\"\"\"\n    # Any MaverickException is caught and returned as error\n    raise ValidationError(\"Invalid ticker\")\n</code></pre>"},{"location":"packages/maverick-server/#middleware","title":"Middleware","text":""},{"location":"packages/maverick-server/#correlation-id-middleware","title":"Correlation ID Middleware","text":"<pre><code>from maverick_core.logging import CorrelationIDMiddleware\n\n# Add to FastAPI app\napp.add_middleware(CorrelationIDMiddleware)\n</code></pre>"},{"location":"packages/maverick-server/#request-logging","title":"Request Logging","text":"<pre><code>from maverick_server.middleware import RequestLoggingMiddleware\n\napp.add_middleware(\n    RequestLoggingMiddleware,\n    log_request_body=True,\n    log_response_body=False\n)\n</code></pre>"},{"location":"packages/maverick-server/#configuration_1","title":"Configuration","text":""},{"location":"packages/maverick-server/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>MCP_HOST</code> Server host <code>0.0.0.0</code> <code>MCP_PORT</code> Server port <code>8000</code> <code>SENTRY_DSN</code> Sentry DSN None <code>METRICS_ENABLED</code> Enable Prometheus <code>true</code> <code>HEALTH_CHECK_INTERVAL</code> Health check interval <code>30</code>"},{"location":"packages/maverick-server/#testing","title":"Testing","text":""},{"location":"packages/maverick-server/#test-mcp-tools","title":"Test MCP Tools","text":"<pre><code>import pytest\nfrom maverick_server import mcp\n\n@pytest.mark.asyncio\nasync def test_fetch_stock_data():\n    result = await mcp.call_tool(\n        \"fetch_stock_data\",\n        ticker=\"AAPL\",\n        period=\"1mo\"\n    )\n\n    assert result['ticker'] == \"AAPL\"\n    assert 'data' in result\n</code></pre>"},{"location":"packages/maverick-server/#mock-providers","title":"Mock Providers","text":"<pre><code>from unittest.mock import patch\n\n@pytest.mark.asyncio\nasync def test_with_mock():\n    with patch('maverick_data.providers.StockDataProvider') as mock:\n        mock.return_value.fetch_stock_data.return_value = mock_df\n\n        result = await mcp.call_tool(\"fetch_stock_data\", ticker=\"AAPL\")\n\n        assert result is not None\n</code></pre>"},{"location":"packages/maverick-server/#api-reference","title":"API Reference","text":"<p>For detailed API documentation, see:</p> <ul> <li>MCP Routers API</li> <li>Monitoring API</li> </ul>"},{"location":"packages/migration-guide/","title":"Migration Guide","text":"<p>Guide for migrating from the legacy <code>maverick_mcp</code> monolith to the new modular packages.</p>"},{"location":"packages/migration-guide/#overview","title":"Overview","text":"<p>The Maverick MCP codebase has been refactored from a monolithic structure to a modular package architecture:</p> Legacy New Package Purpose <code>maverick_mcp/config/</code> <code>maverick-core</code> Configuration <code>maverick_mcp/utils/</code> <code>maverick-core</code> Utilities, resilience <code>maverick_mcp/data/</code> <code>maverick-data</code> Models, session <code>maverick_mcp/providers/</code> <code>maverick-data</code> Data providers <code>maverick_mcp/services/</code> <code>maverick-data</code> Services <code>maverick_mcp/backtesting/</code> <code>maverick-backtest</code> Backtesting engine <code>maverick_mcp/concall/</code> <code>maverick-india</code> Conference calls <code>maverick_mcp/config/markets/</code> <code>maverick-india</code> Indian market <code>maverick_mcp/domain/agents/</code> <code>maverick-agents</code> LLM agents <code>maverick_mcp/api/</code> <code>maverick-server</code> MCP server"},{"location":"packages/migration-guide/#import-changes","title":"Import Changes","text":""},{"location":"packages/migration-guide/#configuration","title":"Configuration","text":"<pre><code># \u274c Old\nfrom maverick_mcp.config.settings import settings\nfrom maverick_mcp.config.settings import Settings\n\n# \u2705 New\nfrom maverick_core import get_settings, Settings\n\nsettings = get_settings()\n</code></pre>"},{"location":"packages/migration-guide/#logging","title":"Logging","text":"<pre><code># \u274c Old\nfrom maverick_mcp.logging_config import setup_logging, get_logger\nfrom maverick_mcp.config.logging_settings import LoggingSettings\n\n# \u2705 New\nfrom maverick_core import get_logger, setup_logging\nfrom maverick_core.logging import LoggingSettings\n\nlogger = get_logger(__name__)\n</code></pre>"},{"location":"packages/migration-guide/#models","title":"Models","text":"<pre><code># \u274c Old\nfrom maverick_mcp.data.models import Stock, PriceCache, MaverickStocks\nfrom maverick_mcp.data.models import SessionLocal, engine\nfrom maverick_mcp.database.base import Base\n\n# \u2705 New\nfrom maverick_data import Stock, PriceCache, MaverickStocks\nfrom maverick_data import SessionLocal, engine, get_session\nfrom maverick_data.models import Base\n</code></pre>"},{"location":"packages/migration-guide/#providers","title":"Providers","text":"<pre><code># \u274c Old\nfrom maverick_mcp.providers.stock_data import (\n    StockDataProvider,\n    EnhancedStockDataProvider\n)\nfrom maverick_mcp.providers.yfinance_pool import YFinancePool\n\n# \u2705 New\nfrom maverick_data.providers import (\n    StockDataProvider,\n    EnhancedStockDataProvider,\n    YFinancePool\n)\n</code></pre>"},{"location":"packages/migration-guide/#services","title":"Services","text":"<pre><code># \u274c Old\nfrom maverick_mcp.services.screening_service import ScreeningService\nfrom maverick_mcp.services.market_calendar_service import MarketCalendarService\nfrom maverick_mcp.services.stock_cache_manager import StockCacheManager\n\n# \u2705 New\nfrom maverick_data.services import (\n    ScreeningService,\n    MarketCalendarService,\n    StockCacheManager\n)\n</code></pre>"},{"location":"packages/migration-guide/#exceptions","title":"Exceptions","text":"<pre><code># \u274c Old\nfrom maverick_mcp.exceptions import (\n    MaverickMCPError,\n    DataFetchError,\n    ValidationError\n)\n\n# \u2705 New\nfrom maverick_core import (\n    MaverickException,\n    DataFetchError,\n    ValidationError\n)\n</code></pre>"},{"location":"packages/migration-guide/#circuit-breaker","title":"Circuit Breaker","text":"<pre><code># \u274c Old\nfrom maverick_mcp.utils.circuit_breaker import EnhancedCircuitBreaker\nfrom maverick_mcp.utils.circuit_breaker_decorators import circuit_breaker\n\n# \u2705 New\nfrom maverick_core.resilience import (\n    EnhancedCircuitBreaker,\n    circuit_breaker\n)\n</code></pre>"},{"location":"packages/migration-guide/#technical-analysis","title":"Technical Analysis","text":"<pre><code># \u274c Old\nfrom maverick_mcp.core.technical_analysis import (\n    calculate_rsi,\n    calculate_macd,\n    calculate_bollinger_bands\n)\n\n# \u2705 New\nfrom maverick_core.technical import (\n    calculate_rsi,\n    calculate_macd,\n    calculate_bollinger_bands\n)\n\n# Or from backtest package\nfrom maverick_backtest.analysis import TechnicalAnalyzer\n</code></pre>"},{"location":"packages/migration-guide/#backtesting","title":"Backtesting","text":"<pre><code># \u274c Old\nfrom maverick_mcp.backtesting.strategy_executor import (\n    ExecutionContext,\n    get_strategy_executor\n)\nfrom maverick_mcp.backtesting import BacktestingEngine\n\n# \u2705 New\nfrom maverick_backtest import (\n    BacktestEngine,\n    ExecutionContext,\n    run_backtest\n)\n</code></pre>"},{"location":"packages/migration-guide/#conference-calls","title":"Conference Calls","text":"<pre><code># \u274c Old\nfrom maverick_mcp.concall.models import (\n    Transcript,\n    TranscriptSummary,\n    SentimentAnalysis\n)\nfrom maverick_mcp.concall.services import TranscriptFetcher\n\n# \u2705 New\nfrom maverick_india.concall.models import (\n    Transcript,\n    TranscriptSummary,\n    SentimentAnalysis\n)\nfrom maverick_india.concall import TranscriptFetcher\n</code></pre>"},{"location":"packages/migration-guide/#indian-market","title":"Indian Market","text":"<pre><code># \u274c Old\nfrom maverick_mcp.config.markets import get_market_config, Market\nfrom maverick_mcp.providers.indian_market_data import IndianMarketDataProvider\n\n# \u2705 New\nfrom maverick_india.market import (\n    get_market_config,\n    Market,\n    IndianMarketDataProvider\n)\n</code></pre>"},{"location":"packages/migration-guide/#mcp-server","title":"MCP Server","text":"<pre><code># \u274c Old\nfrom maverick_mcp.api.server import mcp\nfrom maverick_mcp.api.routers import register_tools\n\n# \u2705 New\nfrom maverick_server import mcp\nfrom maverick_server.routers import register_all_tools\n</code></pre>"},{"location":"packages/migration-guide/#agents","title":"Agents","text":"<pre><code># \u274c Old\nfrom maverick_mcp.domain.research.agents import (\n    ResearchAgent,\n    ParallelResearchOrchestrator\n)\n\n# \u2705 New\nfrom maverick_agents.research import (\n    ResearchAgent,\n    ParallelResearchOrchestrator\n)\n</code></pre>"},{"location":"packages/migration-guide/#migration-steps","title":"Migration Steps","text":""},{"location":"packages/migration-guide/#step-1-update-dependencies","title":"Step 1: Update Dependencies","text":"<p>Add new packages to your <code>pyproject.toml</code>:</p> <pre><code>dependencies = [\n    \"maverick-core\",\n    \"maverick-data\",\n    \"maverick-backtest\",\n    \"maverick-india\",\n    \"maverick-server\",\n]\n</code></pre> <p>Or install from workspace:</p> <pre><code>cd maverick-mcp\nuv sync\n</code></pre>"},{"location":"packages/migration-guide/#step-2-update-import-paths","title":"Step 2: Update Import Paths","text":"<p>Use find/replace to update imports:</p> <pre><code># Find all maverick_mcp imports\ngrep -r \"from maverick_mcp\" --include=\"*.py\"\n\n# Replace patterns (use your IDE's search/replace)\n# maverick_mcp.config.settings -&gt; maverick_core\n# maverick_mcp.data.models -&gt; maverick_data\n# maverick_mcp.providers -&gt; maverick_data.providers\n# etc.\n</code></pre>"},{"location":"packages/migration-guide/#step-3-test-imports","title":"Step 3: Test Imports","text":"<p>Verify imports work correctly:</p> <pre><code># Test script\ntry:\n    from maverick_core import get_settings, get_logger\n    from maverick_data import Stock, get_session\n    from maverick_backtest import run_backtest\n    from maverick_india import get_indian_market_overview\n    from maverick_server import mcp\n    print(\"All imports successful!\")\nexcept ImportError as e:\n    print(f\"Import error: {e}\")\n</code></pre>"},{"location":"packages/migration-guide/#step-4-run-tests","title":"Step 4: Run Tests","text":"<pre><code># Run tests for new packages\npytest packages/ -v\n\n# Run your project tests\npytest tests/ -v\n</code></pre>"},{"location":"packages/migration-guide/#compatibility-layer","title":"Compatibility Layer","text":"<p>For gradual migration, a compatibility layer is available:</p> <pre><code># In your conftest.py or early in your app\nimport sys\n\n# Add fallback paths\nsys.path.insert(0, \"packages/core/src\")\nsys.path.insert(0, \"packages/data/src\")\nsys.path.insert(0, \"packages/server/src\")\nsys.path.insert(0, \"packages/backtest/src\")\nsys.path.insert(0, \"packages/india/src\")\n</code></pre>"},{"location":"packages/migration-guide/#common-issues","title":"Common Issues","text":""},{"location":"packages/migration-guide/#issue-1-module-not-found","title":"Issue 1: Module Not Found","text":"<pre><code>ModuleNotFoundError: No module named 'maverick_core'\n</code></pre> <p>Solution: Ensure packages are installed or add to <code>sys.path</code>:</p> <pre><code>import sys\nsys.path.insert(0, \"/path/to/maverick-mcp/packages/core/src\")\n</code></pre>"},{"location":"packages/migration-guide/#issue-2-circular-import","title":"Issue 2: Circular Import","text":"<pre><code>ImportError: cannot import name 'X' from partially initialized module\n</code></pre> <p>Solution: Use lazy imports or import at function level:</p> <pre><code>def my_function():\n    from maverick_data import Stock  # Import when needed\n    ...\n</code></pre>"},{"location":"packages/migration-guide/#issue-3-settings-not-found","title":"Issue 3: Settings Not Found","text":"<pre><code>ValidationError: TIINGO_API_KEY is required\n</code></pre> <p>Solution: Ensure environment variables are set:</p> <pre><code>export TIINGO_API_KEY=your-key\nexport DATABASE_URL=postgresql://...\n</code></pre> <p>Or use <code>.env</code> file with <code>python-dotenv</code>.</p>"},{"location":"packages/migration-guide/#issue-4-database-connection","title":"Issue 4: Database Connection","text":"<pre><code>sqlalchemy.exc.OperationalError: could not connect to server\n</code></pre> <p>Solution: Verify database URL and ensure database is running:</p> <pre><code># Check connection\npython -c \"from maverick_data import engine; engine.connect()\"\n</code></pre>"},{"location":"packages/migration-guide/#docker-migration","title":"Docker Migration","text":""},{"location":"packages/migration-guide/#old-dockerfile","title":"Old Dockerfile","text":"<pre><code>COPY maverick_mcp /app/maverick_mcp\nCMD [\"python\", \"-m\", \"maverick_mcp.api.server\"]\n</code></pre>"},{"location":"packages/migration-guide/#new-dockerfile","title":"New Dockerfile","text":"<pre><code># Copy all packages\nCOPY packages /app/packages\n\n# Set PYTHONPATH\nENV PYTHONPATH=/app/packages/core/src:/app/packages/data/src:...\n\n# Use new entry point\nCMD [\"python\", \"-m\", \"maverick_server\"]\n</code></pre>"},{"location":"packages/migration-guide/#scripts-migration","title":"Scripts Migration","text":"<p>Scripts use fallback imports for compatibility:</p> <pre><code># Example from seed_sp500.py\ntry:\n    from maverick_data import Stock, get_session, bulk_insert_stocks\nexcept ImportError:\n    # Fallback to legacy\n    from maverick_mcp.data.models import Stock, SessionLocal\n</code></pre>"},{"location":"packages/migration-guide/#help","title":"Help","text":"<p>If you encounter issues:</p> <ol> <li>Check the Troubleshooting Guide</li> <li>Review Package Documentation</li> <li>Open an issue on GitHub</li> </ol>"},{"location":"packages/migration-guide/#timeline","title":"Timeline","text":"Phase Status Description Phase 1-3 \u2705 Complete Core infrastructure Phase 4-6 \u2705 Complete Data layer, providers Phase 7 \u2705 Complete Services Phase 8 \u2705 Complete Scripts with fallbacks Phase 9 \u2705 Complete Test compatibility Phase 10 \u2705 Complete Docker updates Phase 11 \u2705 Complete Documentation <p>The migration is complete. New packages have 100% feature parity with the legacy code.</p>"},{"location":"user-guide/best-practices/","title":"Best Practices","text":"<p>Tips for optimal use of Maverick MCP.</p>"},{"location":"user-guide/best-practices/#general-best-practices","title":"General Best Practices","text":""},{"location":"user-guide/best-practices/#1-use-descriptive-commands","title":"1. Use Descriptive Commands","text":"<p>Be specific about what you want:</p> <p>\u274c \"Get data\" \u2705 \"Get historical stock data for AAPL from Jan 2024 to Dec 2024\"</p>"},{"location":"user-guide/best-practices/#2-combine-tools","title":"2. Combine Tools","text":"<p>Chain multiple operations: ``` Fetch RELIANCE.NS Q1 2025 transcript, summarize it,  analyze sentiment, and extract top concerns ```</p>"},{"location":"user-guide/best-practices/#3-cache-results","title":"3. Cache Results","text":"<p>AI analyses are cached automatically. Don't force refresh unless needed.</p>"},{"location":"user-guide/best-practices/#conference-call-analysis","title":"Conference Call Analysis","text":""},{"location":"user-guide/best-practices/#1-fetch-first-analyze-later","title":"1. Fetch First, Analyze Later","text":"<p>```</p>"},{"location":"user-guide/best-practices/#step-1-fetch-transcript","title":"Step 1: Fetch transcript","text":"<p>Fetch RELIANCE.NS Q1 2025</p>"},{"location":"user-guide/best-practices/#step-2-analyze-uses-cached-transcript","title":"Step 2: Analyze (uses cached transcript)","text":"<p>Summarize RELIANCE.NS Q1 2025 Analyze sentiment for RELIANCE.NS Q1 2025 ```</p>"},{"location":"user-guide/best-practices/#2-use-appropriate-detail-levels","title":"2. Use Appropriate Detail Levels","text":"<ul> <li>Concise: Quick overview</li> <li>Standard: Balanced (default)</li> <li>Detailed: Comprehensive analysis</li> </ul>"},{"location":"user-guide/best-practices/#3-compare-trends","title":"3. Compare Trends","text":"<p>Always compare across quarters for context.</p>"},{"location":"user-guide/best-practices/#cost-optimization","title":"Cost Optimization","text":""},{"location":"user-guide/best-practices/#1-use-caching","title":"1. Use Caching","text":"<p>Results are cached by default. Reuse them!</p>"},{"location":"user-guide/best-practices/#2-choose-right-detail-level","title":"2. Choose Right Detail Level","text":"<p>Concise mode costs ~50% less than detailed.</p>"},{"location":"user-guide/best-practices/#3-batch-operations","title":"3. Batch Operations","text":"<p>Analyze multiple stocks in one request when possible.</p>"},{"location":"user-guide/best-practices/#performance","title":"Performance","text":""},{"location":"user-guide/best-practices/#1-enable-redis","title":"1. Enable Redis","text":"<p>Significantly faster with Redis caching.</p>"},{"location":"user-guide/best-practices/#2-use-postgresql","title":"2. Use PostgreSQL","text":"<p>Better for large datasets.</p>"},{"location":"user-guide/best-practices/#3-parallel-requests","title":"3. Parallel Requests","text":"<p>Server handles concurrent requests automatically.</p> <p>See more in Configuration \u2192</p>"},{"location":"user-guide/examples/","title":"Examples","text":"<p>Practical examples of using Maverick MCP tools.</p>"},{"location":"user-guide/examples/#stock-analysis-examples","title":"Stock Analysis Examples","text":""},{"location":"user-guide/examples/#get-technical-analysis","title":"Get Technical Analysis","text":"<p>``` Get full technical analysis for AAPL ```</p>"},{"location":"user-guide/examples/#compare-multiple-stocks","title":"Compare Multiple Stocks","text":"<p>``` Compare technical indicators for AAPL, MSFT, and GOOGL ```</p>"},{"location":"user-guide/examples/#portfolio-analysis","title":"Portfolio Analysis","text":"<p>``` Add AAPL 10 shares at $150 Add MSFT 5 shares at $380 Calculate portfolio risk and correlations ```</p>"},{"location":"user-guide/examples/#conference-call-examples","title":"Conference Call Examples","text":""},{"location":"user-guide/examples/#fetch-and-summarize","title":"Fetch and Summarize","text":"<p>``` Fetch RELIANCE.NS Q1 2025 earnings call and generate a detailed summary ```</p>"},{"location":"user-guide/examples/#sentiment-analysis","title":"Sentiment Analysis","text":"<p>``` Analyze sentiment for TCS Q4 2024 call and tell me the management tone ```</p>"},{"location":"user-guide/examples/#ask-questions-rag","title":"Ask Questions (RAG)","text":"<p>``` What did INFY management say about AI initiatives in Q1 2025? ```</p>"},{"location":"user-guide/examples/#compare-quarters","title":"Compare Quarters","text":"<p>``` Compare RELIANCE sentiment across Q4 2024, Q1 2025, and Q2 2025 ```</p>"},{"location":"user-guide/examples/#advanced-examples","title":"Advanced Examples","text":""},{"location":"user-guide/examples/#multi-step-analysis","title":"Multi-Step Analysis","text":"<p>``` For TCS Q1 2025: 1. Fetch transcript 2. Generate detailed summary 3. Analyze sentiment 4. Extract top 3 growth drivers 5. Compare with Q4 2024 sentiment ```</p>"},{"location":"user-guide/examples/#screening-and-analysis","title":"Screening and Analysis","text":"<p>``` Show me top 5 Maverick bullish stocks, then get technical analysis for each ```</p> <p>More examples in Quick Start \u2192</p>"},{"location":"user-guide/mcp-tools-reference/","title":"MCP Tools Reference","text":"<p>Complete reference for all 40+ MCP tools available in Maverick MCP.</p>"},{"location":"user-guide/mcp-tools-reference/#tool-categories","title":"Tool Categories","text":"<ul> <li>Stock Data - Price quotes and historical data</li> <li>Technical Analysis - Indicators and patterns</li> <li>Stock Screening - Pre-calculated screening strategies</li> <li>Portfolio - Portfolio optimization and analysis</li> <li>Market Data - Market overview and indices</li> <li>Research - AI-powered research and sentiment</li> <li>Backtesting - Strategy testing and optimization</li> <li>Conference Calls - Earnings call analysis</li> </ul>"},{"location":"user-guide/mcp-tools-reference/#stock-data","title":"Stock Data","text":""},{"location":"user-guide/mcp-tools-reference/#get_stock_data","title":"get_stock_data","text":"<p>Fetch historical OHLCV data for a stock.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol (e.g., \"AAPL\", \"RELIANCE.NS\") - <code>start_date</code> (string, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (string, optional): End date (YYYY-MM-DD) - <code>period</code> (string, optional): Quick period (\"1d\", \"5d\", \"1mo\", \"3mo\", \"6mo\", \"1y\", \"5y\")</p> <p>Returns: DataFrame with Date, Open, High, Low, Close, Volume</p> <p>Example: <pre><code>Get AAPL stock data from 2024-01-01 to 2024-12-31\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#get_stock_info","title":"get_stock_info","text":"<p>Get current price and company information.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol</p> <p>Returns: Dict with price, market_cap, pe_ratio, sector, industry, description</p> <p>Example: <pre><code>Get current info for RELIANCE.NS\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#get_multiple_stocks_data","title":"get_multiple_stocks_data","text":"<p>Fetch data for multiple stocks efficiently.</p> <p>Parameters: - <code>tickers</code> (list, required): List of stock symbols - <code>start_date</code> (string, optional): Start date - <code>end_date</code> (string, optional): End date</p> <p>Returns: Dict of DataFrames keyed by ticker</p> <p>Example: <pre><code>Get data for AAPL, MSFT, GOOGL from Jan 2024\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#technical-analysis","title":"Technical Analysis","text":""},{"location":"user-guide/mcp-tools-reference/#calculate_sma","title":"calculate_sma","text":"<p>Calculate Simple Moving Average.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>period</code> (int, optional): SMA period (default: 20) - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: DataFrame with Date, Close, SMA</p> <p>Example: <pre><code>Calculate 50-day SMA for AAPL\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#calculate_ema","title":"calculate_ema","text":"<p>Calculate Exponential Moving Average.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>period</code> (int, optional): EMA period (default: 20) - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: DataFrame with Date, Close, EMA</p> <p>Example: <pre><code>Calculate 12-day EMA for TCS.NS\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#calculate_rsi","title":"calculate_rsi","text":"<p>Calculate Relative Strength Index.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>period</code> (int, optional): RSI period (default: 14) - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: DataFrame with Date, Close, RSI</p> <p>Interpretation: - RSI &gt; 70: Overbought - RSI &lt; 30: Oversold</p> <p>Example: <pre><code>Calculate RSI for INFY.NS\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#calculate_macd","title":"calculate_macd","text":"<p>Calculate MACD indicator.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>fast_period</code> (int, optional): Fast EMA period (default: 12) - <code>slow_period</code> (int, optional): Slow EMA period (default: 26) - <code>signal_period</code> (int, optional): Signal line period (default: 9) - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: DataFrame with Date, Close, MACD, Signal, Histogram</p> <p>Signals: - MACD crosses above Signal: Bullish - MACD crosses below Signal: Bearish</p> <p>Example: <pre><code>Calculate MACD for MSFT\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#calculate_bollinger_bands","title":"calculate_bollinger_bands","text":"<p>Calculate Bollinger Bands.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>period</code> (int, optional): MA period (default: 20) - <code>std_dev</code> (float, optional): Standard deviations (default: 2) - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: DataFrame with Date, Close, Upper_Band, Middle_Band, Lower_Band</p> <p>Signals: - Price touches upper band: Overbought - Price touches lower band: Oversold</p> <p>Example: <pre><code>Calculate Bollinger Bands for RELIANCE.NS\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#get_full_technical_analysis","title":"get_full_technical_analysis","text":"<p>Get comprehensive technical analysis.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: Dict with all indicators, support/resistance, signals</p> <p>Includes: - SMA (20, 50, 200) - EMA (12, 26) - RSI (14) - MACD - Bollinger Bands - Support/Resistance levels - Trend direction - Buy/Sell signals</p> <p>Example: <pre><code>Get full technical analysis for AAPL\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#stock-screening","title":"Stock Screening","text":""},{"location":"user-guide/mcp-tools-reference/#get_maverick_recommendations","title":"get_maverick_recommendations","text":"<p>Get Maverick bullish momentum stocks.</p> <p>Parameters: - <code>limit</code> (int, optional): Max results (default: 10) - <code>min_score</code> (float, optional): Minimum score 0-100 (default: 70)</p> <p>Returns: List of stocks with scores and signals</p> <p>Criteria: - RSI 50-70 (strong momentum) - MACD bullish - Price above 20 SMA - Volume above average</p> <p>Example: <pre><code>Show me top 5 Maverick bullish stocks\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#get_maverick_bear_recommendations","title":"get_maverick_bear_recommendations","text":"<p>Get Maverick bearish stocks to avoid.</p> <p>Parameters: - <code>limit</code> (int, optional): Max results (default: 10) - <code>min_score</code> (float, optional): Minimum score 0-100 (default: 70)</p> <p>Returns: List of stocks with weakness scores</p> <p>Criteria: - RSI 30-50 (weak momentum) - MACD bearish - Price below 20 SMA - Volume declining</p> <p>Example: <pre><code>Show me bearish stocks to avoid\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#get_trending_breakout_recommendations","title":"get_trending_breakout_recommendations","text":"<p>Get supply/demand breakout candidates.</p> <p>Parameters: - <code>limit</code> (int, optional): Max results (default: 10) - <code>min_score</code> (float, optional): Minimum score 0-100 (default: 75)</p> <p>Returns: List of breakout candidates</p> <p>Criteria: - Price above all major MAs - Volume surge - Near 52-week high - Strong relative strength</p> <p>Example: <pre><code>Find breakout candidates\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#portfolio","title":"Portfolio","text":""},{"location":"user-guide/mcp-tools-reference/#optimize_portfolio","title":"optimize_portfolio","text":"<p>Optimize portfolio weights using Modern Portfolio Theory.</p> <p>Parameters: - <code>tickers</code> (list, required): List of stock symbols - <code>target_return</code> (float, optional): Target annual return - <code>risk_free_rate</code> (float, optional): Risk-free rate (default: 0.03) - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: Dict with optimal_weights, expected_return, volatility, sharpe_ratio</p> <p>Example: <pre><code>Optimize portfolio for AAPL, MSFT, GOOGL, AMZN\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#analyze_portfolio_risk","title":"analyze_portfolio_risk","text":"<p>Analyze portfolio risk metrics.</p> <p>Parameters: - <code>holdings</code> (dict, required): {ticker: shares} pairs - <code>purchase_prices</code> (dict, optional): {ticker: price} pairs - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: Dict with volatility, var, cvar, max_drawdown, beta, alpha</p> <p>Example: <pre><code>Analyze risk for portfolio: AAPL 10 shares, MSFT 5 shares\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#calculate_correlation_matrix","title":"calculate_correlation_matrix","text":"<p>Calculate asset correlations.</p> <p>Parameters: - <code>tickers</code> (list, required): List of stock symbols - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: Correlation matrix DataFrame</p> <p>Example: <pre><code>Calculate correlation matrix for AAPL, MSFT, GOOGL\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#market-data","title":"Market Data","text":""},{"location":"user-guide/mcp-tools-reference/#get_market_overview","title":"get_market_overview","text":"<p>Get market indices and sector performance.</p> <p>Parameters: None</p> <p>Returns: Dict with major_indices, sector_performance, market_breadth</p> <p>Includes: - S&amp;P 500, Nasdaq, Dow Jones - Sector leaders and laggards - Advance/decline ratio - New highs/lows</p> <p>Example: <pre><code>Get market overview\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#get_watchlist","title":"get_watchlist","text":"<p>Get sample portfolio with real-time data.</p> <p>Parameters: None</p> <p>Returns: List of stocks with current prices and changes</p> <p>Example: <pre><code>Show watchlist\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#research","title":"Research","text":""},{"location":"user-guide/mcp-tools-reference/#research_comprehensive","title":"research_comprehensive","text":"<p>Comprehensive AI-powered research.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>depth</code> (string, optional): \"quick\", \"standard\", \"deep\" (default: \"standard\") - <code>include_financials</code> (bool, optional): Include financial analysis (default: true)</p> <p>Returns: Dict with company_overview, financial_analysis, competitive_position, investment_thesis, risks</p> <p>Features: - 7-256x parallel speedup - Multi-agent analysis - 400+ AI models - Cost-optimized</p> <p>Example: <pre><code>Research AAPL comprehensively with financials\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#research_company","title":"research_company","text":"<p>Company-specific deep research.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>focus_area</code> (string, optional): Specific area to focus on</p> <p>Returns: Detailed company analysis</p> <p>Example: <pre><code>Research TCS.NS focusing on IT services\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#analyze_market_sentiment","title":"analyze_market_sentiment","text":"<p>Multi-source sentiment analysis.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>timeframe</code> (string, optional): \"24h\", \"7d\", \"30d\" (default: \"7d\")</p> <p>Returns: Dict with sentiment_score, confidence, sources, trends</p> <p>Sources: - News articles - Social media - Analyst ratings - Insider trading</p> <p>Example: <pre><code>Analyze sentiment for RELIANCE.NS\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#backtesting","title":"Backtesting","text":""},{"location":"user-guide/mcp-tools-reference/#run_backtest","title":"run_backtest","text":"<p>Execute backtest with specified strategy.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>strategy</code> (string, required): Strategy name (\"rsi\", \"macd\", \"sma_crossover\", etc.) - <code>start_date</code> (string, required): Start date (YYYY-MM-DD) - <code>end_date</code> (string, required): End date (YYYY-MM-DD) - <code>parameters</code> (dict, optional): Strategy-specific parameters - <code>initial_capital</code> (float, optional): Starting capital (default: 10000)</p> <p>Returns: Dict with performance_metrics, trades, equity_curve</p> <p>Available Strategies: - rsi, macd, sma_crossover, ema_crossover - bollinger_bands, mean_reversion - momentum, breakout - ml_adaptive, ensemble - And more (15+ total)</p> <p>Example: <pre><code>Backtest RSI strategy on AAPL from 2023-01-01 to 2024-12-31\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#compare_strategies","title":"compare_strategies","text":"<p>Compare multiple strategies.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>strategies</code> (list, required): List of strategy names - <code>start_date</code> (string, required): Start date - <code>end_date</code> (string, required): End date - <code>initial_capital</code> (float, optional): Starting capital</p> <p>Returns: Comparison DataFrame with metrics for each strategy</p> <p>Example: <pre><code>Compare RSI vs MACD strategies on SPY from 2023 to 2024\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#optimize_strategy","title":"optimize_strategy","text":"<p>Optimize strategy parameters.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>strategy</code> (string, required): Strategy name - <code>start_date</code> (string, required): Start date - <code>end_date</code> (string, required): End date - <code>parameter_ranges</code> (dict, required): Ranges to test - <code>metric</code> (string, optional): Optimization metric (default: \"sharpe_ratio\")</p> <p>Returns: Dict with best_parameters, performance_metrics, optimization_results</p> <p>Example: <pre><code>Optimize RSI parameters for AAPL: period 10-20, oversold 20-35, overbought 65-80\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#conference-calls","title":"Conference Calls","text":""},{"location":"user-guide/mcp-tools-reference/#concall_fetch_transcript","title":"concall_fetch_transcript","text":"<p>Fetch earnings call transcript.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol (e.g., \"RELIANCE.NS\", \"AAPL\") - <code>quarter</code> (string, required): Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") - <code>fiscal_year</code> (int, required): Year (e.g., 2025)</p> <p>Returns: Dict with transcript_text, source, source_url, metadata</p> <p>Sources: 1. Company IR website (primary) 2. NSE exchange filings (fallback)</p> <p>Example: <pre><code>Fetch RELIANCE.NS Q1 2025 earnings call transcript\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#concall_summarize_transcript","title":"concall_summarize_transcript","text":"<p>Generate AI-powered summary.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>quarter</code> (string, required): Quarter - <code>fiscal_year</code> (int, required): Year - <code>mode</code> (string, optional): \"concise\", \"standard\", \"detailed\" (default: \"standard\")</p> <p>Returns: Dict with executive_summary, key_metrics, revenue_analysis, guidance, risks, growth_drivers</p> <p>Detail Levels: - Concise: 2-3 paragraphs (~30 sec read) - Standard: 1-2 pages (~3 min read) - Detailed: 3-5 pages (~10 min read)</p> <p>Example: <pre><code>Summarize AAPL Q4 2024 earnings call in detailed mode\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#concall_analyze_sentiment","title":"concall_analyze_sentiment","text":"<p>Analyze sentiment and tone.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>quarter</code> (string, required): Quarter - <code>fiscal_year</code> (int, required): Year</p> <p>Returns: Dict with overall_sentiment (1-5), management_tone, outlook_sentiment, risk_sentiment, confidence_score</p> <p>Sentiment Scale: - 5: Very Bullish - 4: Bullish - 3: Neutral - 2: Bearish - 1: Very Bearish</p> <p>Example: <pre><code>Analyze sentiment for TCS.NS Q2 2025 earnings call\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#concall_query_transcript","title":"concall_query_transcript","text":"<p>Ask questions using RAG.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>quarter</code> (string, required): Quarter - <code>fiscal_year</code> (int, required): Year - <code>query</code> (string, required): Your question</p> <p>Returns: Dict with answer, sources (with citations), confidence</p> <p>Example: <pre><code>What did INFY management say about AI initiatives in Q1 2025?\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#concall_compare_quarters","title":"concall_compare_quarters","text":"<p>Compare sentiment across quarters.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>quarters</code> (list, required): List of (quarter, year) tuples</p> <p>Returns: Dict with sentiment_trends, key_changes, progression</p> <p>Example: <pre><code>Compare RELIANCE sentiment across Q4 2024, Q1 2025, Q2 2025\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#usage-tips","title":"Usage Tips","text":""},{"location":"user-guide/mcp-tools-reference/#natural-language","title":"Natural Language","text":"<p>All tools support natural language commands: <pre><code>Show me technical analysis for AAPL\nGet RSI for RELIANCE.NS\nOptimize my portfolio with these stocks: AAPL, MSFT, GOOGL\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#multiple-parameters","title":"Multiple Parameters","text":"<p>Combine filters and options: <pre><code>Get AAPL data from Jan 2024 to Dec 2024 with technical indicators\nScreen for bullish momentum stocks with RSI between 50-70\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#caching","title":"Caching","text":"<p>Most tools cache results automatically: - Stock data: 1 hour - Technical indicators: 1 hour - Screening: 24 hours - Research: 24 hours - Conference calls: 7 days</p>"},{"location":"user-guide/mcp-tools-reference/#rate-limits","title":"Rate Limits","text":"<p>Free tier limits (Tiingo): - 500 requests/day - 15-minute delayed quotes - Historical data only</p> <p>Upgrade for: - Real-time data - Unlimited requests - Options &amp; futures</p>"},{"location":"user-guide/mcp-tools-reference/#api-keys-required","title":"API Keys Required","text":"Tool Category Required Keys Stock Data TIINGO_API_KEY Technical Analysis TIINGO_API_KEY Stock Screening None (pre-seeded) Portfolio TIINGO_API_KEY Market Data TIINGO_API_KEY Research OPENROUTER_API_KEY, EXA_API_KEY (optional) Backtesting TIINGO_API_KEY Conference Calls OPENROUTER_API_KEY, OPENAI_API_KEY (for RAG only) <p>See Configuration Guide for setup instructions.</p>"},{"location":"user-guide/troubleshooting/","title":"Troubleshooting","text":"<p>Common issues and solutions.</p>"},{"location":"user-guide/troubleshooting/#connection-issues","title":"Connection Issues","text":""},{"location":"user-guide/troubleshooting/#tools-not-appearing-in-claude","title":"Tools Not Appearing in Claude","text":"<ol> <li>Check server is running: <code>lsof -i :8003</code></li> <li>Verify config has trailing slash: <code>/sse/</code></li> <li>Restart Claude Desktop completely</li> <li>Check logs: <code>make tail-log</code></li> </ol>"},{"location":"user-guide/troubleshooting/#port-already-in-use","title":"Port Already in Use","text":"<p>```bash lsof -i :8003 kill -9  make dev ```"},{"location":"user-guide/troubleshooting/#api-issues","title":"API Issues","text":""},{"location":"user-guide/troubleshooting/#tiingo-api-errors","title":"Tiingo API Errors","text":"<ul> <li>Check API key in <code>.env</code></li> <li>Verify not exceeding rate limit (500/day free)</li> <li>Check status page</li> </ul>"},{"location":"user-guide/troubleshooting/#openrouter-errors","title":"OpenRouter Errors","text":"<ul> <li>Verify API key</li> <li>Check account credits</li> <li>Try different model with <code>prefer_cheap=True</code></li> </ul>"},{"location":"user-guide/troubleshooting/#database-issues","title":"Database Issues","text":""},{"location":"user-guide/troubleshooting/#migration-errors","title":"Migration Errors","text":"<p>```bash make clean rm -rf ~/.maverick_mcp/maverick_mcp.db make dev  # Re-creates and seeds ```</p>"},{"location":"user-guide/troubleshooting/#sp-500-data-missing","title":"S&amp;P 500 Data Missing","text":"<p>```bash python scripts/seed_sp500.py ```</p>"},{"location":"user-guide/troubleshooting/#performance-issues","title":"Performance Issues","text":""},{"location":"user-guide/troubleshooting/#slow-responses","title":"Slow Responses","text":"<ol> <li>Enable Redis caching</li> <li>Use PostgreSQL instead of SQLite</li> <li>Check internet connection</li> <li>Verify API rate limits not exceeded</li> </ol>"},{"location":"user-guide/troubleshooting/#logging","title":"Logging","text":"<p>View logs: ```bash make tail-log  # Real-time tail -100 ~/.maverick_mcp/logs/maverick_mcp.log  # Last 100 lines ```</p> <p>Need more help? \u2192</p>"}]}