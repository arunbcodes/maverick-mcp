{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Maverick MCP","text":"**Personal Stock Analysis MCP Server with AI-Powered Conference Call Analysis**  [![GitHub Stars](https://img.shields.io/github/stars/arunbcodes/maverick-mcp?style=social)](https://github.com/arunbcodes/maverick-mcp) [![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT) [![Python 3.12+](https://img.shields.io/badge/python-3.12+-blue.svg)](https://www.python.org/downloads/) [![MCP Compatible](https://img.shields.io/badge/MCP-Compatible-green.svg)](https://modelcontextprotocol.io)  [Get Started](getting-started/quick-start.md){ .md-button .md-button--primary } [View on GitHub](https://github.com/arunbcodes/maverick-mcp){ .md-button }"},{"location":"#overview","title":"Overview","text":"<p>Maverick MCP is a comprehensive Model Context Protocol (MCP) server that brings powerful stock analysis capabilities to Claude Desktop and other MCP clients. It combines real-time market data, technical analysis, AI-powered research, and conference call analysis into a single, easy-to-use platform.</p>"},{"location":"#key-features","title":"\u2728 Key Features","text":""},{"location":"#stock-analysis","title":"\ud83d\udcca Stock Analysis","text":"<ul> <li>Multi-Market Support: US (NASDAQ/NYSE), Indian NSE (.NS), and Indian BSE (.BO)</li> <li>Real-time &amp; Historical Data: Complete OHLCV data with intelligent caching</li> <li>Technical Analysis: RSI, MACD, Bollinger Bands, Moving Averages, and more</li> <li>Pre-seeded Database: 520+ S&amp;P 500 stocks ready to analyze</li> </ul>"},{"location":"#conference-call-analysis","title":"\ud83d\udcde Conference Call Analysis","text":"<ul> <li>Transcript Fetching: Multi-source fetching from IR websites and NSE filings</li> <li>AI Summarization: Structured summaries with key metrics and insights</li> <li>Sentiment Analysis: Multi-dimensional sentiment with confidence scoring</li> <li>RAG Q&amp;A: Ask questions about earnings calls with source citations</li> <li>Trend Analysis: Compare sentiment across multiple quarters</li> </ul>"},{"location":"#stock-screening","title":"\ud83d\udd0d Stock Screening","text":"<ul> <li>Maverick Bullish: High momentum stocks with strong technicals</li> <li>Maverick Bearish: Weak setups for short opportunities</li> <li>Supply/Demand Breakouts: Confirmed uptrend patterns</li> <li>7 Indian Market Strategies: Specialized screens for NSE/BSE</li> </ul>"},{"location":"#advanced-features","title":"\ud83d\udcc8 Advanced Features","text":"<ul> <li>Portfolio Optimization: Modern Portfolio Theory with risk analysis</li> <li>Research Agents: AI-powered market research with 7-256x speedup</li> <li>Backtesting Framework: VectorBT-powered strategy testing with 15+ algorithms</li> <li>Economic Indicators: RBI data, inflation, GDP, forex reserves</li> </ul>"},{"location":"#quick-example","title":"\ud83d\ude80 Quick Example","text":"<p>Once connected to Claude Desktop:</p> <pre><code>User: \"Fetch and summarize the RELIANCE.NS Q1 2025 earnings call\"\nClaude: [Uses MCP tools to fetch transcript and generate AI summary]\n\nUser: \"What did management say about growth guidance?\"\nClaude: [Queries transcript using RAG for specific information]\n\nUser: \"Compare sentiment across the last 3 quarters\"\nClaude: [Analyzes sentiment trends with scoring]\n</code></pre>"},{"location":"#perfect-for","title":"\ud83c\udfaf Perfect For","text":"<ul> <li>Personal Stock Research: Deep analysis of companies and markets</li> <li>Earnings Call Analysis: AI-powered insights from conference calls</li> <li>Technical Trading: Comprehensive technical analysis tools</li> <li>Portfolio Management: Risk-adjusted portfolio optimization</li> <li>Market Research: AI agents with web search capabilities</li> </ul>"},{"location":"#architecture","title":"\ud83c\udfd7\ufe0f Architecture","text":"<p>Maverick MCP is built with a focus on:</p> <ul> <li>Modularity: Clean separation of concerns with SOLID principles</li> <li>Performance: Intelligent caching with Redis/SQLite support</li> <li>Extensibility: Easy to add new features and data sources</li> <li>Reliability: Comprehensive error handling and fallback mechanisms</li> </ul>"},{"location":"#what-makes-it-special","title":"\ud83c\udf1f What Makes It Special","text":""},{"location":"#personal-use-focus","title":"Personal Use Focus","text":"<p>No authentication, no billing, no complexity. Just powerful analysis tools for your personal use.</p>"},{"location":"#ai-integration","title":"AI Integration","text":"<ul> <li>OpenRouter integration for access to 400+ AI models</li> <li>Smart model selection for cost optimization (40-60% savings)</li> <li>Parallel agent orchestration for research tasks</li> </ul>"},{"location":"#conference-call-system","title":"Conference Call System","text":"<p>Complete pipeline for earnings call analysis:</p> <pre><code>graph LR\n    A[Fetch Transcript] --&gt; B[Store in DB]\n    B --&gt; C[AI Summarization]\n    B --&gt; D[Sentiment Analysis]\n    B --&gt; E[Vector Indexing]\n    E --&gt; F[RAG Q&amp;A]\n    C --&gt; G[Claude Desktop]\n    D --&gt; G\n    F --&gt; G</code></pre>"},{"location":"#multi-market-support","title":"Multi-Market Support","text":"<p>Seamless analysis across: - \ud83c\uddfa\ud83c\uddf8 US Markets (NASDAQ/NYSE) - \ud83c\uddee\ud83c\uddf3 Indian NSE (.NS suffix) - \ud83c\uddee\ud83c\uddf3 Indian BSE (.BO suffix)</p>"},{"location":"#whats-included","title":"\ud83d\udce6 What's Included","text":"<ul> <li>35+ MCP Tools: Complete toolkit for stock analysis</li> <li>5 Conference Call Tools: Fetch, summarize, analyze, query, compare</li> <li>Pre-seeded Data: 520 S&amp;P 500 stocks + screening recommendations</li> <li>Indian Market Data: Nifty 50, Sensex constituents, economic indicators</li> <li>Comprehensive Tests: 93 tests with 84% coverage</li> <li>Production Ready: Type-checked, linted, and tested</li> </ul>"},{"location":"#integration","title":"\ud83d\udd17 Integration","text":"<p>Works with all MCP-compatible clients: - \u2705 Claude Desktop (Recommended with SSE transport) - \u2705 Cursor IDE - \u2705 Claude Code CLI - \u2705 Continue.dev - \u2705 Windsurf IDE</p>"},{"location":"#next-steps","title":"\ud83d\udcda Next Steps","text":"<p>Ready to get started? Check out our comprehensive guides:</p> <ul> <li> <p> Quick Start</p> <p>Get up and running in minutes</p> <p> Get Started</p> </li> <li> <p> Configuration</p> <p>Configure API keys and settings</p> <p> Configure</p> </li> <li> <p> Conference Calls</p> <p>Learn about earnings call analysis</p> <p> Learn More</p> </li> <li> <p> API Reference</p> <p>Complete API documentation</p> <p> Browse API</p> </li> </ul>"},{"location":"#contributing","title":"\ud83e\udd1d Contributing","text":"<p>Contributions are welcome! Check out our Contributing Guide to get started.</p>"},{"location":"#license","title":"\ud83d\udcc4 License","text":"<p>This project is licensed under the MIT License - see the LICENSE page for details.</p>   Made with \u2764\ufe0f for personal stock analysis  [Star on GitHub](https://github.com/arunbcodes/maverick-mcp){ .md-button }"},{"location":"API_KEYS_GUIDE/","title":"API Keys Guide for MaverickMCP","text":"<p>Complete guide to all API keys needed to fully utilize MaverickMCP features.</p>"},{"location":"API_KEYS_GUIDE/#required-api-keys","title":"\ud83d\udd11 Required API Keys","text":""},{"location":"API_KEYS_GUIDE/#1-tiingo_api_key-required","title":"1. TIINGO_API_KEY (Required)","text":"<p>What it does: Provides stock price data, historical data, and market information</p> <p>Cost: FREE (500 requests/day on free tier)</p> <p>How to get: 1. Go to tiingo.com 2. Sign up for a free account 3. Navigate to your dashboard 4. Copy your API token</p> <p>Add to .env: <pre><code>TIINGO_API_KEY=your_tiingo_api_key_here\n</code></pre></p> <p>Features enabled: - \u2705 Historical stock data (US, Indian markets) - \u2705 Real-time stock quotes - \u2705 Technical indicators - \u2705 Stock screening</p>"},{"location":"API_KEYS_GUIDE/#strongly-recommended-api-keys","title":"\ud83d\ude80 Strongly Recommended API Keys","text":""},{"location":"API_KEYS_GUIDE/#2-openrouter_api_key-strongly-recommended","title":"2. OPENROUTER_API_KEY (Strongly Recommended)","text":"<p>What it does: Access to 400+ AI models with intelligent cost optimization</p> <p>Cost: Pay-as-you-go (40-60% cheaper than direct API access)</p> <p>Why recommended: - Access to multiple LLMs (GPT-4, Claude, Llama, etc.) - Automatic model selection for cost optimization - Fallback routing if one model is down - Much cheaper than using OpenAI/Anthropic directly</p> <p>How to get: 1. Go to openrouter.ai 2. Sign up for an account 3. Add credits to your account 4. Generate an API key</p> <p>Add to .env: <pre><code>OPENROUTER_API_KEY=sk-or-v1-your_key_here\n</code></pre></p> <p>Features enabled: - \u2705 AI-powered stock analysis - \u2705 Deep research capabilities - \u2705 Market insights - \u2705 Natural language queries</p>"},{"location":"API_KEYS_GUIDE/#3-exa_api_key-recommended-for-research","title":"3. EXA_API_KEY (Recommended for Research)","text":"<p>What it does: Web search capabilities for comprehensive financial research</p> <p>Cost: Free tier available, paid plans for heavy usage</p> <p>How to get: 1. Go to exa.ai 2. Sign up for an account 3. Generate an API key</p> <p>Add to .env: <pre><code>EXA_API_KEY=your_exa_api_key_here\n</code></pre></p> <p>Features enabled: - \u2705 Web search for financial news - \u2705 Company research - \u2705 Market trends analysis - \u2705 Deep research agent</p>"},{"location":"API_KEYS_GUIDE/#optional-api-keys-nice-to-have","title":"\ud83d\udcca Optional API Keys (Nice-to-Have)","text":""},{"location":"API_KEYS_GUIDE/#4-openai_api_key-fallback","title":"4. OPENAI_API_KEY (Fallback)","text":"<p>What it does: Direct access to OpenAI models (GPT-4, GPT-3.5)</p> <p>Cost: Pay-as-you-go (more expensive than OpenRouter)</p> <p>When to use: - If you prefer direct OpenAI access - Already have OpenAI credits - Don't want to use OpenRouter</p> <p>How to get: 1. Go to platform.openai.com 2. Sign up and add payment method 3. Generate an API key</p> <p>Add to .env: <pre><code>OPENAI_API_KEY=sk-your_openai_key_here\n</code></pre></p>"},{"location":"API_KEYS_GUIDE/#5-anthropic_api_key-fallback","title":"5. ANTHROPIC_API_KEY (Fallback)","text":"<p>What it does: Direct access to Claude models</p> <p>Cost: Pay-as-you-go</p> <p>When to use: - If you prefer direct Anthropic access - Already have Anthropic credits - Don't want to use OpenRouter</p> <p>How to get: 1. Go to console.anthropic.com 2. Sign up and add payment method 3. Generate an API key</p> <p>Add to .env: <pre><code>ANTHROPIC_API_KEY=sk-ant-your_anthropic_key_here\n</code></pre></p>"},{"location":"API_KEYS_GUIDE/#6-fred_api_key-economic-data","title":"6. FRED_API_KEY (Economic Data)","text":"<p>What it does: Federal Reserve economic data (US economic indicators)</p> <p>Cost: FREE</p> <p>How to get: 1. Go to fred.stlouisfed.org/docs/api/api_key.html 2. Sign up for a free account 3. Request an API key</p> <p>Add to .env: <pre><code>FRED_API_KEY=your_fred_api_key_here\n</code></pre></p> <p>Features enabled: - \u2705 GDP data - \u2705 Inflation rates - \u2705 Interest rates - \u2705 Employment data</p>"},{"location":"API_KEYS_GUIDE/#7-tavily_api_key-alternative-search","title":"7. TAVILY_API_KEY (Alternative Search)","text":"<p>What it does: Alternative web search provider</p> <p>Cost: Free tier available</p> <p>When to use: - As alternative to Exa - For additional search coverage</p> <p>How to get: 1. Go to tavily.com 2. Sign up for an account 3. Generate an API key</p> <p>Add to .env: <pre><code>TAVILY_API_KEY=your_tavily_api_key_here\n</code></pre></p>"},{"location":"API_KEYS_GUIDE/#currency-exchange-rate-keys","title":"\ud83d\udcb1 Currency &amp; Exchange Rate Keys","text":""},{"location":"API_KEYS_GUIDE/#8-exchange_rate_api_key-optional-for-inrusd-conversion","title":"8. EXCHANGE_RATE_API_KEY (Optional, for INR/USD conversion)","text":"<p>What it does: Real-time currency exchange rates</p> <p>Cost: FREE tier available (1,500 requests/month)</p> <p>Fallback: Yahoo Finance (works without API key but less accurate)</p> <p>How to get: 1. Go to exchangerate-api.com 2. Sign up for a free account 3. Get your API key</p> <p>Add to .env: <pre><code>EXCHANGE_RATE_API_KEY=your_exchange_rate_api_key_here\n</code></pre></p> <p>Features enabled: - \u2705 Real-time INR/USD conversion - \u2705 Accurate cross-market comparisons - \u2705 Historical exchange rates</p> <p>Note: Works fine without this key using Yahoo Finance fallback!</p>"},{"location":"API_KEYS_GUIDE/#indian-market-keys-future-enhancements","title":"\ud83c\uddee\ud83c\uddf3 Indian Market Keys (Future Enhancements)","text":"<p>These are NOT currently implemented but documented for future use:</p>"},{"location":"API_KEYS_GUIDE/#9-rbi_api_key-not-required-yet","title":"9. RBI_API_KEY (Not Required Yet)","text":"<p>What it would do: Real-time RBI economic data</p> <p>Status: Currently uses approximate data and World Bank API</p> <p>Future implementation: See <code>docs/INDIAN_MARKET.md</code> - Future Enhancements</p>"},{"location":"API_KEYS_GUIDE/#10-moneycontrol_api_key-not-required-yet","title":"10. MONEYCONTROL_API_KEY (Not Required Yet)","text":"<p>What it would do: Direct MoneyControl API access</p> <p>Status: Currently uses RSS feeds and web scraping (no API key needed)</p>"},{"location":"API_KEYS_GUIDE/#11-economic_times_api_key-not-required-yet","title":"11. ECONOMIC_TIMES_API_KEY (Not Required Yet)","text":"<p>What it would do: Direct Economic Times API access</p> <p>Status: Currently uses RSS feeds and web scraping (no API key needed)</p>"},{"location":"API_KEYS_GUIDE/#configuration","title":"\ud83d\udd27 Configuration","text":""},{"location":"API_KEYS_GUIDE/#create-env-file","title":"Create .env File","text":"<pre><code># Copy example (if available)\ncp .env.example .env\n\n# Or create new .env file\ntouch .env\n</code></pre>"},{"location":"API_KEYS_GUIDE/#complete-env-template","title":"Complete .env Template","text":"<pre><code># ========================================\n# REQUIRED - Won't work without this\n# ========================================\nTIINGO_API_KEY=your_tiingo_key_here\n\n# ========================================\n# STRONGLY RECOMMENDED - For AI features\n# ========================================\nOPENROUTER_API_KEY=sk-or-v1-your_key_here\nEXA_API_KEY=your_exa_key_here\n\n# ========================================\n# OPTIONAL - LLM Fallbacks\n# ========================================\nOPENAI_API_KEY=sk-your_openai_key_here\nANTHROPIC_API_KEY=sk-ant-your_anthropic_key_here\n\n# ========================================\n# OPTIONAL - Enhanced Data\n# ========================================\nFRED_API_KEY=your_fred_key_here\nTAVILY_API_KEY=your_tavily_key_here\nEXCHANGE_RATE_API_KEY=your_exchange_rate_key_here\n\n# ========================================\n# PERFORMANCE - Caching\n# ========================================\nCACHE_ENABLED=true\nCACHE_TTL_SECONDS=3600\nREDIS_URL=redis://localhost:6379\n\n# ========================================\n# DATABASE (Optional, defaults to SQLite)\n# ========================================\nDATABASE_URL=postgresql://user:pass@localhost/maverick_mcp\n</code></pre>"},{"location":"API_KEYS_GUIDE/#feature-matrix","title":"\ud83d\udcca Feature Matrix","text":"Feature Required Keys Optional Keys Basic Stock Data TIINGO_API_KEY - AI Analysis TIINGO_API_KEY OPENROUTER_API_KEY Deep Research TIINGO_API_KEY, OPENROUTER_API_KEY EXA_API_KEY US Economic Data TIINGO_API_KEY FRED_API_KEY Indian Market Data TIINGO_API_KEY - Currency Conversion TIINGO_API_KEY EXCHANGE_RATE_API_KEY News Sentiment TIINGO_API_KEY - Technical Analysis TIINGO_API_KEY - Stock Screening TIINGO_API_KEY -"},{"location":"API_KEYS_GUIDE/#cost-breakdown","title":"\ud83d\udcb0 Cost Breakdown","text":""},{"location":"API_KEYS_GUIDE/#free-tier-basic-usage","title":"Free Tier (Basic Usage)","text":"<p>Total Cost: $0/month</p> <ul> <li>\u2705 TIINGO_API_KEY (free)</li> <li>\u2705 FRED_API_KEY (free)</li> <li>\u2705 EXCHANGE_RATE_API_KEY (free tier: 1,500 req/month)</li> </ul> <p>What you get: - Stock data (500 req/day) - Basic technical analysis - US economic data - Indian market data - News sentiment</p>"},{"location":"API_KEYS_GUIDE/#recommended-full-features","title":"Recommended (Full Features)","text":"<p>Total Cost: ~$5-20/month (depending on usage)</p> <ul> <li>\u2705 Everything in Free Tier</li> <li>\u2705 OPENROUTER_API_KEY ($5-10/month typical)</li> <li>\u2705 EXA_API_KEY ($0-10/month depending on usage)</li> </ul> <p>What you get: - AI-powered analysis - Deep research capabilities - Web search - Natural language queries - All Claude Desktop features</p>"},{"location":"API_KEYS_GUIDE/#getting-started-checklist","title":"\u2705 Getting Started Checklist","text":""},{"location":"API_KEYS_GUIDE/#minimum-setup-free","title":"Minimum Setup (Free)","text":"<pre><code>1. \u2705 Sign up for Tiingo (free)\n2. \u2705 Get TIINGO_API_KEY\n3. \u2705 Add to .env\n4. \u2705 Run: make dev\n</code></pre> <p>You can now: - Get stock data for US &amp; Indian markets - Run technical analysis - Screen stocks - View news sentiment</p>"},{"location":"API_KEYS_GUIDE/#recommended-setup-10month","title":"Recommended Setup (~$10/month)","text":"<pre><code>1. \u2705 Complete Minimum Setup above\n2. \u2705 Sign up for OpenRouter\n3. \u2705 Add $10 credits\n4. \u2705 Get OPENROUTER_API_KEY\n5. \u2705 Add to .env\n6. \u2705 Sign up for Exa (free tier)\n7. \u2705 Get EXA_API_KEY\n8. \u2705 Add to .env\n9. \u2705 Restart: make dev\n</code></pre> <p>You can now: - Ask Claude about any stock - Get AI-powered insights - Deep research on companies - Market trend analysis - Full features! \ud83c\udf89</p>"},{"location":"API_KEYS_GUIDE/#security-best-practices","title":"\ud83d\udd12 Security Best Practices","text":""},{"location":"API_KEYS_GUIDE/#do","title":"DO:","text":"<ul> <li>\u2705 Keep API keys in <code>.env</code> file</li> <li>\u2705 Add <code>.env</code> to <code>.gitignore</code></li> <li>\u2705 Use environment-specific keys (dev/prod)</li> <li>\u2705 Rotate keys periodically</li> <li>\u2705 Monitor API usage</li> <li>\u2705 Set spending limits where possible</li> </ul>"},{"location":"API_KEYS_GUIDE/#dont","title":"DON'T:","text":"<ul> <li>\u274c Commit API keys to git</li> <li>\u274c Share keys publicly</li> <li>\u274c Use production keys for testing</li> <li>\u274c Store keys in code files</li> <li>\u274c Share your <code>.env</code> file</li> </ul>"},{"location":"API_KEYS_GUIDE/#troubleshooting","title":"\ud83d\udee0\ufe0f Troubleshooting","text":""},{"location":"API_KEYS_GUIDE/#api-key-not-found-error","title":"\"API key not found\" Error","text":"<pre><code># Check .env file exists\nls -la .env\n\n# Check key is set\ncat .env | grep TIINGO_API_KEY\n\n# Restart server\nmake dev\n</code></pre>"},{"location":"API_KEYS_GUIDE/#invalid-api-key-error","title":"\"Invalid API key\" Error","text":"<pre><code># Verify key is correct (no extra spaces)\n# Check key status on provider website\n# Try regenerating the key\n</code></pre>"},{"location":"API_KEYS_GUIDE/#rate-limit-exceeded-error","title":"\"Rate limit exceeded\" Error","text":"<pre><code># Wait for rate limit to reset\n# Upgrade to paid tier\n# Use caching to reduce API calls\n</code></pre>"},{"location":"API_KEYS_GUIDE/#resources","title":"\ud83d\udcda Resources","text":"<ul> <li>Tiingo: tiingo.com/documentation</li> <li>OpenRouter: openrouter.ai/docs</li> <li>Exa: docs.exa.ai</li> <li>FRED: fred.stlouisfed.org/docs/api</li> <li>Exchange Rate API: exchangerate-api.com/docs</li> </ul>"},{"location":"API_KEYS_GUIDE/#summary","title":"\ud83c\udfaf Summary","text":""},{"location":"API_KEYS_GUIDE/#for-basic-usage-free","title":"For Basic Usage (FREE):","text":"<pre><code>TIINGO_API_KEY=required\n</code></pre>"},{"location":"API_KEYS_GUIDE/#for-full-features-10month","title":"For Full Features (~$10/month):","text":"<pre><code>TIINGO_API_KEY=required\nOPENROUTER_API_KEY=highly_recommended\nEXA_API_KEY=recommended\n</code></pre>"},{"location":"API_KEYS_GUIDE/#everything-else","title":"Everything Else:","text":"<pre><code>Optional - add as needed\n</code></pre> <p>That's it! Start with just TIINGO_API_KEY and add others as you need more features. \ud83d\ude80</p>"},{"location":"BACKTESTING/","title":"MaverickMCP Backtesting Documentation","text":""},{"location":"BACKTESTING/#overview","title":"Overview","text":"<p>MaverickMCP provides a comprehensive backtesting system powered by VectorBT with advanced parallel processing capabilities. The system supports 35+ pre-built strategies ranging from simple moving averages to advanced ML ensembles, with optimization, validation, and analysis tools.</p>"},{"location":"BACKTESTING/#quick-start","title":"Quick Start","text":""},{"location":"BACKTESTING/#basic-backtesting","title":"Basic Backtesting","text":"<pre><code># Simple SMA crossover backtest\nrun_backtest(\"AAPL\", \"sma_cross\", fast_period=10, slow_period=20)\n\n# RSI mean reversion strategy\nrun_backtest(\"TSLA\", \"rsi\", period=14, oversold=30, overbought=70)\n\n# MACD strategy\nrun_backtest(\"MSFT\", \"macd\", fast_period=12, slow_period=26, signal_period=9)\n</code></pre>"},{"location":"BACKTESTING/#parallel-execution-6-8x-performance-boost","title":"Parallel Execution (6-8x Performance Boost)","text":"<pre><code>from maverick_mcp.backtesting.strategy_executor import ExecutionContext, get_strategy_executor\n\n# Create execution contexts for multiple strategies\ncontexts = [\n    ExecutionContext(\n        strategy_id=\"sma_AAPL\",\n        symbol=\"AAPL\",\n        strategy_type=\"sma_cross\",\n        parameters={\"fast_period\": 10, \"slow_period\": 20},\n        start_date=\"2023-01-01\",\n        end_date=\"2024-01-01\"\n    )\n]\n\n# Execute in parallel\nasync with get_strategy_executor(max_concurrent_strategies=6) as executor:\n    results = await executor.execute_strategies_parallel(contexts)\n</code></pre>"},{"location":"BACKTESTING/#available-strategies","title":"Available Strategies","text":""},{"location":"BACKTESTING/#technical-analysis-strategies","title":"Technical Analysis Strategies","text":"<ul> <li>sma_cross: Simple Moving Average Crossover</li> <li>ema_cross: Exponential Moving Average Crossover</li> <li>rsi: Relative Strength Index Mean Reversion</li> <li>macd: MACD Crossover Strategy</li> <li>bollinger: Bollinger Bands Mean Reversion</li> <li>momentum: Price Momentum Strategy</li> <li>breakout: Price Channel Breakout</li> <li>mean_reversion: Statistical Mean Reversion</li> <li>volume_weighted: Volume-Weighted Moving Average</li> <li>stochastic: Stochastic Oscillator</li> </ul>"},{"location":"BACKTESTING/#advanced-strategies","title":"Advanced Strategies","text":"<ul> <li>adaptive_momentum: ML-Enhanced Adaptive Momentum</li> <li>ensemble: Multi-Strategy Ensemble Approach</li> <li>regime_aware: Market Regime Detection &amp; Switching</li> <li>ml_enhanced: Machine Learning Enhanced Trading</li> <li>pairs_trading: Statistical Arbitrage Pairs Trading</li> </ul>"},{"location":"BACKTESTING/#core-api-functions","title":"Core API Functions","text":""},{"location":"BACKTESTING/#run_backtest","title":"run_backtest","text":"<p>Execute a comprehensive backtest with specified strategy and parameters.</p> <pre><code>run_backtest(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    start_date=\"2023-01-01\",  # Optional, defaults to 1 year ago\n    end_date=\"2024-01-01\",     # Optional, defaults to today\n    initial_capital=10000.0,\n    fast_period=10,\n    slow_period=20\n)\n</code></pre> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"strategy\": \"sma_cross\",\n  \"metrics\": {\n    \"total_return\": 0.15,\n    \"sharpe_ratio\": 1.2,\n    \"max_drawdown\": -0.08,\n    \"total_trades\": 24,\n    \"win_rate\": 0.58,\n    \"profit_factor\": 1.45,\n    \"calmar_ratio\": 1.85\n  },\n  \"trades\": [...],\n  \"equity_curve\": [...],\n  \"analysis\": {...}\n}\n</code></pre></p>"},{"location":"BACKTESTING/#optimize_strategy","title":"optimize_strategy","text":"<p>Find optimal parameters using grid search optimization.</p> <pre><code>optimize_strategy(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    optimization_params={\n        \"fast_period\": [5, 10, 15, 20],\n        \"slow_period\": [20, 30, 40, 50]\n    },\n    granularity=\"medium\"  # \"coarse\", \"medium\", or \"fine\"\n)\n</code></pre>"},{"location":"BACKTESTING/#validate_strategy","title":"validate_strategy","text":"<p>Validate strategy robustness using walk-forward analysis.</p> <pre><code>validate_strategy(\n    symbol=\"AAPL\",\n    strategy=\"sma_cross\",\n    parameters={\"fast_period\": 10, \"slow_period\": 20},\n    n_splits=5,           # Number of walk-forward periods\n    test_size=0.2,        # Out-of-sample test size\n    validation_type=\"walk_forward\"\n)\n</code></pre>"},{"location":"BACKTESTING/#analyze_portfolio","title":"analyze_portfolio","text":"<p>Run portfolio-level backtesting across multiple symbols.</p> <pre><code>analyze_portfolio(\n    symbols=[\"AAPL\", \"MSFT\", \"GOOGL\"],\n    strategy=\"momentum\",\n    weights=[0.33, 0.33, 0.34],  # Optional, equal weight if not specified\n    rebalance_frequency=\"monthly\"\n)\n</code></pre>"},{"location":"BACKTESTING/#parallel-processing-configuration","title":"Parallel Processing Configuration","text":""},{"location":"BACKTESTING/#performance-tuning","title":"Performance Tuning","text":"<pre><code># Development/Testing (conservative)\nexecutor = StrategyExecutor(\n    max_concurrent_strategies=4,\n    max_concurrent_api_requests=8,\n    connection_pool_size=50\n)\n\n# Production (aggressive)\nexecutor = StrategyExecutor(\n    max_concurrent_strategies=8,\n    max_concurrent_api_requests=15,\n    connection_pool_size=100\n)\n\n# High-volume backtesting\nexecutor = StrategyExecutor(\n    max_concurrent_strategies=12,\n    max_concurrent_api_requests=20,\n    connection_pool_size=200\n)\n</code></pre>"},{"location":"BACKTESTING/#environment-variables","title":"Environment Variables","text":"<pre><code># Database optimization\nDB_POOL_SIZE=20\nDB_MAX_OVERFLOW=40\nDB_POOL_TIMEOUT=30\n\n# Parallel execution limits\nMAX_CONCURRENT_STRATEGIES=6\nMAX_CONCURRENT_API_REQUESTS=10\nCONNECTION_POOL_SIZE=100\n</code></pre>"},{"location":"BACKTESTING/#database-optimization","title":"Database Optimization","text":""},{"location":"BACKTESTING/#indexes-for-performance","title":"Indexes for Performance","text":"<p>The system automatically creates optimized indexes for fast data retrieval:</p> <ul> <li>Composite index for date range queries with symbol lookup</li> <li>Covering index for OHLCV queries (includes all price data)</li> <li>Partial index for recent data (PostgreSQL only)</li> </ul>"},{"location":"BACKTESTING/#batch-data-fetching","title":"Batch Data Fetching","text":"<pre><code>from maverick_mcp.backtesting.strategy_executor import batch_fetch_stock_data\n\n# Fetch data for multiple symbols efficiently\nsymbols = [\"AAPL\", \"MSFT\", \"GOOGL\", \"TSLA\", \"NVDA\"]\ndata_dict = await batch_fetch_stock_data(\n    symbols=symbols,\n    start_date=\"2023-01-01\",\n    end_date=\"2024-01-01\",\n    max_concurrent=10\n)\n</code></pre>"},{"location":"BACKTESTING/#best-practices","title":"Best Practices","text":""},{"location":"BACKTESTING/#1-strategy-development","title":"1. Strategy Development","text":"<ul> <li>Start with simple strategies before complex ones</li> <li>Always validate with out-of-sample data</li> <li>Use walk-forward analysis for robustness testing</li> <li>Consider transaction costs and slippage</li> </ul>"},{"location":"BACKTESTING/#2-parameter-optimization","title":"2. Parameter Optimization","text":"<ul> <li>Avoid overfitting with too many parameters</li> <li>Use coarse optimization first, then refine</li> <li>Validate optimal parameters on different time periods</li> <li>Consider parameter stability over time</li> </ul>"},{"location":"BACKTESTING/#3-risk-management","title":"3. Risk Management","text":"<ul> <li>Always set appropriate position sizing</li> <li>Use stop-loss and risk limits</li> <li>Monitor maximum drawdown</li> <li>Diversify across strategies and assets</li> </ul>"},{"location":"BACKTESTING/#4-performance-optimization","title":"4. Performance Optimization","text":"<ul> <li>Use parallel execution for multiple backtests</li> <li>Enable database caching for frequently accessed data</li> <li>Batch fetch data for multiple symbols</li> <li>Monitor memory usage with large datasets</li> </ul>"},{"location":"BACKTESTING/#troubleshooting","title":"Troubleshooting","text":""},{"location":"BACKTESTING/#common-issues","title":"Common Issues","text":"<p>High memory usage - Reduce <code>max_concurrent_strategies</code> - Use smaller date ranges for initial testing - Enable database caching</p> <p>Slow performance - Ensure database indexes are created - Increase connection pool size - Use parallel execution - Check API rate limits</p> <p>API rate limiting - Lower <code>max_concurrent_api_requests</code> - Implement exponential backoff - Use cached data when possible</p> <p>Data quality issues - Verify data source reliability - Check for missing data periods - Validate against multiple sources - Handle corporate actions properly</p>"},{"location":"BACKTESTING/#debug-mode","title":"Debug Mode","text":"<p>Enable detailed logging for troubleshooting:</p> <pre><code>import logging\nlogging.getLogger(\"maverick_mcp.backtesting\").setLevel(logging.DEBUG)\n</code></pre>"},{"location":"BACKTESTING/#performance-metrics","title":"Performance Metrics","text":""},{"location":"BACKTESTING/#key-metrics-explained","title":"Key Metrics Explained","text":"<ul> <li>Total Return: Overall strategy performance</li> <li>Sharpe Ratio: Risk-adjusted returns (&gt;1.0 is good, &gt;2.0 is excellent)</li> <li>Max Drawdown: Maximum peak-to-trough decline</li> <li>Win Rate: Percentage of profitable trades</li> <li>Profit Factor: Gross profit / Gross loss (&gt;1.5 is good)</li> <li>Calmar Ratio: Annual return / Max drawdown (&gt;1.0 is good)</li> </ul>"},{"location":"BACKTESTING/#benchmark-comparison","title":"Benchmark Comparison","text":"<p>Compare strategy performance against buy-and-hold:</p> <pre><code>results = run_backtest(...)\nbenchmark = results.get(\"benchmark_comparison\")\nprint(f\"Strategy vs Buy-Hold: {benchmark['excess_return']:.2%}\")\n</code></pre>"},{"location":"BACKTESTING/#advanced-features","title":"Advanced Features","text":""},{"location":"BACKTESTING/#monte-carlo-simulation","title":"Monte Carlo Simulation","text":"<p>Assess strategy robustness with randomized scenarios:</p> <pre><code>monte_carlo_results = run_monte_carlo_simulation(\n    strategy_results=results,\n    n_simulations=1000,\n    confidence_level=0.95\n)\n</code></pre>"},{"location":"BACKTESTING/#market-regime-detection","title":"Market Regime Detection","text":"<p>Automatically adjust strategy based on market conditions:</p> <pre><code>regime_results = analyze_market_regime(\n    symbol=\"SPY\",\n    lookback_period=252,\n    regime_indicators=[\"volatility\", \"trend\", \"momentum\"]\n)\n</code></pre>"},{"location":"BACKTESTING/#multi-strategy-ensemble","title":"Multi-Strategy Ensemble","text":"<p>Combine multiple strategies for better risk-adjusted returns:</p> <pre><code>ensemble_results = run_ensemble_backtest(\n    symbol=\"AAPL\",\n    strategies=[\"sma_cross\", \"rsi\", \"momentum\"],\n    weights=\"equal\",  # or \"optimize\" for dynamic weighting\n    correlation_threshold=0.7\n)\n</code></pre>"},{"location":"BACKTESTING/#integration-examples","title":"Integration Examples","text":""},{"location":"BACKTESTING/#with-claude-desktop","title":"With Claude Desktop","text":"<pre><code># Use MCP tools for comprehensive analysis\n\"Run a backtest for AAPL using SMA crossover strategy with\noptimization for the best parameters over the last 2 years\"\n\n# The system will:\n# 1. Fetch historical data\n# 2. Run parameter optimization\n# 3. Execute backtest with optimal parameters\n# 4. Provide detailed performance metrics\n</code></pre>"},{"location":"BACKTESTING/#programmatic-usage","title":"Programmatic Usage","text":"<pre><code>from maverick_mcp.backtesting import BacktestingEngine\n\nasync def run_comprehensive_analysis():\n    engine = BacktestingEngine()\n\n    # Run backtest\n    results = await engine.run_backtest(\n        symbol=\"AAPL\",\n        strategy=\"momentum\"\n    )\n\n    # Optimize parameters\n    optimal = await engine.optimize_strategy(\n        symbol=\"AAPL\",\n        strategy=\"momentum\",\n        granularity=\"fine\"\n    )\n\n    # Validate robustness\n    validation = await engine.validate_strategy(\n        symbol=\"AAPL\",\n        strategy=\"momentum\",\n        parameters=optimal[\"best_params\"]\n    )\n\n    return {\n        \"backtest\": results,\n        \"optimization\": optimal,\n        \"validation\": validation\n    }\n</code></pre>"},{"location":"BACKTESTING/#testing","title":"Testing","text":"<p>Run the test suite to verify functionality:</p> <pre><code># Unit tests\npytest tests/test_backtesting.py\n\n# Integration tests\npytest tests/test_strategy_executor.py\n\n# Performance benchmarks\npython scripts/benchmark_parallel_backtesting.py\n\n# Comprehensive validation\npython scripts/test_all_strategies.py\n</code></pre>"},{"location":"BACKTESTING/#summary","title":"Summary","text":"<p>MaverickMCP's backtesting system provides:</p> <ul> <li>35+ pre-built strategies with extensive customization</li> <li>6-8x performance improvement with parallel processing</li> <li>Comprehensive optimization and validation tools</li> <li>Professional-grade metrics and risk analysis</li> <li>Production-ready architecture with error handling and monitoring</li> </ul> <p>The system is designed for both simple strategy testing and complex portfolio analysis, with a focus on performance, reliability, and ease of use.</p>"},{"location":"COMPLETE_SETUP_GUIDE/","title":"Complete Setup Guide for MaverickMCP","text":"<p>Step-by-step guide to run MaverickMCP with full functionality.</p> <p>Choose your setup path:</p> <ul> <li>\ud83d\ude80 Quick Start (Docker) - Easiest, everything handled for you</li> <li>\ud83d\udcbb Local Development - More control, faster iteration</li> </ul>"},{"location":"COMPLETE_SETUP_GUIDE/#option-1-docker-setup-easiest-recommended-for-first-time","title":"\ud83d\ude80 Option 1: Docker Setup (Easiest - Recommended for First Time)","text":"<p>Docker automatically handles PostgreSQL, Redis, and all services.</p>"},{"location":"COMPLETE_SETUP_GUIDE/#prerequisites","title":"Prerequisites","text":"<ol> <li> <p>Install Docker Desktop</p> </li> <li> <p>macOS: Download Docker Desktop</p> </li> <li>Linux: <code>sudo apt-get install docker-compose</code></li> <li> <p>Windows: Download Docker Desktop</p> </li> <li> <p>Verify Docker is running: <pre><code>docker --version\ndocker-compose --version\n</code></pre></p> </li> </ol>"},{"location":"COMPLETE_SETUP_GUIDE/#step-by-step","title":"Step-by-Step","text":"<p>Step 1: Clone the repository</p> <pre><code>git clone https://github.com/arunbcodes/maverick-mcp.git\ncd maverick-mcp\n</code></pre> <p>Step 2: Create <code>.env</code> file</p> <pre><code># Create .env file\ntouch .env\n\n# Add your API keys (see below for what's needed)\nnano .env  # or use your favorite editor\n</code></pre> <p>Minimum <code>.env</code> for Docker:</p> <pre><code># REQUIRED\nTIINGO_API_KEY=your_tiingo_key_here\n\n# OPTIONAL (but recommended for full functionality)\nOPENROUTER_API_KEY=sk-or-v1-your_key_here\nEXA_API_KEY=your_exa_key_here\n\n# These are auto-configured by Docker\nDATABASE_URL=postgresql://postgres:postgres@postgres:5432/maverick_mcp\nREDIS_HOST=redis\nREDIS_PORT=6379\nCACHE_ENABLED=true\n</code></pre> <p>Step 3: Start everything with Docker</p> <pre><code># Build and start all services (PostgreSQL, Redis, MaverickMCP)\nmake docker-up\n\n# Or manually:\ndocker-compose up --build -d\n</code></pre> <p>This automatically starts:</p> <ul> <li>\u2705 PostgreSQL database (localhost:55432)</li> <li>\u2705 Redis cache (localhost:56379)</li> <li>\u2705 MaverickMCP server (localhost:8003)</li> </ul> <p>Step 4: Verify it's running</p> <pre><code># Check logs\nmake docker-logs\n\n# Or manually:\ndocker-compose logs -f\n\n# Check containers are running\ndocker ps\n</code></pre> <p>You should see 3 containers:</p> <ul> <li><code>maverick-mcp-backend-1</code></li> <li><code>maverick-mcp-postgres-1</code></li> <li><code>maverick-mcp-redis-1</code></li> </ul> <p>Step 5: Test the setup</p> <pre><code># The API should be accessible\ncurl http://localhost:8003/health\n\n# Expected response: {\"status\": \"ok\"}\n</code></pre> <p>Step 6: Connect to Claude Desktop</p> <p>Edit your Claude Desktop config:</p> <pre><code># macOS\nnano ~/Library/Application\\ Support/Claude/claude_desktop_config.json\n\n# Linux\nnano ~/.config/Claude/claude_desktop_config.json\n\n# Windows\nnotepad %APPDATA%\\Claude\\claude_desktop_config.json\n</code></pre> <p>Add MaverickMCP:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"docker\",\n      \"args\": [\n        \"exec\",\n        \"-i\",\n        \"maverick-mcp-backend-1\",\n        \"python\",\n        \"-m\",\n        \"maverick_mcp.api.server\"\n      ]\n    }\n  }\n}\n</code></pre> <p>Step 7: Restart Claude Desktop</p> <p>Done! \ud83c\udf89 You now have full functionality!</p>"},{"location":"COMPLETE_SETUP_GUIDE/#managing-docker-services","title":"Managing Docker Services","text":"<pre><code># Stop all services\nmake docker-down\n\n# View logs\nmake docker-logs\n\n# Restart services\ndocker-compose restart\n\n# Check status\ndocker ps\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#option-2-local-development-more-control","title":"\ud83d\udcbb Option 2: Local Development (More Control)","text":"<p>Run services locally without Docker. You choose what to install.</p>"},{"location":"COMPLETE_SETUP_GUIDE/#prerequisites_1","title":"Prerequisites","text":"<ol> <li>Python 3.12+</li> </ol> <pre><code>python --version  # Should be 3.12 or higher\n</code></pre> <ol> <li>Install uv (Python package manager)</li> </ol> <pre><code>curl -LsSf https://astral.sh/uv/install.sh | sh\nsource ~/.zshrc  # or ~/.bashrc\n</code></pre> <ol> <li>Install TA-Lib (for technical analysis)</li> </ol> <pre><code># macOS\nbrew install ta-lib\n\n# Ubuntu/Debian\nsudo apt-get install ta-lib\n\n# Or from source (all platforms)\nwget http://prdownloads.sourceforge.net/ta-lib/ta-lib-0.4.0-src.tar.gz\ntar -xzf ta-lib-0.4.0-src.tar.gz\ncd ta-lib/\n./configure --prefix=/usr\nmake\nsudo make install\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#step-by-step_1","title":"Step-by-Step","text":"<p>Step 1: Clone and setup</p> <pre><code>git clone https://github.com/arunbcodes/maverick-mcp.git\ncd maverick-mcp\n\n# Install dependencies\nuv sync\n</code></pre> <p>Step 2: Choose your database option</p> <p>You have 2 choices:</p>"},{"location":"COMPLETE_SETUP_GUIDE/#option-a-sqlite-easiest-no-setup-needed","title":"Option A: SQLite (Easiest - No setup needed)","text":"<p>Default! Works out of the box, perfect for development.</p> <pre><code># No configuration needed! Just don't set DATABASE_URL\n# Creates maverick.db in your project directory\n</code></pre> <p>Pros:</p> <ul> <li>\u2705 Zero setup</li> <li>\u2705 No separate database server</li> <li>\u2705 Perfect for development</li> </ul> <p>Cons:</p> <ul> <li>\u274c Not suitable for production</li> <li>\u274c No concurrent writes</li> <li>\u274c Limited scalability</li> </ul>"},{"location":"COMPLETE_SETUP_GUIDE/#option-b-postgresql-production-ready","title":"Option B: PostgreSQL (Production-ready)","text":"<p>Better performance and features.</p> <p>Install PostgreSQL:</p> <pre><code># macOS\nbrew install postgresql@15\nbrew services start postgresql@15\n\n# Ubuntu/Debian\nsudo apt-get install postgresql-15\nsudo systemctl start postgresql\nsudo systemctl enable postgresql\n\n# Verify it's running\npsql --version\n</code></pre> <p>Create database:</p> <pre><code># Connect to PostgreSQL\npsql postgres\n\n# In psql:\nCREATE DATABASE maverick_mcp;\nCREATE USER maverick WITH PASSWORD 'your_password';\nGRANT ALL PRIVILEGES ON DATABASE maverick_mcp TO maverick;\n\\q\n</code></pre> <p>Configure <code>.env</code>:</p> <pre><code>DATABASE_URL=postgresql://maverick:your_password@localhost:5432/maverick_mcp\n</code></pre> <p>Step 3: Choose your cache option</p> <p>Redis is optional but recommended for caching.</p>"},{"location":"COMPLETE_SETUP_GUIDE/#option-a-without-redis-works-fine","title":"Option A: Without Redis (Works fine)","text":"<pre><code># In .env\nCACHE_ENABLED=false\n\n# Or just don't set it\n</code></pre> <p>Pros:</p> <ul> <li>\u2705 No setup needed</li> <li>\u2705 Works fine for light usage</li> </ul> <p>Cons:</p> <ul> <li>\u274c No caching = more API calls = slower</li> <li>\u274c Hit rate limits faster</li> </ul>"},{"location":"COMPLETE_SETUP_GUIDE/#option-b-with-redis-recommended","title":"Option B: With Redis (Recommended)","text":"<p>Install Redis:</p> <pre><code># macOS\nbrew install redis\nbrew services start redis\n\n# Ubuntu/Debian\nsudo apt-get install redis\nsudo systemctl start redis\nsudo systemctl enable redis\n\n# Verify it's running\nredis-cli ping\n# Should respond: PONG\n</code></pre> <p>Configure <code>.env</code>:</p> <pre><code>CACHE_ENABLED=true\nREDIS_URL=redis://localhost:6379\nREDIS_HOST=localhost\nREDIS_PORT=6379\nCACHE_TTL_SECONDS=3600\n</code></pre> <p>Managing Redis:</p> <pre><code># Start\nmake redis-start\n# Or: brew services start redis (macOS)\n\n# Stop\nmake redis-stop\n# Or: brew services stop redis (macOS)\n\n# Check status\nredis-cli ping\n</code></pre> <p>Step 4: Create <code>.env</code> file</p> <pre><code>touch .env\nnano .env\n</code></pre> <p>Complete <code>.env</code> template:</p> <pre><code># ========================================\n# REQUIRED - Won't work without this\n# ========================================\nTIINGO_API_KEY=your_tiingo_key_here\n\n# ========================================\n# STRONGLY RECOMMENDED - For AI features\n# ========================================\nOPENROUTER_API_KEY=sk-or-v1-your_key_here\nEXA_API_KEY=your_exa_key_here\n\n# ========================================\n# DATABASE (Optional - defaults to SQLite)\n# ========================================\n# For SQLite (default): Don't set DATABASE_URL\n# For PostgreSQL:\nDATABASE_URL=postgresql://maverick:password@localhost:5432/maverick_mcp\n\n# ========================================\n# CACHE (Optional - recommended)\n# ========================================\nCACHE_ENABLED=true\nREDIS_URL=redis://localhost:6379\nREDIS_HOST=localhost\nREDIS_PORT=6379\nCACHE_TTL_SECONDS=3600\n\n# ========================================\n# OPTIONAL - Enhanced Features\n# ========================================\nOPENAI_API_KEY=sk-your_openai_key_here\nANTHROPIC_API_KEY=sk-ant-your_anthropic_key_here\nFRED_API_KEY=your_fred_key_here\nTAVILY_API_KEY=your_tavily_key_here\nEXCHANGE_RATE_API_KEY=your_exchange_rate_key_here\n\n# ========================================\n# SERVER (Optional)\n# ========================================\nAPI_HOST=0.0.0.0\nAPI_PORT=8003\nLOG_LEVEL=info\nENVIRONMENT=development\n</code></pre> <p>Step 5: Run database migrations</p> <pre><code># Initialize/update database schema\nmake migrate\n\n# Or manually:\n./scripts/run-migrations.sh upgrade\n</code></pre> <p>Step 6: Seed the database (optional)</p> <pre><code># Seed S&amp;P 500 stocks\npython scripts/seed_sp500.py\n\n# Seed Indian stocks (Nifty 50 + Sensex)\npython scripts/seed_indian_stocks.py\n</code></pre> <p>Step 7: Start the server</p> <pre><code># Start development server\nmake dev\n\n# Or manually:\nuv run python -m maverick_mcp.api.server\n</code></pre> <p>Step 8: Verify it's running</p> <pre><code># Test the API\ncurl http://localhost:8003/health\n\n# Expected: {\"status\": \"ok\"}\n</code></pre> <p>Step 9: Connect to Claude Desktop</p> <p>Edit Claude Desktop config:</p> <pre><code># macOS\nnano ~/Library/Application\\ Support/Claude/claude_desktop_config.json\n</code></pre> <p>Add MaverickMCP:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"uv\",\n      \"args\": [\n        \"--directory\",\n        \"/Users/YOUR_USERNAME/path/to/maverick-mcp\",\n        \"run\",\n        \"python\",\n        \"-m\",\n        \"maverick_mcp.api.server\"\n      ]\n    }\n  }\n}\n</code></pre> <p>Replace <code>/Users/YOUR_USERNAME/path/to/maverick-mcp</code> with your actual path!</p> <p>Step 10: Restart Claude Desktop</p> <p>Done! \ud83c\udf89</p>"},{"location":"COMPLETE_SETUP_GUIDE/#whats-running-summary","title":"\ud83c\udfaf What's Running? (Summary)","text":""},{"location":"COMPLETE_SETUP_GUIDE/#with-docker-make-docker-up","title":"With Docker (<code>make docker-up</code>)","text":"<pre><code>\u2705 PostgreSQL  \u2192 localhost:55432 (auto-started)\n\u2705 Redis       \u2192 localhost:56379 (auto-started)\n\u2705 MaverickMCP \u2192 localhost:8003 (auto-started)\n</code></pre> <p>You don't need to manage anything!</p> <p>Note for Rancher Desktop users: Non-standard ports (55432, 56379) are used because Rancher Desktop's Lima VM reserves standard ports via SSH tunnel. Containers are configured to listen on these ports internally.</p>"},{"location":"COMPLETE_SETUP_GUIDE/#with-local-setup-minimal","title":"With Local Setup (Minimal)","text":"<pre><code>\u274c PostgreSQL  \u2192 Optional (uses SQLite by default)\n\u274c Redis       \u2192 Optional (caching disabled)\n\u2705 MaverickMCP \u2192 localhost:8003 (you start with `make dev`)\n</code></pre> <p>Only MaverickMCP runs, no separate services needed!</p>"},{"location":"COMPLETE_SETUP_GUIDE/#with-local-setup-full","title":"With Local Setup (Full)","text":"<pre><code>\u2705 PostgreSQL  \u2192 localhost:5432 (you start with `brew services start postgresql`)\n\u2705 Redis       \u2192 localhost:6379 (you start with `make redis-start`)\n\u2705 MaverickMCP \u2192 localhost:8003 (you start with `make dev`)\n</code></pre> <p>You manage each service separately.</p>"},{"location":"COMPLETE_SETUP_GUIDE/#verification-checklist","title":"\u2705 Verification Checklist","text":""},{"location":"COMPLETE_SETUP_GUIDE/#1-check-api-is-running","title":"1. Check API is running","text":"<pre><code>curl http://localhost:8003/health\n# Expected: {\"status\": \"ok\"}\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#2-check-database-connection","title":"2. Check database connection","text":"<pre><code># If using PostgreSQL\npsql -U maverick -d maverick_mcp -c \"SELECT COUNT(*) FROM mcp_stocks;\"\n\n# If using SQLite\nsqlite3 maverick.db \"SELECT COUNT(*) FROM mcp_stocks;\"\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#3-check-redis-if-using","title":"3. Check Redis (if using)","text":"<pre><code>redis-cli ping\n# Expected: PONG\n\n# Check cache is working\nredis-cli KEYS \"*\"\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#4-test-api-functionality","title":"4. Test API functionality","text":"<pre><code># Get stock data\ncurl \"http://localhost:8003/api/stock/AAPL?days=30\"\n\n# Test Indian market\ncurl \"http://localhost:8003/api/stock/RELIANCE.NS?days=30\"\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#5-check-claude-desktop-integration","title":"5. Check Claude Desktop integration","text":"<p>Open Claude Desktop and try:</p> <pre><code>\"What's the current price of Apple stock?\"\n\"Analyze Tesla for investment\"\n\"Show me bullish Indian stocks\"\n</code></pre> <p>If it responds with stock data, it's working! \ud83c\udf89</p>"},{"location":"COMPLETE_SETUP_GUIDE/#common-commands","title":"\ud83d\udd27 Common Commands","text":""},{"location":"COMPLETE_SETUP_GUIDE/#starting-services","title":"Starting Services","text":"<pre><code># Docker (all-in-one)\nmake docker-up              # Start everything\nmake docker-down            # Stop everything\nmake docker-logs            # View logs\n\n# Local development\nmake dev                    # Start MaverickMCP\nmake redis-start            # Start Redis (if installed)\nbrew services start postgresql@15  # Start PostgreSQL (macOS)\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#database-management","title":"Database Management","text":"<pre><code>make migrate                # Run migrations\npython scripts/seed_sp500.py       # Seed US stocks\npython scripts/seed_indian_stocks.py  # Seed Indian stocks\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#testing","title":"Testing","text":"<pre><code>make test                   # Run unit tests\nmake test-all               # Run all tests\nmake test-cov               # Run with coverage report\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#development","title":"Development","text":"<pre><code>make format                 # Format code\nmake lint                   # Run linter\nmake check                  # Run all checks\nmake clean                  # Clean up temp files\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#troubleshooting","title":"\ud83d\udc1b Troubleshooting","text":""},{"location":"COMPLETE_SETUP_GUIDE/#issue-connection-refused-error","title":"Issue: \"Connection refused\" error","text":"<p>Problem: Can't connect to PostgreSQL or Redis</p> <p>Solution:</p> <pre><code># Check if services are running\nbrew services list          # macOS\nsudo systemctl status postgresql redis  # Linux\n\n# Start services\nbrew services start postgresql@15 redis  # macOS\nsudo systemctl start postgresql redis   # Linux\n\n# Or use Docker\nmake docker-up\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#issue-api-key-not-found","title":"Issue: \"API key not found\"","text":"<p>Problem: API keys not loaded</p> <p>Solution:</p> <pre><code># Check .env exists\nls -la .env\n\n# Check keys are set\ncat .env | grep TIINGO_API_KEY\n\n# Make sure no extra spaces\n# Restart server\nmake dev\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#issue-database-not-initialized","title":"Issue: \"Database not initialized\"","text":"<p>Problem: Database schema not created</p> <p>Solution:</p> <pre><code># Run migrations\nmake migrate\n\n# Or manually\n./scripts/run-migrations.sh upgrade\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#issue-import-error-no-module-named-talib","title":"Issue: \"Import error: No module named 'talib'\"","text":"<p>Problem: TA-Lib not installed</p> <p>Solution:</p> <pre><code># macOS\nbrew install ta-lib\n\n# Ubuntu\nsudo apt-get install ta-lib\n\n# Then reinstall Python package\nuv sync\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#issue-docker-containers-wont-start","title":"Issue: Docker containers won't start","text":"<p>Problem: Port conflicts or Docker issues</p> <p>Solution:</p> <pre><code># Check what's using ports\nlsof -i :55432  # PostgreSQL (Docker)\nlsof -i :56379  # Redis (Docker)\nlsof -i :8003   # MaverickMCP\n\n# Stop conflicting services\nbrew services stop postgresql redis\n\n# Restart Docker\nmake docker-down\nmake docker-up\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#issue-tests-failing-with-docker-not-running","title":"Issue: Tests failing with \"Docker not running\"","text":"<p>Problem: Some tests need Docker for test database</p> <p>Solution:</p> <pre><code># Option 1: Start Docker Desktop\nopen -a Docker  # macOS\n\n# Option 2: Run only unit tests (no Docker needed)\npytest tests/test_validators.py -v\npytest tests/test_datetime_utils.py -v\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#performance-tips","title":"\ud83d\udcca Performance Tips","text":""},{"location":"COMPLETE_SETUP_GUIDE/#for-best-performance","title":"For Best Performance:","text":"<ol> <li> <p>Use PostgreSQL instead of SQLite</p> </li> <li> <p>Much faster for large datasets</p> </li> <li> <p>Supports concurrent queries</p> </li> <li> <p>Enable Redis caching</p> </li> <li> <p>Reduces API calls by 80%+</p> </li> <li>Faster response times</li> <li> <p>Prevents hitting rate limits</p> </li> <li> <p>Use Docker for production</p> </li> <li>Pre-configured for optimal performance</li> <li>Auto-scaling ready</li> <li>Easy deployment</li> </ol>"},{"location":"COMPLETE_SETUP_GUIDE/#cache-hit-rates","title":"Cache Hit Rates:","text":"<pre><code># Check Redis cache effectiveness\nredis-cli INFO stats | grep keyspace_hits\nredis-cli INFO stats | grep keyspace_misses\n\n# Calculate hit rate\n# hit_rate = hits / (hits + misses) * 100%\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#recommended-setup-by-use-case","title":"\ud83c\udfaf Recommended Setup by Use Case","text":""},{"location":"COMPLETE_SETUP_GUIDE/#for-quick-testing-5-minutes","title":"For Quick Testing (5 minutes)","text":"<pre><code># Just SQLite, no Redis, basic API keys\nTIINGO_API_KEY=xxx\nmake dev\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#for-development-10-minutes","title":"For Development (10 minutes)","text":"<pre><code># SQLite + Redis, full API keys\nTIINGO_API_KEY=xxx\nOPENROUTER_API_KEY=xxx\nCACHE_ENABLED=true\nmake redis-start\nmake dev\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#for-production-docker-2-minutes","title":"For Production (Docker - 2 minutes)","text":"<pre><code># Everything configured automatically\nmake docker-up\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#for-full-local-development-30-minutes","title":"For Full Local Development (30 minutes)","text":"<pre><code># PostgreSQL + Redis + All services\n# Complete control, best for debugging\nbrew install postgresql@15 redis ta-lib\n# ... configure everything ...\nmake dev\n</code></pre>"},{"location":"COMPLETE_SETUP_GUIDE/#next-steps","title":"\ud83d\udcda Next Steps","text":"<p>After setup is complete:</p> <ol> <li> <p>Read the API Keys Guide</p> </li> <li> <p>See <code>docs/API_KEYS_GUIDE.md</code></p> </li> <li> <p>Understand what each key enables</p> </li> <li> <p>Try the Examples</p> </li> </ol> <pre><code>python examples/indian_market_analysis.py\npython examples/llm_speed_demo.py\n</code></pre> <ol> <li>Test Stock Screening</li> </ol> <pre><code>python scripts/run_stock_screening.py\n</code></pre> <ol> <li> <p>Read Documentation</p> </li> <li> <p><code>docs/INDIAN_MARKET.md</code> - Indian market features</p> </li> <li><code>docs/TESTING.md</code> - Testing guide</li> <li> <p><code>CLAUDE.md</code> - Claude Desktop integration</p> </li> <li> <p>Contribute!</p> </li> <li>Check <code>CONTRIBUTING.md</code></li> <li>Look for issues labeled \"good first issue\"</li> </ol>"},{"location":"COMPLETE_SETUP_GUIDE/#thats-it","title":"\ud83c\udf8a That's It!","text":"<p>You now have MaverickMCP running with full functionality! \ud83d\ude80</p> <p>Quick Reference:</p> Need Solution Easiest <code>make docker-up</code> (2 min) Fastest SQLite + no Redis (5 min) Best Performance PostgreSQL + Redis (30 min) Production Docker (2 min) <p>Questions? Open an issue on GitHub! \ud83d\udcac</p>"},{"location":"COST_BASIS_SPECIFICATION/","title":"Cost Basis Specification for Portfolio Management","text":""},{"location":"COST_BASIS_SPECIFICATION/#1-overview","title":"1. Overview","text":"<p>This document specifies the cost basis tracking algorithm for MaverickMCP's portfolio management system. The system uses the Average Cost Method for educational simplicity.</p>"},{"location":"COST_BASIS_SPECIFICATION/#2-cost-basis-method-average-cost","title":"2. Cost Basis Method: Average Cost","text":""},{"location":"COST_BASIS_SPECIFICATION/#definition","title":"Definition","text":"<p>The average cost method calculates the cost basis by taking the total cost of all shares purchased and dividing by the total number of shares owned.</p>"},{"location":"COST_BASIS_SPECIFICATION/#formula","title":"Formula","text":"<pre><code>Average Cost Basis = Total Cost of All Shares / Total Number of Shares\n</code></pre>"},{"location":"COST_BASIS_SPECIFICATION/#why-average-cost","title":"Why Average Cost?","text":"<ol> <li>Simplicity: Easiest to understand for educational purposes</li> <li>Consistency: Matches existing <code>PortfolioManager</code> implementation</li> <li>No Tax Complexity: Avoids FIFO/LIFO tax accounting rules</li> <li>Educational Focus: Appropriate for learning, not tax optimization</li> </ol>"},{"location":"COST_BASIS_SPECIFICATION/#3-edge-cases-and-handling","title":"3. Edge Cases and Handling","text":""},{"location":"COST_BASIS_SPECIFICATION/#31-multiple-purchases-at-different-prices","title":"3.1 Multiple Purchases at Different Prices","text":"<p>Scenario: User buys same stock multiple times at different prices</p> <p>Example: <pre><code>Purchase 1: 10 shares @ $150.00 = $1,500.00\nPurchase 2: 10 shares @ $170.00 = $1,700.00\nResult: 20 shares @ $160.00 average cost = $3,200.00 total\n</code></pre></p> <p>Algorithm: <pre><code>new_total_shares = existing_shares + new_shares\nnew_total_cost = existing_total_cost + (new_shares * new_price)\nnew_average_cost = new_total_cost / new_total_shares\n</code></pre></p> <p>Precision: Use Decimal type throughout, round final result to 4 decimal places</p>"},{"location":"COST_BASIS_SPECIFICATION/#32-partial-position-sales","title":"3.2 Partial Position Sales","text":"<p>Scenario: User sells portion of position</p> <p>Example: <pre><code>Holding: 20 shares @ $160.00 average cost = $3,200.00 total\nSell: 10 shares\nResult: 10 shares @ $160.00 average cost = $1,600.00 total\n</code></pre></p> <p>Algorithm: <pre><code>new_shares = existing_shares - sold_shares\nnew_total_cost = new_shares * average_cost_basis\n# Average cost basis remains unchanged\n</code></pre></p> <p>Important: Average cost basis does NOT change on partial sales</p>"},{"location":"COST_BASIS_SPECIFICATION/#33-full-position-close","title":"3.3 Full Position Close","text":"<p>Scenario: User sells all shares</p> <p>Algorithm: <pre><code>if sold_shares &gt;= existing_shares:\n    # Remove position entirely from portfolio\n    position = None\n</code></pre></p> <p>Database: Delete PortfolioPosition row</p>"},{"location":"COST_BASIS_SPECIFICATION/#34-zero-or-negative-shares","title":"3.4 Zero or Negative Shares","text":"<p>Validation Rules: - Shares to add: Must be &gt; 0 - Shares to remove: Must be &gt; 0 - Result after removal: Must be &gt;= 0</p> <p>Error Handling: <pre><code>if new_shares &lt;= 0:\n    raise ValueError(\"Invalid share quantity\")\n</code></pre></p>"},{"location":"COST_BASIS_SPECIFICATION/#35-zero-or-negative-prices","title":"3.5 Zero or Negative Prices","text":"<p>Validation Rules: - Purchase price: Must be &gt; 0 - Sell price: Optional (not used in cost basis calculation)</p>"},{"location":"COST_BASIS_SPECIFICATION/#36-fractional-shares","title":"3.6 Fractional Shares","text":"<p>Support: YES - Use Numeric(20, 8) for up to 8 decimal places</p> <p>Example: <pre><code>Purchase: 10.5 shares @ $150.25 = $1,577.625\nValid and supported\n</code></pre></p>"},{"location":"COST_BASIS_SPECIFICATION/#37-rounding-and-precision","title":"3.7 Rounding and Precision","text":"<p>Database Storage: - Shares: <code>Numeric(20, 8)</code> - 8 decimal places - Prices: <code>Numeric(12, 4)</code> - 4 decimal places (cents precision) - Total Cost: <code>Numeric(20, 4)</code> - 4 decimal places</p> <p>Calculation Precision: - Use Python <code>Decimal</code> type throughout calculations - Only round when storing to database or displaying to user - Never use float for financial calculations</p> <p>Rounding Rules: <pre><code>from decimal import Decimal, ROUND_HALF_UP\n\n# For display (2 decimal places)\ndisplay_value = value.quantize(Decimal('0.01'), rounding=ROUND_HALF_UP)\n\n# For database storage (4 decimal places for prices)\ndb_price = price.quantize(Decimal('0.0001'), rounding=ROUND_HALF_UP)\n\n# For database storage (8 decimal places for shares)\ndb_shares = shares.quantize(Decimal('0.00000001'), rounding=ROUND_HALF_UP)\n</code></pre></p>"},{"location":"COST_BASIS_SPECIFICATION/#38-division-by-zero","title":"3.8 Division by Zero","text":"<p>Scenario: Calculating average when shares = 0</p> <p>Prevention: <pre><code>if total_shares == 0:\n    raise ValueError(\"Cannot calculate average cost with zero shares\")\n</code></pre></p> <p>Should never occur due to validation preventing zero-share positions</p>"},{"location":"COST_BASIS_SPECIFICATION/#4-pl-calculation","title":"4. P&amp;L Calculation","text":""},{"location":"COST_BASIS_SPECIFICATION/#unrealized-pl-formula","title":"Unrealized P&amp;L Formula","text":"<pre><code>Current Value = Shares \u00d7 Current Price\nUnrealized P&amp;L = Current Value - Total Cost\nP&amp;L Percentage = (Unrealized P&amp;L / Total Cost) \u00d7 100\n</code></pre>"},{"location":"COST_BASIS_SPECIFICATION/#example","title":"Example","text":"<pre><code>Position: 20 shares @ $160.00 cost basis = $3,200.00 total cost\nCurrent Price: $175.50\nCurrent Value: 20 \u00d7 $175.50 = $3,510.00\nUnrealized P&amp;L: $3,510.00 - $3,200.00 = $310.00\nP&amp;L %: ($310.00 / $3,200.00) \u00d7 100 = 9.69%\n</code></pre>"},{"location":"COST_BASIS_SPECIFICATION/#edge-cases","title":"Edge Cases","text":"<ul> <li>Current price unavailable: Use cost basis as fallback</li> <li>Zero cost basis: Return 0% (should never occur with validation)</li> </ul>"},{"location":"COST_BASIS_SPECIFICATION/#5-database-constraints","title":"5. Database Constraints","text":""},{"location":"COST_BASIS_SPECIFICATION/#unique-constraint","title":"Unique Constraint","text":"<p><pre><code>UNIQUE (portfolio_id, ticker)\n</code></pre> Rationale: One position per ticker per portfolio</p>"},{"location":"COST_BASIS_SPECIFICATION/#check-constraints-optional-enforce-in-application-layer","title":"Check Constraints (Optional - Enforce in Application Layer)","text":"<pre><code># Application-level validation (preferred)\nassert shares &gt; 0, \"Shares must be positive\"\nassert average_cost_basis &gt; 0, \"Cost basis must be positive\"\nassert total_cost &gt; 0, \"Total cost must be positive\"\n</code></pre>"},{"location":"COST_BASIS_SPECIFICATION/#6-concurrency-considerations","title":"6. Concurrency Considerations","text":""},{"location":"COST_BASIS_SPECIFICATION/#single-user-system","title":"Single-User System","text":"<ul> <li>No concurrent writes expected (personal use)</li> <li>Database-level unique constraints prevent duplicates</li> <li>SQLAlchemy sessions with auto-rollback handle errors</li> </ul>"},{"location":"COST_BASIS_SPECIFICATION/#future-multi-user-support","title":"Future Multi-User Support","text":"<ul> <li>Would require row-level locking: <code>SELECT FOR UPDATE</code></li> <li>Optimistic concurrency with version column</li> <li>Currently not needed for personal use</li> </ul>"},{"location":"COST_BASIS_SPECIFICATION/#7-performance-benchmarks","title":"7. Performance Benchmarks","text":""},{"location":"COST_BASIS_SPECIFICATION/#expected-performance-100-positions-1000-transactions","title":"Expected Performance (100 Positions, 1000 Transactions)","text":"<ul> <li>Add position: &lt; 10ms (with database write)</li> <li>Calculate portfolio value: &lt; 50ms (without live prices)</li> <li>Calculate portfolio value with live prices: &lt; 2s (network bound)</li> </ul>"},{"location":"COST_BASIS_SPECIFICATION/#optimization-strategies","title":"Optimization Strategies","text":"<ul> <li>Batch price fetches for portfolio valuation</li> <li>Cache live prices (5-minute expiry)</li> <li>Use database indexes for ticker lookups</li> <li>Lazy-load positions only when needed</li> </ul>"},{"location":"COST_BASIS_SPECIFICATION/#8-migration-strategy","title":"8. Migration Strategy","text":""},{"location":"COST_BASIS_SPECIFICATION/#initial-migration-014_add_portfolio_models","title":"Initial Migration (014_add_portfolio_models)","text":"<pre><code>CREATE TABLE mcp_portfolios (\n    id UUID PRIMARY KEY,\n    user_id VARCHAR(50) DEFAULT 'default',\n    name VARCHAR(200) DEFAULT 'My Portfolio',\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\nCREATE TABLE mcp_portfolio_positions (\n    id UUID PRIMARY KEY,\n    portfolio_id UUID REFERENCES mcp_portfolios(id) ON DELETE CASCADE,\n    ticker VARCHAR(20) NOT NULL,\n    shares NUMERIC(20, 8) NOT NULL,\n    average_cost_basis NUMERIC(12, 4) NOT NULL,\n    total_cost NUMERIC(20, 4) NOT NULL,\n    purchase_date TIMESTAMP WITH TIME ZONE NOT NULL,\n    notes TEXT,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n    UNIQUE(portfolio_id, ticker)\n);\n</code></pre>"},{"location":"COST_BASIS_SPECIFICATION/#data-migration-from-portfoliomanager-future","title":"Data Migration from PortfolioManager (Future)","text":"<p>If users have existing portfolio JSON files: <pre><code>def migrate_from_json(json_file: str) -&gt; None:\n    \"\"\"Migrate existing portfolio from JSON to database.\"\"\"\n    # Load JSON portfolio\n    # Create UserPortfolio\n    # Create PortfolioPositions for each holding\n    # Verify cost basis calculations match\n</code></pre></p>"},{"location":"COST_BASIS_SPECIFICATION/#9-testing-requirements","title":"9. Testing Requirements","text":""},{"location":"COST_BASIS_SPECIFICATION/#unit-tests-domain-layer","title":"Unit Tests (Domain Layer)","text":"<ul> <li>\u2705 Add shares: Multiple purchases, average calculation</li> <li>\u2705 Remove shares: Partial removal, full removal</li> <li>\u2705 P&amp;L calculation: Various price scenarios</li> <li>\u2705 Edge cases: Zero shares, negative values, division by zero</li> <li>\u2705 Precision: Decimal arithmetic accuracy</li> </ul>"},{"location":"COST_BASIS_SPECIFICATION/#integration-tests-database-layer","title":"Integration Tests (Database Layer)","text":"<ul> <li>\u2705 CRUD operations: Create, read, update, delete positions</li> <li>\u2705 Unique constraint: Prevent duplicate tickers</li> <li>\u2705 Cascade delete: Portfolio deletion removes positions</li> <li>\u2705 Transaction rollback: Error handling</li> </ul>"},{"location":"COST_BASIS_SPECIFICATION/#property-based-tests","title":"Property-Based Tests","text":"<ul> <li>\u2705 Adding and removing shares always maintains valid state</li> <li>\u2705 Average cost formula always correct</li> <li>\u2705 P&amp;L calculations always sum correctly</li> </ul>"},{"location":"COST_BASIS_SPECIFICATION/#10-example-scenarios","title":"10. Example Scenarios","text":""},{"location":"COST_BASIS_SPECIFICATION/#scenario-1-build-position-over-time","title":"Scenario 1: Build Position Over Time","text":"<pre><code>Day 1: Buy 10 AAPL @ $150.00\n  - Shares: 10, Avg Cost: $150.00, Total: $1,500.00\n\nDay 30: Buy 5 AAPL @ $160.00\n  - Shares: 15, Avg Cost: $153.33, Total: $2,300.00\n\nDay 60: Buy 10 AAPL @ $145.00\n  - Shares: 25, Avg Cost: $150.80, Total: $3,770.00\n</code></pre>"},{"location":"COST_BASIS_SPECIFICATION/#scenario-2-take-profits","title":"Scenario 2: Take Profits","text":"<pre><code>Start: 25 AAPL @ $150.80 = $3,770.00\nCurrent Price: $175.50\nUnrealized P&amp;L: +$617.50 (+16.38%)\n\nSell 10 shares @ $175.50 (realized gain: $247.00)\nRemaining: 15 AAPL @ $150.80 = $2,262.00\nCurrent Value @ $175.50: $2,632.50\nUnrealized P&amp;L: +$370.50 (+16.38% - same percentage)\n</code></pre>"},{"location":"COST_BASIS_SPECIFICATION/#scenario-3-dollar-cost-averaging","title":"Scenario 3: Dollar-Cost Averaging","text":"<pre><code>Monthly purchases of $1,000:\nMonth 1: 6.67 shares @ $150.00 = $1,000.00\nMonth 2: 6.25 shares @ $160.00 = $1,000.00\nMonth 3: 6.90 shares @ $145.00 = $1,000.00\nTotal: 19.82 shares @ $151.26 avg = $3,000.00\n</code></pre>"},{"location":"COST_BASIS_SPECIFICATION/#11-compliance-and-disclaimers","title":"11. Compliance and Disclaimers","text":""},{"location":"COST_BASIS_SPECIFICATION/#educational-purpose","title":"Educational Purpose","text":"<p>This cost basis tracking is for educational purposes only and should not be used for tax reporting.</p>"},{"location":"COST_BASIS_SPECIFICATION/#tax-reporting","title":"Tax Reporting","text":"<p>Users should consult tax professionals and use official brokerage cost basis reporting for tax purposes.</p>"},{"location":"COST_BASIS_SPECIFICATION/#disclaimers-in-tools","title":"Disclaimers in Tools","text":"<p>All portfolio tools include: <pre><code>DISCLAIMER: This portfolio tracking is for educational purposes only and does not\nconstitute investment advice. All investments carry risk of loss. Consult qualified\nfinancial and tax professionals for investment and tax advice.\n</code></pre></p>"},{"location":"COST_BASIS_SPECIFICATION/#12-references","title":"12. References","text":"<ul> <li>IRS Publication 550: Investment Income and Expenses</li> <li>Existing Code: <code>maverick_mcp/tools/portfolio_manager.py</code> (average cost implementation)</li> <li>Financial Precision: IEEE 754 vs Decimal arithmetic</li> <li>SQLAlchemy Numeric: Column type documentation</li> </ul> <p>Document Version: 1.0 Last Updated: 2025-11-01 Author: Portfolio Personalization Feature Team</p>"},{"location":"INDIAN_MARKET/","title":"Indian Market Support - Complete Guide","text":"<p>Complete guide to analyzing Indian stocks (NSE and BSE) using MaverickMCP.</p>"},{"location":"INDIAN_MARKET/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Quick Start</li> <li>Supported Markets</li> <li>Stock Screening Strategies</li> <li>Economic Indicators</li> <li>News &amp; Sentiment Analysis</li> <li>Market Comparison</li> <li>Currency Conversion</li> <li>Examples</li> <li>Advanced Usage</li> <li>Best Practices</li> </ul>"},{"location":"INDIAN_MARKET/#quick-start","title":"Quick Start","text":""},{"location":"INDIAN_MARKET/#analyzing-an-indian-stock","title":"Analyzing an Indian Stock","text":"<pre><code>from maverick_mcp.providers.indian_market_data import IndianMarketDataProvider\n\n# Initialize provider\nprovider = IndianMarketDataProvider()\n\n# Get Reliance Industries data (NSE)\nreliance_data = provider.get_stock_data(\"RELIANCE.NS\", period=\"1y\")\n\n# Get TCS data (BSE)\ntcs_data = provider.get_stock_data(\"TCS.BO\", period=\"6m\")\n</code></pre>"},{"location":"INDIAN_MARKET/#using-with-claude-desktop","title":"Using with Claude Desktop","text":"<p>Simply ask Claude:</p> <pre><code>\"Show me bullish Indian stock recommendations\"\n\"What are the RBI policy rates?\"\n\"Compare Apple stock with TCS\"\n\"Convert 10000 INR to USD\"\n</code></pre>"},{"location":"INDIAN_MARKET/#supported-markets","title":"Supported Markets","text":""},{"location":"INDIAN_MARKET/#nse-national-stock-exchange","title":"NSE (National Stock Exchange)","text":"<ul> <li>Symbol Suffix: <code>.NS</code></li> <li>Examples: <code>RELIANCE.NS</code>, <code>TCS.NS</code>, <code>INFY.NS</code></li> <li>Trading Hours: 9:15 AM - 3:30 PM IST</li> <li>Circuit Breakers: 10% daily limit</li> <li>Settlement: T+1</li> </ul>"},{"location":"INDIAN_MARKET/#bse-bombay-stock-exchange","title":"BSE (Bombay Stock Exchange)","text":"<ul> <li>Symbol Suffix: <code>.BO</code></li> <li>Examples: <code>RELIANCE.BO</code>, <code>TCS.BO</code>, <code>INFY.BO</code></li> <li>Trading Hours: 9:15 AM - 3:30 PM IST</li> <li>Circuit Breakers: 10% daily limit</li> <li>Settlement: T+1</li> </ul>"},{"location":"INDIAN_MARKET/#major-indices","title":"Major Indices","text":"<ul> <li>Nifty 50: <code>^NSEI</code> - Top 50 companies by market cap</li> <li>Sensex: <code>^BSESN</code> - BSE 30 most traded stocks</li> <li>Nifty Bank: <code>^NSEBANK</code> - Banking sector index</li> <li>Nifty IT: <code>^CNXIT</code> - IT sector index</li> </ul>"},{"location":"INDIAN_MARKET/#stock-screening-strategies","title":"Stock Screening Strategies","text":""},{"location":"INDIAN_MARKET/#1-maverick-bullish-india","title":"1. Maverick Bullish India","text":"<p>High-momentum stocks with strong technical indicators.</p> <p>Criteria: - Volume &gt; 500,000 shares - RSI 30-70 (momentum without overbought) - Price above 20-day SMA - Positive price momentum (&gt; 2%)</p> <p>Usage: <pre><code>from maverick_mcp.application.screening.indian_market import get_maverick_bullish_india\n\nrecommendations = get_maverick_bullish_india(limit=10)\n</code></pre></p> <p>Claude Desktop: <pre><code>\"Show me bullish Indian stocks\"\n\"Get me maverick bullish recommendations for India\"\n</code></pre></p>"},{"location":"INDIAN_MARKET/#2-maverick-bearish-india","title":"2. Maverick Bearish India","text":"<p>Weak stocks with bearish indicators for short opportunities.</p> <p>Criteria: - Volume &gt; 500,000 shares - RSI &gt; 70 (overbought) - Price below 20-day SMA - Negative momentum</p> <p>Usage: <pre><code>from maverick_mcp.application.screening.indian_market import get_maverick_bearish_india\n\nrecommendations = get_maverick_bearish_india(limit=10)\n</code></pre></p>"},{"location":"INDIAN_MARKET/#3-nifty-50-momentum","title":"3. Nifty 50 Momentum","text":"<p>High-momentum stocks from Nifty 50 constituents.</p> <p>Criteria: - Must be in Nifty 50 - Weekly price change &gt; 2% - Strong volume - Positive trend</p> <p>Usage: <pre><code>from maverick_mcp.application.screening.indian_market import get_nifty50_momentum\n\nrecommendations = get_nifty50_momentum(limit=15)\n</code></pre></p>"},{"location":"INDIAN_MARKET/#4-nifty-sector-rotation","title":"4. Nifty Sector Rotation","text":"<p>Identify which sectors are performing best.</p> <p>Returns: - Average sector returns - Stock count per sector - Top 3 stocks in each sector</p> <p>Usage: <pre><code>from maverick_mcp.application.screening.indian_market import get_nifty_sector_rotation\n\nsector_analysis = get_nifty_sector_rotation(lookback_days=90, top_n=3)\n</code></pre></p> <p>Claude Desktop: <pre><code>\"Which Nifty sectors are hot right now?\"\n\"Show me sector rotation analysis\"\n</code></pre></p>"},{"location":"INDIAN_MARKET/#5-value-picks-india","title":"5. Value Picks India","text":"<p>Undervalued stocks trading in lower 30% of 52-week range.</p> <p>Target Sectors: - Banking &amp; Financial Services - Oil &amp; Gas - Consumer Goods</p> <p>Usage: <pre><code>from maverick_mcp.application.screening.indian_market import get_value_picks_india\n\nvalue_stocks = get_value_picks_india(limit=15)\n</code></pre></p>"},{"location":"INDIAN_MARKET/#6-high-dividend-india","title":"6. High Dividend India","text":"<p>Stable, high-dividend yielding stocks.</p> <p>Criteria: - Market cap &gt; \u20b910,000 crores - Price stability score &gt; 0.7 - Sector diversification</p> <p>Usage: <pre><code>from maverick_mcp.application.screening.indian_market import get_high_dividend_india\n\ndividend_stocks = get_high_dividend_india(limit=15)\n</code></pre></p>"},{"location":"INDIAN_MARKET/#7-small-cap-breakouts-india","title":"7. Small-Cap Breakouts India","text":"<p>High-potential small-cap stocks with breakout signals.</p> <p>Criteria: - Volume spike &gt; 150% of 30-day average - Strong momentum (&gt; 3% weekly gain) - Low to mid cap range</p> <p>Usage: <pre><code>from maverick_mcp.application.screening.indian_market import get_smallcap_breakouts_india\n\nbreakouts = get_smallcap_breakouts_india(limit=10)\n</code></pre></p>"},{"location":"INDIAN_MARKET/#economic-indicators","title":"Economic Indicators","text":""},{"location":"INDIAN_MARKET/#rbi-policy-rates","title":"RBI Policy Rates","text":"<p>Get current Reserve Bank of India monetary policy rates.</p> <pre><code>from maverick_mcp.providers.rbi_data import RBIDataProvider\n\nprovider = RBIDataProvider()\nrates = provider.get_policy_rates()\n\nprint(f\"Repo Rate: {rates['repo_rate']}%\")\nprint(f\"Reverse Repo Rate: {rates['reverse_repo_rate']}%\")\nprint(f\"CRR: {rates['crr']}%\")\nprint(f\"SLR: {rates['slr']}%\")\n</code></pre> <p>Claude Desktop: <pre><code>\"What are the current RBI policy rates?\"\n\"Show me Indian economic indicators\"\n</code></pre></p>"},{"location":"INDIAN_MARKET/#gdp-growth","title":"GDP Growth","text":"<pre><code>gdp_data = provider.get_gdp_growth()\nprint(f\"Current GDP Growth: {gdp_data['current']}%\")\n</code></pre>"},{"location":"INDIAN_MARKET/#foreign-exchange-reserves","title":"Foreign Exchange Reserves","text":"<pre><code>forex = provider.get_forex_reserves()\nprint(f\"Total Reserves: ${forex['total_reserves_usd']:.2f} billion\")\n</code></pre>"},{"location":"INDIAN_MARKET/#economic-calendar","title":"Economic Calendar","text":"<pre><code>calendar = provider.get_economic_calendar(days_ahead=30)\nfor event in calendar:\n    print(f\"{event['date']}: {event['event']} ({event['importance']})\")\n</code></pre>"},{"location":"INDIAN_MARKET/#all-indicators-at-once","title":"All Indicators at Once","text":"<pre><code>all_indicators = provider.get_all_indicators()\n# Returns: policy_rates, gdp_growth, forex_reserves, economic_calendar\n</code></pre>"},{"location":"INDIAN_MARKET/#news-sentiment-analysis","title":"News &amp; Sentiment Analysis","text":""},{"location":"INDIAN_MARKET/#get-stock-news","title":"Get Stock News","text":"<pre><code>from maverick_mcp.providers.indian_news import IndianNewsProvider\n\nprovider = IndianNewsProvider()\n\n# Get news for specific stock\nnews = provider.get_stock_news(\"RELIANCE.NS\", limit=10)\n\nfor article in news:\n    print(f\"{article['title']} - {article['sentiment']}\")\n    print(f\"Source: {article['source']}\")\n</code></pre> <p>Claude Desktop: <pre><code>\"Get news for Reliance Industries\"\n\"Show me TCS stock news\"\n</code></pre></p>"},{"location":"INDIAN_MARKET/#sentiment-analysis","title":"Sentiment Analysis","text":"<pre><code>sentiment = provider.analyze_sentiment(\"TCS.NS\", period=\"7d\")\n\nprint(f\"Overall Sentiment: {sentiment['overall_sentiment']}\")\nprint(f\"Sentiment Score: {sentiment['sentiment_score']}\")\nprint(f\"Articles Analyzed: {sentiment['article_count']}\")\n</code></pre> <p>Claude Desktop: <pre><code>\"What's the sentiment on TCS?\"\n\"Analyze news sentiment for Infosys\"\n</code></pre></p>"},{"location":"INDIAN_MARKET/#market-news","title":"Market News","text":"<pre><code># Get general market news\nmarket_news = provider.get_market_news(category=\"all\", limit=20)\n\n# Get trending topics\ntrending = provider.get_trending_topics(limit=10)\n</code></pre>"},{"location":"INDIAN_MARKET/#market-comparison","title":"Market Comparison","text":""},{"location":"INDIAN_MARKET/#compare-us-and-indian-markets","title":"Compare US and Indian Markets","text":"<pre><code>from maverick_mcp.analysis.market_comparison import MarketComparisonAnalyzer\n\nanalyzer = MarketComparisonAnalyzer()\n\n# Compare S&amp;P 500 and Nifty 50\ncomparison = analyzer.compare_indices(period=\"1y\")\n\nprint(f\"S&amp;P 500 Return: {comparison['sp500']['return_pct']}%\")\nprint(f\"Nifty 50 Return: {comparison['nifty50']['return_pct']}%\")\nprint(f\"Correlation: {comparison['correlation']}\")\n</code></pre> <p>Claude Desktop: <pre><code>\"Compare US and Indian markets\"\n\"How is Nifty 50 performing vs S&amp;P 500?\"\n</code></pre></p>"},{"location":"INDIAN_MARKET/#compare-similar-companies","title":"Compare Similar Companies","text":"<pre><code># Compare Microsoft (US) with TCS (India)\ncomparison = analyzer.compare_stocks(\n    \"MSFT\",\n    \"TCS.NS\",\n    period=\"1y\",\n    currency=\"USD\"\n)\n\nprint(f\"MSFT Return: {comparison['us_stock']['return_pct']}%\")\nprint(f\"TCS Return: {comparison['indian_stock']['return_pct']}%\")\nprint(f\"Correlation: {comparison['correlation']}\")\n</code></pre> <p>Claude Desktop: <pre><code>\"Compare Microsoft with TCS\"\n\"Compare Apple with Infosys in INR\"\n</code></pre></p>"},{"location":"INDIAN_MARKET/#cross-market-correlation","title":"Cross-Market Correlation","text":"<pre><code># Calculate correlation matrix for multiple stocks\ncorrelation = analyzer.calculate_correlation(\n    [\"AAPL\", \"MSFT\", \"RELIANCE.NS\", \"TCS.NS\"],\n    period=\"1y\"\n)\n</code></pre>"},{"location":"INDIAN_MARKET/#currency-conversion","title":"Currency Conversion","text":""},{"location":"INDIAN_MARKET/#basic-conversion","title":"Basic Conversion","text":"<pre><code>from maverick_mcp.utils.currency_converter import CurrencyConverter\n\nconverter = CurrencyConverter()\n\n# INR to USD\nusd_amount = converter.convert(10000, \"INR\", \"USD\")\nprint(f\"\u20b910,000 = ${usd_amount:.2f}\")\n\n# USD to INR\ninr_amount = converter.convert(100, \"USD\", \"INR\")\nprint(f\"$100 = \u20b9{inr_amount:.2f}\")\n</code></pre> <p>Claude Desktop: <pre><code>\"Convert 50000 INR to USD\"\n\"How much is 1000 USD in Indian Rupees?\"\n</code></pre></p>"},{"location":"INDIAN_MARKET/#get-exchange-rate","title":"Get Exchange Rate","text":"<pre><code>rate = converter.get_exchange_rate(\"USD\", \"INR\")\nprint(f\"1 USD = \u20b9{rate}\")\n</code></pre>"},{"location":"INDIAN_MARKET/#convert-price-series","title":"Convert Price Series","text":"<pre><code># Convert historical stock prices\nusd_prices = converter.convert_timeseries(\n    inr_prices,\n    \"INR\",\n    \"USD\"\n)\n</code></pre>"},{"location":"INDIAN_MARKET/#examples","title":"Examples","text":""},{"location":"INDIAN_MARKET/#example-1-complete-indian-market-analysis","title":"Example 1: Complete Indian Market Analysis","text":"<pre><code>from maverick_mcp.providers.indian_market_data import IndianMarketDataProvider\nfrom maverick_mcp.application.screening.indian_market import get_maverick_bullish_india\nfrom maverick_mcp.providers.rbi_data import RBIDataProvider\nfrom maverick_mcp.providers.indian_news import IndianNewsProvider\n\n# 1. Get market status\nprovider = IndianMarketDataProvider()\nstatus = provider.get_market_status()\nprint(f\"Market Status: {status['status']}\")\n\n# 2. Get bullish stock recommendations\nstocks = get_maverick_bullish_india(limit=5)\nprint(f\"\\nTop 5 Bullish Stocks:\")\nfor stock in stocks[:5]:\n    print(f\"  {stock['symbol']}: \u20b9{stock['price']:.2f}\")\n\n# 3. Check economic indicators\nrbi = RBIDataProvider()\nrates = rbi.get_policy_rates()\nprint(f\"\\nRepo Rate: {rates['repo_rate']}%\")\n\n# 4. Get news sentiment for top stock\nif stocks:\n    news_provider = IndianNewsProvider()\n    sentiment = news_provider.analyze_sentiment(stocks[0]['symbol'])\n    print(f\"\\nTop Stock Sentiment: {sentiment['overall_sentiment']}\")\n</code></pre>"},{"location":"INDIAN_MARKET/#example-2-cross-market-portfolio-analysis","title":"Example 2: Cross-Market Portfolio Analysis","text":"<pre><code>from maverick_mcp.analysis.market_comparison import MarketComparisonAnalyzer\nfrom maverick_mcp.utils.currency_converter import CurrencyConverter\n\nanalyzer = MarketComparisonAnalyzer()\nconverter = CurrencyConverter()\n\n# Portfolio: 50% US, 50% India\nus_stocks = [\"AAPL\", \"MSFT\", \"GOOGL\"]\nindian_stocks = [\"RELIANCE.NS\", \"TCS.NS\", \"INFY.NS\"]\n\n# Compare markets\nmarket_comp = analyzer.compare_indices(\"1y\")\nprint(f\"Market Correlation: {market_comp['correlation']}\")\n\n# Calculate portfolio value in USD\nportfolio_value_inr = 500000  # \u20b95 lakhs in Indian stocks\nportfolio_value_usd = 10000   # $10k in US stocks\n\nindian_portion_usd = converter.convert(portfolio_value_inr, \"INR\", \"USD\")\ntotal_portfolio_usd = portfolio_value_usd + indian_portion_usd\n\nprint(f\"Total Portfolio Value: ${total_portfolio_usd:.2f}\")\n</code></pre>"},{"location":"INDIAN_MARKET/#example-3-sector-rotation-strategy","title":"Example 3: Sector Rotation Strategy","text":"<pre><code>from maverick_mcp.application.screening.indian_market import (\n    get_nifty_sector_rotation,\n    get_nifty_sectors\n)\n\n# Analyze sector performance\nsector_analysis = get_nifty_sector_rotation(lookback_days=90, top_n=3)\n\nprint(\"Top Performing Sectors:\")\nfor sector in sector_analysis['top_sectors'][:3]:\n    print(f\"\\n{sector['name']}:\")\n    print(f\"  Average Return: {sector['avg_return']:.2f}%\")\n    print(f\"  Top Stocks:\")\n    for stock in sector['top_stocks']:\n        print(f\"    - {stock['symbol']}: {stock['return']:.2f}%\")\n</code></pre>"},{"location":"INDIAN_MARKET/#advanced-usage","title":"Advanced Usage","text":""},{"location":"INDIAN_MARKET/#custom-screening-with-circuit-breakers","title":"Custom Screening with Circuit Breakers","text":"<pre><code>from maverick_mcp.application.screening.indian_market import calculate_circuit_breaker_limits\n\n# Calculate circuit breaker limits for a stock\nprice = 1500.00\nlimits = calculate_circuit_breaker_limits(price)\n\nprint(f\"Current Price: \u20b9{price}\")\nprint(f\"Upper Circuit: \u20b9{limits['upper_limit']}\")\nprint(f\"Lower Circuit: \u20b9{limits['lower_limit']}\")\n</code></pre>"},{"location":"INDIAN_MARKET/#format-indian-currency","title":"Format Indian Currency","text":"<pre><code>from maverick_mcp.application.screening.indian_market import format_indian_currency\n\nprint(format_indian_currency(100000))      # \u20b91.00 L (lakh)\nprint(format_indian_currency(10000000))    # \u20b91.00 Cr (crore)\nprint(format_indian_currency(50000))       # \u20b950,000.00\n</code></pre>"},{"location":"INDIAN_MARKET/#get-nifty-sectors","title":"Get Nifty Sectors","text":"<pre><code>from maverick_mcp.application.screening.indian_market import get_nifty_sectors\n\nsectors = get_nifty_sectors()\n# Returns list of 14 major Nifty sectors\n</code></pre>"},{"location":"INDIAN_MARKET/#historical-data-with-market-calendars","title":"Historical Data with Market Calendars","text":"<pre><code>from maverick_mcp.config.markets import get_market_config\n\n# Get NSE configuration\nnse_config = get_market_config(\"RELIANCE.NS\")\n\n# Get trading calendar\ncalendar = nse_config.get_calendar()\ntrading_days = calendar.valid_days(start_date=\"2024-01-01\", end_date=\"2024-12-31\")\n\nprint(f\"Trading days in 2024: {len(trading_days)}\")\n</code></pre>"},{"location":"INDIAN_MARKET/#best-practices","title":"Best Practices","text":""},{"location":"INDIAN_MARKET/#1-symbol-formatting","title":"1. Symbol Formatting","text":"<p>Always use correct suffixes: - \u2705 <code>\"RELIANCE.NS\"</code> (NSE) - \u2705 <code>\"RELIANCE.BO\"</code> (BSE) - \u274c <code>\"RELIANCE\"</code> (will be treated as US stock)</p>"},{"location":"INDIAN_MARKET/#2-market-hours","title":"2. Market Hours","text":"<p>Indian markets trade 9:15 AM - 3:30 PM IST: - Check market status before analysis - Use <code>get_market_status()</code> for real-time status</p>"},{"location":"INDIAN_MARKET/#3-currency-handling","title":"3. Currency Handling","text":"<p>Be explicit about currency: <pre><code># Good: Specify currency\ncomparison = analyzer.compare_stocks(\"AAPL\", \"TCS.NS\", currency=\"USD\")\n\n# Bad: Assumes default\ncomparison = analyzer.compare_stocks(\"AAPL\", \"TCS.NS\")\n</code></pre></p>"},{"location":"INDIAN_MARKET/#4-volume-thresholds","title":"4. Volume Thresholds","text":"<p>Indian market has lower liquidity: - US default: 1,000,000 shares - India default: 500,000 shares</p> <p>Adjust for smaller stocks: <pre><code>recommendations = get_maverick_bullish_india(\n    limit=10,\n    min_volume=250000  # Lower threshold for small caps\n)\n</code></pre></p>"},{"location":"INDIAN_MARKET/#5-data-caching","title":"5. Data Caching","text":"<p>Stock data is cached for performance: - First call: Fetches from API - Subsequent calls: Returns cached data - Cache TTL: 15 minutes (trading hours), 1 hour (after hours)</p>"},{"location":"INDIAN_MARKET/#6-error-handling","title":"6. Error Handling","text":"<pre><code>try:\n    data = provider.get_stock_data(\"INVALID.NS\")\nexcept ValueError as e:\n    print(f\"Invalid symbol: {e}\")\nexcept Exception as e:\n    print(f\"Data fetch failed: {e}\")\n</code></pre>"},{"location":"INDIAN_MARKET/#7-batch-operations","title":"7. Batch Operations","text":"<p>Fetch multiple stocks efficiently: <pre><code>symbols = [\"RELIANCE.NS\", \"TCS.NS\", \"INFY.NS\"]\ndata = {}\n\nfor symbol in symbols:\n    try:\n        data[symbol] = provider.get_stock_data(symbol, period=\"1m\")\n    except Exception as e:\n        print(f\"Failed to fetch {symbol}: {e}\")\n</code></pre></p>"},{"location":"INDIAN_MARKET/#mcp-tools-reference","title":"MCP Tools Reference","text":"<p>All features available through Claude Desktop:</p>"},{"location":"INDIAN_MARKET/#screening","title":"Screening","text":"<ul> <li><code>get_indian_market_recommendations(strategy, limit)</code></li> <li><code>analyze_nifty_sectors()</code></li> <li><code>get_indian_market_overview()</code></li> </ul>"},{"location":"INDIAN_MARKET/#economic-data","title":"Economic Data","text":"<ul> <li><code>get_indian_economic_indicators()</code></li> </ul>"},{"location":"INDIAN_MARKET/#news-sentiment","title":"News &amp; Sentiment","text":"<ul> <li><code>get_indian_stock_news(symbol, limit)</code></li> </ul>"},{"location":"INDIAN_MARKET/#market-comparison_1","title":"Market Comparison","text":"<ul> <li><code>compare_us_indian_markets(period)</code></li> <li><code>compare_similar_companies(us_symbol, indian_symbol, currency)</code></li> </ul>"},{"location":"INDIAN_MARKET/#currency","title":"Currency","text":"<ul> <li><code>convert_currency(amount, from_currency, to_currency)</code></li> </ul>"},{"location":"INDIAN_MARKET/#troubleshooting","title":"Troubleshooting","text":""},{"location":"INDIAN_MARKET/#issue-invalid-symbol-format","title":"Issue: \"Invalid symbol format\"","text":"<p>Solution: Ensure you're using correct suffixes (.NS or .BO)</p>"},{"location":"INDIAN_MARKET/#issue-market-closed","title":"Issue: \"Market closed\"","text":"<p>Solution: Indian market is closed. Check market status first.</p>"},{"location":"INDIAN_MARKET/#issue-no-data-available","title":"Issue: \"No data available\"","text":"<p>Solution: Stock might be delisted or symbol incorrect. Verify on NSE/BSE website.</p>"},{"location":"INDIAN_MARKET/#issue-rate-limit-exceeded","title":"Issue: \"Rate limit exceeded\"","text":"<p>Solution: Reduce frequency of API calls or wait a few minutes.</p>"},{"location":"INDIAN_MARKET/#additional-resources","title":"Additional Resources","text":"<ul> <li>Phase 1: Multi-market infrastructure - <code>docs/MULTI_MARKET_SUPPORT.md</code></li> <li>Phase 2: Indian market data - <code>docs/PHASE2_INDIAN_MARKET.md</code></li> <li>Phase 3: Screening strategies - <code>docs/PHASE3_IMPLEMENTATION.md</code></li> <li>Phase 4: Economic indicators - <code>docs/PHASE4_IMPLEMENTATION.md</code></li> </ul>"},{"location":"INDIAN_MARKET/#future-enhancements","title":"Future Enhancements","text":""},{"location":"INDIAN_MARKET/#current-implementation-status","title":"Current Implementation Status","text":"<p>MaverickMCP currently uses working prototypes with basic implementations. The following features are functional but use placeholder/approximate data and can be enhanced with real APIs:</p>"},{"location":"INDIAN_MARKET/#currently-working-implemented-features","title":"\u2705 Currently Working (Implemented Features)","text":"Feature Current Status Data Source RBI Policy Rates Fixed approximate values (6.50% repo rate) Hardcoded + notes GDP Data Real but limited World Bank API News Articles \u2705 Real-time from multiple sources MoneyControl + Economic Times RSS/Scraping News Sentiment \u2705 Keyword-based analysis Multi-source aggregation with deduplication Currency Conversion \u2705 Real-time rates Yahoo Finance / Exchange Rate API Market Comparison Basic correlation Simple calculations <p>\ud83c\udf89 Phase 6 Completed: Real-time exchange rates now integrated! \ud83c\udf89 Phase 7 Completed: Real news from MoneyControl + Economic Times! See Phase 7 details below.</p>"},{"location":"INDIAN_MARKET/#available-for-enhancement","title":"\ud83d\ude80 Available for Enhancement","text":"<p>These features are not yet implemented and represent opportunities for future development:</p>"},{"location":"INDIAN_MARKET/#1-real-time-data-integration","title":"1. Real-Time Data Integration","text":"<p>RBI Data Scraping - [ ] Scrape RBI official website for live policy rates - [ ] Parse MPC meeting minutes and decisions - [ ] Track rate change history - Complexity: Medium | Impact: High | Effort: 2-3 days</p> <p>\u2705 News API Integration (Phase 7 - COMPLETED) - [x] MoneyControl RSS feeds and web scraping - [x] Economic Times RSS feeds and web scraping - [x] Multi-source aggregation with deduplication - [x] Database persistence (NewsArticle model) - [x] Keyword-based sentiment analysis - [x] 30-minute caching for performance - [ ] LiveMint API integration (future) - [ ] Business Standard integration (future) - Complexity: Medium | Impact: High | Effort: 3-4 days - Status: \u2705 Implemented in Phase 7.1-7.3, 7.5</p> <p>\u2705 Exchange Rate API (Phase 6 - COMPLETED) - [x] Exchange Rate API integration (https://exchangerate-api.com/) - [x] Yahoo Finance currency data fallback - [x] Historical rate storage in database - [x] Caching and rate info tracking - [x] Database model for historical rates - [x] Updated MCP tool with live rates - Complexity: Low | Impact: Medium | Effort: 1-2 days - Status: \u2705 Implemented in Phase 6.1-6.4</p>"},{"location":"INDIAN_MARKET/#2-advanced-analytics","title":"2. Advanced Analytics","text":"<p>Advanced NLP Sentiment Analysis (Phase 7.4 - SKIPPED, Available for Future) - [ ] FinBERT model integration (financial sentiment) - [ ] Named Entity Recognition for companies - [ ] Aspect-based sentiment analysis - [ ] Training on Indian financial corpus - [ ] Replace keyword matching with transformer models - Complexity: High | Impact: Medium-High | Effort: 1-2 weeks - Status: \u23ed\ufe0f Intentionally skipped in Phase 7 to prioritize getting real news working first - Current: Keyword-based sentiment (38 bullish + 39 bearish keywords) works well for MVP - Note: Can be implemented later to enhance sentiment accuracy without breaking existing functionality</p> <p>Advanced Market Correlations - [ ] Rolling correlations (time-varying) - [ ] Granger causality tests - [ ] Cointegration analysis - [ ] Lead-lag relationships - [ ] Regime detection (bull/bear/sideways) - Complexity: Medium | Impact: Medium | Effort: 3-5 days</p>"},{"location":"INDIAN_MARKET/#3-infrastructure-enhancements","title":"3. Infrastructure Enhancements","text":"<p>Database Storage (Partially Complete) - [x] News article persistence (Phase 7.1) - [x] Historical exchange rates storage (Phase 6.3) - [ ] Economic indicator history - [x] Sentiment score tracking (Phase 7.1) - Complexity: Low | Impact: Medium | Effort: 2-3 days - Status: \ud83d\udfe1 Partially complete - News and exchange rates done, economic indicators pending</p> <p>Background Workers - [ ] Celery task queue integration - [ ] Scheduled data updates (every 15 min for news, hourly for rates) - [ ] Automatic cache warming - [ ] Failed task retry logic - Complexity: Medium | Impact: High | Effort: 3-4 days</p> <p>Real-Time Streaming - [ ] WebSocket integration for live data - [ ] Stock price streaming - [ ] News feed streaming - [ ] Alert system - Complexity: High | Impact: High | Effort: 1-2 weeks</p>"},{"location":"INDIAN_MARKET/#4-production-features","title":"4. Production Features","text":"<p>Rate Limiting &amp; Resilience - [ ] API rate limit management - [ ] Automatic retry with exponential backoff - [ ] Circuit breaker patterns - [ ] Fallback data sources - Complexity: Medium | Impact: High | Effort: 2-3 days</p> <p>Monitoring &amp; Observability - [ ] Data quality metrics - [ ] API health dashboards - [ ] Alert on stale data - [ ] Performance monitoring - Complexity: Medium | Impact: Medium | Effort: 2-3 days</p>"},{"location":"INDIAN_MARKET/#enhancement-roadmap","title":"Enhancement Roadmap","text":""},{"location":"INDIAN_MARKET/#phase-6-real-time-exchange-rates-completed","title":"\u2705 Phase 6: Real-Time Exchange Rates (COMPLETED)","text":"<p>Priority: High | Effort: 1-2 days | Status: \u2705 Completed</p> <p>Implemented: 1. \u2705 Exchange Rate Provider with multiple sources (Exchange Rate API, Yahoo Finance) 2. \u2705 Enhanced Currency Converter with live rates and caching 3. \u2705 Database model for historical exchange rate storage 4. \u2705 Alembic migration for ExchangeRate table 5. \u2705 Updated MCP <code>convert_currency</code> tool with real-time data 6. \u2705 Comprehensive tests and documentation</p> <p>Benefits Achieved: - \u2705 Real, up-to-date exchange rates - \u2705 Multiple fallback sources for reliability - \u2705 Historical rate tracking - \u2705 Better user experience</p> <p>See Phase 6 Details: <code>docs/PHASE6_IMPLEMENTATION.md</code></p>"},{"location":"INDIAN_MARKET/#phase-7-real-time-news-integration-completed","title":"\u2705 Phase 7: Real-Time News Integration (COMPLETED)","text":"<p>Priority: High | Effort: 3-4 days | Status: \u2705 Completed (Phases 7.1-7.3, 7.5)</p> <p>Implemented: 1. \u2705 NewsArticle database model with sentiment tracking (Phase 7.1) 2. \u2705 MoneyControl scraper (RSS + web scraping) (Phase 7.2) 3. \u2705 Economic Times scraper (RSS + web scraping) (Phase 7.3) 4. \u2705 Multi-source aggregation with deduplication (Phase 7.3) 5. \u2705 Keyword-based sentiment analysis (38 bullish + 39 bearish keywords) 6. \u2705 Database persistence and 30-minute caching 7. \u2705 Updated MCP <code>get_indian_stock_news()</code> tool with real data (Phase 7.5) 8. \u23ed\ufe0f Phase 7.4 (Advanced NLP Sentiment) intentionally skipped - can be added later</p> <p>Benefits Achieved: - \u2705 Real, up-to-date news from MoneyControl and Economic Times - \u2705 Multi-source aggregation prevents duplicate articles - \u2705 Automatic sentiment analysis (keyword-based) - \u2705 Database storage for historical tracking - \u2705 Per-source statistics and trending topics</p> <p>See Phase 7 Details: Coming soon in <code>docs/PHASE7_IMPLEMENTATION.md</code></p>"},{"location":"INDIAN_MARKET/#phase-8-real-time-data-remaining-items","title":"Phase 8: Real-Time Data (Remaining Items)","text":"<p>Priority: High | Effort: 1 week</p> <ol> <li>RBI Data Scraping (2-3 days)</li> <li>Background Workers (3-4 days)</li> </ol> <p>Benefits: - Real, up-to-date economic data - Automatic updates - Continued improvement in user experience</p>"},{"location":"INDIAN_MARKET/#phase-9-advanced-analytics","title":"Phase 9: Advanced Analytics","text":"<p>Priority: Medium | Effort: 2-3 weeks</p> <ol> <li>FinBERT Sentiment (1-2 weeks) - Phase 7.4 enhancement</li> <li>Advanced Correlations (3-5 days)</li> <li>Named Entity Recognition (3-4 days)</li> </ol> <p>Benefits: - More sophisticated analysis - Better insights - Differentiation from competitors</p>"},{"location":"INDIAN_MARKET/#phase-10-infrastructure-scale","title":"Phase 10: Infrastructure &amp; Scale","text":"<p>Priority: Medium | Effort: 1-2 weeks</p> <ol> <li>Database Storage (2-3 days)</li> <li>Rate Limiting (2-3 days)</li> <li>Monitoring (2-3 days)</li> <li>WebSocket Streaming (1-2 weeks)</li> </ol> <p>Benefits: - Production-grade reliability - Scalability - Real-time features</p>"},{"location":"INDIAN_MARKET/#how-to-contribute","title":"How to Contribute","text":"<p>Want to implement any of these enhancements?</p> <ol> <li>Check the complexity rating above</li> <li>Review the implementation details in <code>docs/PHASE4_IMPLEMENTATION.md</code></li> <li>Create a branch for your feature</li> <li>Implement with tests and documentation</li> <li>Submit PR with description of changes</li> </ol>"},{"location":"INDIAN_MARKET/#api-keys-needed-for-enhancements","title":"API Keys Needed for Enhancements","text":"<p>To implement the above features, you'll need:</p> Feature API/Service Cost URL Exchange Rates Exchange Rate API Free tier available https://exchangerate-api.com/ News NewsAPI Free tier: 100 req/day https://newsapi.org/ Advanced Data Trading Economics Paid (varies) https://tradingeconomics.com/ NLP Models Hugging Face Free https://huggingface.co/"},{"location":"INDIAN_MARKET/#support","title":"Support","text":"<p>For issues or questions: 1. Check existing documentation 2. Review examples in <code>examples/</code> directory 3. Open GitHub issue with details</p> <p>Last Updated: Phase 7 - Real-Time News Integration Status: Production Ready \u2705 Real Data Sources: Exchange rates (Phase 6), News articles (Phase 7 - MoneyControl + Economic Times)</p>"},{"location":"MULTI_MARKET_SUPPORT/","title":"Multi-Market Support Documentation","text":""},{"location":"MULTI_MARKET_SUPPORT/#overview","title":"Overview","text":"<p>MaverickMCP now supports multiple stock exchanges, enabling analysis of stocks from: - US Markets: NASDAQ, NYSE (default) - Indian Markets: NSE (National Stock Exchange of India), BSE (Bombay Stock Exchange)</p> <p>This Phase 1 implementation provides the foundation for multi-market functionality, with automatic market detection, market-specific trading calendars, and proper currency/timezone handling.</p>"},{"location":"MULTI_MARKET_SUPPORT/#features","title":"Features","text":""},{"location":"MULTI_MARKET_SUPPORT/#automatic-market-detection","title":"Automatic Market Detection","text":"<p>The system automatically detects which market a stock belongs to based on its ticker symbol suffix:</p> <ul> <li>No suffix or US tickers \u2192 US Market (e.g., <code>AAPL</code>, <code>MSFT</code>, <code>GOOGL</code>)</li> <li>.NS suffix \u2192 Indian NSE Market (e.g., <code>RELIANCE.NS</code>, <code>TCS.NS</code>, <code>INFY.NS</code>)</li> <li>.BO suffix \u2192 Indian BSE Market (e.g., <code>SENSEX.BO</code>, <code>TCS.BO</code>)</li> </ul>"},{"location":"MULTI_MARKET_SUPPORT/#market-specific-configurations","title":"Market-Specific Configurations","text":"<p>Each market has its own configuration including:</p> Market Currency Trading Hours (Local) Circuit Breaker Settlement Timezone US USD 9:30 AM - 4:00 PM 7% T+2 America/New_York NSE (India) INR 9:15 AM - 3:30 PM 10% T+1 Asia/Kolkata BSE (India) INR 9:15 AM - 3:30 PM 10% T+1 Asia/Kolkata"},{"location":"MULTI_MARKET_SUPPORT/#market-aware-trading-calendars","title":"Market-Aware Trading Calendars","text":"<p>The system uses appropriate trading calendars for each market: - US: NYSE calendar (includes US holidays and weekends) - India: NSE calendar (includes Indian holidays and weekends)</p> <p>This ensures accurate cache handling on market-specific non-trading days.</p>"},{"location":"MULTI_MARKET_SUPPORT/#usage","title":"Usage","text":""},{"location":"MULTI_MARKET_SUPPORT/#for-developers","title":"For Developers","text":""},{"location":"MULTI_MARKET_SUPPORT/#importing-market-configuration","title":"Importing Market Configuration","text":"<pre><code>from maverick_mcp.config.markets import (\n    Market,\n    get_market_from_symbol,\n    get_market_config,\n    is_indian_market,\n    is_us_market,\n)\n\n# Detect market from symbol\nmarket = get_market_from_symbol(\"RELIANCE.NS\")  # Returns Market.INDIA_NSE\n\n# Get full market configuration\nconfig = get_market_config(\"RELIANCE.NS\")\nprint(config.currency)  # \"INR\"\nprint(config.trading_hours_start)  # time(9, 15)\n\n# Quick market checks\nis_indian_market(\"RELIANCE.NS\")  # True\nis_us_market(\"AAPL\")  # True\n</code></pre>"},{"location":"MULTI_MARKET_SUPPORT/#creating-stocks-in-database","title":"Creating Stocks in Database","text":"<p>The <code>Stock.get_or_create()</code> method automatically detects and sets the market:</p> <pre><code>from maverick_mcp.data.models import Stock, SessionLocal\n\nwith SessionLocal() as session:\n    # US stock - market auto-detected as \"US\"\n    us_stock = Stock.get_or_create(\n        session,\n        ticker_symbol=\"AAPL\",\n        company_name=\"Apple Inc.\",\n        sector=\"Technology\"\n    )\n    print(us_stock.market)  # \"US\"\n    print(us_stock.currency)  # \"USD\"\n\n    # Indian NSE stock - market auto-detected as \"NSE\"\n    indian_stock = Stock.get_or_create(\n        session,\n        ticker_symbol=\"RELIANCE.NS\",\n        company_name=\"Reliance Industries Ltd.\",\n        sector=\"Energy\"\n    )\n    print(indian_stock.market)  # \"NSE\"\n    print(indian_stock.currency)  # \"INR\"\n</code></pre>"},{"location":"MULTI_MARKET_SUPPORT/#using-market-aware-data-provider","title":"Using Market-Aware Data Provider","text":"<p>The <code>EnhancedStockDataProvider</code> automatically uses the correct market calendar:</p> <pre><code>from maverick_mcp.providers.stock_data import EnhancedStockDataProvider\n\nprovider = EnhancedStockDataProvider()\n\n# Automatically uses NYSE calendar for US stocks\nus_data = provider.get_stock_data(\"AAPL\", start_date=\"2024-01-01\", end_date=\"2024-12-31\")\n\n# Automatically uses NSE calendar for Indian stocks\nindian_data = provider.get_stock_data(\"RELIANCE.NS\", start_date=\"2024-01-01\", end_date=\"2024-12-31\")\n</code></pre>"},{"location":"MULTI_MARKET_SUPPORT/#database-schema","title":"Database Schema","text":""},{"location":"MULTI_MARKET_SUPPORT/#new-fields-in-mcp_stocks-table","title":"New Fields in <code>mcp_stocks</code> Table","text":"Field Type Description Example Values <code>market</code> String(10) Market identifier \"US\", \"NSE\", \"BSE\" <code>ticker_symbol</code> String(20) Extended to support suffixes \"AAPL\", \"RELIANCE.NS\" <code>country</code> String(2) ISO 3166-1 alpha-2 code \"US\", \"IN\" <code>currency</code> String(3) ISO 4217 currency code \"USD\", \"INR\""},{"location":"MULTI_MARKET_SUPPORT/#new-indexes","title":"New Indexes","text":"<p>For efficient multi-market queries, the following composite indexes were added: - <code>idx_stock_market_country</code> - Query by market and country - <code>idx_stock_market_sector</code> - Query by market and sector - <code>idx_stock_country_active</code> - Query by country and active status - <code>idx_stock_market</code> - Quick market filtering</p>"},{"location":"MULTI_MARKET_SUPPORT/#migration","title":"Migration","text":""},{"location":"MULTI_MARKET_SUPPORT/#applying-the-migration","title":"Applying the Migration","text":"<p>The database migration is included in <code>alembic/versions/014_add_multi_market_support.py</code>.</p> <p>To apply it:</p> <pre><code># Run migrations\nmake migrate\n\n# Or manually\nalembic upgrade head\n</code></pre>"},{"location":"MULTI_MARKET_SUPPORT/#migration-details","title":"Migration Details","text":"<p>The migration: 1. \u2705 Adds <code>market</code> column (defaults to \"US\" for existing stocks) 2. \u2705 Extends <code>ticker_symbol</code> from String(10) to String(20) 3. \u2705 Standardizes <code>country</code> to 2-letter ISO codes 4. \u2705 Creates composite indexes for multi-market queries 5. \u2705 Backward Compatible: All existing S&amp;P 500 stocks remain functional</p>"},{"location":"MULTI_MARKET_SUPPORT/#rollback","title":"Rollback","text":"<p>If needed, you can rollback the migration:</p> <pre><code>alembic downgrade -1\n</code></pre>"},{"location":"MULTI_MARKET_SUPPORT/#testing","title":"Testing","text":""},{"location":"MULTI_MARKET_SUPPORT/#running-tests","title":"Running Tests","text":"<pre><code># Run unit tests (fast, no database required)\npytest tests/test_multi_market.py -v -m \"not integration\"\n\n# Run integration tests (requires database)\npytest tests/test_multi_market.py -v -m \"integration\"\n\n# Run all tests\npytest tests/test_multi_market.py -v\n</code></pre>"},{"location":"MULTI_MARKET_SUPPORT/#test-coverage","title":"Test Coverage","text":"<p>The test suite covers: - \u2705 Market registry and configuration - \u2705 Market detection from symbols - \u2705 Market-specific helpers (is_indian_market, is_us_market) - \u2705 Symbol formatting and suffix handling - \u2705 Calendar loading and fallback behavior - \u2705 Database model integration - \u2705 Stock data provider integration - \u2705 End-to-end workflows for all markets</p>"},{"location":"MULTI_MARKET_SUPPORT/#architecture","title":"Architecture","text":""},{"location":"MULTI_MARKET_SUPPORT/#market-registry-pattern","title":"Market Registry Pattern","text":"<p>The system uses a centralized Market Registry pattern (<code>maverick_mcp/config/markets.py</code>) that: - Defines all supported markets in a single location - Provides market-specific configurations - Enables easy addition of new markets in the future - Ensures consistency across the codebase</p>"},{"location":"MULTI_MARKET_SUPPORT/#key-design-principles","title":"Key Design Principles","text":"<ol> <li>Backward Compatibility: Existing US market functionality unchanged</li> <li>Auto-Detection: Markets detected from symbol suffixes automatically</li> <li>Extensibility: Easy to add new markets (UK, EU, Japan, etc.)</li> <li>Type Safety: Enum-based market selection prevents errors</li> <li>Performance: Lazy-loaded calendars with caching</li> </ol>"},{"location":"MULTI_MARKET_SUPPORT/#future-enhancements-phase-2","title":"Future Enhancements (Phase 2+)","text":""},{"location":"MULTI_MARKET_SUPPORT/#phase-2-indian-market-data-integration","title":"Phase 2: Indian Market Data Integration","text":"<ul> <li>Seed Nifty 500 and BSE stocks into database</li> <li>Add Indian market screening strategies</li> <li>Integrate with yfinance for Indian stock data</li> </ul>"},{"location":"MULTI_MARKET_SUPPORT/#phase-3-indian-market-screening","title":"Phase 3: Indian Market Screening","text":"<ul> <li>Adapt screening strategies for Indian market volatility</li> <li>Implement sector rotation for NIFTY sectors</li> <li>Add Indian-specific technical indicators</li> </ul>"},{"location":"MULTI_MARKET_SUPPORT/#phase-4-advanced-features","title":"Phase 4: Advanced Features","text":"<ul> <li>RBI (Reserve Bank of India) economic data</li> <li>Indian news sentiment analysis</li> <li>Currency conversion (INR/USD)</li> <li>Market comparison tools (US vs India)</li> </ul>"},{"location":"MULTI_MARKET_SUPPORT/#troubleshooting","title":"Troubleshooting","text":""},{"location":"MULTI_MARKET_SUPPORT/#common-issues","title":"Common Issues","text":""},{"location":"MULTI_MARKET_SUPPORT/#calendar-not-loading","title":"Calendar Not Loading","text":"<p>If you see warnings about calendar loading:</p> <pre><code>Could not load calendar 'NSE' for National Stock Exchange of India\n</code></pre> <p>Solution: The system automatically falls back to NYSE calendar. Indian market calendars may require additional <code>pandas_market_calendars</code> configuration.</p>"},{"location":"MULTI_MARKET_SUPPORT/#symbol-detection-issues","title":"Symbol Detection Issues","text":"<p>If market is not detected correctly:</p> <pre><code># Ensure proper symbol format\n\"RELIANCE.NS\"  # \u2705 Correct\n\"RELIANCE\"     # \u26a0\ufe0f  Will be treated as US stock\n\"reliance.ns\"  # \u2705 Works (case insensitive)\n</code></pre>"},{"location":"MULTI_MARKET_SUPPORT/#migration-conflicts","title":"Migration Conflicts","text":"<p>If migration fails due to conflicts:</p> <pre><code># Check current migration status\nalembic current\n\n# View migration history\nalembic history\n\n# Resolve conflicts manually or reset\nalembic stamp head\n</code></pre>"},{"location":"MULTI_MARKET_SUPPORT/#api-changes","title":"API Changes","text":""},{"location":"MULTI_MARKET_SUPPORT/#breaking-changes","title":"Breaking Changes","text":"<p>None - This is a backward-compatible change. All existing code continues to work without modification.</p>"},{"location":"MULTI_MARKET_SUPPORT/#new-apis","title":"New APIs","text":"<pre><code># New in maverick_mcp.config.markets\nfrom maverick_mcp.config.markets import (\n    Market,                    # Enum for markets\n    MarketConfig,              # Market configuration class\n    MARKET_CONFIGS,            # Dictionary of all configs\n    get_market_from_symbol,    # Detect market from symbol\n    get_market_config,         # Get config for symbol\n    get_all_markets,           # List all markets\n    get_markets_by_country,    # Filter by country\n    is_indian_market,          # Quick check for Indian markets\n    is_us_market,              # Quick check for US market\n)\n</code></pre>"},{"location":"MULTI_MARKET_SUPPORT/#modified-apis","title":"Modified APIs","text":"<pre><code># EnhancedStockDataProvider - No API changes, enhanced internally\nprovider = EnhancedStockDataProvider()\n# Now automatically uses correct market calendar based on symbol\ndata = provider.get_stock_data(\"RELIANCE.NS\")  # Uses NSE calendar\n\n# Stock.get_or_create - Auto-detects market, country, currency\nStock.get_or_create(session, \"RELIANCE.NS\", company_name=\"Reliance\")\n# market=\"NSE\", country=\"IN\", currency=\"INR\" set automatically\n</code></pre>"},{"location":"MULTI_MARKET_SUPPORT/#contributing","title":"Contributing","text":"<p>When adding support for new markets:</p> <ol> <li>Add market to <code>Market</code> enum in <code>markets.py</code></li> <li>Create <code>MarketConfig</code> in <code>MARKET_CONFIGS</code></li> <li>Add tests in <code>tests/test_multi_market.py</code></li> <li>Update this documentation</li> <li>Create appropriate seeding scripts (if needed)</li> </ol> <p>Example for adding UK market:</p> <pre><code># In maverick_mcp/config/markets.py\nclass Market(Enum):\n    US = \"US\"\n    INDIA_NSE = \"NSE\"\n    INDIA_BSE = \"BSE\"\n    UK_LSE = \"LSE\"  # New market\n\nMARKET_CONFIGS[Market.UK_LSE] = MarketConfig(\n    name=\"London Stock Exchange\",\n    country=\"GB\",\n    currency=\"GBP\",\n    timezone=\"Europe/London\",\n    calendar_name=\"LSE\",\n    symbol_suffix=\".L\",\n    trading_hours_start=time(8, 0),\n    trading_hours_end=time(16, 30),\n    circuit_breaker_percent=8.0,\n    settlement_cycle=\"T+2\",\n    min_tick_size=0.01,\n)\n</code></pre>"},{"location":"MULTI_MARKET_SUPPORT/#resources","title":"Resources","text":"<ul> <li>pandas_market_calendars Documentation</li> <li>yfinance Documentation</li> <li>NSE India</li> <li>BSE India</li> </ul>"},{"location":"MULTI_MARKET_SUPPORT/#support","title":"Support","text":"<p>For issues or questions about multi-market support: 1. Check this documentation 2. Review test examples in <code>tests/test_multi_market.py</code> 3. Create a GitHub issue with [MULTI-MARKET] prefix</p> <p>Status: Phase 1 Complete \u2705 Next: Phase 2 - Indian Market Data Integration Last Updated: January 17, 2025</p>"},{"location":"PHASE2_INDIAN_MARKET/","title":"Phase 2: Indian Market Data Integration","text":""},{"location":"PHASE2_INDIAN_MARKET/#overview","title":"Overview","text":"<p>Phase 2 extends MaverickMCP with comprehensive support for Indian stock markets (NSE and BSE), building on the multi-market infrastructure established in Phase 1.</p>"},{"location":"PHASE2_INDIAN_MARKET/#features","title":"Features","text":""},{"location":"PHASE2_INDIAN_MARKET/#1-indian-market-data-provider","title":"1. Indian Market Data Provider","text":"<p>A specialized data provider for Indian stock markets with the following capabilities:</p> <ul> <li>Symbol Validation: Validates NSE (.NS) and BSE (.BO) symbols</li> <li>Data Fetching: Retrieves historical and real-time data for Indian stocks</li> <li>Market Status: Checks if Indian markets are currently open/closed</li> <li>Index Constituents: Built-in lists for Nifty 50 and Sensex stocks</li> </ul>"},{"location":"PHASE2_INDIAN_MARKET/#2-key-components","title":"2. Key Components","text":""},{"location":"PHASE2_INDIAN_MARKET/#indianmarketdataprovider","title":"IndianMarketDataProvider","text":"<p>Located in <code>maverick_mcp/providers/indian_market_data.py</code>, this provider offers:</p> <pre><code>from maverick_mcp.providers.indian_market_data import IndianMarketDataProvider\n\n# Initialize provider\nprovider = IndianMarketDataProvider()\n\n# Fetch NSE stock data\nnse_data = provider.get_nse_stock_data(\"RELIANCE\", period=\"1mo\")\n\n# Fetch BSE stock data\nbse_data = provider.get_bse_stock_data(\"RELIANCE\", period=\"1mo\")\n\n# Get stock information\ninfo = provider.get_stock_info(\"RELIANCE.NS\")\n\n# Check market status\nstatus = provider.get_indian_market_status()\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#convenience-functions","title":"Convenience Functions","text":"<p>Quick-access functions for common operations:</p> <pre><code>from maverick_mcp.providers.indian_market_data import fetch_nse_data, fetch_bse_data\n\n# Quick NSE data fetch\ndf = fetch_nse_data(\"RELIANCE\", period=\"1mo\")\n\n# Quick BSE data fetch\ndf = fetch_bse_data(\"TCS\", period=\"3mo\")\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#3-symbol-formatting","title":"3. Symbol Formatting","text":"<p>The provider automatically handles symbol formatting:</p> <pre><code>provider = IndianMarketDataProvider()\n\n# Auto-formats to RELIANCE.NS\nnse_symbol = provider.format_nse_symbol(\"RELIANCE\")\n\n# Auto-formats to TCS.BO\nbse_symbol = provider.format_bse_symbol(\"TCS\")\n\n# Already formatted symbols remain unchanged\nsymbol = provider.format_nse_symbol(\"INFY.NS\")  # Returns \"INFY.NS\"\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#4-symbol-validation","title":"4. Symbol Validation","text":"<p>Validates Indian market symbols before data fetching:</p> <pre><code>is_valid, market, error = provider.validate_indian_symbol(\"RELIANCE.NS\")\n# Returns: (True, Market.INDIA_NSE, None)\n\nis_valid, market, error = provider.validate_indian_symbol(\"AAPL\")\n# Returns: (False, None, \"Not an Indian market symbol (must end with .NS or .BO)\")\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#5-index-constituents","title":"5. Index Constituents","text":"<p>Pre-configured lists of major Indian index stocks:</p> <pre><code># Get Nifty 50 stocks (50 companies)\nnifty50 = provider.get_nifty50_constituents()\n# Returns: [\"RELIANCE.NS\", \"TCS.NS\", \"HDFCBANK.NS\", ...]\n\n# Get Sensex stocks (30 companies)\nsensex = provider.get_sensex_constituents()\n# Returns: [\"RELIANCE.NS\", \"TCS.NS\", \"HDFCBANK.NS\", ...]\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#6-market-status","title":"6. Market Status","text":"<p>Check if Indian markets are currently trading:</p> <pre><code>status = provider.get_indian_market_status()\n# Returns:\n# {\n#     \"status\": \"OPEN\" | \"CLOSED\" | \"HOLIDAY\",\n#     \"is_open\": bool,\n#     \"is_trading_day\": bool,\n#     \"current_time\": \"HH:MM:SS\",\n#     \"market_open\": \"09:15\",\n#     \"market_close\": \"15:30\",\n#     \"timezone\": \"Asia/Kolkata\",\n#     \"date\": \"YYYY-MM-DD\"\n# }\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#database-seeding","title":"Database Seeding","text":""},{"location":"PHASE2_INDIAN_MARKET/#seed-indian-stocks","title":"Seed Indian Stocks","text":"<p>A dedicated script to populate the database with major Indian stocks:</p> <pre><code># Run the seed script\n./scripts/seed_indian_stocks.py\n</code></pre> <p>The script includes: - 50 Nifty 50 constituents: Major NSE-listed companies - 30 Sensex constituents: Major BSE-listed companies (using NSE symbols) - Automatic metadata: Fetches sector, industry, market cap from yfinance</p>"},{"location":"PHASE2_INDIAN_MARKET/#stock-coverage","title":"Stock Coverage","text":"<p>Major Indian companies included: - Banking &amp; Finance: HDFC Bank, ICICI Bank, Kotak Mahindra Bank, SBI - Technology: TCS, Infosys, Wipro, HCL Tech, Tech Mahindra - Energy: Reliance Industries, ONGC, BPCL, IOC - Consumer Goods: Hindustan Unilever, ITC, Nestle India, Britannia - Automotive: Maruti Suzuki, Tata Motors, Mahindra &amp; Mahindra, Bajaj Auto - Pharmaceuticals: Sun Pharma, Dr. Reddy's, Cipla, Divi's Labs - Industrials: Larsen &amp; Toubro, UltraTech Cement, JSW Steel, Tata Steel - And many more...</p>"},{"location":"PHASE2_INDIAN_MARKET/#api-integration","title":"API Integration","text":"<p>The Indian market provider integrates seamlessly with existing MaverickMCP APIs:</p>"},{"location":"PHASE2_INDIAN_MARKET/#stock-data-endpoints","title":"Stock Data Endpoints","text":"<pre><code># All existing endpoints now support Indian stocks\nGET /api/stocks?market=NSE\nGET /api/stocks/{ticker}  # Works with RELIANCE.NS\nGET /api/data/{ticker}/historical  # Fetches Indian stock data\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#market-aware-queries","title":"Market-Aware Queries","text":"<pre><code>from maverick_mcp.data.models import Stock, SessionLocal\n\nsession = SessionLocal()\n\n# Query Indian stocks\nnse_stocks = session.query(Stock).filter(Stock.market == \"NSE\").all()\nbse_stocks = session.query(Stock).filter(Stock.market == \"BSE\").all()\n\n# Query by country\nindian_stocks = session.query(Stock).filter(Stock.country == \"IN\").all()\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#testing","title":"Testing","text":""},{"location":"PHASE2_INDIAN_MARKET/#unit-tests","title":"Unit Tests","text":"<p>Comprehensive unit tests in <code>tests/test_indian_market.py</code> cover:</p> <ul> <li>\u2705 Symbol validation (NSE, BSE, invalid symbols)</li> <li>\u2705 Symbol formatting (NSE, BSE, case handling)</li> <li>\u2705 Constituent lists (Nifty 50, Sensex)</li> <li>\u2705 Market status checks</li> <li>\u2705 Error handling</li> <li>\u2705 Convenience functions</li> </ul>"},{"location":"PHASE2_INDIAN_MARKET/#manual-testing","title":"Manual Testing","text":"<pre><code># Test Indian market provider\npython3 -c \"\nfrom maverick_mcp.providers.indian_market_data import IndianMarketDataProvider\n\nprovider = IndianMarketDataProvider()\n\n# Test validation\nis_valid, market, error = provider.validate_indian_symbol('RELIANCE.NS')\nprint(f'Validation: {is_valid}, Market: {market}')\n\n# Test formatting\nnse = provider.format_nse_symbol('RELIANCE')\nprint(f'NSE Symbol: {nse}')\n\n# Test constituents\nnifty50 = provider.get_nifty50_constituents()\nprint(f'Nifty 50 Count: {len(nifty50)}')\n\n# Test market status\nstatus = provider.get_indian_market_status()\nprint(f'Market Status: {status[\\\"status\\\"]}')\n\"\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#usage-examples","title":"Usage Examples","text":""},{"location":"PHASE2_INDIAN_MARKET/#example-1-fetch-indian-stock-data","title":"Example 1: Fetch Indian Stock Data","text":"<pre><code>from maverick_mcp.providers.indian_market_data import IndianMarketDataProvider\n\nprovider = IndianMarketDataProvider()\n\n# Fetch Reliance Industries NSE data\ndf = provider.get_nse_stock_data(\"RELIANCE\", period=\"3mo\")\nprint(df.head())\nprint(f\"Latest close: \u20b9{df['close'].iloc[-1]:.2f}\")\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#example-2-analyze-nifty-50-stocks","title":"Example 2: Analyze Nifty 50 Stocks","text":"<pre><code>from maverick_mcp.providers.indian_market_data import IndianMarketDataProvider\n\nprovider = IndianMarketDataProvider()\n\n# Get all Nifty 50 stocks\nnifty50 = provider.get_nifty50_constituents()\n\n# Fetch data for each stock\nfor symbol in nifty50[:5]:  # First 5 for demo\n    try:\n        data = provider.get_stock_data(symbol, period=\"1d\")\n        latest_close = data['close'].iloc[-1]\n        print(f\"{symbol}: \u20b9{latest_close:.2f}\")\n    except Exception as e:\n        print(f\"{symbol}: Error - {e}\")\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#example-3-compare-nse-and-bse-prices","title":"Example 3: Compare NSE and BSE Prices","text":"<pre><code>from maverick_mcp.providers.indian_market_data import IndianMarketDataProvider\n\nprovider = IndianMarketDataProvider()\n\n# Fetch same stock from both exchanges\nnse_data = provider.get_nse_stock_data(\"RELIANCE\", period=\"1mo\")\nbse_data = provider.get_bse_stock_data(\"RELIANCE\", period=\"1mo\")\n\nprint(f\"NSE Latest: \u20b9{nse_data['close'].iloc[-1]:.2f}\")\nprint(f\"BSE Latest: \u20b9{bse_data['close'].iloc[-1]:.2f}\")\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#example-4-market-hours-check","title":"Example 4: Market Hours Check","text":"<pre><code>from maverick_mcp.providers.indian_market_data import IndianMarketDataProvider\n\nprovider = IndianMarketDataProvider()\n\n# Check if market is open\nstatus = provider.get_indian_market_status()\n\nif status[\"is_open\"]:\n    print(f\"\ud83d\udfe2 Indian market is OPEN\")\n    print(f\"   Current time: {status['current_time']} IST\")\nelse:\n    print(f\"\ud83d\udd34 Indian market is {status['status']}\")\n    if status[\"is_trading_day\"]:\n        print(f\"   Opens at: {status['market_open']} IST\")\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#architecture","title":"Architecture","text":""},{"location":"PHASE2_INDIAN_MARKET/#data-flow","title":"Data Flow","text":"<pre><code>User Request\n     \u2193\nIndianMarketDataProvider\n     \u2193\nSymbol Validation\n     \u2193\nMarket-Aware Calendar (pandas_market_calendars)\n     \u2193\nyfinance API (.NS / .BO symbols)\n     \u2193\nData Processing\n     \u2193\nResponse (pandas DataFrame)\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#market-configuration","title":"Market Configuration","text":"<p>Indian market configurations (from Phase 1):</p> <pre><code>Market.INDIA_NSE: MarketConfig(\n    name=\"National Stock Exchange of India\",\n    country=\"IN\",\n    currency=\"INR\",\n    timezone=\"Asia/Kolkata\",\n    calendar_name=\"BSE\",  # pandas_market_calendars\n    symbol_suffix=\".NS\",\n    trading_hours_start=time(9, 15),\n    trading_hours_end=time(15, 30),\n    circuit_breaker_percent=10.0,\n    settlement_cycle=\"T+1\",\n    min_tick_size=0.05,\n)\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#limitations-known-issues","title":"Limitations &amp; Known Issues","text":"<ol> <li>yfinance Dependency: Data quality depends on Yahoo Finance API availability</li> <li>Calendar Approximation: <code>pandas_market_calendars</code> uses BSE calendar for both NSE/BSE</li> <li>Real-time Data: Market status is calculated based on schedule, not actual API status</li> <li>Search Functionality: <code>search_indian_stocks()</code> is a placeholder (TODO)</li> </ol>"},{"location":"PHASE2_INDIAN_MARKET/#future-enhancements-phase-3","title":"Future Enhancements (Phase 3+)","text":"<ol> <li>Live Price Streams: WebSocket integration for real-time Indian stock prices</li> <li>Corporate Actions: Dividends, splits, bonuses for Indian stocks</li> <li>F&amp;O Data: Futures and Options data for Indian derivatives</li> <li>Intraday Data: Minute-level data for day trading</li> <li>Alternative Data Sources: Integration with NSE/BSE official APIs</li> <li>Stock Screener: Filter stocks by Indian-specific criteria (P/E, dividend yield, etc.)</li> </ol>"},{"location":"PHASE2_INDIAN_MARKET/#migration-guide","title":"Migration Guide","text":""},{"location":"PHASE2_INDIAN_MARKET/#for-existing-us-stock-users","title":"For Existing US Stock Users","text":"<p>No changes required! US stock functionality remains unchanged. Indian markets are additive:</p> <pre><code># US stocks work as before\nfrom maverick_mcp.providers.stock_data import EnhancedStockDataProvider\n\nprovider = EnhancedStockDataProvider()\nus_data = provider.get_stock_data(\"AAPL\", period=\"1mo\")\n\n# Indian stocks use the same provider or specialized one\nindian_provider = IndianMarketDataProvider()\nindian_data = indian_provider.get_nse_stock_data(\"RELIANCE\", period=\"1mo\")\n</code></pre>"},{"location":"PHASE2_INDIAN_MARKET/#summary","title":"Summary","text":"<p>Phase 2 successfully integrates Indian stock market support into MaverickMCP with:</p> <p>\u2705 NSE and BSE data fetching \u2705 Symbol validation and formatting \u2705 Market status checking \u2705 Nifty 50 and Sensex constituent lists \u2705 Database seeding script for major Indian stocks \u2705 Comprehensive unit tests \u2705 Full backward compatibility with US stocks</p> <p>The system is now ready for multi-market analysis and trading strategies across US and Indian markets!</p>"},{"location":"PHASE3_IMPLEMENTATION/","title":"Phase 3: Indian Market Screening Strategies","text":""},{"location":"PHASE3_IMPLEMENTATION/#overview","title":"Overview","text":"<p>Phase 3 implements seven screening strategies specifically adapted for the Indian stock market (NSE and BSE exchanges). These strategies account for Indian market characteristics including 10% circuit breakers, INR denomination, Nifty sector structure, and lower liquidity compared to US markets.</p>"},{"location":"PHASE3_IMPLEMENTATION/#implementation","title":"Implementation","text":""},{"location":"PHASE3_IMPLEMENTATION/#core-module","title":"Core Module","text":"<p>Location: <code>maverick_mcp/application/screening/indian_market.py</code></p> <p>Total Lines: 812</p>"},{"location":"PHASE3_IMPLEMENTATION/#screening-strategies","title":"Screening Strategies","text":""},{"location":"PHASE3_IMPLEMENTATION/#1-maverick-bullish-india-get_maverick_bullish_india","title":"1. Maverick Bullish India (<code>get_maverick_bullish_india</code>)","text":"<p>Identifies bullish momentum opportunities in Indian stocks.</p> <p>Criteria:</p> <ul> <li>Volume &gt; 500,000 shares (adjusted for smaller Indian market)</li> <li>RSI between 30-70 (momentum without overbought condition)</li> <li>Price above 50-day moving average</li> <li>Weekly price increase &gt; 2%</li> <li>Market cap &gt; \u20b95,000 crores</li> <li>Respects 10% circuit breaker limits</li> </ul> <p>Parameters:</p> <ul> <li><code>min_volume</code> (int): Minimum daily volume (default: 500,000)</li> <li><code>rsi_low</code> (int): Lower RSI threshold (default: 30)</li> <li><code>rsi_high</code> (int): Upper RSI threshold (default: 70)</li> <li><code>lookback_days</code> (int): Analysis period (default: 30)</li> <li><code>limit</code> (int): Maximum results (default: 20)</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#2-maverick-bearish-india-get_maverick_bearish_india","title":"2. Maverick Bearish India (<code>get_maverick_bearish_india</code>)","text":"<p>Identifies potential short opportunities in Indian stocks.</p> <p>Criteria:</p> <ul> <li>Volume &gt; 500,000 shares</li> <li>RSI &gt; 70 (overbought condition)</li> <li>Price below 50-day moving average</li> <li>Recent price decrease</li> <li>High debt-to-equity ratio (when available)</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#3-nifty-50-momentum-get_nifty50_momentum","title":"3. Nifty 50 Momentum (<code>get_nifty50_momentum</code>)","text":"<p>Finds momentum plays within Nifty 50 constituents.</p> <p>Criteria:</p> <ul> <li>Stock must be in Nifty 50</li> <li>Weekly price change &gt; 2%</li> <li>RSI between 50-70</li> <li>Volume above average</li> <li>Price above 50-day MA</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#4-nifty-sector-rotation-get_nifty_sector_rotation","title":"4. Nifty Sector Rotation (<code>get_nifty_sector_rotation</code>)","text":"<p>Analyzes sector performance and identifies strongest sectors.</p> <p>Returns: Sector rankings with:</p> <ul> <li>Average sector returns over analysis period</li> <li>Stock count per sector</li> <li>Top 3 performing stocks in each sector</li> </ul> <p>Parameters:</p> <ul> <li><code>lookback_days</code> (int): Analysis period (default: 90)</li> <li><code>top_n</code> (int): Number of top sectors to highlight (default: 3)</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#5-value-picks-india-get_value_picks_india","title":"5. Value Picks India (<code>get_value_picks_india</code>)","text":"<p>Identifies undervalued stocks using technical proxies.</p> <p>Criteria:</p> <ul> <li>Trading in lower 30% of 52-week range</li> <li>Low volatility (&lt; 5%)</li> <li>Market cap &gt; \u20b95,000 crores</li> </ul> <p>Note: This is a technical proxy implementation. Full fundamental analysis would require P/E, dividend yield, and debt-to-equity data.</p>"},{"location":"PHASE3_IMPLEMENTATION/#6-high-dividend-india-get_high_dividend_india","title":"6. High Dividend India (<code>get_high_dividend_india</code>)","text":"<p>Identifies stocks from dividend-paying sectors with price stability.</p> <p>Target Sectors:</p> <ul> <li>Banking &amp; Financial Services</li> <li>Oil &amp; Gas</li> <li>Power &amp; Utilities</li> <li>FMCG</li> </ul> <p>Criteria:</p> <ul> <li>Market cap &gt; \u20b910,000 crores</li> <li>Price stability score &gt; 0.7</li> <li>Sector known for dividend payments</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#7-small-cap-breakouts-india-get_smallcap_breakouts_india","title":"7. Small-Cap Breakouts India (<code>get_smallcap_breakouts_india</code>)","text":"<p>Identifies small-cap stocks with breakout potential.</p> <p>Criteria:</p> <ul> <li>Volume spike &gt; 150% above 30-day average</li> <li>Strong price momentum (&gt; 3% weekly gain)</li> <li>Price above 20-day and 50-day MAs</li> <li>Breakout from consolidation</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#utility-functions","title":"Utility Functions","text":""},{"location":"PHASE3_IMPLEMENTATION/#circuit-breaker-limits","title":"Circuit Breaker Limits","text":"<pre><code>calculate_circuit_breaker_limits(current_price: float, market: Market) -&gt; Dict\n</code></pre> <p>Calculates upper and lower circuit breaker limits for Indian stocks (10% movement limit).</p> <p>Returns:</p> <pre><code>{\n    \"upper_limit\": float,\n    \"lower_limit\": float,\n    \"circuit_breaker_pct\": 10.0\n}\n</code></pre>"},{"location":"PHASE3_IMPLEMENTATION/#currency-formatting","title":"Currency Formatting","text":"<pre><code>format_indian_currency(amount: float) -&gt; str\n</code></pre> <p>Formats amounts using Indian numbering system.</p> <p>Examples:</p> <ul> <li><code>format_indian_currency(100000)</code> \u2192 \"\u20b91.00 L\" (lakh)</li> <li><code>format_indian_currency(10000000)</code> \u2192 \"\u20b91.00 Cr\" (crore)</li> <li><code>format_indian_currency(50000)</code> \u2192 \"\u20b950,000.00\"</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#nifty-sectors","title":"Nifty Sectors","text":"<pre><code>get_nifty_sectors() -&gt; List[str]\n</code></pre> <p>Returns list of 14 major Nifty sectors:</p> <ul> <li>Banking &amp; Financial Services</li> <li>Information Technology</li> <li>Oil &amp; Gas</li> <li>Fast Moving Consumer Goods</li> <li>Automobile</li> <li>Pharmaceuticals</li> <li>Metals &amp; Mining</li> <li>Infrastructure</li> <li>Telecom</li> <li>Power</li> <li>Consumer Durables</li> <li>Cement</li> <li>Real Estate</li> <li>Media &amp; Entertainment</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#mcp-tools","title":"MCP Tools","text":"<p>Three MCP tools were added to <code>maverick_mcp/api/server.py</code> for Claude Desktop integration:</p>"},{"location":"PHASE3_IMPLEMENTATION/#1-get_indian_market_recommendations","title":"1. get_indian_market_recommendations","text":"<pre><code>async def get_indian_market_recommendations(\n    strategy: str = \"bullish\",\n    limit: int = 20\n) -&gt; dict[str, Any]\n</code></pre> <p>Strategies: <code>bullish</code>, <code>bearish</code>, <code>momentum</code>, <code>value</code>, <code>dividend</code>, <code>smallcap</code>, <code>sector_rotation</code></p> <p>Usage:</p> <pre><code>\"Show me bullish Indian stock recommendations\"\n\"Find momentum plays in Nifty 50\"\n</code></pre>"},{"location":"PHASE3_IMPLEMENTATION/#2-analyze_nifty_sectors","title":"2. analyze_nifty_sectors","text":"<pre><code>async def analyze_nifty_sectors() -&gt; dict[str, Any]\n</code></pre> <p>Returns sector rotation analysis with 90-day performance rankings.</p> <p>Usage:</p> <pre><code>\"Which Nifty sectors are performing well?\"\n\"Analyze Indian sector rotation\"\n</code></pre>"},{"location":"PHASE3_IMPLEMENTATION/#3-get_indian_market_overview","title":"3. get_indian_market_overview","text":"<pre><code>async def get_indian_market_overview() -&gt; dict[str, Any]\n</code></pre> <p>Provides comprehensive market overview including:</p> <ul> <li>Market status (open/closed/holiday)</li> <li>Stock counts (NSE/BSE)</li> <li>Index constituents (Nifty 50, Sensex)</li> <li>Trading hours and market info</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#indian-market-adaptations","title":"Indian Market Adaptations","text":""},{"location":"PHASE3_IMPLEMENTATION/#circuit-breakers","title":"Circuit Breakers","text":"Market Circuit Breaker Implementation US 7% <code>MARKET_CONFIGS[Market.US]</code> India (NSE/BSE) 10% <code>MARKET_CONFIGS[Market.INDIA_NSE]</code>"},{"location":"PHASE3_IMPLEMENTATION/#volume-thresholds","title":"Volume Thresholds","text":"<p>Indian market has lower liquidity than US markets. Default volume thresholds adjusted:</p> <ul> <li>US: 1,000,000 shares</li> <li>India: 500,000 shares</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#price-denomination","title":"Price Denomination","text":"<p>All prices formatted in INR with Indian numbering:</p> <ul> <li>1 Lakh (L) = 100,000 (1,00,000 in Indian notation)</li> <li>1 Crore (Cr) = 10,000,000 (1,00,00,000 in Indian notation)</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#settlement-cycle","title":"Settlement Cycle","text":"<ul> <li>US: T+2</li> <li>India: T+1</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#trading-hours","title":"Trading Hours","text":"<ul> <li>US: 9:30 AM - 4:00 PM EST</li> <li>India: 9:15 AM - 3:30 PM IST</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#testing","title":"Testing","text":"<p>Location: <code>tests/test_indian_screening.py</code> (193 lines)</p>"},{"location":"PHASE3_IMPLEMENTATION/#test-coverage","title":"Test Coverage","text":"<ol> <li> <p>Utility Functions</p> </li> <li> <p>Circuit breaker calculations (10% validation)</p> </li> <li>Currency formatting (lakhs/crores)</li> <li> <p>Nifty sector list validation</p> </li> <li> <p>Strategy Structure</p> </li> <li> <p>All strategies return proper data structures</p> </li> <li>Respect limit parameters</li> <li> <p>Handle empty datasets gracefully</p> </li> <li> <p>Market Configuration</p> </li> <li>Indian market config validation</li> <li>Circuit breaker comparison (India vs US)</li> <li>Market-specific settings verification</li> </ol>"},{"location":"PHASE3_IMPLEMENTATION/#running-tests","title":"Running Tests","text":"<pre><code># Run all Indian screening tests\npytest tests/test_indian_screening.py -v\n\n# Run specific test class\npytest tests/test_indian_screening.py::TestUtilityFunctions -v\n\n# Run with coverage\npytest tests/test_indian_screening.py --cov=maverick_mcp.application.screening.indian_market\n</code></pre>"},{"location":"PHASE3_IMPLEMENTATION/#usage-requirements","title":"Usage Requirements","text":""},{"location":"PHASE3_IMPLEMENTATION/#prerequisites","title":"Prerequisites","text":"<ol> <li>Database Setup: Multi-market schema from Phase 1</li> <li>Indian Stocks Seeded: Run <code>scripts/seed_indian_stocks.py</code> to populate database</li> <li>Market Data Access: yfinance configured for .NS and .BO symbols</li> </ol>"},{"location":"PHASE3_IMPLEMENTATION/#example-usage","title":"Example Usage","text":"<pre><code>from maverick_mcp.application.screening.indian_market import (\n    get_maverick_bullish_india,\n    get_nifty_sector_rotation,\n    format_indian_currency\n)\n\n# Get bullish recommendations\nresults = get_maverick_bullish_india(limit=10)\nfor stock in results:\n    print(f\"{stock['symbol']}: Score {stock['score']}\")\n\n# Analyze sectors\nsector_analysis = get_nifty_sector_rotation(lookback_days=90, top_n=3)\nfor sector in sector_analysis['top_sectors']:\n    print(f\"{sector['sector']}: {sector['avg_return']}% return\")\n\n# Format currency\nprint(format_indian_currency(50000000))  # \"\u20b95.00 Cr\"\n</code></pre>"},{"location":"PHASE3_IMPLEMENTATION/#performance-considerations","title":"Performance Considerations","text":""},{"location":"PHASE3_IMPLEMENTATION/#database-queries","title":"Database Queries","text":"<ul> <li>Initial stock query limited to 100 stocks for performance</li> <li>Uses indexed columns: <code>market</code>, <code>country</code>, <code>is_active</code>, <code>sector</code></li> <li>Session properly closed after each strategy execution</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#api-rate-limiting","title":"API Rate Limiting","text":"<ul> <li>Strategies query yfinance for historical data</li> <li>Implement caching for frequently accessed stocks</li> <li>Consider batch processing for large screening operations</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#computation-optimization","title":"Computation Optimization","text":"<ul> <li>Technical indicators calculated once per stock</li> <li>Early exit conditions to avoid unnecessary processing</li> <li>Efficient pandas operations for data analysis</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#known-limitations","title":"Known Limitations","text":"<ol> <li>Fundamental Data: Limited access to P/E ratios, dividend yields, and debt-to-equity ratios through yfinance</li> <li>Real-time Data: Market status calculated based on schedule, not actual exchange status</li> <li>Historical Data: Dependent on yfinance data quality for Indian markets</li> <li>Search Functionality: <code>search_indian_stocks()</code> not yet implemented</li> </ol>"},{"location":"PHASE3_IMPLEMENTATION/#future-enhancements","title":"Future Enhancements","text":"<ol> <li>NSE/BSE Official APIs: Direct integration with exchange APIs for real-time data</li> <li>Fundamental Analysis: Full implementation with P/E, dividend, and debt metrics</li> <li>Intraday Screening: Minute-level data analysis for day trading</li> <li>Custom Indicators: India-specific technical indicators</li> <li>Backtesting: Historical performance of screening strategies</li> <li>Alerts: Real-time notifications for screening matches</li> </ol>"},{"location":"PHASE3_IMPLEMENTATION/#dependencies","title":"Dependencies","text":"<ul> <li><code>pandas</code>: Data manipulation and analysis</li> <li><code>yfinance</code>: Stock data retrieval</li> <li><code>sqlalchemy</code>: Database operations</li> <li><code>maverick_mcp.config.markets</code>: Multi-market configuration</li> <li><code>maverick_mcp.providers.indian_market_data</code>: Indian market data provider</li> <li><code>maverick_mcp.core.technical_analysis</code>: RSI and SMA calculations</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#architecture-integration","title":"Architecture Integration","text":"<p>Phase 3 builds on:</p> <ul> <li>Phase 1: Multi-market infrastructure and database schema</li> <li>Phase 2: Indian market data provider and constituent lists</li> </ul> <p>Enables:</p> <ul> <li>Phase 4: Economic indicators, news integration, and currency conversion</li> <li>Future Phases: Advanced analytics and cross-market strategies</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#maintenance","title":"Maintenance","text":""},{"location":"PHASE3_IMPLEMENTATION/#adding-new-strategies","title":"Adding New Strategies","text":"<ol> <li>Create function in <code>indian_market.py</code> following existing pattern</li> <li>Add to MCP tools strategy mapping in <code>server.py</code></li> <li>Create tests in <code>test_indian_screening.py</code></li> <li>Update this documentation</li> </ol>"},{"location":"PHASE3_IMPLEMENTATION/#updating-thresholds","title":"Updating Thresholds","text":"<p>Market-specific thresholds can be adjusted in strategy functions:</p> <ul> <li>Volume thresholds for liquidity changes</li> <li>RSI ranges for volatility adjustments</li> <li>Price change percentages for momentum detection</li> <li>Market cap minimums for risk management</li> </ul>"},{"location":"PHASE3_IMPLEMENTATION/#sector-updates","title":"Sector Updates","text":"<p>Nifty sector list is maintained in <code>get_nifty_sectors()</code>. Update as NSE modifies sector classifications.</p>"},{"location":"PHASE3_IMPLEMENTATION/#references","title":"References","text":"<ul> <li>NSE India</li> <li>BSE India</li> <li>Nifty 50 Index</li> <li>Indian Stock Market Regulations</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/","title":"Phase 4: Advanced Indian Market Features","text":""},{"location":"PHASE4_IMPLEMENTATION/#overview","title":"Overview","text":"<p>Phase 4 adds advanced capabilities for Indian market analysis including economic data integration, news sentiment analysis, market comparison tools, and currency conversion utilities. This phase completes the Indian market support by providing comprehensive data sources and analytical tools.</p>"},{"location":"PHASE4_IMPLEMENTATION/#scope","title":"Scope","text":""},{"location":"PHASE4_IMPLEMENTATION/#core-features","title":"Core Features","text":"<ol> <li> <p>RBI (Reserve Bank of India) Data Integration</p> </li> <li> <p>Monetary policy data (repo rate, CRR, SLR)</p> </li> <li>Economic indicators (GDP growth, inflation, IIP)</li> <li>Foreign exchange reserves</li> <li> <p>Banking sector statistics</p> </li> <li> <p>Indian Financial News Sources</p> </li> <li> <p>MoneyControl integration</p> </li> <li>Economic Times integration</li> <li>Additional Indian financial news sources</li> <li> <p>Sentiment analysis for Indian stocks</p> </li> <li> <p>Market Comparison Tools</p> </li> <li> <p>US vs India market correlation</p> </li> <li>Sector performance comparison</li> <li>Currency-adjusted returns</li> <li> <p>Valuation metrics comparison</p> </li> <li> <p>Currency Conversion</p> </li> <li> <p>INR/USD real-time conversion</p> </li> <li>Historical exchange rates</li> <li>Currency-adjusted portfolio valuation</li> <li> <p>Multi-currency reporting</p> </li> <li> <p>Comprehensive Testing</p> </li> <li>Unit tests for all new components</li> <li>Integration tests for data providers</li> <li>End-to-end testing with MCP tools</li> <li>Performance benchmarking</li> </ol>"},{"location":"PHASE4_IMPLEMENTATION/#implementation-plan","title":"Implementation Plan","text":""},{"location":"PHASE4_IMPLEMENTATION/#1-rbi-data-provider","title":"1. RBI Data Provider","text":"<p>File: <code>maverick_mcp/providers/rbi_data.py</code></p>"},{"location":"PHASE4_IMPLEMENTATION/#data-sources","title":"Data Sources","text":"<ol> <li> <p>RBI Public API</p> </li> <li> <p>Base URL: <code>https://rbi.org.in/</code></p> </li> <li>Economic indicators</li> <li>Policy rates</li> <li> <p>Statistical releases</p> </li> <li> <p>Alternative Sources</p> </li> <li>World Bank API for Indian economic data</li> <li>Trading Economics API</li> <li>FRED (Federal Reserve) for comparative data</li> </ol>"},{"location":"PHASE4_IMPLEMENTATION/#key-indicators","title":"Key Indicators","text":"Indicator Description Update Frequency Repo Rate RBI's key policy rate Bi-monthly (MPC meetings) Reverse Repo Rate Rate for RBI borrowing Bi-monthly CRR Cash Reserve Ratio As needed SLR Statutory Liquidity Ratio As needed GDP Growth Quarterly GDP growth rate Quarterly CPI Inflation Consumer Price Index inflation Monthly WPI Inflation Wholesale Price Index inflation Monthly IIP Index of Industrial Production Monthly Forex Reserves Foreign exchange reserves Weekly"},{"location":"PHASE4_IMPLEMENTATION/#implementation","title":"Implementation","text":"<pre><code>class RBIDataProvider:\n    \"\"\"Provider for Reserve Bank of India economic data\"\"\"\n\n    def __init__(self):\n        self.base_url = \"https://api.rbi.org.in/\"  # If available\n        self.cache_ttl = 3600  # 1 hour cache\n\n    def get_policy_rates(self) -&gt; Dict[str, float]:\n        \"\"\"Get current RBI policy rates\"\"\"\n\n    def get_inflation_data(self, period: str = \"1y\") -&gt; pd.DataFrame:\n        \"\"\"Get CPI and WPI inflation data\"\"\"\n\n    def get_gdp_growth(self) -&gt; Dict[str, Any]:\n        \"\"\"Get latest GDP growth figures\"\"\"\n\n    def get_forex_reserves(self) -&gt; Dict[str, float]:\n        \"\"\"Get current foreign exchange reserves\"\"\"\n\n    def get_economic_calendar(self) -&gt; List[Dict]:\n        \"\"\"Get upcoming RBI announcements and data releases\"\"\"\n</code></pre>"},{"location":"PHASE4_IMPLEMENTATION/#2-indian-news-integration","title":"2. Indian News Integration","text":"<p>File: <code>maverick_mcp/providers/indian_news.py</code></p>"},{"location":"PHASE4_IMPLEMENTATION/#news-sources","title":"News Sources","text":"<ol> <li> <p>MoneyControl</p> </li> <li> <p>Base URL: <code>https://www.moneycontrol.com/</code></p> </li> <li>Stock-specific news</li> <li>Market news</li> <li> <p>Analysis articles</p> </li> <li> <p>Economic Times</p> </li> <li> <p>Base URL: <code>https://economictimes.indiatimes.com/</code></p> </li> <li>Business news</li> <li>Market analysis</li> <li> <p>Expert opinions</p> </li> <li> <p>Additional Sources</p> </li> <li>LiveMint</li> <li>Business Standard</li> <li>Financial Express</li> <li>Bloomberg Quint</li> </ol>"},{"location":"PHASE4_IMPLEMENTATION/#implementation_1","title":"Implementation","text":"<pre><code>class IndianNewsProvider:\n    \"\"\"Provider for Indian financial news sources\"\"\"\n\n    def __init__(self):\n        self.sources = {\n            \"moneycontrol\": MoneyControlScraper(),\n            \"economic_times\": EconomicTimesScraper(),\n            \"livemint\": LiveMintScraper(),\n            \"business_standard\": BusinessStandardScraper()\n        }\n\n    def get_stock_news(\n        self,\n        symbol: str,\n        limit: int = 10,\n        days: int = 7\n    ) -&gt; List[Dict]:\n        \"\"\"Get news for specific Indian stock\"\"\"\n\n    def get_market_news(\n        self,\n        category: str = \"all\",\n        limit: int = 20\n    ) -&gt; List[Dict]:\n        \"\"\"Get general market news\"\"\"\n\n    def analyze_sentiment(\n        self,\n        symbol: str,\n        period: str = \"7d\"\n    ) -&gt; Dict[str, Any]:\n        \"\"\"Analyze news sentiment for stock\"\"\"\n\n    def get_trending_topics(self, limit: int = 10) -&gt; List[str]:\n        \"\"\"Get trending topics in Indian financial news\"\"\"\n</code></pre>"},{"location":"PHASE4_IMPLEMENTATION/#sentiment-analysis","title":"Sentiment Analysis","text":"<p>Use existing sentiment analysis framework with Indian market context:</p> <ul> <li>Market-specific terminology</li> <li>Indian company names and sectors</li> <li>Regulatory news impact</li> <li>Government policy implications</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/#3-market-comparison-tools","title":"3. Market Comparison Tools","text":"<p>File: <code>maverick_mcp/analysis/market_comparison.py</code></p>"},{"location":"PHASE4_IMPLEMENTATION/#features","title":"Features","text":"<ol> <li> <p>Cross-Market Correlation</p> </li> <li> <p>S&amp;P 500 vs Nifty 50 correlation</p> </li> <li>Sector correlation (US Tech vs Indian IT)</li> <li> <p>Individual stock correlation</p> </li> <li> <p>Performance Metrics</p> </li> <li> <p>Returns comparison (currency-adjusted)</p> </li> <li>Volatility comparison</li> <li> <p>Risk-adjusted returns (Sharpe ratio)</p> </li> <li> <p>Valuation Comparison</p> </li> <li>P/E ratio comparison</li> <li>Market cap comparisons</li> <li>Sector valuations</li> </ol>"},{"location":"PHASE4_IMPLEMENTATION/#implementation_2","title":"Implementation","text":"<pre><code>class MarketComparisonAnalyzer:\n    \"\"\"Tools for comparing US and Indian markets\"\"\"\n\n    def compare_indices(\n        self,\n        us_index: str = \"^GSPC\",  # S&amp;P 500\n        indian_index: str = \"^NSEI\",  # Nifty 50\n        period: str = \"1y\"\n    ) -&gt; Dict[str, Any]:\n        \"\"\"Compare major indices\"\"\"\n\n    def compare_sectors(\n        self,\n        sector: str,\n        period: str = \"1y\"\n    ) -&gt; Dict[str, Any]:\n        \"\"\"Compare sector performance across markets\"\"\"\n\n    def compare_stocks(\n        self,\n        us_symbol: str,\n        indian_symbol: str,\n        period: str = \"1y\",\n        currency: str = \"USD\"\n    ) -&gt; Dict[str, Any]:\n        \"\"\"Compare similar companies across markets\"\"\"\n\n    def calculate_correlation(\n        self,\n        symbols: List[str],\n        period: str = \"1y\"\n    ) -&gt; pd.DataFrame:\n        \"\"\"Calculate correlation matrix for cross-market stocks\"\"\"\n</code></pre>"},{"location":"PHASE4_IMPLEMENTATION/#4-currency-conversion","title":"4. Currency Conversion","text":"<p>File: <code>maverick_mcp/utils/currency_converter.py</code></p>"},{"location":"PHASE4_IMPLEMENTATION/#data-sources_1","title":"Data Sources","text":"<ol> <li> <p>Primary: Exchange Rate API</p> </li> <li> <p>API: https://exchangerate-api.com/</p> </li> <li>Real-time rates</li> <li> <p>Historical data</p> </li> <li> <p>Fallback: Reserve Bank of India</p> </li> <li> <p>Official RBI reference rates</p> </li> <li> <p>Daily updates</p> </li> <li> <p>Alternative: Currency Layer API</p> </li> </ol>"},{"location":"PHASE4_IMPLEMENTATION/#implementation_3","title":"Implementation","text":"<pre><code>class CurrencyConverter:\n    \"\"\"INR/USD currency conversion with caching\"\"\"\n\n    def __init__(self):\n        self.api_key = settings.EXCHANGE_RATE_API_KEY\n        self.cache_ttl = 3600  # 1 hour\n        self.fallback_providers = [\n            RBICurrencyProvider(),\n            YahooCurrencyProvider()\n        ]\n\n    def get_exchange_rate(\n        self,\n        from_currency: str = \"INR\",\n        to_currency: str = \"USD\"\n    ) -&gt; float:\n        \"\"\"Get current exchange rate\"\"\"\n\n    def convert(\n        self,\n        amount: float,\n        from_currency: str,\n        to_currency: str\n    ) -&gt; float:\n        \"\"\"Convert amount between currencies\"\"\"\n\n    def get_historical_rates(\n        self,\n        from_currency: str,\n        to_currency: str,\n        start_date: date,\n        end_date: date\n    ) -&gt; pd.DataFrame:\n        \"\"\"Get historical exchange rates\"\"\"\n\n    def convert_timeseries(\n        self,\n        amounts: pd.Series,\n        from_currency: str,\n        to_currency: str,\n        dates: pd.DatetimeIndex\n    ) -&gt; pd.Series:\n        \"\"\"Convert time series data with appropriate historical rates\"\"\"\n</code></pre>"},{"location":"PHASE4_IMPLEMENTATION/#currency-adjusted-analysis","title":"Currency-Adjusted Analysis","text":"<pre><code>def adjust_for_currency(\n    df: pd.DataFrame,\n    from_currency: str,\n    to_currency: str\n) -&gt; pd.DataFrame:\n    \"\"\"Adjust OHLCV data for currency conversion\"\"\"\n\ndef compare_returns_currency_adjusted(\n    us_stock: str,\n    indian_stock: str,\n    period: str,\n    base_currency: str = \"USD\"\n) -&gt; Dict[str, Any]:\n    \"\"\"Compare stock returns in common currency\"\"\"\n</code></pre>"},{"location":"PHASE4_IMPLEMENTATION/#5-mcp-tools","title":"5. MCP Tools","text":"<p>Add to <code>maverick_mcp/api/server.py</code>:</p> <pre><code>@mcp.tool()\nasync def get_indian_economic_indicators() -&gt; dict[str, Any]:\n    \"\"\"Get current Indian economic indicators (RBI data)\"\"\"\n\n@mcp.tool()\nasync def get_indian_stock_news(\n    symbol: str,\n    limit: int = 10\n) -&gt; dict[str, Any]:\n    \"\"\"Get news and sentiment for Indian stock\"\"\"\n\n@mcp.tool()\nasync def compare_us_indian_markets(\n    period: str = \"1y\"\n) -&gt; dict[str, Any]:\n    \"\"\"Compare US and Indian market performance\"\"\"\n\n@mcp.tool()\nasync def convert_currency(\n    amount: float,\n    from_currency: str = \"INR\",\n    to_currency: str = \"USD\"\n) -&gt; dict[str, Any]:\n    \"\"\"Convert between INR and USD\"\"\"\n\n@mcp.tool()\nasync def compare_similar_companies(\n    us_symbol: str,\n    indian_symbol: str,\n    currency: str = \"USD\"\n) -&gt; dict[str, Any]:\n    \"\"\"Compare similar companies across markets\"\"\"\n</code></pre>"},{"location":"PHASE4_IMPLEMENTATION/#testing-strategy","title":"Testing Strategy","text":""},{"location":"PHASE4_IMPLEMENTATION/#unit-tests","title":"Unit Tests","text":"<p>File: <code>tests/test_rbi_data.py</code></p> <ul> <li>Test RBI data fetching</li> <li>Test data parsing and validation</li> <li>Test caching behavior</li> <li>Test error handling</li> </ul> <p>File: <code>tests/test_indian_news.py</code></p> <ul> <li>Test news scraping from each source</li> <li>Test sentiment analysis</li> <li>Test deduplication</li> <li>Test rate limiting</li> </ul> <p>File: <code>tests/test_market_comparison.py</code></p> <ul> <li>Test correlation calculations</li> <li>Test performance metrics</li> <li>Test currency-adjusted comparisons</li> <li>Test data alignment</li> </ul> <p>File: <code>tests/test_currency_conversion.py</code></p> <ul> <li>Test real-time conversion</li> <li>Test historical rate fetching</li> <li>Test fallback providers</li> <li>Test cache invalidation</li> <li>Test time series conversion</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/#integration-tests","title":"Integration Tests","text":"<p>File: <code>tests/integration/test_phase4_integration.py</code></p> <ul> <li>End-to-end MCP tool testing</li> <li>Cross-provider data consistency</li> <li>Performance benchmarks</li> <li>Error recovery scenarios</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/#test-coverage-goals","title":"Test Coverage Goals","text":"<ul> <li>Unit test coverage: &gt; 85%</li> <li>Integration test coverage: &gt; 70%</li> <li>All critical paths tested</li> <li>Edge cases and error conditions covered</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/#performance-considerations","title":"Performance Considerations","text":""},{"location":"PHASE4_IMPLEMENTATION/#caching-strategy","title":"Caching Strategy","text":"<ol> <li>RBI Data: Cache for 1 hour (updates infrequent)</li> <li>News Articles: Cache for 15 minutes</li> <li>Currency Rates: Cache for 1 hour</li> <li>Market Data: Use existing stock data cache</li> </ol>"},{"location":"PHASE4_IMPLEMENTATION/#rate-limiting","title":"Rate Limiting","text":"<ol> <li>News Scraping: Respect robots.txt, implement delays</li> <li>API Calls: Track quota usage, implement backoff</li> <li>Concurrent Requests: Limit parallel requests per source</li> </ol>"},{"location":"PHASE4_IMPLEMENTATION/#data-storage","title":"Data Storage","text":"<ul> <li>Store historical economic indicators in database</li> <li>Cache frequent currency conversions</li> <li>Maintain news article deduplication index</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/#configuration","title":"Configuration","text":""},{"location":"PHASE4_IMPLEMENTATION/#environment-variables","title":"Environment Variables","text":"<pre><code># RBI Data (if API key required)\nRBI_API_KEY=your_rbi_api_key\n\n# Currency Exchange API\nEXCHANGE_RATE_API_KEY=your_exchange_rate_api_key\n\n# News APIs (if using official APIs)\nMONEYCONTROL_API_KEY=your_moneycontrol_api_key\nECONOMIC_TIMES_API_KEY=your_et_api_key\n\n# Optional: Trading Economics\nTRADING_ECONOMICS_API_KEY=your_te_api_key\n</code></pre>"},{"location":"PHASE4_IMPLEMENTATION/#configuration-file","title":"Configuration File","text":"<pre><code># maverick_mcp/config/indian_data_sources.py\n\nINDIAN_NEWS_SOURCES = {\n    \"moneycontrol\": {\n        \"base_url\": \"https://www.moneycontrol.com/\",\n        \"rate_limit\": 10,  # requests per second\n        \"timeout\": 30\n    },\n    \"economic_times\": {\n        \"base_url\": \"https://economictimes.indiatimes.com/\",\n        \"rate_limit\": 5,\n        \"timeout\": 30\n    },\n    # ... more sources\n}\n\nRBI_DATA_CONFIG = {\n    \"cache_ttl\": 3600,\n    \"fallback_providers\": [\"worldbank\", \"tradingeconomics\"],\n    \"update_frequency\": {\n        \"policy_rates\": \"daily\",\n        \"inflation\": \"monthly\",\n        \"gdp\": \"quarterly\"\n    }\n}\n</code></pre>"},{"location":"PHASE4_IMPLEMENTATION/#dependencies","title":"Dependencies","text":""},{"location":"PHASE4_IMPLEMENTATION/#new-requirements","title":"New Requirements","text":"<pre><code># Currency conversion\nrequests&gt;=2.31.0\npython-forex&gt;=1.8\n\n# Web scraping (for news)\nbeautifulsoup4&gt;=4.12.0\nlxml&gt;=4.9.0\nnewspaper3k&gt;=0.2.8  # For article extraction\n\n# Sentiment analysis (existing)\ntextblob&gt;=0.17.1\nvaderSentiment&gt;=3.3.2\n\n# Economic data\npandas-datareader&gt;=0.10.0  # For World Bank, FRED\n</code></pre>"},{"location":"PHASE4_IMPLEMENTATION/#installation","title":"Installation","text":"<pre><code># Install new dependencies\npip install python-forex beautifulsoup4 lxml newspaper3k pandas-datareader\n\n# Or with uv\nuv add python-forex beautifulsoup4 lxml newspaper3k pandas-datareader\n</code></pre>"},{"location":"PHASE4_IMPLEMENTATION/#implementation-checklist","title":"Implementation Checklist","text":""},{"location":"PHASE4_IMPLEMENTATION/#week-1-rbi-data-integration","title":"Week 1: RBI Data Integration","text":"<ul> <li> Create <code>rbi_data.py</code> provider</li> <li> Implement policy rates fetching</li> <li> Implement inflation data</li> <li> Implement GDP and economic indicators</li> <li> Add caching layer</li> <li> Create unit tests</li> <li> Add MCP tool</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/#week-2-news-integration","title":"Week 2: News Integration","text":"<ul> <li> Create <code>indian_news.py</code> provider</li> <li> Implement MoneyControl scraper</li> <li> Implement Economic Times scraper</li> <li> Add sentiment analysis</li> <li> Implement rate limiting</li> <li> Create unit tests</li> <li> Add MCP tool</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/#week-3-market-comparison","title":"Week 3: Market Comparison","text":"<ul> <li> Create <code>market_comparison.py</code> analyzer</li> <li> Implement index comparison</li> <li> Implement sector comparison</li> <li> Implement stock comparison</li> <li> Add correlation analysis</li> <li> Create unit tests</li> <li> Add MCP tool</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/#week-4-currency-conversion","title":"Week 4: Currency Conversion","text":"<ul> <li> Create <code>currency_converter.py</code> utility</li> <li> Implement real-time conversion</li> <li> Implement historical rates</li> <li> Add time series conversion</li> <li> Create unit tests</li> <li> Integrate with comparison tools</li> <li> Add MCP tool</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/#week-5-integration-testing","title":"Week 5: Integration &amp; Testing","text":"<ul> <li> End-to-end integration tests</li> <li> Performance benchmarking</li> <li> Error handling verification</li> <li> Documentation updates</li> <li> Code review and refinement</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/#success-criteria","title":"Success Criteria","text":""},{"location":"PHASE4_IMPLEMENTATION/#functional-requirements","title":"Functional Requirements","text":"<ol> <li> <p>RBI Data</p> </li> <li> <p>Successfully fetch policy rates</p> </li> <li>Retrieve inflation and GDP data</li> <li>Cache working correctly</li> <li> <p>Fallback providers operational</p> </li> <li> <p>News Integration</p> </li> <li> <p>Scrape from multiple sources</p> </li> <li>Sentiment analysis produces scores</li> <li>Deduplication working</li> <li> <p>Rate limiting respected</p> </li> <li> <p>Market Comparison</p> </li> <li> <p>Index correlation calculations accurate</p> </li> <li>Sector comparisons meaningful</li> <li>Currency adjustments correct</li> <li> <p>Performance metrics comprehensive</p> </li> <li> <p>Currency Conversion</p> </li> <li>Real-time rates within 1% of actual</li> <li>Historical rates available for 5+ years</li> <li>Time series conversion accurate</li> <li>Fallback providers working</li> </ol>"},{"location":"PHASE4_IMPLEMENTATION/#performance-requirements","title":"Performance Requirements","text":"<ul> <li>RBI data fetch: &lt; 2 seconds</li> <li>News scraping: &lt; 5 seconds for 10 articles</li> <li>Market comparison: &lt; 3 seconds</li> <li>Currency conversion: &lt; 500ms</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/#quality-requirements","title":"Quality Requirements","text":"<ul> <li>Test coverage &gt; 80%</li> <li>Zero linting errors</li> <li>Complete API documentation</li> <li>Usage examples for all features</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/#future-enhancements","title":"Future Enhancements","text":"<ol> <li>Real-time News Feeds: WebSocket integration for live news</li> <li>Advanced Sentiment: NLP models trained on Indian financial text</li> <li>Predictive Analytics: Correlation-based predictions</li> <li>Automated Alerts: Notifications for key economic indicators</li> <li>Historical Analysis: Long-term trend analysis</li> <li>Custom Dashboards: Visualization of comparative data</li> </ol>"},{"location":"PHASE4_IMPLEMENTATION/#references","title":"References","text":"<ul> <li>Reserve Bank of India</li> <li>MoneyControl</li> <li>Economic Times</li> <li>Exchange Rate API</li> <li>World Bank Data API</li> <li>FRED Economic Data</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/#current-implementation-status","title":"Current Implementation Status","text":""},{"location":"PHASE4_IMPLEMENTATION/#working-prototypes-with-placeholder-data","title":"\u26a0\ufe0f Working Prototypes with Placeholder Data","text":"<p>Phase 4 features are currently implemented as working prototypes using approximate/placeholder data:</p> Component Status Data Source Production Ready? RBI Data Provider \u2705 Working Approximate values + World Bank API \u26a0\ufe0f Placeholder Indian News Provider \u2705 Working Simulated articles \u26a0\ufe0f Placeholder Market Comparison \u2705 Working Basic correlation calculations \u2705 Yes Currency Converter \u2705 Working Fixed rate (~83 INR/USD) \u26a0\ufe0f Placeholder"},{"location":"PHASE4_IMPLEMENTATION/#enhancement-opportunities","title":"\ud83d\ude80 Enhancement Opportunities","text":"<p>The following features are NOT YET IMPLEMENTED and represent opportunities for future development:</p>"},{"location":"PHASE4_IMPLEMENTATION/#high-priority-recommended-next","title":"High Priority (Recommended Next)","text":"<ol> <li> <p>Real-Time Exchange Rates (1-2 days effort)</p> </li> <li> <p>Integrate Exchange Rate API or Yahoo Finance</p> </li> <li>Store historical rates in database</li> <li> <p>Automatic hourly updates</p> </li> <li> <p>News API Integration (3-4 days effort)</p> </li> <li> <p>MoneyControl RSS/API</p> </li> <li>Economic Times web scraping</li> <li>NewsAPI integration</li> <li> <p>Rate limiting and retry logic</p> </li> <li> <p>RBI Data Scraping (2-3 days effort)</p> </li> <li>Scrape RBI website for live policy rates</li> <li>Parse MPC decisions</li> <li>Track historical changes</li> </ol>"},{"location":"PHASE4_IMPLEMENTATION/#medium-priority-advanced-features","title":"Medium Priority (Advanced Features)","text":"<ol> <li> <p>Advanced NLP Sentiment (1-2 weeks effort)</p> </li> <li> <p>FinBERT model integration</p> </li> <li>Named Entity Recognition</li> <li>Aspect-based sentiment</li> <li> <p>Training on Indian financial corpus</p> </li> <li> <p>Advanced Correlations (3-5 days effort)</p> </li> <li>Rolling correlations</li> <li>Granger causality tests</li> <li>Cointegration analysis</li> <li>Regime detection</li> </ol>"},{"location":"PHASE4_IMPLEMENTATION/#lower-priority-infrastructure","title":"Lower Priority (Infrastructure)","text":"<ol> <li> <p>Database Storage (2-3 days effort)</p> </li> <li> <p>Historical news storage</p> </li> <li>Exchange rate history</li> <li> <p>Economic indicator tracking</p> </li> <li> <p>Background Workers (3-4 days effort)</p> </li> <li> <p>Celery task queue</p> </li> <li>Scheduled updates</li> <li> <p>Cache warming</p> </li> <li> <p>WebSocket Streaming (1-2 weeks effort)</p> </li> <li>Real-time data feeds</li> <li>Live price updates</li> <li>Alert system</li> </ol>"},{"location":"PHASE4_IMPLEMENTATION/#implementation-guide","title":"Implementation Guide","text":"<p>For detailed implementation guidance, see:</p> <ul> <li>Complete Enhancement List: <code>docs/INDIAN_MARKET.md</code> \u2192 Future Enhancements</li> <li>API Keys Required: See enhancement section for required services</li> <li>Complexity Ratings: Each feature includes complexity and effort estimates</li> </ul>"},{"location":"PHASE4_IMPLEMENTATION/#related-documentation","title":"Related Documentation","text":"<ul> <li>Phase 1: Multi-Market Infrastructure</li> <li>Phase 2: Indian Market Data Integration</li> <li>Phase 3: Indian Market Screening</li> <li>Complete User Guide with Future Enhancements</li> </ul>"},{"location":"PHASE6_IMPLEMENTATION/","title":"Phase 6: Real-Time Exchange Rates Implementation","text":"<p>Status: \u2705 Completed Date: October 2025 Duration: 1-2 days</p>"},{"location":"PHASE6_IMPLEMENTATION/#overview","title":"Overview","text":"<p>Phase 6 implements real-time exchange rate functionality with multiple data sources, database persistence, and integration with the existing currency conversion system. This enhancement replaces fixed exchange rates with live data from reliable providers.</p>"},{"location":"PHASE6_IMPLEMENTATION/#goals-achieved","title":"Goals Achieved","text":"<ul> <li>\u2705 Real-time exchange rate fetching from multiple sources</li> <li>\u2705 Enhanced currency converter with live rates</li> <li>\u2705 Database model for historical rate tracking</li> <li>\u2705 Updated MCP tool for Claude Desktop integration</li> <li>\u2705 Comprehensive testing and documentation</li> </ul>"},{"location":"PHASE6_IMPLEMENTATION/#architecture","title":"Architecture","text":""},{"location":"PHASE6_IMPLEMENTATION/#components","title":"Components","text":"<ol> <li>Exchange Rate Provider (<code>maverick_mcp/providers/exchange_rate.py</code>)</li> <li>Primary and fallback data sources</li> <li>Caching with TTL</li> <li> <p>Support for 14+ currencies</p> </li> <li> <p>Enhanced Currency Converter (<code>maverick_mcp/utils/currency_converter.py</code>)</p> </li> <li>Backward-compatible API</li> <li>Optional live rate integration</li> <li> <p>Rate information tracking</p> </li> <li> <p>Database Model (<code>maverick_mcp/data/models.py</code>)</p> </li> <li>ExchangeRate model for historical storage</li> <li> <p>Query methods for rates and history</p> </li> <li> <p>API Integration (<code>maverick_mcp/api/server.py</code>)</p> </li> <li>Updated <code>convert_currency</code> MCP tool</li> <li>Live rates by default</li> </ol>"},{"location":"PHASE6_IMPLEMENTATION/#implementation-details","title":"Implementation Details","text":""},{"location":"PHASE6_IMPLEMENTATION/#phase-61-exchange-rate-provider","title":"Phase 6.1: Exchange Rate Provider","text":"<p>Created: <code>maverick_mcp/providers/exchange_rate.py</code></p> <p>Features: - Multiple data sources with automatic fallback - Exchange Rate API (primary, requires API key) - Yahoo Finance (fallback, no API key needed) - Approximate rates (last resort) - TTL-based caching (1 hour) - Support for 14 major currencies</p> <p>Key Methods: <pre><code>provider = ExchangeRateProvider(api_key=\"optional\")\nrate_info = provider.get_rate(\"USD\", \"INR\")\n# Returns: {\"rate\": 87.95, \"source\": \"yahoo_finance\", \"timestamp\": \"...\"}\n\ncurrencies = provider.get_supported_currencies()\n# Returns: [\"USD\", \"INR\", \"EUR\", \"GBP\", ...]\n</code></pre></p> <p>Data Sources: 1. Exchange Rate API (Primary)    - Requires API key: <code>EXCHANGE_RATE_API_KEY</code>    - Free tier: 1,500 requests/month    - Real-time rates updated daily</p> <ol> <li>Yahoo Finance (Fallback)</li> <li>No API key required</li> <li>Uses <code>yfinance</code> library</li> <li> <p>Rates from forex pairs (e.g., <code>USDINR=X</code>)</p> </li> <li> <p>Approximate Rates (Last Resort)</p> </li> <li>Fixed rates for common pairs</li> <li>Used when APIs fail</li> </ol>"},{"location":"PHASE6_IMPLEMENTATION/#phase-62-enhanced-currency-converter","title":"Phase 6.2: Enhanced Currency Converter","text":"<p>Modified: <code>maverick_mcp/utils/currency_converter.py</code></p> <p>New Features: - Optional live rate integration via <code>use_live_rates</code> parameter - Rate information tracking (source, timestamp) - Backward compatibility maintained</p> <p>Key Changes: <pre><code># New: Live rates (default)\nconverter = CurrencyConverter(use_live_rates=True)\namount = converter.convert(100, \"USD\", \"INR\")  # Uses real-time rate\n\n# Old: Approximate rates (still works)\nconverter = CurrencyConverter(use_live_rates=False)\namount = converter.convert(100, \"USD\", \"INR\")  # Uses ~83 INR/USD\n\n# Get rate information\ninfo = converter.get_rate_info(\"USD\", \"INR\")\n# Returns: {\"rate\": 87.95, \"source\": \"yahoo_finance\", \"timestamp\": \"...\"}\n</code></pre></p> <p>Backward Compatibility: - Existing code without <code>use_live_rates</code> parameter works unchanged - Default behavior now uses live rates - Fallback to approximate rates if live data unavailable</p>"},{"location":"PHASE6_IMPLEMENTATION/#phase-63-database-persistence","title":"Phase 6.3: Database Persistence","text":"<p>Created: <code>alembic/versions/015_add_exchange_rate_model.py</code> Modified: <code>maverick_mcp/data/models.py</code></p> <p>ExchangeRate Model: <pre><code>class ExchangeRate(Base, TimestampMixin):\n    rate_id = Column(Uuid, primary_key=True)\n    from_currency = Column(String(3), nullable=False)\n    to_currency = Column(String(3), nullable=False)\n    rate = Column(Numeric(15, 6), nullable=False)\n    rate_date = Column(Date, nullable=False)\n    source = Column(String(50))\n    provider_timestamp = Column(DateTime(timezone=True))\n</code></pre></p> <p>Key Methods: <pre><code># Store a rate\nExchangeRate.store_rate(session, \"USD\", \"INR\", 87.95, source=\"yahoo_finance\")\n\n# Get latest rate\nlatest = ExchangeRate.get_latest_rate(session, \"USD\", \"INR\")\n\n# Get historical rates as DataFrame\ndf = ExchangeRate.get_historical_rates(session, \"USD\", \"INR\", start_date, end_date)\n</code></pre></p> <p>Indexes: - Composite index on <code>(from_currency, to_currency, rate_date)</code> - Individual indexes on <code>from_currency</code>, <code>to_currency</code>, <code>rate_date</code>, <code>source</code></p>"},{"location":"PHASE6_IMPLEMENTATION/#phase-64-mcp-tool-integration","title":"Phase 6.4: MCP Tool Integration","text":"<p>Modified: <code>maverick_mcp/api/server.py</code></p> <p>Updated <code>convert_currency</code> Tool: <pre><code>@mcp.tool()\nasync def convert_currency(\n    amount: float,\n    from_currency: str = \"INR\",\n    to_currency: str = \"USD\",\n    use_live_rates: bool = True\n) -&gt; dict[str, Any]:\n    \"\"\"\n    Convert amount between currencies with real-time or approximate rates.\n\n    Now uses real-time exchange rates from multiple sources.\n    \"\"\"\n</code></pre></p> <p>New Response Fields: - <code>rate_source</code>: Data provider used (e.g., \"yahoo_finance\") - <code>rate_timestamp</code>: When the rate was fetched - <code>note</code>: Information about rate type</p> <p>Example Usage in Claude Desktop: <pre><code>User: Convert $100 USD to INR\nClaude: {\n  \"original_amount\": 100,\n  \"from_currency\": \"USD\",\n  \"to_currency\": \"INR\",\n  \"converted_amount\": 8795.40,\n  \"exchange_rate\": 87.954,\n  \"calculation\": \"100 USD \u00d7 87.954 = 8795.40 INR\",\n  \"rate_source\": \"yahoo_finance\",\n  \"rate_timestamp\": \"2025-10-19T10:48:50\",\n  \"status\": \"success\",\n  \"note\": \"Using real-time rate from yahoo_finance\"\n}\n</code></pre></p>"},{"location":"PHASE6_IMPLEMENTATION/#testing","title":"Testing","text":""},{"location":"PHASE6_IMPLEMENTATION/#unit-tests","title":"Unit Tests","text":"<p>Created: - <code>tests/test_exchange_rate_provider.py</code> - Exchange rate provider tests - <code>tests/test_currency_converter_updated.py</code> - Enhanced converter tests</p> <p>Test Coverage: - \u2705 Exchange rate fetching from multiple sources - \u2705 Fallback mechanism - \u2705 Caching behavior - \u2705 Currency conversion with live rates - \u2705 Backward compatibility - \u2705 Database model operations - \u2705 Historical rate queries</p>"},{"location":"PHASE6_IMPLEMENTATION/#integration-tests","title":"Integration Tests","text":"<p>All tests passed successfully: <pre><code>\u2705 Exchange Rate Provider works with fallback sources\n\u2705 Real-time rate: 1 USD = 87.95 INR (from Yahoo Finance)\n\u2705 Caching works correctly\n\u2705 Currency Converter enhanced with real-time rates\n\u2705 Backward compatibility maintained\n\u2705 Database model creates and queries rates correctly\n</code></pre></p>"},{"location":"PHASE6_IMPLEMENTATION/#configuration","title":"Configuration","text":""},{"location":"PHASE6_IMPLEMENTATION/#environment-variables","title":"Environment Variables","text":"<p>Optional: <pre><code># Primary data source (optional, falls back to Yahoo Finance)\nEXCHANGE_RATE_API_KEY=your_api_key_here\n</code></pre></p>"},{"location":"PHASE6_IMPLEMENTATION/#api-keys","title":"API Keys","text":"<ol> <li>Exchange Rate API (Optional but recommended)</li> <li>URL: https://exchangerate-api.com/</li> <li>Free tier: 1,500 requests/month</li> <li>Sign up: Get API key from website</li> <li> <p>Set in <code>.env</code>: <code>EXCHANGE_RATE_API_KEY=your_key</code></p> </li> <li> <p>Yahoo Finance (No key needed)</p> </li> <li>Automatic fallback</li> <li>No configuration required</li> <li>Uses <code>yfinance</code> library</li> </ol>"},{"location":"PHASE6_IMPLEMENTATION/#usage-examples","title":"Usage Examples","text":""},{"location":"PHASE6_IMPLEMENTATION/#python-api","title":"Python API","text":"<pre><code>from maverick_mcp.providers.exchange_rate import ExchangeRateProvider\nfrom maverick_mcp.utils.currency_converter import CurrencyConverter\n\n# 1. Direct provider usage\nprovider = ExchangeRateProvider()\nrate_info = provider.get_rate(\"USD\", \"INR\")\nprint(f\"Rate: {rate_info['rate']}, Source: {rate_info['source']}\")\n\n# 2. Currency converter with live rates\nconverter = CurrencyConverter(use_live_rates=True)\ninr_amount = converter.convert(100, \"USD\", \"INR\")\nprint(f\"$100 USD = \u20b9{inr_amount:.2f} INR\")\n\n# 3. Get rate information\ninfo = converter.get_rate_info(\"USD\", \"INR\")\nprint(f\"Source: {info['source']}, Updated: {info['timestamp']}\")\n\n# 4. Database storage (if needed)\nfrom maverick_mcp.data.models import ExchangeRate, SessionLocal\n\nsession = SessionLocal()\nExchangeRate.store_rate(session, \"USD\", \"INR\", 87.95, source=\"yahoo_finance\")\nlatest = ExchangeRate.get_latest_rate(session, \"USD\", \"INR\")\nprint(f\"Latest rate from DB: {latest.rate}\")\n</code></pre>"},{"location":"PHASE6_IMPLEMENTATION/#mcp-tool-claude-desktop","title":"MCP Tool (Claude Desktop)","text":"<pre><code># Claude Desktop automatically uses live rates\nUser: \"Convert 10000 INR to USD\"\nClaude: \"\u20b910,000 INR = $113.70 USD using real-time rate from yahoo_finance\"\n\nUser: \"What's the current USD to INR exchange rate?\"\nClaude: \"1 USD = 87.95 INR (as of 2025-10-19, source: yahoo_finance)\"\n\nUser: \"Convert $500 to EUR using approximate rates\"\n# Uses use_live_rates=False parameter\n</code></pre>"},{"location":"PHASE6_IMPLEMENTATION/#migration-guide","title":"Migration Guide","text":""},{"location":"PHASE6_IMPLEMENTATION/#for-existing-code","title":"For Existing Code","text":"<p>No changes required! The update is backward-compatible.</p> <p>Before (still works): <pre><code>converter = CurrencyConverter()\namount = converter.convert(100, \"USD\", \"INR\")\n</code></pre></p> <p>After (recommended): <pre><code># Now automatically uses live rates\nconverter = CurrencyConverter()  # use_live_rates=True by default\namount = converter.convert(100, \"USD\", \"INR\")\n\n# Or explicit control\nconverter = CurrencyConverter(use_live_rates=True)\namount = converter.convert(100, \"USD\", \"INR\")\n</code></pre></p>"},{"location":"PHASE6_IMPLEMENTATION/#for-database","title":"For Database","text":"<p>Run migration: <pre><code>alembic upgrade head\n</code></pre></p> <p>This creates the <code>mcp_exchange_rates</code> table with necessary indexes.</p>"},{"location":"PHASE6_IMPLEMENTATION/#performance","title":"Performance","text":""},{"location":"PHASE6_IMPLEMENTATION/#caching","title":"Caching","text":"<ul> <li>Exchange rates cached for 1 hour</li> <li>Reduces API calls</li> <li>Automatic cache refresh</li> </ul>"},{"location":"PHASE6_IMPLEMENTATION/#api-response-times","title":"API Response Times","text":"Source Average Time Exchange Rate API ~200ms Yahoo Finance ~300ms Approximate (cache) &lt;1ms"},{"location":"PHASE6_IMPLEMENTATION/#database-queries","title":"Database Queries","text":"<ul> <li>Latest rate: Single indexed query (~1ms)</li> <li>Historical rates: Range query with index (~10ms for 1 year)</li> </ul>"},{"location":"PHASE6_IMPLEMENTATION/#future-enhancements","title":"Future Enhancements","text":""},{"location":"PHASE6_IMPLEMENTATION/#planned-improvements","title":"Planned Improvements","text":"<ol> <li>Scheduled Updates</li> <li>Background worker to update rates every hour</li> <li> <p>Pre-cache popular currency pairs</p> </li> <li> <p>Additional Data Sources</p> </li> <li>RBI official reference rates</li> <li>European Central Bank rates</li> <li> <p>Fed rates</p> </li> <li> <p>Advanced Analytics</p> </li> <li>Rate trend analysis</li> <li>Volatility metrics</li> <li> <p>Historical comparisons</p> </li> <li> <p>UI Integration</p> </li> <li>Rate charts in examples</li> <li>Historical rate visualization</li> <li>Alert on significant rate changes</li> </ol>"},{"location":"PHASE6_IMPLEMENTATION/#files-modifiedcreated","title":"Files Modified/Created","text":""},{"location":"PHASE6_IMPLEMENTATION/#phase-61-exchange-rate-provider_1","title":"Phase 6.1: Exchange Rate Provider","text":"<ul> <li>\u2705 Created: <code>maverick_mcp/providers/exchange_rate.py</code> (361 lines)</li> <li>\u2705 Created: <code>tests/test_exchange_rate_provider.py</code> (213 lines)</li> <li>\u2705 Modified: <code>docs/PHASE4_IMPLEMENTATION.md</code> (updated status)</li> </ul>"},{"location":"PHASE6_IMPLEMENTATION/#phase-62-currency-converter","title":"Phase 6.2: Currency Converter","text":"<ul> <li>\u2705 Modified: <code>maverick_mcp/utils/currency_converter.py</code> (133 lines updated)</li> <li>\u2705 Created: <code>tests/test_currency_converter_updated.py</code> (282 lines)</li> </ul>"},{"location":"PHASE6_IMPLEMENTATION/#phase-63-database-persistence_1","title":"Phase 6.3: Database Persistence","text":"<ul> <li>\u2705 Modified: <code>maverick_mcp/data/models.py</code> (added ExchangeRate model, 184 lines)</li> <li>\u2705 Created: <code>alembic/versions/015_add_exchange_rate_model.py</code> (58 lines)</li> </ul>"},{"location":"PHASE6_IMPLEMENTATION/#phase-64-integration-documentation","title":"Phase 6.4: Integration &amp; Documentation","text":"<ul> <li>\u2705 Modified: <code>maverick_mcp/api/server.py</code> (updated convert_currency tool)</li> <li>\u2705 Modified: <code>docs/INDIAN_MARKET.md</code> (updated Future Enhancements)</li> <li>\u2705 Created: <code>docs/PHASE6_IMPLEMENTATION.md</code> (this file)</li> </ul> <p>Total Lines Added/Modified: ~1,231 lines</p>"},{"location":"PHASE6_IMPLEMENTATION/#troubleshooting","title":"Troubleshooting","text":""},{"location":"PHASE6_IMPLEMENTATION/#issue-exchange-rate-api-fails","title":"Issue: Exchange Rate API fails","text":"<p>Solution: System automatically falls back to Yahoo Finance. No action needed.</p>"},{"location":"PHASE6_IMPLEMENTATION/#issue-yahoo-finance-also-fails","title":"Issue: Yahoo Finance also fails","text":"<p>Solution: System uses approximate rates as last resort. Check network connectivity.</p>"},{"location":"PHASE6_IMPLEMENTATION/#issue-stale-rates","title":"Issue: Stale rates","text":"<p>Solution: Clear cache by restarting the application or wait for 1-hour TTL to expire.</p>"},{"location":"PHASE6_IMPLEMENTATION/#issue-database-migration-fails","title":"Issue: Database migration fails","text":"<p>Solution: <pre><code># Check current revision\nalembic current\n\n# If needed, downgrade and re-upgrade\nalembic downgrade -1\nalembic upgrade head\n</code></pre></p>"},{"location":"PHASE6_IMPLEMENTATION/#api-reference","title":"API Reference","text":""},{"location":"PHASE6_IMPLEMENTATION/#exchangerateprovider","title":"ExchangeRateProvider","text":"<pre><code>class ExchangeRateProvider:\n    def __init__(self, api_key: Optional[str] = None, use_fallback: bool = True)\n    def get_rate(self, from_currency: str, to_currency: str) -&gt; Dict[str, Any]\n    def get_supported_currencies(self) -&gt; List[str]\n</code></pre>"},{"location":"PHASE6_IMPLEMENTATION/#currencyconverter-enhanced","title":"CurrencyConverter (Enhanced)","text":"<pre><code>class CurrencyConverter:\n    def __init__(self, use_live_rates: bool = True)\n    def convert(self, amount: float, from_currency: str, to_currency: str) -&gt; float\n    def get_exchange_rate(self, from_currency: str, to_currency: str) -&gt; float\n    def get_rate_info(self, from_currency: str, to_currency: str) -&gt; Dict[str, Any]\n</code></pre>"},{"location":"PHASE6_IMPLEMENTATION/#exchangerate-database-model","title":"ExchangeRate (Database Model)","text":"<pre><code>class ExchangeRate(Base, TimestampMixin):\n    @classmethod\n    def store_rate(cls, session, from_currency, to_currency, rate, ...) -&gt; ExchangeRate\n    @classmethod\n    def get_latest_rate(cls, session, from_currency, to_currency) -&gt; Optional[ExchangeRate]\n    @classmethod\n    def get_rate_on_date(cls, session, from_currency, to_currency, date) -&gt; Optional[ExchangeRate]\n    @classmethod\n    def get_historical_rates(cls, session, from_currency, to_currency, start, end) -&gt; pd.DataFrame\n</code></pre>"},{"location":"PHASE6_IMPLEMENTATION/#related-documentation","title":"Related Documentation","text":"<ul> <li>Phase 1-3: Multi-market infrastructure and Indian market integration</li> <li>Phase 4: Economic indicators and news (with approximate currency conversion)</li> <li>Phase 5: Polish and documentation</li> <li>Phase 6: Real-time exchange rates (this document)</li> <li>Future: Phase 7 (News APIs), Phase 8 (Advanced Analytics), Phase 9 (Infrastructure)</li> </ul>"},{"location":"PHASE6_IMPLEMENTATION/#acknowledgments","title":"Acknowledgments","text":"<ul> <li>Exchange Rate API: https://exchangerate-api.com/</li> <li>Yahoo Finance: https://finance.yahoo.com/</li> <li>yfinance library: https://github.com/ranaroussi/yfinance</li> </ul> <p>Phase 6 Status: \u2705 COMPLETED Next Phase: Phase 7 - Real-Time News Integration</p> <p>Last Updated: October 19, 2025 Implemented By: Phase 6 Development Team</p>"},{"location":"PORTFOLIO/","title":"Portfolio Management Guide","text":"<p>Complete guide to using MaverickMCP's portfolio personalization features for intelligent, context-aware stock analysis.</p>"},{"location":"PORTFOLIO/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Quick Start</li> <li>Portfolio Management</li> <li>Intelligent Analysis</li> <li>MCP Resource</li> <li>Best Practices</li> <li>Troubleshooting</li> <li>Technical Details</li> </ul>"},{"location":"PORTFOLIO/#overview","title":"Overview","text":"<p>MaverickMCP's portfolio features transform your AI financial assistant from stateless analysis to personalized, context-aware recommendations. The system:</p> <ul> <li>Tracks your holdings with automatic cost basis averaging</li> <li>Calculates live P&amp;L using real-time market data</li> <li>Enhances analysis tools to auto-detect your positions</li> <li>Provides AI context through MCP resources</li> </ul> <p>DISCLAIMER: All portfolio features are for educational purposes only. This is not investment advice. Always consult qualified financial professionals before making investment decisions.</p>"},{"location":"PORTFOLIO/#quick-start","title":"Quick Start","text":""},{"location":"PORTFOLIO/#1-add-your-first-position","title":"1. Add Your First Position","text":"<pre><code>Add 10 shares of Apple stock I bought at $150.50 on January 15, 2024\n</code></pre> <p>Behind the scenes, this uses: <pre><code>portfolio_add_position(\n    ticker=\"AAPL\",\n    shares=10,\n    purchase_price=150.50,\n    purchase_date=\"2024-01-15\"\n)\n</code></pre></p>"},{"location":"PORTFOLIO/#2-view-your-portfolio","title":"2. View Your Portfolio","text":"<pre><code>Show me my portfolio\n</code></pre> <p>Response includes: - All positions with current prices - Unrealized P&amp;L for each position - Total portfolio value and performance - Diversification metrics</p>"},{"location":"PORTFOLIO/#3-smart-analysis","title":"3. Smart Analysis","text":"<pre><code>Compare my portfolio holdings\n</code></pre> <p>Automatically compares all your positions without manual ticker entry!</p>"},{"location":"PORTFOLIO/#portfolio-management","title":"Portfolio Management","text":""},{"location":"PORTFOLIO/#adding-positions","title":"Adding Positions","text":"<p>Add a new position: <pre><code>Add 50 shares of Microsoft at $380.25\n</code></pre></p> <p>Add to existing position (automatic cost averaging): <pre><code>Add 25 more shares of Apple at $165.00\n</code></pre></p> <p>The system automatically: - Averages your cost basis - Updates total investment - Preserves earliest purchase date</p> <p>Example: - Initial: 10 shares @ $150 = $1,500 total cost, $150 avg cost - Add: 10 shares @ $170 = $1,700 total cost - Result: 20 shares, $160 avg cost, $3,200 total invested</p>"},{"location":"PORTFOLIO/#viewing-positions","title":"Viewing Positions","text":"<p>Get complete portfolio: <pre><code>Show my portfolio with current prices\n</code></pre></p> <p>Returns: <pre><code>{\n  \"portfolio_name\": \"My Portfolio\",\n  \"positions\": [\n    {\n      \"ticker\": \"AAPL\",\n      \"shares\": 20.0,\n      \"average_cost_basis\": 160.00,\n      \"current_price\": 175.50,\n      \"unrealized_pnl\": 310.00,\n      \"unrealized_pnl_pct\": 9.69\n    }\n  ],\n  \"total_value\": 3510.00,\n  \"total_invested\": 3200.00,\n  \"total_pnl\": 310.00,\n  \"total_pnl_pct\": 9.69\n}\n</code></pre></p>"},{"location":"PORTFOLIO/#removing-positions","title":"Removing Positions","text":"<p>Partial sale: <pre><code>Sell 10 shares of Apple\n</code></pre></p> <p>Maintains average cost basis on remaining shares.</p> <p>Full position exit: <pre><code>Remove all my Tesla shares\n</code></pre></p> <p>or simply: <pre><code>Remove TSLA\n</code></pre></p>"},{"location":"PORTFOLIO/#clearing-portfolio","title":"Clearing Portfolio","text":"<p>Remove all positions: <pre><code>Clear my entire portfolio\n</code></pre></p> <p>Requires confirmation for safety.</p>"},{"location":"PORTFOLIO/#intelligent-analysis","title":"Intelligent Analysis","text":""},{"location":"PORTFOLIO/#auto-compare-holdings","title":"Auto-Compare Holdings","text":"<p>Instead of: <pre><code>Compare AAPL, MSFT, GOOGL, TSLA\n</code></pre></p> <p>Simply use: <pre><code>Compare my holdings\n</code></pre></p> <p>The tool automatically: - Pulls all tickers from your portfolio - Analyzes relative performance - Ranks by metrics - Shows best/worst performers</p>"},{"location":"PORTFOLIO/#auto-correlation-analysis","title":"Auto-Correlation Analysis","text":"<pre><code>Analyze correlation in my portfolio\n</code></pre> <p>Automatically: - Calculates correlation matrix for all holdings - Identifies highly correlated pairs (diversification issues) - Finds negative correlations (natural hedges) - Provides diversification score</p> <p>Example output: <pre><code>{\n  \"average_portfolio_correlation\": 0.612,\n  \"diversification_score\": 38.8,\n  \"high_correlation_pairs\": [\n    {\n      \"pair\": [\"AAPL\", \"MSFT\"],\n      \"correlation\": 0.823,\n      \"interpretation\": \"High positive correlation\"\n    }\n  ],\n  \"recommendation\": \"Consider adding uncorrelated assets\"\n}\n</code></pre></p>"},{"location":"PORTFOLIO/#position-aware-risk-analysis","title":"Position-Aware Risk Analysis","text":"<pre><code>Analyze AAPL with risk analysis\n</code></pre> <p>If you own AAPL, automatically shows: - Your current position (shares, cost basis) - Unrealized P&amp;L - Position sizing recommendations - Averaging down/up suggestions</p> <p>Example with existing position: <pre><code>{\n  \"ticker\": \"AAPL\",\n  \"current_price\": 175.50,\n  \"existing_position\": {\n    \"shares_owned\": 20.0,\n    \"average_cost_basis\": 160.00,\n    \"total_invested\": 3200.00,\n    \"current_value\": 3510.00,\n    \"unrealized_pnl\": 310.00,\n    \"unrealized_pnl_pct\": 9.69,\n    \"position_recommendation\": \"Hold current position\"\n  }\n}\n</code></pre></p>"},{"location":"PORTFOLIO/#mcp-resource","title":"MCP Resource","text":""},{"location":"PORTFOLIO/#portfoliomy-holdings-resource","title":"portfolio://my-holdings Resource","text":"<p>The portfolio resource provides automatic context to AI agents during conversations.</p> <p>Accessed via: <pre><code>What's in my portfolio?\n</code></pre></p> <p>The AI automatically sees: - All current positions - Live prices and P&amp;L - Portfolio composition - Diversification status</p> <p>This enables natural conversations: <pre><code>Should I add more tech exposure?\n</code></pre></p> <p>The AI knows you already own AAPL, MSFT, GOOGL and can provide personalized advice.</p>"},{"location":"PORTFOLIO/#best-practices","title":"Best Practices","text":""},{"location":"PORTFOLIO/#cost-basis-tracking","title":"Cost Basis Tracking","text":"<ul> <li>Always specify purchase date for accurate records</li> <li>Add notes for important context (e.g., \"RSU vest\", \"DCA purchase #3\")</li> <li>Review regularly to ensure accuracy</li> </ul>"},{"location":"PORTFOLIO/#diversification","title":"Diversification","text":"<ul> <li>Use <code>portfolio_correlation_analysis()</code> monthly</li> <li>Watch for correlations above 0.7 (concentration risk)</li> <li>Consider uncorrelated assets when diversification score &lt; 50</li> </ul>"},{"location":"PORTFOLIO/#position-sizing","title":"Position Sizing","text":"<ul> <li>Use <code>risk_adjusted_analysis()</code> before adding to positions</li> <li>Follow position sizing recommendations</li> <li>Respect stop-loss suggestions</li> </ul>"},{"location":"PORTFOLIO/#maintenance","title":"Maintenance","text":"<ul> <li>Weekly: Review portfolio performance</li> <li>Monthly: Analyze correlations</li> <li>Quarterly: Rebalance based on analysis tools</li> </ul>"},{"location":"PORTFOLIO/#troubleshooting","title":"Troubleshooting","text":""},{"location":"PORTFOLIO/#no-portfolio-found","title":"\"No portfolio found\"","text":"<p>Problem: Trying to use auto-detection features without any positions.</p> <p>Solution: Add at least one position: <pre><code>Add 1 share of SPY at current price\n</code></pre></p>"},{"location":"PORTFOLIO/#insufficient-positions-for-comparison","title":"\"Insufficient positions for comparison\"","text":"<p>Problem: Need minimum 2 positions for comparison/correlation.</p> <p>Solution: Add another position or specify tickers manually: <pre><code>Compare AAPL, MSFT\n</code></pre></p>"},{"location":"PORTFOLIO/#invalid-ticker-symbol","title":"\"Invalid ticker symbol\"","text":"<p>Problem: Ticker doesn't exist or is incorrectly formatted.</p> <p>Solution: - Check ticker spelling - Verify symbol on financial websites - Use standard format (e.g., \"BRK.B\" not \"BRKB\")</p>"},{"location":"PORTFOLIO/#stale-price-data","title":"Stale Price Data","text":"<p>Problem: Portfolio shows old prices.</p> <p>Solution: Refresh by calling <code>get_my_portfolio(include_current_prices=True)</code></p>"},{"location":"PORTFOLIO/#position-not-found","title":"Position Not Found","text":"<p>Problem: Trying to remove shares from position you don't own.</p> <p>Solution: Check your portfolio first: <pre><code>Show my portfolio\n</code></pre></p>"},{"location":"PORTFOLIO/#technical-details","title":"Technical Details","text":""},{"location":"PORTFOLIO/#cost-basis-method","title":"Cost Basis Method","text":"<p>Average Cost Method: Simplest and most appropriate for educational use.</p> <p>Formula: <pre><code>New Avg Cost = (Existing Total Cost + New Purchase Cost) / Total Shares\n</code></pre></p> <p>Example: - Buy 10 @ $100 = $1,000 total, $100 avg - Buy 10 @ $120 = $1,200 additional - Result: 20 shares, \\(110 avg cost (\\)2,200 / 20)</p>"},{"location":"PORTFOLIO/#database-schema","title":"Database Schema","text":"<p>Tables: - <code>mcp_portfolios</code>: User portfolio metadata - <code>mcp_portfolio_positions</code>: Individual positions</p> <p>Precision: - Shares: Numeric(20,8) - supports fractional shares - Prices: Numeric(12,4) - 4 decimal precision - Total Cost: Numeric(20,4) - high precision for large positions</p>"},{"location":"PORTFOLIO/#supported-features","title":"Supported Features","text":"<p>\u2705 Fractional shares (0.001 minimum) \u2705 Multiple portfolios per user \u2705 Automatic cost averaging \u2705 Live P&amp;L calculations \u2705 Position notes/annotations \u2705 Timezone-aware timestamps \u2705 Cascade deletion (portfolio \u2192 positions)</p>"},{"location":"PORTFOLIO/#limitations","title":"Limitations","text":"<ul> <li>Single currency (USD)</li> <li>Stock equities only (no options, futures, crypto)</li> <li>Average cost method only (no FIFO/LIFO)</li> <li>No tax lot tracking</li> <li>No dividend tracking (planned for future)</li> <li>No transaction history (planned for future)</li> </ul>"},{"location":"PORTFOLIO/#data-sources","title":"Data Sources","text":"<ul> <li>Historical Prices: Tiingo API (free tier: 500 req/day)</li> <li>Live Prices: Same as historical (delayed 15 minutes on free tier)</li> <li>Company Info: Pre-seeded S&amp;P 500 database</li> </ul>"},{"location":"PORTFOLIO/#performance","title":"Performance","text":"<ul> <li>Database: SQLite default (PostgreSQL optional for better performance)</li> <li>Caching: In-memory by default (Redis optional)</li> <li>Price Fetching: Sequential (batch optimization in Phase 3)</li> <li>Query Optimization: selectin loading for relationships</li> </ul>"},{"location":"PORTFOLIO/#privacy-security","title":"Privacy &amp; Security","text":"<ul> <li>Local-first: All data stored locally in your database</li> <li>No cloud sync: Portfolio data never leaves your machine</li> <li>No authentication: Personal use only (no multi-user)</li> <li>No external sharing: Data accessible only to you</li> </ul>"},{"location":"PORTFOLIO/#migration-guide","title":"Migration Guide","text":""},{"location":"PORTFOLIO/#upgrading-from-no-portfolio","title":"Upgrading from No Portfolio","text":"<ol> <li>Start MaverickMCP server</li> <li>Migration runs automatically on first startup</li> <li>Add your first position</li> <li>Verify with <code>get_my_portfolio()</code></li> </ol>"},{"location":"PORTFOLIO/#downgrading-rollback","title":"Downgrading (Rollback)","text":"<pre><code># Backup first\ncp maverick_mcp.db maverick_mcp.db.backup\n\n# Rollback migration\nalembic downgrade -1\n\n# Verify\nalembic current\n</code></pre>"},{"location":"PORTFOLIO/#exporting-portfolio","title":"Exporting Portfolio","text":"<p>Currently manual: <pre><code>sqlite3 maverick_mcp.db \"SELECT * FROM mcp_portfolio_positions;\" &gt; portfolio_export.csv\n</code></pre></p> <p>Future: Built-in export tool planned.</p>"},{"location":"PORTFOLIO/#faqs","title":"FAQs","text":"<p>Q: Can I track multiple portfolios? A: Yes! Use the <code>portfolio_name</code> parameter: <pre><code>add_portfolio_position(\"AAPL\", 10, 150, portfolio_name=\"IRA\")\nadd_portfolio_position(\"VOO\", 5, 400, portfolio_name=\"401k\")\n</code></pre></p> <p>Q: What happens if I add wrong data? A: Simply remove the position and re-add: <pre><code>Remove AAPL\nAdd 10 shares of AAPL at $150.50\n</code></pre></p> <p>Q: Can I track realized gains? A: Not yet. Currently tracks unrealized P&amp;L only. Transaction history is planned for future release.</p> <p>Q: Is my data backed up? A: No automatic backups. Manually copy <code>maverick_mcp.db</code> regularly: <pre><code>cp maverick_mcp.db ~/backups/maverick_mcp_$(date +%Y%m%d).db\n</code></pre></p> <p>Q: Can I use this for tax purposes? A: NO. This is educational software only. Use professional tax software for tax reporting.</p>"},{"location":"PORTFOLIO/#getting-help","title":"Getting Help","text":"<ul> <li>Issues: https://github.com/wshobson/maverick-mcp/issues</li> <li>Discussions: https://github.com/wshobson/maverick-mcp/discussions</li> <li>Documentation: https://github.com/wshobson/maverick-mcp/tree/main/docs</li> </ul> <p>Remember: This software is for educational purposes only. Always consult qualified financial professionals before making investment decisions.</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/","title":"PORTFOLIO PERSONALIZATION - EXECUTION PLAN","text":""},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#1-big-picture-goal","title":"1. Big Picture / Goal","text":"<p>Objective: Transform MaverickMCP's portfolio analysis tools from stateless, repetitive-input operations into an intelligent, personalized AI financial assistant through persistent portfolio storage and context-aware tool integration.</p> <p>Architectural Goal: Implement a two-phase system that (1) adds persistent portfolio storage with cost basis tracking using established DDD patterns, and (2) intelligently enhances existing tools to auto-detect user holdings and provide personalized analysis without breaking the stateless MCP tool contract.</p> <p>Success Criteria (Mandatory): - Phase 1 Complete: 4 new MCP tools (<code>add_portfolio_position</code>, <code>get_my_portfolio</code>, <code>remove_portfolio_position</code>, <code>clear_my_portfolio</code>) and 1 MCP resource (<code>portfolio://my-holdings</code>) fully functional - Database Integration: SQLAlchemy models with proper cost basis averaging, Alembic migration creating tables without conflicts - Phase 2 Integration: 3 existing tools enhanced (<code>risk_adjusted_analysis</code>, <code>portfolio_correlation_analysis</code>, <code>compare_tickers</code>) with automatic portfolio detection - AI Context Injection: Portfolio resource provides live P&amp;L, diversification metrics, and position details to AI agents automatically - Test Coverage: 85%+ test coverage with unit, integration, and domain tests passing - Code Quality: Zero linting errors (ruff), full type annotations (ty), all hooks passing - Documentation: PORTFOLIO.md guide, updated tool docstrings, usage examples in Claude Desktop</p> <p>Financial Disclaimer: All portfolio features include educational disclaimers. No investment recommendations. Local-first storage only. No tax advice provided.</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#2-to-do-list-high-level","title":"2. To-Do List (High Level)","text":""},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#phase-1-persistent-portfolio-storage-foundation-4-5-days","title":"Phase 1: Persistent Portfolio Storage Foundation (4-5 days)","text":"<ul> <li> Spike 1: Research cost basis averaging algorithms and edge cases (FIFO, average cost)</li> <li> Domain Entities: Create <code>Portfolio</code> and <code>Position</code> domain entities with business logic</li> <li> Database Models: Implement <code>UserPortfolio</code> and <code>PortfolioPosition</code> SQLAlchemy models</li> <li> Migration: Create Alembic migration with proper indexes and constraints</li> <li> MCP Tools: Implement 4 portfolio management tools with validation</li> <li> MCP Resource: Implement <code>portfolio://my-holdings</code> with live P&amp;L calculations</li> <li> Unit Tests: Comprehensive domain entity and cost basis tests</li> <li> Integration Tests: Database operation and transaction tests</li> </ul>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#phase-2-intelligent-tool-integration-2-3-days","title":"Phase 2: Intelligent Tool Integration (2-3 days)","text":"<ul> <li> Risk Analysis Enhancement: Add position awareness to <code>risk_adjusted_analysis</code></li> <li> Correlation Enhancement: Enable <code>portfolio_correlation_analysis</code> with no arguments</li> <li> Comparison Enhancement: Enable <code>compare_tickers</code> with optional portfolio auto-fill</li> <li> Resource Enhancement: Add live market data to portfolio resource</li> <li> Integration Tests: Cross-tool functionality validation</li> <li> Documentation: Update existing tool docstrings with new capabilities</li> </ul>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#phase-3-polish-documentation-1-2-days","title":"Phase 3: Polish &amp; Documentation (1-2 days)","text":"<ul> <li> Manual Testing: Claude Desktop end-to-end workflow validation</li> <li> Error Handling: Edge case coverage (partial sells, zero shares, invalid tickers)</li> <li> Performance: Query optimization, batch operations, caching strategy</li> <li> Documentation: Complete PORTFOLIO.md with examples and screenshots</li> <li> Migration Testing: Test upgrade/downgrade paths</li> </ul>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#3-plan-details-spikes-features","title":"3. Plan Details (Spikes &amp; Features)","text":""},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#spike-1-cost-basis-averaging-research","title":"Spike 1: Cost Basis Averaging Research","text":"<p>Action: Investigate cost basis calculation methods (FIFO, LIFO, average cost) and determine optimal approach for educational portfolio tracking.</p> <p>Steps: 1. Research IRS cost basis methods and educational best practices 2. Analyze existing <code>PortfolioManager</code> tool (JSON-based, average cost) for patterns 3. Design algorithm for averaging purchases and handling partial sells 4. Create specification document for edge cases:    - Multiple purchases at different prices    - Partial position sales    - Zero/negative share handling    - Rounding and precision (financial data uses Numeric(12,4)) 5. Benchmark performance for 100+ positions with 1000+ transactions</p> <p>Expected Outcome: Clear specification for cost basis implementation using average cost method (simplest for educational use, matches existing PortfolioManager), with edge case handling documented.</p> <p>Decision Rationale: Average cost is simpler than FIFO/LIFO, appropriate for educational context, and avoids tax accounting complexity.</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#feature-a-domain-entities-ddd-pattern","title":"Feature A: Domain Entities (DDD Pattern)","text":"<p>Goal: Create pure business logic entities following MaverickMCP's established DDD patterns (similar to backtesting domain entities).</p> <p>Files to Create: - <code>maverick_mcp/domain/portfolio.py</code> - Core domain entities - <code>maverick_mcp/domain/position.py</code> - Position value objects</p> <p>Domain Entity Design:</p> <pre><code># maverick_mcp/domain/portfolio.py\nfrom dataclasses import dataclass\nfrom datetime import datetime\nfrom decimal import Decimal\nfrom typing import List, Optional\n\n@dataclass\nclass Position:\n    \"\"\"Value object representing a single portfolio position.\"\"\"\n    ticker: str\n    shares: Decimal  # Use Decimal for precision\n    average_cost_basis: Decimal\n    total_cost: Decimal\n    purchase_date: datetime  # Earliest purchase\n    notes: Optional[str] = None\n\n    def add_shares(self, shares: Decimal, price: Decimal, date: datetime) -&gt; \"Position\":\n        \"\"\"Add shares with automatic cost basis averaging.\"\"\"\n        new_total_shares = self.shares + shares\n        new_total_cost = self.total_cost + (shares * price)\n        new_avg_cost = new_total_cost / new_total_shares\n\n        return Position(\n            ticker=self.ticker,\n            shares=new_total_shares,\n            average_cost_basis=new_avg_cost,\n            total_cost=new_total_cost,\n            purchase_date=min(self.purchase_date, date),\n            notes=self.notes\n        )\n\n    def remove_shares(self, shares: Decimal) -&gt; Optional[\"Position\"]:\n        \"\"\"Remove shares, return None if position fully closed.\"\"\"\n        if shares &gt;= self.shares:\n            return None  # Full position close\n\n        new_shares = self.shares - shares\n        new_total_cost = new_shares * self.average_cost_basis\n\n        return Position(\n            ticker=self.ticker,\n            shares=new_shares,\n            average_cost_basis=self.average_cost_basis,\n            total_cost=new_total_cost,\n            purchase_date=self.purchase_date,\n            notes=self.notes\n        )\n\n    def calculate_current_value(self, current_price: Decimal) -&gt; dict:\n        \"\"\"Calculate live P&amp;L metrics.\"\"\"\n        current_value = self.shares * current_price\n        unrealized_pnl = current_value - self.total_cost\n        pnl_percentage = (unrealized_pnl / self.total_cost * 100) if self.total_cost else Decimal(0)\n\n        return {\n            \"current_value\": current_value,\n            \"unrealized_pnl\": unrealized_pnl,\n            \"pnl_percentage\": pnl_percentage\n        }\n\n@dataclass\nclass Portfolio:\n    \"\"\"Aggregate root for user portfolio.\"\"\"\n    portfolio_id: str  # UUID\n    user_id: str  # \"default\" for single-user\n    name: str\n    positions: List[Position]\n    created_at: datetime\n    updated_at: datetime\n\n    def add_position(self, ticker: str, shares: Decimal, price: Decimal,\n                    date: datetime, notes: Optional[str] = None) -&gt; None:\n        \"\"\"Add or update position with automatic averaging.\"\"\"\n        # Find existing position\n        for i, pos in enumerate(self.positions):\n            if pos.ticker == ticker:\n                self.positions[i] = pos.add_shares(shares, price, date)\n                self.updated_at = datetime.now(UTC)\n                return\n\n        # Create new position\n        new_position = Position(\n            ticker=ticker,\n            shares=shares,\n            average_cost_basis=price,\n            total_cost=shares * price,\n            purchase_date=date,\n            notes=notes\n        )\n        self.positions.append(new_position)\n        self.updated_at = datetime.now(UTC)\n\n    def remove_position(self, ticker: str, shares: Optional[Decimal] = None) -&gt; bool:\n        \"\"\"Remove position or partial shares.\"\"\"\n        for i, pos in enumerate(self.positions):\n            if pos.ticker == ticker:\n                if shares is None or shares &gt;= pos.shares:\n                    # Full position removal\n                    self.positions.pop(i)\n                else:\n                    # Partial removal\n                    updated_pos = pos.remove_shares(shares)\n                    if updated_pos:\n                        self.positions[i] = updated_pos\n                    else:\n                        self.positions.pop(i)\n\n                self.updated_at = datetime.now(UTC)\n                return True\n        return False\n\n    def get_position(self, ticker: str) -&gt; Optional[Position]:\n        \"\"\"Get position by ticker.\"\"\"\n        return next((pos for pos in self.positions if pos.ticker == ticker), None)\n\n    def get_total_invested(self) -&gt; Decimal:\n        \"\"\"Calculate total capital invested.\"\"\"\n        return sum(pos.total_cost for pos in self.positions)\n\n    def calculate_portfolio_metrics(self, current_prices: dict[str, Decimal]) -&gt; dict:\n        \"\"\"Calculate comprehensive portfolio metrics.\"\"\"\n        total_value = Decimal(0)\n        total_cost = Decimal(0)\n        position_details = []\n\n        for pos in self.positions:\n            current_price = current_prices.get(pos.ticker, pos.average_cost_basis)\n            metrics = pos.calculate_current_value(current_price)\n\n            total_value += metrics[\"current_value\"]\n            total_cost += pos.total_cost\n\n            position_details.append({\n                \"ticker\": pos.ticker,\n                \"shares\": float(pos.shares),\n                \"cost_basis\": float(pos.average_cost_basis),\n                \"current_price\": float(current_price),\n                **{k: float(v) for k, v in metrics.items()}\n            })\n\n        total_pnl = total_value - total_cost\n        total_pnl_pct = (total_pnl / total_cost * 100) if total_cost else Decimal(0)\n\n        return {\n            \"total_value\": float(total_value),\n            \"total_invested\": float(total_cost),\n            \"total_pnl\": float(total_pnl),\n            \"total_pnl_percentage\": float(total_pnl_pct),\n            \"position_count\": len(self.positions),\n            \"positions\": position_details\n        }\n</code></pre> <p>Testing Strategy: - Unit tests for cost basis averaging edge cases - Property-based tests for arithmetic precision - Edge case tests: zero shares, negative P&amp;L, division by zero</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#feature-b-database-models-sqlalchemy-orm","title":"Feature B: Database Models (SQLAlchemy ORM)","text":"<p>Goal: Create persistent storage models following established patterns in <code>maverick_mcp/data/models.py</code>.</p> <p>Files to Modify: - <code>maverick_mcp/data/models.py</code> - Add new models (lines ~1700+)</p> <p>Model Design:</p> <pre><code># Add to maverick_mcp/data/models.py\n\nclass UserPortfolio(TimestampMixin, Base):\n    \"\"\"\n    User portfolio for tracking investment holdings.\n\n    Follows personal-use design: single user_id=\"default\"\n    \"\"\"\n    __tablename__ = \"mcp_portfolios\"\n\n    id = Column(Uuid, primary_key=True, default=uuid.uuid4)\n    user_id = Column(String(50), nullable=False, default=\"default\", index=True)\n    name = Column(String(200), nullable=False, default=\"My Portfolio\")\n\n    # Relationships\n    positions = relationship(\n        \"PortfolioPosition\",\n        back_populates=\"portfolio\",\n        cascade=\"all, delete-orphan\",\n        lazy=\"selectin\"  # Efficient loading\n    )\n\n    # Indexes for queries\n    __table_args__ = (\n        Index(\"idx_portfolio_user\", \"user_id\"),\n        UniqueConstraint(\"user_id\", \"name\", name=\"uq_user_portfolio_name\"),\n    )\n\n    def __repr__(self):\n        return f\"&lt;UserPortfolio(id={self.id}, name='{self.name}', positions={len(self.positions)})&gt;\"\n\n\nclass PortfolioPosition(TimestampMixin, Base):\n    \"\"\"\n    Individual position within a portfolio with cost basis tracking.\n    \"\"\"\n    __tablename__ = \"mcp_portfolio_positions\"\n\n    id = Column(Uuid, primary_key=True, default=uuid.uuid4)\n    portfolio_id = Column(Uuid, ForeignKey(\"mcp_portfolios.id\", ondelete=\"CASCADE\"), nullable=False)\n\n    # Position details\n    ticker = Column(String(20), nullable=False, index=True)\n    shares = Column(Numeric(20, 8), nullable=False)  # High precision for fractional shares\n    average_cost_basis = Column(Numeric(12, 4), nullable=False)  # Financial precision\n    total_cost = Column(Numeric(20, 4), nullable=False)  # Total capital invested\n    purchase_date = Column(DateTime(timezone=True), nullable=False)  # Earliest purchase\n    notes = Column(Text, nullable=True)  # Optional user notes\n\n    # Relationships\n    portfolio = relationship(\"UserPortfolio\", back_populates=\"positions\")\n\n    # Indexes for efficient queries\n    __table_args__ = (\n        Index(\"idx_position_portfolio\", \"portfolio_id\"),\n        Index(\"idx_position_ticker\", \"ticker\"),\n        Index(\"idx_position_portfolio_ticker\", \"portfolio_id\", \"ticker\"),\n        UniqueConstraint(\"portfolio_id\", \"ticker\", name=\"uq_portfolio_position_ticker\"),\n    )\n\n    def __repr__(self):\n        return f\"&lt;PortfolioPosition(ticker='{self.ticker}', shares={self.shares}, cost_basis={self.average_cost_basis})&gt;\"\n</code></pre> <p>Key Design Decisions: 1. Table Names: <code>mcp_portfolios</code> and <code>mcp_portfolio_positions</code> (consistent with <code>mcp_*</code> pattern) 2. user_id: Default \"default\" for single-user personal use 3. Numeric Precision: Matches existing financial data patterns (12,4 for prices, 20,8 for shares) 4. Cascade Delete: Portfolio deletion removes all positions automatically 5. Unique Constraint: One position per ticker per portfolio 6. Indexes: Optimized for common queries (user lookup, ticker filtering)</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#feature-c-alembic-migration","title":"Feature C: Alembic Migration","text":"<p>Goal: Create database migration following established patterns without conflicts.</p> <p>File to Create: - <code>alembic/versions/014_add_portfolio_models.py</code></p> <p>Migration Pattern:</p> <pre><code>\"\"\"Add portfolio and position models\n\nRevision ID: 014_add_portfolio_models\nRevises: 013_add_backtest_persistence_models\nCreate Date: 2025-11-01 10:00:00.000000\n\"\"\"\nfrom alembic import op\nimport sqlalchemy as sa\nfrom sqlalchemy.dialects import postgresql\n\n# revision identifiers\nrevision = '014_add_portfolio_models'\ndown_revision = '013_add_backtest_persistence_models'\nbranch_labels = None\ndepends_on = None\n\n\ndef upgrade():\n    \"\"\"Create portfolio management tables.\"\"\"\n\n    # Create portfolios table\n    op.create_table(\n        'mcp_portfolios',\n        sa.Column('id', postgresql.UUID(as_uuid=True), primary_key=True),\n        sa.Column('user_id', sa.String(50), nullable=False, server_default='default'),\n        sa.Column('name', sa.String(200), nullable=False, server_default='My Portfolio'),\n        sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.func.now()),\n        sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.func.now()),\n    )\n\n    # Create indexes on portfolios\n    op.create_index('idx_portfolio_user', 'mcp_portfolios', ['user_id'])\n    op.create_unique_constraint('uq_user_portfolio_name', 'mcp_portfolios', ['user_id', 'name'])\n\n    # Create positions table\n    op.create_table(\n        'mcp_portfolio_positions',\n        sa.Column('id', postgresql.UUID(as_uuid=True), primary_key=True),\n        sa.Column('portfolio_id', postgresql.UUID(as_uuid=True), nullable=False),\n        sa.Column('ticker', sa.String(20), nullable=False),\n        sa.Column('shares', sa.Numeric(20, 8), nullable=False),\n        sa.Column('average_cost_basis', sa.Numeric(12, 4), nullable=False),\n        sa.Column('total_cost', sa.Numeric(20, 4), nullable=False),\n        sa.Column('purchase_date', sa.DateTime(timezone=True), nullable=False),\n        sa.Column('notes', sa.Text, nullable=True),\n        sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.func.now()),\n        sa.Column('updated_at', sa.DateTime(timezone=True), server_default=sa.func.now()),\n        sa.ForeignKeyConstraint(['portfolio_id'], ['mcp_portfolios.id'], ondelete='CASCADE'),\n    )\n\n    # Create indexes on positions\n    op.create_index('idx_position_portfolio', 'mcp_portfolio_positions', ['portfolio_id'])\n    op.create_index('idx_position_ticker', 'mcp_portfolio_positions', ['ticker'])\n    op.create_index('idx_position_portfolio_ticker', 'mcp_portfolio_positions', ['portfolio_id', 'ticker'])\n    op.create_unique_constraint('uq_portfolio_position_ticker', 'mcp_portfolio_positions', ['portfolio_id', 'ticker'])\n\n\ndef downgrade():\n    \"\"\"Drop portfolio management tables.\"\"\"\n    op.drop_table('mcp_portfolio_positions')\n    op.drop_table('mcp_portfolios')\n</code></pre> <p>Testing: - Test upgrade: <code>alembic upgrade head</code> - Test downgrade: <code>alembic downgrade -1</code> - Verify indexes created: SQL query inspection - Test with SQLite and PostgreSQL</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#feature-d-mcp-tools-implementation","title":"Feature D: MCP Tools Implementation","text":"<p>Goal: Implement 4 portfolio management tools following tool_registry.py pattern.</p> <p>Files to Create: - <code>maverick_mcp/api/routers/portfolio_management.py</code> - New tool implementations - <code>maverick_mcp/api/services/portfolio_persistence_service.py</code> - Service layer - <code>maverick_mcp/validation/portfolio_management.py</code> - Pydantic validation</p> <p>Service Layer Pattern:</p> <pre><code># maverick_mcp/api/services/portfolio_persistence_service.py\n\nclass PortfolioPersistenceService(BaseService):\n    \"\"\"Service for portfolio CRUD operations.\"\"\"\n\n    async def get_or_create_default_portfolio(self) -&gt; UserPortfolio:\n        \"\"\"Get the default portfolio, create if doesn't exist.\"\"\"\n        pass\n\n    async def add_position(self, ticker: str, shares: Decimal,\n                          price: Decimal, date: datetime,\n                          notes: Optional[str]) -&gt; PortfolioPosition:\n        \"\"\"Add or update position with cost averaging.\"\"\"\n        pass\n\n    async def get_portfolio_with_live_data(self) -&gt; dict:\n        \"\"\"Fetch portfolio with current market prices.\"\"\"\n        pass\n\n    async def remove_position(self, ticker: str,\n                            shares: Optional[Decimal]) -&gt; bool:\n        \"\"\"Remove position or partial shares.\"\"\"\n        pass\n\n    async def clear_portfolio(self) -&gt; bool:\n        \"\"\"Delete all positions.\"\"\"\n        pass\n</code></pre> <p>Tool Registration:</p> <pre><code># Add to maverick_mcp/api/routers/tool_registry.py\n\ndef register_portfolio_management_tools(mcp: FastMCP) -&gt; None:\n    \"\"\"Register portfolio management tools.\"\"\"\n    from maverick_mcp.api.routers.portfolio_management import (\n        add_portfolio_position,\n        get_my_portfolio,\n        remove_portfolio_position,\n        clear_my_portfolio\n    )\n\n    mcp.tool(name=\"portfolio_add_position\")(add_portfolio_position)\n    mcp.tool(name=\"portfolio_get_my_portfolio\")(get_my_portfolio)\n    mcp.tool(name=\"portfolio_remove_position\")(remove_portfolio_position)\n    mcp.tool(name=\"portfolio_clear\")(clear_my_portfolio)\n</code></pre>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#feature-e-mcp-resource-implementation","title":"Feature E: MCP Resource Implementation","text":"<p>Goal: Create <code>portfolio://my-holdings</code> resource for automatic AI context injection.</p> <p>File to Modify: - <code>maverick_mcp/api/server.py</code> - Add resource alongside existing health:// and dashboard:// resources</p> <p>Resource Implementation:</p> <pre><code># Add to maverick_mcp/api/server.py (around line 823, near other resources)\n\n@mcp.resource(\"portfolio://my-holdings\")\ndef portfolio_holdings_resource() -&gt; dict[str, Any]:\n    \"\"\"\n    Portfolio holdings resource for AI context injection.\n\n    Provides comprehensive portfolio context to AI agents including:\n    - Current positions with live P&amp;L\n    - Portfolio metrics and diversification\n    - Sector exposure analysis\n    - Top/bottom performers\n\n    This resource is automatically available to AI agents during conversations,\n    enabling personalized analysis without requiring manual ticker input.\n    \"\"\"\n    # Implementation using service layer with async handling\n    pass\n</code></pre>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#feature-f-phase-2-tool-enhancements","title":"Feature F: Phase 2 Tool Enhancements","text":"<p>Goal: Enhance existing tools to auto-detect portfolio holdings.</p> <p>Files to Modify: 1. <code>maverick_mcp/api/routers/portfolio.py</code> - Enhance 3 existing tools 2. <code>maverick_mcp/validation/portfolio.py</code> - Update validation to allow optional parameters</p> <p>Enhancement Pattern: - Add optional parameters (tickers can be None) - Check portfolio for holdings if no tickers provided - Add position awareness to analysis results - Maintain backward compatibility</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#4-progress-living-document-section","title":"4. Progress (Living Document Section)","text":"Date Time Item Completed / Status Update Resulting Changes (LOC/Files) 2025-11-01 Start Plan approved and documented PORTFOLIO_PERSONALIZATION_PLAN.md created TBD TBD Implementation begins - <p>(This section will be updated during implementation)</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#5-surprises-and-discoveries","title":"5. Surprises and Discoveries","text":"<p>(Technical issues discovered during implementation will be documented here)</p> <p>Anticipated Challenges: 1. MCP Resource Async Context: Resources are sync functions but need async database calls - solved with event loop management (see existing health_resource pattern) 2. Cost Basis Precision: Financial calculations require Decimal precision, not floats - use Numeric(12,4) for prices, Numeric(20,8) for shares 3. Portfolio Resource Performance: Live price fetching could be slow - implement caching strategy, consider async batching 4. Single User Assumption: No user authentication means all operations use user_id=\"default\" - acceptable for personal use</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#6-decision-log","title":"6. Decision Log","text":"Date Decision Rationale 2025-11-01 Cost Basis Method: Average Cost Simplest for educational use, matches existing PortfolioManager, avoids tax accounting complexity 2025-11-01 Table Names: mcp_portfolios, mcp_portfolio_positions Consistent with existing mcp_* naming convention for MCP-specific tables 2025-11-01 User ID: \"default\" for all users Single-user personal-use design, consistent with auth disabled architecture 2025-11-01 Numeric Precision: Numeric(12,4) for prices, Numeric(20,8) for shares Matches existing financial data patterns, supports fractional shares 2025-11-01 Optional tickers parameter for Phase 2 Enables \"just works\" UX while maintaining backward compatibility 2025-11-01 MCP Resource for AI context Most elegant solution for automatic context injection without breaking tool contracts 2025-11-01 Domain-Driven Design pattern Follows established MaverickMCP architecture, clean separation of concerns"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#7-implementation-phases","title":"7. Implementation Phases","text":""},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#phase-1-foundation-4-5-days","title":"Phase 1: Foundation (4-5 days)","text":"<p>Files Created: 8 new files Files Modified: 3 existing files Estimated LOC: ~2,500 lines Tests: ~1,200 lines</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#phase-2-integration-2-3-days","title":"Phase 2: Integration (2-3 days)","text":"<p>Files Modified: 4 existing files Estimated LOC: ~800 lines additional Tests: ~600 lines additional</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#phase-3-polish-1-2-days","title":"Phase 3: Polish (1-2 days)","text":"<p>Documentation: PORTFOLIO.md (~300 lines) Performance: Query optimization Testing: Manual Claude Desktop validation</p> <p>Total Effort: 7-10 days Total New Code: ~3,500 lines (including tests) Total Tests: ~1,800 lines</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#8-risk-assessment","title":"8. Risk Assessment","text":"<p>Low Risk: - \u2705 Follows established patterns - \u2705 No breaking changes to existing tools - \u2705 Optional Phase 2 enhancements - \u2705 Well-scoped feature</p> <p>Medium Risk: - \u26a0\ufe0f MCP resource performance with live prices - \u26a0\ufe0f Migration compatibility (SQLite vs PostgreSQL) - \u26a0\ufe0f Edge cases in cost basis averaging</p> <p>Mitigation Strategies: 1. Performance: Implement caching, batch price fetches, add timeout protection 2. Migration: Test with both SQLite and PostgreSQL, provide rollback path 3. Edge Cases: Comprehensive unit tests, property-based testing for arithmetic</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#9-testing-strategy","title":"9. Testing Strategy","text":"<p>Unit Tests (~60% of test code): - Domain entity logic (Position, Portfolio) - Cost basis averaging edge cases - Numeric precision validation - Business logic validation</p> <p>Integration Tests (~30% of test code): - Database CRUD operations - Migration upgrade/downgrade - Service layer with real database - Cross-tool functionality</p> <p>Manual Tests (~10% of effort): - Claude Desktop end-to-end workflows - Natural language interactions - MCP resource visibility - Tool integration scenarios</p> <p>Test Coverage Target: 85%+</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#10-success-metrics","title":"10. Success Metrics","text":"<p>Functional Success: - [ ] All 4 new tools work in Claude Desktop - [ ] Portfolio resource visible to AI agents - [ ] Cost basis averaging accurate to 4 decimal places - [ ] Migration works on SQLite and PostgreSQL - [ ] 3 enhanced tools auto-detect portfolio</p> <p>Quality Success: - [ ] 85%+ test coverage - [ ] Zero linting errors (ruff) - [ ] Full type annotations (ty check passes) - [ ] All pre-commit hooks pass</p> <p>UX Success: - [ ] \"Analyze my portfolio\" works without ticker input - [ ] AI agents reference actual holdings in responses - [ ] Natural language interactions feel seamless - [ ] Error messages are clear and actionable</p>"},{"location":"PORTFOLIO_PERSONALIZATION_PLAN/#11-related-documentation","title":"11. Related Documentation","text":"<ul> <li>Original Issue: #40 - Portfolio Personalization</li> <li>User Documentation: <code>docs/PORTFOLIO.md</code> (to be created)</li> <li>API Documentation: Tool docstrings and MCP introspection</li> <li>Testing Guide: <code>tests/README.md</code> (to be updated)</li> </ul> <p>This execution plan provides a comprehensive roadmap following the PLANS.md rubric structure. The implementation is well-scoped, follows established patterns, and delivers significant UX improvement while maintaining code quality and architectural integrity.</p>"},{"location":"SECURITY_AUDIT/","title":"Security Audit Automation","text":"<p>MaverickMCP includes automated security auditing to help maintain code security and prevent common vulnerabilities.</p>"},{"location":"SECURITY_AUDIT/#overview","title":"Overview","text":"<p>The security audit system includes:</p> <ul> <li>Dependency vulnerability scanning with <code>safety</code></li> <li>Static security analysis with <code>bandit</code></li> <li>Secret detection to prevent accidental commits</li> <li>Automated pre-push hooks to run checks before pushing code</li> </ul>"},{"location":"SECURITY_AUDIT/#quick-start","title":"Quick Start","text":""},{"location":"SECURITY_AUDIT/#1-install-security-tools","title":"1. Install Security Tools","text":"<pre><code>make security-install\n</code></pre> <p>This installs:</p> <ul> <li><code>safety</code>: Scans dependencies for known security vulnerabilities</li> <li><code>bandit</code>: Static analysis tool for Python code security issues</li> </ul>"},{"location":"SECURITY_AUDIT/#2-set-up-git-hooks-recommended","title":"2. Set Up Git Hooks (Recommended)","text":"<pre><code>make setup-hooks\n</code></pre> <p>This installs a pre-push hook that automatically runs security audits before pushing code to the remote repository.</p>"},{"location":"SECURITY_AUDIT/#3-run-security-audit-manually","title":"3. Run Security Audit Manually","text":"<pre><code>make security-audit\n</code></pre> <p>Or directly:</p> <pre><code>./scripts/security_audit.sh\n</code></pre>"},{"location":"SECURITY_AUDIT/#what-gets-checked","title":"What Gets Checked","text":""},{"location":"SECURITY_AUDIT/#1-dependency-vulnerabilities-safety","title":"1. Dependency Vulnerabilities (safety)","text":"<p>Scans all project dependencies against a database of known security vulnerabilities:</p> <pre><code>safety check\n</code></pre> <p>What it catches:</p> <ul> <li>Known CVEs in dependencies</li> <li>Deprecated packages with security issues</li> <li>Vulnerable package versions</li> </ul> <p>Example output:</p> <pre><code>\u2713 No known vulnerabilities found in dependencies\n</code></pre>"},{"location":"SECURITY_AUDIT/#2-static-security-analysis-bandit","title":"2. Static Security Analysis (bandit)","text":"<p>Analyzes Python code for common security issues:</p> <pre><code>bandit -r maverick_mcp/ -c .bandit\n</code></pre> <p>What it catches:</p> <ul> <li>Hardcoded passwords, API keys, tokens</li> <li>SQL injection vulnerabilities</li> <li>Use of insecure functions (eval, exec, pickle)</li> <li>Weak cryptography</li> <li>Command injection risks</li> <li>Path traversal vulnerabilities</li> </ul> <p>Example issues:</p> <ul> <li><code>B105</code>: Hardcoded password in code</li> <li><code>B201</code>: Flask app with debug=True</li> <li><code>B608</code>: SQL injection via string formatting</li> </ul>"},{"location":"SECURITY_AUDIT/#3-secret-detection","title":"3. Secret Detection","text":"<p>Scans staged git changes for potential secrets:</p> <p>What it catches:</p> <ul> <li>API keys, passwords, tokens in code</li> <li><code>.env</code> file accidentally staged</li> <li>Bearer tokens, authentication credentials</li> </ul> <p>Patterns detected:</p> <ul> <li><code>password</code>, <code>api_key</code>, <code>secret</code>, <code>token</code></li> <li><code>bearer</code>, <code>auth</code>, <code>credential</code></li> <li>And more...</li> </ul>"},{"location":"SECURITY_AUDIT/#configuration","title":"Configuration","text":""},{"location":"SECURITY_AUDIT/#bandit-configuration","title":"Bandit Configuration","text":"<p>Edit <code>.bandit</code> to customize security checks:</p> <pre><code>[bandit]\n# Directories to exclude\nexclude_dirs = ['/tests/', '/.venv/']\n\n# Tests to skip\nskips = ['B101', 'B601']\n\n# Severity level (low, medium, high)\nlevel = 'medium'\n\n# Confidence level (low, medium, high)\nconfidence = 'medium'\n</code></pre>"},{"location":"SECURITY_AUDIT/#skip-security-audit","title":"Skip Security Audit","text":"<p>Not recommended, but you can skip security checks:</p> <pre><code># Skip for single push (bypass pre-push hook)\ngit push --no-verify\n\n# Skip for terminal session\nexport SECURITY_AUDIT_SKIP=true\ngit push\n</code></pre>"},{"location":"SECURITY_AUDIT/#pre-push-hook","title":"Pre-Push Hook","text":"<p>The pre-push hook automatically runs security audits before pushing code.</p>"},{"location":"SECURITY_AUDIT/#how-it-works","title":"How It Works","text":"<ol> <li>You run <code>git push</code></li> <li>Hook executes <code>./scripts/security_audit.sh</code></li> <li>If audit passes \u2192 push proceeds</li> <li>If audit fails \u2192 push is aborted with error details</li> </ol>"},{"location":"SECURITY_AUDIT/#installreinstall-hook","title":"Install/Reinstall Hook","text":"<pre><code>./scripts/setup_git_hooks.sh\n</code></pre>"},{"location":"SECURITY_AUDIT/#remove-hook","title":"Remove Hook","text":"<pre><code>rm .git/hooks/pre-push\n</code></pre>"},{"location":"SECURITY_AUDIT/#continuous-integration","title":"Continuous Integration","text":"<p>Add to your CI/CD pipeline:</p> <pre><code># GitHub Actions example\n- name: Security Audit\n  run: |\n    pip install safety bandit\n    ./scripts/security_audit.sh\n</code></pre> <pre><code># GitLab CI example\nsecurity_audit:\n  script:\n    - pip install safety bandit\n    - ./scripts/security_audit.sh\n</code></pre>"},{"location":"SECURITY_AUDIT/#common-issues","title":"Common Issues","text":""},{"location":"SECURITY_AUDIT/#issue-safety-check-fails-due-to-outdated-database","title":"Issue: safety check fails due to outdated database","text":"<p>Solution:</p> <pre><code>safety check --db\n</code></pre>"},{"location":"SECURITY_AUDIT/#issue-bandit-reports-false-positives","title":"Issue: bandit reports false positives","text":"<p>Solution: Add skip codes to <code>.bandit</code>:</p> <pre><code>skips = ['B101', 'B601', 'B404']\n</code></pre>"},{"location":"SECURITY_AUDIT/#issue-secret-detected-in-staged-changes","title":"Issue: Secret detected in staged changes","text":"<p>Solution:</p> <ol> <li>Remove the secret from code</li> <li>Use environment variables instead</li> <li>Update <code>.env</code> file (not committed)</li> <li>Unstage if accidentally staged: <code>git restore --staged .env</code></li> </ol>"},{"location":"SECURITY_AUDIT/#issue-want-to-skip-audit-temporarily","title":"Issue: Want to skip audit temporarily","text":"<p>Solution:</p> <pre><code># Skip this push only\ngit push --no-verify\n\n# Skip for session\nexport SECURITY_AUDIT_SKIP=true\n</code></pre>"},{"location":"SECURITY_AUDIT/#best-practices","title":"Best Practices","text":""},{"location":"SECURITY_AUDIT/#do","title":"DO","text":"<p>\u2705 Run security audit before every push \u2705 Keep security tools up to date \u2705 Fix security issues immediately \u2705 Use environment variables for secrets \u2705 Review audit output carefully \u2705 Add security audit to CI/CD</p>"},{"location":"SECURITY_AUDIT/#dont","title":"DON'T","text":"<p>\u274c Commit <code>.env</code> file \u274c Hardcode API keys in code \u274c Skip security audits routinely \u274c Ignore security warnings \u274c Use <code>--no-verify</code> by default</p>"},{"location":"SECURITY_AUDIT/#security-tools-documentation","title":"Security Tools Documentation","text":"<ul> <li>safety: https://github.com/pyupio/safety</li> <li>bandit: https://bandit.readthedocs.io/</li> <li>Security Best Practices: See <code>SECURITY.md</code></li> </ul>"},{"location":"SECURITY_AUDIT/#troubleshooting","title":"Troubleshooting","text":""},{"location":"SECURITY_AUDIT/#permission-denied-scriptssecurity_auditsh","title":"Permission denied: ./scripts/security_audit.sh","text":"<p>Fix:</p> <pre><code>chmod +x scripts/security_audit.sh\nchmod +x scripts/setup_git_hooks.sh\n</code></pre>"},{"location":"SECURITY_AUDIT/#hook-not-running","title":"Hook not running","text":"<p>Fix:</p> <pre><code># Reinstall hooks\n./scripts/setup_git_hooks.sh\n\n# Verify hook exists\nls -la .git/hooks/pre-push\n</code></pre>"},{"location":"SECURITY_AUDIT/#security-tools-not-found","title":"Security tools not found","text":"<p>Fix:</p> <pre><code># Install tools\nmake security-install\n\n# Or manually\npip install safety bandit\n</code></pre>"},{"location":"SECURITY_AUDIT/#reporting-security-issues","title":"Reporting Security Issues","text":"<p>Found a security vulnerability? See <code>SECURITY.md</code> for reporting instructions.</p> <p>DO NOT open public GitHub issues for security vulnerabilities.</p>"},{"location":"SECURITY_AUDIT/#additional-resources","title":"Additional Resources","text":"<ul> <li>OWASP Top 10</li> <li>Python Security Best Practices</li> <li>MaverickMCP Security Policy</li> </ul>"},{"location":"SETUP_SELF_CONTAINED/","title":"MaverickMCP Self-Contained Setup Guide","text":"<p>\u26a0\ufe0f IMPORTANT FINANCIAL DISCLAIMER: This software is for educational and informational purposes only. It is NOT financial advice. Past performance does not guarantee future results. Always consult with a qualified financial advisor before making investment decisions.</p> <p>This guide explains how to set up MaverickMCP as a completely self-contained system for personal-use financial analysis with Claude Desktop.</p>"},{"location":"SETUP_SELF_CONTAINED/#overview","title":"Overview","text":"<p>MaverickMCP is now fully self-contained and doesn't require any external database dependencies. All data is stored in its own PostgreSQL database with the <code>mcp_</code> prefix for all tables to avoid conflicts.</p>"},{"location":"SETUP_SELF_CONTAINED/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.12+</li> <li>PostgreSQL 14+ (or SQLite for development)</li> <li>Redis (optional, for caching)</li> <li>Tiingo API account (free tier available)</li> </ul>"},{"location":"SETUP_SELF_CONTAINED/#quick-start","title":"Quick Start","text":""},{"location":"SETUP_SELF_CONTAINED/#1-clone-and-install","title":"1. Clone and Install","text":"<pre><code># Clone the repository\ngit clone https://github.com/wshobson/maverick-mcp.git\ncd maverick-mcp\n\n# Install dependencies using uv (recommended)\nuv sync\n\n# Or use pip\npip install -e .\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#2-configure-environment","title":"2. Configure Environment","text":"<p>Create a <code>.env</code> file with your configuration:</p> <pre><code># Database Configuration (MaverickMCP's own database)\nMCP_DATABASE_URL=postgresql://user:password@localhost/maverick_mcp\n# Or use SQLite for development\n# MCP_DATABASE_URL=sqlite:///maverick_mcp.db\n\n# Tiingo API Configuration (required for data loading)\nTIINGO_API_TOKEN=your_tiingo_api_token_here\n\n# Redis Configuration (optional)\nREDIS_HOST=localhost\nREDIS_PORT=6379\nREDIS_DB=0\nCACHE_ENABLED=true\n\n# Personal Use Configuration\n# Note: Authentication and billing systems have been removed for simplicity\n# This version is designed for local personal use only\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#3-create-database","title":"3. Create Database","text":"<pre><code># Create PostgreSQL database\ncreatedb maverick_mcp\n\n# Or use existing PostgreSQL\npsql -U postgres -c \"CREATE DATABASE maverick_mcp;\"\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#4-run-migrations","title":"4. Run Migrations","text":"<pre><code># Initialize Alembic (if not already done)\nalembic init alembic\n\n# Run all migrations to create schema\nalembic upgrade head\n\n# Verify migration\nalembic current\n</code></pre> <p>The migration creates the following self-contained tables: - <code>mcp_stocks</code> - Master stock information - <code>mcp_price_cache</code> - Historical price data - <code>mcp_maverick_stocks</code> - Maverick screening results - <code>mcp_maverick_bear_stocks</code> - Bear market screening - <code>mcp_supply_demand_breakouts</code> - Supply/demand analysis - <code>mcp_technical_cache</code> - Technical indicator cache - <code>mcp_users</code>, <code>mcp_api_keys</code>, etc. - Authentication tables</p>"},{"location":"SETUP_SELF_CONTAINED/#5-load-initial-data","title":"5. Load Initial Data","text":""},{"location":"SETUP_SELF_CONTAINED/#option-a-quick-start-top-10-sp-500","title":"Option A: Quick Start (Top 10 S&amp;P 500)","text":"<pre><code># Load 2 years of data for top 10 S&amp;P 500 stocks\npython scripts/load_tiingo_data.py \\\n    --symbols AAPL MSFT GOOGL AMZN NVDA META TSLA LLY V UNH \\\n    --years 2 \\\n    --calculate-indicators \\\n    --run-screening\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#option-b-full-sp-500","title":"Option B: Full S&amp;P 500","text":"<pre><code># Load S&amp;P 500 stocks with screening\npython scripts/load_tiingo_data.py \\\n    --sp500 \\\n    --years 2 \\\n    --calculate-indicators \\\n    --run-screening\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#option-c-custom-symbols","title":"Option C: Custom Symbols","text":"<pre><code># Load specific symbols with custom date range\npython scripts/load_tiingo_data.py \\\n    --symbols AAPL MSFT GOOGL \\\n    --start-date 2022-01-01 \\\n    --end-date 2024-01-01 \\\n    --calculate-indicators \\\n    --run-screening\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#6-start-the-server","title":"6. Start the Server","text":"<pre><code># Recommended: Use the Makefile\nmake dev\n\n# Alternative: Direct FastMCP server\npython -m maverick_mcp.api.server --transport streamable-http --port 8003\n\n# Development mode with hot reload\n./scripts/dev.sh\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#7-verify-setup","title":"7. Verify Setup","text":"<pre><code># Check health endpoint\ncurl http://localhost:8003/health\n\n# Test a simple query (if using MCP client)\necho '{\"method\": \"tools/list\"}' | nc localhost 8003\n\n# Or use the API directly\ncurl http://localhost:8003/api/data/stock/AAPL\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#database-schema","title":"Database Schema","text":"<p>The self-contained schema uses the <code>mcp_</code> prefix for all tables:</p> <pre><code>-- Stock Data Tables\nmcp_stocks                  -- Master stock information\n\u251c\u2500\u2500 stock_id (UUID PK)\n\u251c\u2500\u2500 ticker_symbol\n\u251c\u2500\u2500 company_name\n\u251c\u2500\u2500 sector\n\u2514\u2500\u2500 ...\n\nmcp_price_cache            -- Historical OHLCV data\n\u251c\u2500\u2500 price_cache_id (UUID PK)\n\u251c\u2500\u2500 stock_id (FK -&gt; mcp_stocks)\n\u251c\u2500\u2500 date\n\u251c\u2500\u2500 open_price, high_price, low_price, close_price\n\u2514\u2500\u2500 volume\n\n-- Screening Tables\nmcp_maverick_stocks        -- Momentum screening\n\u251c\u2500\u2500 id (PK)\n\u251c\u2500\u2500 stock_id (FK -&gt; mcp_stocks)\n\u251c\u2500\u2500 combined_score\n\u2514\u2500\u2500 technical indicators...\n\nmcp_maverick_bear_stocks   -- Bear screening\n\u251c\u2500\u2500 id (PK)\n\u251c\u2500\u2500 stock_id (FK -&gt; mcp_stocks)\n\u251c\u2500\u2500 score\n\u2514\u2500\u2500 bearish indicators...\n\nmcp_supply_demand_breakouts -- Supply/demand analysis\n\u251c\u2500\u2500 id (PK)\n\u251c\u2500\u2500 stock_id (FK -&gt; mcp_stocks)\n\u251c\u2500\u2500 momentum_score\n\u2514\u2500\u2500 accumulation metrics...\n\nmcp_technical_cache        -- Flexible indicator storage\n\u251c\u2500\u2500 id (PK)\n\u251c\u2500\u2500 stock_id (FK -&gt; mcp_stocks)\n\u251c\u2500\u2500 indicator_type\n\u2514\u2500\u2500 values...\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#data-loading-details","title":"Data Loading Details","text":""},{"location":"SETUP_SELF_CONTAINED/#rate-limiting","title":"Rate Limiting","text":"<p>Tiingo API has a rate limit of 2400 requests/hour. The loader automatically handles this:</p> <pre><code># Configure in load_tiingo_data.py\nMAX_CONCURRENT_REQUESTS = 5  # Parallel requests\nRATE_LIMIT_DELAY = 1.5       # Seconds between requests\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#resume-capability","title":"Resume Capability","text":"<p>The loader saves progress and can resume interrupted loads:</p> <pre><code># Start loading (creates checkpoint file)\npython scripts/load_tiingo_data.py --sp500 --years 2\n\n# If interrupted, resume from checkpoint\npython scripts/load_tiingo_data.py --resume\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#technical-indicators-calculated","title":"Technical Indicators Calculated","text":"<ul> <li>Trend: SMA (20, 50, 150, 200), EMA (21)</li> <li>Momentum: RSI, MACD, Relative Strength Rating</li> <li>Volatility: ATR, ADR (Average Daily Range)</li> <li>Volume: 30-day average, volume ratio</li> </ul>"},{"location":"SETUP_SELF_CONTAINED/#screening-algorithms","title":"Screening Algorithms","text":"<ol> <li>Maverick Screening (Momentum)</li> <li>Price &gt; EMA21 &gt; SMA50 &gt; SMA200</li> <li>Momentum Score &gt; 70</li> <li> <p>Combined score calculation</p> </li> <li> <p>Bear Screening (Weakness)</p> </li> <li>Price &lt; EMA21 &lt; SMA50</li> <li>Momentum Score &lt; 30</li> <li> <p>Negative MACD</p> </li> <li> <p>Supply/Demand Screening (Accumulation)</p> </li> <li>Price &gt; SMA50 &gt; SMA150 &gt; SMA200</li> <li>Momentum Score &gt; 80</li> <li>Volume confirmation</li> </ol>"},{"location":"SETUP_SELF_CONTAINED/#troubleshooting","title":"Troubleshooting","text":""},{"location":"SETUP_SELF_CONTAINED/#database-connection-issues","title":"Database Connection Issues","text":"<pre><code># Test PostgreSQL connection\npsql -U user -d maverick_mcp -c \"SELECT 1;\"\n\n# Use SQLite for testing\nexport MCP_DATABASE_URL=sqlite:///test.db\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#tiingo-api-issues","title":"Tiingo API Issues","text":"<pre><code># Test Tiingo API token\ncurl -H \"Authorization: Token YOUR_TOKEN\" \\\n     \"https://api.tiingo.com/api/test\"\n\n# Check rate limit status\ncurl -H \"Authorization: Token YOUR_TOKEN\" \\\n     \"https://api.tiingo.com/account/usage\"\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#migration-issues","title":"Migration Issues","text":"<pre><code># Check current migration\nalembic current\n\n# Show migration history\nalembic history\n\n# Downgrade if needed\nalembic downgrade -1\n\n# Re-run specific migration\nalembic upgrade 010_self_contained_schema\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#data-loading-issues","title":"Data Loading Issues","text":"<pre><code># Check checkpoint file\ncat tiingo_load_progress.json\n\n# Clear checkpoint to start fresh\nrm tiingo_load_progress.json\n\n# Load single symbol for testing\npython scripts/load_tiingo_data.py \\\n    --symbols AAPL \\\n    --years 1 \\\n    --calculate-indicators\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#performance-optimization","title":"Performance Optimization","text":""},{"location":"SETUP_SELF_CONTAINED/#database-indexes","title":"Database Indexes","text":"<p>The migration creates optimized indexes for common queries:</p> <pre><code>-- Price data lookups\nCREATE INDEX mcp_price_cache_stock_id_date_idx \nON mcp_price_cache(stock_id, date);\n\n-- Screening queries\nCREATE INDEX mcp_maverick_stocks_combined_score_idx \nON mcp_maverick_stocks(combined_score DESC);\n\n-- Supply/demand filtering\nCREATE INDEX mcp_supply_demand_breakouts_ma_filter_idx \nON mcp_supply_demand_breakouts(close_price, sma_50, sma_150, sma_200);\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#connection-pooling","title":"Connection Pooling","text":"<p>Configure in <code>.env</code>:</p> <pre><code>DB_POOL_SIZE=20\nDB_MAX_OVERFLOW=10\nDB_POOL_TIMEOUT=30\nDB_POOL_RECYCLE=3600\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#caching-with-redis","title":"Caching with Redis","text":"<p>Enable Redis caching for better performance:</p> <pre><code>CACHE_ENABLED=true\nCACHE_TTL_SECONDS=300\nREDIS_HOST=localhost\nREDIS_PORT=6379\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#personal-use-deployment","title":"Personal Use Deployment","text":""},{"location":"SETUP_SELF_CONTAINED/#1-use-local-database","title":"1. Use Local Database","text":"<pre><code># Use SQLite for simplicity\nMCP_DATABASE_URL=sqlite:///maverick_mcp.db\n\n# Or PostgreSQL for better performance\nMCP_DATABASE_URL=postgresql://user:password@localhost/maverick_mcp\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#2-connect-with-claude-desktop","title":"2. Connect with Claude Desktop","text":"<p>Add to <code>~/Library/Application Support/Claude/claude_desktop_config.json</code>:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/mcp\"]\n    }\n  }\n}\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#5-set-up-daily-data-updates","title":"5. Set Up Daily Data Updates","text":"<p>Create a cron job for daily updates:</p> <pre><code># Add to crontab\n0 1 * * * /path/to/venv/bin/python /path/to/scripts/load_tiingo_data.py \\\n    --sp500 --years 0.1 --calculate-indicators --run-screening\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#api-usage-examples","title":"API Usage Examples","text":""},{"location":"SETUP_SELF_CONTAINED/#fetch-stock-data","title":"Fetch Stock Data","text":"<pre><code>from maverick_mcp.data.models import Stock, PriceCache, get_db\n\n# Get historical data\nwith get_db() as session:\n    df = PriceCache.get_price_data(\n        session, \n        \"AAPL\", \n        \"2023-01-01\", \n        \"2024-01-01\"\n    )\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#run-screening","title":"Run Screening","text":"<pre><code>from maverick_mcp.data.models import MaverickStocks\n\n# Get top momentum stocks\nwith get_db() as session:\n    top_stocks = MaverickStocks.get_top_stocks(session, limit=20)\n    for stock in top_stocks:\n        print(f\"{stock.stock}: Score {stock.combined_score}\")\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#using-mcp-tools","title":"Using MCP Tools","text":"<pre><code># List available tools\ncurl -X POST http://localhost:8003/mcp \\\n    -H \"Content-Type: application/json\" \\\n    -d '{\"method\": \"tools/list\"}'\n\n# Get screening results\ncurl -X POST http://localhost:8003/mcp \\\n    -H \"Content-Type: application/json\" \\\n    -d '{\n        \"method\": \"tools/call\",\n        \"params\": {\n            \"name\": \"get_maverick_stocks\",\n            \"arguments\": {\"limit\": 10}\n        }\n    }'\n</code></pre>"},{"location":"SETUP_SELF_CONTAINED/#next-steps","title":"Next Steps","text":"<ol> <li>Load More Data: Expand beyond S&amp;P 500 to Russell 3000</li> <li>Add More Indicators: Implement additional technical indicators</li> <li>Custom Screening: Create your own screening algorithms</li> <li>Web Dashboard: Deploy the maverick-mcp-web frontend</li> <li>API Integration: Build applications using the MCP protocol</li> </ol>"},{"location":"SETUP_SELF_CONTAINED/#support","title":"Support","text":"<ul> <li>GitHub Issues: Report bugs or request features</li> <li>Discussions: Join community discussions</li> <li>Documentation: Read the full docs</li> </ul> <p>MaverickMCP is now completely self-contained and ready for deployment!</p>"},{"location":"TESTING/","title":"Testing &amp; Coverage Guide","text":"<p>This document explains how to run tests and generate coverage reports for MaverickMCP.</p>"},{"location":"TESTING/#running-tests","title":"\ud83e\uddea Running Tests","text":""},{"location":"TESTING/#quick-start","title":"Quick Start","text":"<pre><code># Run all tests\npytest\n\n# Run specific test file\npytest tests/test_stock_data.py\n\n# Run tests matching pattern\npytest -k \"test_symbol\"\n\n# Run with verbose output\npytest -v\n</code></pre>"},{"location":"TESTING/#using-make-commands","title":"Using Make Commands","text":"<pre><code># Run all tests (fastest)\nmake test\n\n# Run with coverage (recommended)\nmake test-cov\n\n# Run specific test file\npytest tests/test_multi_market.py -v\n</code></pre>"},{"location":"TESTING/#test-coverage","title":"\ud83d\udcca Test Coverage","text":""},{"location":"TESTING/#configuration","title":"Configuration","text":"<p>Coverage is configured in <code>pytest.ini</code> with the following settings:</p> <ul> <li>Minimum Coverage: 60% (fails below this)</li> <li>Branch Coverage: Enabled</li> <li>Report Formats: Terminal, HTML, XML</li> <li>Source: <code>maverick_mcp/</code> package</li> <li>Excluded: Tests, venv, build files</li> </ul>"},{"location":"TESTING/#running-coverage","title":"Running Coverage","text":"<p>Option 1: Using Script (Recommended) <pre><code>./scripts/run_coverage.sh\n</code></pre></p> <p>Option 2: Using pytest <pre><code>pytest --cov=maverick_mcp --cov-report=html\n</code></pre></p> <p>Option 3: Using Make <pre><code>make test-cov\n</code></pre></p>"},{"location":"TESTING/#viewing-coverage-reports","title":"Viewing Coverage Reports","text":"<p>Terminal Report: - Automatically displayed after test run - Shows % coverage and missing lines</p> <p>HTML Report: <pre><code># macOS\nopen htmlcov/index.html\n\n# Linux\nxdg-open htmlcov/index.html\n\n# Windows\nstart htmlcov/index.html\n</code></pre></p> <p>XML Report: - Generated as <code>coverage.xml</code> - Used by CI/CD tools</p>"},{"location":"TESTING/#coverage-targets","title":"\ud83c\udfaf Coverage Targets","text":""},{"location":"TESTING/#current-targets","title":"Current Targets","text":"Module Target Status Overall 60% \u2705 Enforced Core Services 70%+ \ud83c\udfaf Recommended Providers 60%+ \ud83c\udfaf Recommended Utilities 80%+ \ud83c\udfaf Recommended Strategies 80%+ \ud83c\udfaf Recommended"},{"location":"TESTING/#excluded-from-coverage","title":"Excluded from Coverage","text":"<p>The following are automatically excluded: - <code>__repr__</code> and <code>__str__</code> methods - Abstract methods - Debug logging statements - Type checking blocks (<code>if TYPE_CHECKING:</code>) - Defensive <code>pass</code> statements - <code>if __name__ == \"__main__\":</code> blocks</p>"},{"location":"TESTING/#writing-tests","title":"\ud83d\udcdd Writing Tests","text":""},{"location":"TESTING/#test-structure","title":"Test Structure","text":"<pre><code>\"\"\"\nTest module docstring.\n\"\"\"\n\nimport pytest\nfrom maverick_mcp.services import SomeService\n\n\nclass TestSomeService:\n    \"\"\"Tests for SomeService.\"\"\"\n\n    def test_basic_functionality(self):\n        \"\"\"Test basic functionality.\"\"\"\n        service = SomeService()\n        result = service.do_something()\n        assert result is not None\n\n    def test_error_handling(self):\n        \"\"\"Test error handling.\"\"\"\n        service = SomeService()\n        with pytest.raises(ValueError):\n            service.do_invalid_thing()\n</code></pre>"},{"location":"TESTING/#fixtures","title":"Fixtures","text":"<p>Common fixtures are defined in <code>tests/conftest.py</code>:</p> <pre><code>def test_with_database(db_session):\n    \"\"\"Test using database fixture.\"\"\"\n    # db_session is automatically provided\n    stock = Stock.get_or_create(db_session, \"AAPL\")\n    assert stock is not None\n</code></pre>"},{"location":"TESTING/#parametrized-tests","title":"Parametrized Tests","text":"<pre><code>@pytest.mark.parametrize(\"symbol,expected\", [\n    (\"AAPL\", Market.US),\n    (\"RELIANCE.NS\", Market.INDIA_NSE),\n    (\"TCS.BO\", Market.INDIA_BSE),\n])\ndef test_market_detection(symbol, expected):\n    \"\"\"Test market detection for various symbols.\"\"\"\n    market = get_market_from_symbol(symbol)\n    assert market == expected\n</code></pre>"},{"location":"TESTING/#test-organization","title":"\ud83c\udfd7\ufe0f Test Organization","text":""},{"location":"TESTING/#directory-structure","title":"Directory Structure","text":"<pre><code>tests/\n\u251c\u2500\u2500 conftest.py           # Shared fixtures\n\u251c\u2500\u2500 test_services/        # Service tests\n\u2502   \u251c\u2500\u2500 test_calendar.py\n\u2502   \u251c\u2500\u2500 test_cache.py\n\u2502   \u2514\u2500\u2500 test_fetcher.py\n\u251c\u2500\u2500 test_providers/       # Provider tests\n\u2502   \u251c\u2500\u2500 test_stock_data.py\n\u2502   \u2514\u2500\u2500 test_indian_market.py\n\u251c\u2500\u2500 test_strategies/      # Strategy tests\n\u2502   \u2514\u2500\u2500 test_market_strategy.py\n\u2514\u2500\u2500 test_utils/           # Utility tests\n    \u251c\u2500\u2500 test_validators.py\n    \u2514\u2500\u2500 test_datetime_utils.py\n</code></pre>"},{"location":"TESTING/#test-categories","title":"Test Categories","text":"<p>Unit Tests: - Test individual functions/methods - No external dependencies - Fast execution - Example: <code>test_validators.py</code></p> <p>Integration Tests: - Test component interactions - May use database/network - Slower execution - Example: <code>test_stock_data.py</code></p> <p>End-to-End Tests: - Test complete workflows - Use real services - Slowest execution - Example: <code>test_screening.py</code></p>"},{"location":"TESTING/#cicd-integration","title":"\ud83d\ude80 CI/CD Integration","text":""},{"location":"TESTING/#github-actions-future","title":"GitHub Actions (Future)","text":"<pre><code># .github/workflows/test.yml\nname: Tests\n\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-python@v4\n        with:\n          python-version: '3.12'\n      - run: pip install -e \".[dev]\"\n      - run: pytest --cov=maverick_mcp --cov-report=xml\n      - uses: codecov/codecov-action@v3\n</code></pre>"},{"location":"TESTING/#coverage-badges","title":"Coverage Badges","text":"<p>After CI/CD setup, add badge to README:</p> <pre><code>[![Coverage](https://codecov.io/gh/arunbcodes/maverick-mcp/branch/main/graph/badge.svg)](https://codecov.io/gh/arunbcodes/maverick-mcp)\n</code></pre>"},{"location":"TESTING/#best-practices","title":"\ud83d\udca1 Best Practices","text":""},{"location":"TESTING/#do","title":"DO:","text":"<ul> <li>\u2705 Write tests for new features</li> <li>\u2705 Test edge cases and error conditions</li> <li>\u2705 Use descriptive test names</li> <li>\u2705 Keep tests independent</li> <li>\u2705 Mock external services</li> <li>\u2705 Aim for 70%+ coverage on new code</li> </ul>"},{"location":"TESTING/#dont","title":"DON'T:","text":"<ul> <li>\u274c Skip tests for \"simple\" code</li> <li>\u274c Test implementation details</li> <li>\u274c Write flaky tests</li> <li>\u274c Depend on test execution order</li> <li>\u274c Use real API keys in tests</li> <li>\u274c Commit coverage reports to git</li> </ul>"},{"location":"TESTING/#improving-coverage","title":"\ud83d\udd0d Improving Coverage","text":""},{"location":"TESTING/#identify-low-coverage-areas","title":"Identify Low Coverage Areas","text":"<pre><code># Run coverage with missing lines\npytest --cov=maverick_mcp --cov-report=term-missing\n\n# View HTML report for detailed analysis\nopen htmlcov/index.html\n</code></pre>"},{"location":"TESTING/#common-gaps","title":"Common Gaps","text":"<ol> <li> <p>Error Handling: <pre><code># Add tests for exception paths\ndef test_invalid_input():\n    with pytest.raises(ValidationError):\n        validate_symbol(\"\")\n</code></pre></p> </li> <li> <p>Edge Cases: <pre><code># Test boundary conditions\ndef test_date_range_edge_cases():\n    assert validate_date_range(\"2024-01-01\", \"2024-01-01\")  # Same day\n    assert validate_date_range(\"2024-02-29\", \"2024-03-01\")  # Leap year\n</code></pre></p> </li> <li> <p>Abstract Methods: <pre><code># Test all concrete implementations\ndef test_all_market_strategies():\n    for market in [Market.US, Market.INDIA_NSE, Market.INDIA_BSE]:\n        strategy = MarketStrategyFactory.get_strategy_by_market(market)\n        assert strategy.is_valid_symbol(\"TEST\")\n</code></pre></p> </li> </ol>"},{"location":"TESTING/#coverage-goals","title":"\ud83d\udcc8 Coverage Goals","text":""},{"location":"TESTING/#short-term-current","title":"Short Term (Current)","text":"<ul> <li>\u2705 60% overall coverage enforced</li> <li>\u2705 All new utilities have 80%+ coverage</li> <li>\u2705 Critical services have 70%+ coverage</li> </ul>"},{"location":"TESTING/#medium-term-next-3-months","title":"Medium Term (Next 3 months)","text":"<ul> <li>\ud83c\udfaf 70% overall coverage</li> <li>\ud83c\udfaf All services have 75%+ coverage</li> <li>\ud83c\udfaf All strategies have 90%+ coverage</li> </ul>"},{"location":"TESTING/#long-term-6-months","title":"Long Term (6 months)","text":"<ul> <li>\ud83c\udfaf 80% overall coverage</li> <li>\ud83c\udfaf All new code requires 80%+ coverage</li> <li>\ud83c\udfaf Automated coverage checks in CI/CD</li> </ul>"},{"location":"TESTING/#troubleshooting","title":"\ud83d\udee0\ufe0f Troubleshooting","text":""},{"location":"TESTING/#tests-failing-with-docker-error","title":"Tests Failing with Docker Error","text":"<pre><code># Start Docker Desktop first, or:\npytest tests/test_validators.py  # Run only unit tests\n</code></pre>"},{"location":"TESTING/#coverage-report-not-generated","title":"Coverage Report Not Generated","text":"<pre><code># Ensure pytest-cov is installed\npip install pytest-cov\n\n# Check pytest.ini configuration\ncat pytest.ini\n</code></pre>"},{"location":"TESTING/#coverage-below-threshold","title":"Coverage Below Threshold","text":"<pre><code># Run with detailed report\npytest --cov=maverick_mcp --cov-report=term-missing\n\n# Identify missing coverage\nopen htmlcov/index.html\n</code></pre>"},{"location":"TESTING/#resources","title":"\ud83d\udcda Resources","text":"<ul> <li>pytest documentation</li> <li>pytest-cov documentation</li> <li>Coverage.py</li> <li>Testing Best Practices</li> </ul> <p>Happy Testing! \ud83e\uddea\u2728</p>"},{"location":"deep_research_agent/","title":"DeepResearchAgent Documentation","text":""},{"location":"deep_research_agent/#overview","title":"Overview","text":"<p>The DeepResearchAgent provides comprehensive financial research capabilities using web search, content analysis, and AI-powered insights. It integrates seamlessly with the existing maverick-mcp architecture and adapts research depth and focus based on investor personas.</p>"},{"location":"deep_research_agent/#key-features","title":"Key Features","text":""},{"location":"deep_research_agent/#comprehensive-research","title":"\ud83d\udd0d Comprehensive Research","text":"<ul> <li>Multi-Source Web Search: Integrates Exa AI and Tavily for comprehensive coverage</li> <li>Content Analysis: AI-powered extraction of insights, sentiment, and key themes</li> <li>Source Credibility: Automatic scoring and validation of information sources</li> <li>Citation Management: Proper citations and reference tracking</li> <li>Fact Validation: Cross-referencing and validation of research claims</li> </ul>"},{"location":"deep_research_agent/#persona-aware-research","title":"\ud83c\udfaf Persona-Aware Research","text":"<ul> <li>Conservative: Focus on stability, dividends, risk factors, established companies</li> <li>Moderate: Balanced approach with growth and value considerations</li> <li>Aggressive: Emphasis on growth opportunities, momentum, high-return potential</li> <li>Day Trader: Short-term focus, liquidity, technical factors, immediate opportunities</li> </ul>"},{"location":"deep_research_agent/#langgraph-2025-integration","title":"\ud83c\udfd7\ufe0f LangGraph 2025 Integration","text":"<ul> <li>State Management: Comprehensive state tracking with <code>DeepResearchState</code></li> <li>Workflow Orchestration: Multi-step research process with error handling</li> <li>Streaming Support: Real-time progress updates and streaming responses</li> <li>Circuit Breaker: Automatic failover and rate limiting protection</li> </ul>"},{"location":"deep_research_agent/#architecture","title":"Architecture","text":""},{"location":"deep_research_agent/#core-components","title":"Core Components","text":"<pre><code>DeepResearchAgent\n\u251c\u2500\u2500 ResearchQueryAnalyzer     # Query analysis and strategy planning\n\u251c\u2500\u2500 WebSearchProvider         # Multi-provider search (Exa, Tavily)\n\u251c\u2500\u2500 ContentAnalyzer          # AI-powered content analysis\n\u251c\u2500\u2500 PersonaAdapter           # Persona-specific result filtering\n\u2514\u2500\u2500 CacheManager            # Intelligent caching and performance\n</code></pre>"},{"location":"deep_research_agent/#state-management","title":"State Management","text":"<p>The <code>DeepResearchState</code> extends <code>BaseAgentState</code> with comprehensive tracking:</p> <pre><code>class DeepResearchState(BaseAgentState):\n    # Research parameters\n    research_query: str\n    research_scope: str  \n    research_depth: str\n    timeframe: str\n\n    # Source management\n    raw_sources: list[dict]\n    processed_sources: list[dict]\n    source_credibility: dict[str, float]\n\n    # Content analysis\n    extracted_content: dict[str, str]\n    key_insights: list[dict]\n    sentiment_analysis: dict\n\n    # Research findings\n    research_themes: list[dict]\n    consensus_view: dict\n    contrarian_views: list[dict]\n\n    # Persona adaptation\n    persona_focus_areas: list[str]\n    actionable_insights: list[dict]\n</code></pre>"},{"location":"deep_research_agent/#usage-examples","title":"Usage Examples","text":""},{"location":"deep_research_agent/#standalone-usage","title":"Standalone Usage","text":"<pre><code>from maverick_mcp.agents.deep_research import DeepResearchAgent\nfrom maverick_mcp.providers.llm_factory import get_llm\n\n# Initialize agent\nllm = get_llm()\nresearch_agent = DeepResearchAgent(\n    llm=llm,\n    persona=\"moderate\",\n    max_sources=50,\n    research_depth=\"comprehensive\"\n)\n\n# Company research\nresult = await research_agent.research_company_comprehensive(\n    symbol=\"AAPL\",\n    session_id=\"research_session\",\n    include_competitive_analysis=True\n)\n\n# Market sentiment analysis\nsentiment = await research_agent.analyze_market_sentiment(\n    topic=\"artificial intelligence stocks\",\n    session_id=\"sentiment_session\",\n    timeframe=\"1w\"\n)\n\n# Custom research\ncustom = await research_agent.research_topic(\n    query=\"impact of Federal Reserve policy on tech stocks\",\n    session_id=\"custom_session\",\n    research_scope=\"comprehensive\",\n    timeframe=\"1m\"\n)\n</code></pre>"},{"location":"deep_research_agent/#supervisoragent-integration","title":"SupervisorAgent Integration","text":"<pre><code>from maverick_mcp.agents.supervisor import SupervisorAgent\n\n# Create supervisor with research agent\nsupervisor = SupervisorAgent(\n    llm=llm,\n    agents={\n        \"market\": market_agent,\n        \"technical\": technical_agent,\n        \"research\": research_agent  # DeepResearchAgent\n    },\n    persona=\"moderate\"\n)\n\n# Coordinated analysis\nresult = await supervisor.coordinate_agents(\n    query=\"Should I invest in MSFT? I want comprehensive analysis\",\n    session_id=\"coordination_session\"\n)\n</code></pre>"},{"location":"deep_research_agent/#mcp-tools-integration","title":"MCP Tools Integration","text":"<p>Available MCP tools for Claude Desktop:</p> <ol> <li><code>comprehensive_research</code> - Deep research on any financial topic</li> <li><code>analyze_market_sentiment</code> - Market sentiment analysis</li> <li><code>research_company_comprehensive</code> - Company fundamental analysis</li> <li><code>search_financial_news</code> - News search and analysis</li> <li><code>validate_research_claims</code> - Fact-checking and validation</li> </ol>"},{"location":"deep_research_agent/#claude-desktop-configuration","title":"Claude Desktop Configuration","text":"<pre><code>{\n  \"mcpServers\": {\n    \"maverick-research\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/research\"]\n    }\n  }\n}\n</code></pre>"},{"location":"deep_research_agent/#example-prompts","title":"Example Prompts","text":"<ul> <li>\"Research Tesla's competitive position in the EV market with comprehensive analysis\"</li> <li>\"Analyze current market sentiment for renewable energy stocks\"</li> <li>\"Perform fundamental analysis of Apple (AAPL) including competitive advantages\"</li> <li>\"Search for recent news about Federal Reserve interest rate decisions\"</li> </ul>"},{"location":"deep_research_agent/#configuration","title":"Configuration","text":""},{"location":"deep_research_agent/#environment-variables","title":"Environment Variables","text":"<pre><code># Required API Keys\nEXA_API_KEY=your_exa_api_key\nTAVILY_API_KEY=your_tavily_api_key\n\n# Optional Configuration\nRESEARCH_MAX_SOURCES=50\nRESEARCH_CACHE_TTL_HOURS=4\nRESEARCH_DEPTH=comprehensive\n</code></pre>"},{"location":"deep_research_agent/#settings","title":"Settings","text":"<pre><code>from maverick_mcp.config.settings import get_settings\n\nsettings = get_settings()\n\n# Research settings\nresearch_config = settings.research\nprint(f\"Max sources: {research_config.default_max_sources}\")\nprint(f\"Cache TTL: {research_config.cache_ttl_hours} hours\")\nprint(f\"Trusted domains: {research_config.trusted_domains}\")\n</code></pre>"},{"location":"deep_research_agent/#research-workflow","title":"Research Workflow","text":""},{"location":"deep_research_agent/#1-query-analysis","title":"1. Query Analysis","text":"<ul> <li>Classify research type (company, sector, market, news, fundamental)</li> <li>Determine appropriate search strategies and sources</li> <li>Set persona-specific focus areas and priorities</li> </ul>"},{"location":"deep_research_agent/#2-search-execution","title":"2. Search Execution","text":"<ul> <li>Execute parallel searches across multiple providers</li> <li>Apply domain filtering and content type selection</li> <li>Handle rate limiting and error recovery</li> </ul>"},{"location":"deep_research_agent/#3-content-processing","title":"3. Content Processing","text":"<ul> <li>Extract and clean content from sources</li> <li>Remove duplicates and low-quality sources</li> <li>Score sources for credibility and relevance</li> </ul>"},{"location":"deep_research_agent/#4-content-analysis","title":"4. Content Analysis","text":"<ul> <li>AI-powered insight extraction</li> <li>Sentiment analysis and trend detection</li> <li>Theme identification and cross-referencing</li> </ul>"},{"location":"deep_research_agent/#5-persona-adaptation","title":"5. Persona Adaptation","text":"<ul> <li>Filter insights for persona relevance</li> <li>Adjust risk assessments and recommendations</li> <li>Generate persona-specific action items</li> </ul>"},{"location":"deep_research_agent/#6-result-synthesis","title":"6. Result Synthesis","text":"<ul> <li>Consolidate findings into coherent analysis</li> <li>Generate citations and source references</li> <li>Calculate confidence scores and quality metrics</li> </ul>"},{"location":"deep_research_agent/#persona-behaviors","title":"Persona Behaviors","text":""},{"location":"deep_research_agent/#conservative-investor","title":"Conservative Investor","text":"<ul> <li>Focus: Stability, dividends, established companies, risk factors</li> <li>Sources: Prioritize authoritative financial publications</li> <li>Insights: Emphasize capital preservation and low-risk opportunities</li> <li>Actions: More cautious recommendations with detailed risk analysis</li> </ul>"},{"location":"deep_research_agent/#moderate-investor","title":"Moderate Investor","text":"<ul> <li>Focus: Balanced growth and value, diversification</li> <li>Sources: Mix of news, analysis, and fundamental reports</li> <li>Insights: Balanced view of opportunities and risks</li> <li>Actions: Moderate position sizing with measured recommendations</li> </ul>"},{"location":"deep_research_agent/#aggressive-investor","title":"Aggressive Investor","text":"<ul> <li>Focus: Growth opportunities, momentum, high-return potential</li> <li>Sources: Include social media sentiment and trending analysis</li> <li>Insights: Emphasize upside potential and growth catalysts</li> <li>Actions: Larger position sizing with growth-focused recommendations</li> </ul>"},{"location":"deep_research_agent/#day-trader","title":"Day Trader","text":"<ul> <li>Focus: Short-term catalysts, technical factors, liquidity</li> <li>Sources: Real-time news, social sentiment, technical analysis</li> <li>Insights: Immediate trading opportunities and momentum indicators</li> <li>Actions: Quick-turn recommendations with tight risk controls</li> </ul>"},{"location":"deep_research_agent/#performance-caching","title":"Performance &amp; Caching","text":""},{"location":"deep_research_agent/#intelligent-caching","title":"Intelligent Caching","text":"<ul> <li>Research Results: 4-hour TTL for comprehensive research</li> <li>Source Content: 1-hour TTL for raw content</li> <li>Sentiment Analysis: 30-minute TTL for rapidly changing topics</li> <li>Company Fundamentals: 24-hour TTL for stable company data</li> </ul>"},{"location":"deep_research_agent/#rate-limiting","title":"Rate Limiting","text":"<ul> <li>Exa AI: Respects API rate limits with exponential backoff</li> <li>Tavily: Built-in rate limiting and request queuing</li> <li>Content Analysis: Batch processing to optimize LLM usage</li> </ul>"},{"location":"deep_research_agent/#performance-optimization","title":"Performance Optimization","text":"<ul> <li>Parallel Search: Concurrent execution across providers</li> <li>Content Streaming: Progressive result delivery</li> <li>Circuit Breakers: Automatic failover on provider issues</li> <li>Connection Pooling: Efficient network resource usage</li> </ul>"},{"location":"deep_research_agent/#error-handling","title":"Error Handling","text":""},{"location":"deep_research_agent/#circuit-breaker-pattern","title":"Circuit Breaker Pattern","text":"<ul> <li>Automatic provider failover on repeated failures</li> <li>Graceful degradation with partial results</li> <li>Recovery testing and automatic restoration</li> </ul>"},{"location":"deep_research_agent/#fallback-strategies","title":"Fallback Strategies","text":"<ul> <li>Provider fallback (Exa \u2192 Tavily \u2192 Basic web search)</li> <li>Reduced scope fallback (comprehensive \u2192 standard \u2192 basic)</li> <li>Cached result fallback when live search fails</li> </ul>"},{"location":"deep_research_agent/#error-types","title":"Error Types","text":"<ul> <li><code>WebSearchError</code>: Search provider failures</li> <li><code>ContentAnalysisError</code>: Content processing failures</li> <li><code>ResearchError</code>: General research operation failures</li> <li><code>CircuitBreakerError</code>: Circuit breaker activation</li> </ul>"},{"location":"deep_research_agent/#integration-points","title":"Integration Points","text":""},{"location":"deep_research_agent/#supervisoragent-routing","title":"SupervisorAgent Routing","text":"<ul> <li>Automatic routing for research-related queries</li> <li>Intelligent agent selection based on query complexity</li> <li>Result synthesis with technical and market analysis</li> </ul>"},{"location":"deep_research_agent/#mcp-server-integration","title":"MCP Server Integration","text":"<ul> <li>RESTful API endpoints for external access</li> <li>Standardized request/response formats</li> <li>Authentication and rate limiting support</li> </ul>"},{"location":"deep_research_agent/#database-integration","title":"Database Integration","text":"<ul> <li>Research result caching in PostgreSQL/SQLite</li> <li>Source credibility tracking and learning</li> <li>Historical research analysis and trends</li> </ul>"},{"location":"deep_research_agent/#best-practices","title":"Best Practices","text":""},{"location":"deep_research_agent/#query-optimization","title":"Query Optimization","text":"<ul> <li>Use specific, focused queries for better results</li> <li>Include timeframe context for temporal relevance</li> <li>Specify research depth based on needs (basic/standard/comprehensive)</li> </ul>"},{"location":"deep_research_agent/#persona-selection","title":"Persona Selection","text":"<ul> <li>Choose persona that matches intended investment style</li> <li>Consider persona characteristics in result interpretation</li> <li>Use persona-specific insights for decision making</li> </ul>"},{"location":"deep_research_agent/#result-interpretation","title":"Result Interpretation","text":"<ul> <li>Review confidence scores and source diversity</li> <li>Consider contrarian views alongside consensus</li> <li>Validate critical claims through multiple sources</li> </ul>"},{"location":"deep_research_agent/#performance-tuning","title":"Performance Tuning","text":"<ul> <li>Adjust max_sources based on speed vs. comprehensiveness needs</li> <li>Use appropriate research_depth for the use case</li> <li>Monitor cache hit rates and adjust TTL settings</li> </ul>"},{"location":"deep_research_agent/#troubleshooting","title":"Troubleshooting","text":""},{"location":"deep_research_agent/#common-issues","title":"Common Issues","text":"<ol> <li>No Results Found</li> <li>Check API key configuration</li> <li>Verify internet connectivity</li> <li> <p>Try broader search terms</p> </li> <li> <p>Low Confidence Scores</p> </li> <li>Increase max_sources parameter</li> <li>Use longer timeframe for more data</li> <li> <p>Check for topic relevance and specificity</p> </li> <li> <p>Rate Limiting Errors</p> </li> <li>Review API usage limits</li> <li>Implement request spacing</li> <li> <p>Consider upgrading API plans</p> </li> <li> <p>Poor Persona Alignment</p> </li> <li>Review persona characteristics</li> <li>Adjust focus areas in research strategy</li> <li>Consider custom persona configuration</li> </ol>"},{"location":"deep_research_agent/#debug-mode","title":"Debug Mode","text":"<pre><code>import logging\nlogging.basicConfig(level=logging.DEBUG)\n\n# Enable detailed logging for troubleshooting\nresearch_agent = DeepResearchAgent(\n    llm=llm,\n    persona=\"moderate\",\n    research_depth=\"comprehensive\"\n)\n</code></pre>"},{"location":"deep_research_agent/#future-enhancements","title":"Future Enhancements","text":""},{"location":"deep_research_agent/#planned-features","title":"Planned Features","text":"<ul> <li>Multi-language Support: Research in multiple languages</li> <li>PDF Analysis: Direct analysis of earnings reports and filings</li> <li>Real-time Alerts: Research-based alert generation</li> <li>Custom Personas: User-defined persona characteristics</li> <li>Research Collaboration: Multi-user research sessions</li> </ul>"},{"location":"deep_research_agent/#api-extensions","title":"API Extensions","text":"<ul> <li>Batch Research: Process multiple queries simultaneously</li> <li>Research Templates: Pre-configured research workflows</li> <li>Historical Analysis: Time-series research trend analysis</li> <li>Integration APIs: Third-party platform integrations</li> </ul>"},{"location":"deep_research_agent/#support","title":"Support","text":"<p>For questions, issues, or feature requests related to the DeepResearchAgent:</p> <ol> <li>Check the troubleshooting section above</li> <li>Review the example code in <code>/examples/deep_research_integration.py</code></li> <li>Enable debug logging for detailed error information</li> <li>Consider the integration patterns with SupervisorAgent for complex workflows</li> </ol> <p>The DeepResearchAgent is designed to provide institutional-quality research capabilities while maintaining the flexibility and persona-awareness that makes it suitable for individual investors across all experience levels.</p>"},{"location":"exa_research_testing_strategy/","title":"ExaSearch Research Integration Testing Strategy","text":"<p>This document outlines the comprehensive testing strategy for validating the ExaSearch integration with the MaverickMCP research agent architecture.</p>"},{"location":"exa_research_testing_strategy/#overview","title":"Overview","text":"<p>The testing strategy covers all aspects of the research system with ExaSearch provider: - DeepResearchAgent orchestration with ExaSearch integration - Specialized Subagents (Fundamental, Technical, Sentiment, Competitive) - Parallel Research Orchestration and task distribution - Timeout Handling and circuit breaker patterns - MCP Tool Integration via research router endpoints - Performance Benchmarking across research depths and configurations</p>"},{"location":"exa_research_testing_strategy/#test-architecture","title":"Test Architecture","text":""},{"location":"exa_research_testing_strategy/#test-categories","title":"Test Categories","text":"<ol> <li>Unit Tests (<code>pytest -m unit</code>)</li> <li>Individual component testing in isolation</li> <li>Mock external dependencies</li> <li>Fast execution (&lt; 30 seconds total)</li> <li> <p>No external API calls</p> </li> <li> <p>Integration Tests (<code>pytest -m integration</code>)</p> </li> <li>End-to-end workflow testing</li> <li>Real ExaSearch API integration</li> <li>Multi-component interaction validation</li> <li> <p>Requires <code>EXA_API_KEY</code> environment variable</p> </li> <li> <p>Performance Tests (<code>pytest -m slow</code>)</p> </li> <li>Benchmark different research depths</li> <li>Parallel vs sequential execution comparison</li> <li>Memory usage and timeout resilience</li> <li> <p>Longer execution times (2-5 minutes)</p> </li> <li> <p>Benchmark Suite (<code>scripts/benchmark_exa_research.py</code>)</p> </li> <li>Comprehensive performance analysis</li> <li>Cross-configuration comparison</li> <li>Detailed metrics and reporting</li> <li>Production-ready performance validation</li> </ol>"},{"location":"exa_research_testing_strategy/#test-files-and-structure","title":"Test Files and Structure","text":"<pre><code>tests/\n\u251c\u2500\u2500 test_exa_research_integration.py  # Main comprehensive test suite\n\u2514\u2500\u2500 conftest.py                       # Shared fixtures and configuration\n\nscripts/\n\u251c\u2500\u2500 run_exa_tests.py                  # Test runner utility\n\u2514\u2500\u2500 benchmark_exa_research.py         # Performance benchmark suite\n\ndocs/\n\u2514\u2500\u2500 exa_research_testing_strategy.md  # This document\n</code></pre>"},{"location":"exa_research_testing_strategy/#key-test-components","title":"Key Test Components","text":""},{"location":"exa_research_testing_strategy/#1-exasearchprovider-tests","title":"1. ExaSearchProvider Tests","text":"<p>Coverage: - Provider initialization with/without API key - Adaptive timeout calculation for different query complexities - Failure recording and health status management - Successful search execution with realistic mock responses - Timeout handling and error recovery - Circuit breaker integration</p> <p>Key Test Methods: <pre><code>test_exa_provider_initialization()\ntest_timeout_calculation()\ntest_failure_recording_and_health_status()\ntest_exa_search_success()\ntest_exa_search_timeout()\ntest_exa_search_unhealthy_provider()\n</code></pre></p>"},{"location":"exa_research_testing_strategy/#2-deepresearchagent-tests","title":"2. DeepResearchAgent Tests","text":"<p>Coverage: - Agent initialization with ExaSearch provider - Research execution with different depths (basic, standard, comprehensive, exhaustive) - Timeout budget allocation and management - Error handling when no providers are available - Complete research workflow from query to results</p> <p>Key Test Methods: <pre><code>test_agent_initialization_with_exa()\ntest_research_comprehensive_success()\ntest_research_comprehensive_no_providers()\ntest_research_depth_levels()\n</code></pre></p>"},{"location":"exa_research_testing_strategy/#3-specialized-subagent-tests","title":"3. Specialized Subagent Tests","text":"<p>Coverage: - All 4 subagent types: Fundamental, Technical, Sentiment, Competitive - Query generation for each specialization - Results processing and analysis - Focus area validation - Cross-subagent consistency</p> <p>Key Test Methods: <pre><code>test_fundamental_research_agent()\ntest_technical_research_agent()\ntest_sentiment_research_agent()\ntest_competitive_research_agent()\n</code></pre></p>"},{"location":"exa_research_testing_strategy/#4-parallel-research-orchestration-tests","title":"4. Parallel Research Orchestration Tests","text":"<p>Coverage: - ParallelResearchOrchestrator initialization and configuration - Task preparation and prioritization - Successful parallel execution with multiple tasks - Failure handling and partial success scenarios - Circuit breaker integration - Performance efficiency measurement</p> <p>Key Test Methods: <pre><code>test_orchestrator_initialization()\ntest_parallel_execution_success()\ntest_parallel_execution_with_failures()\ntest_circuit_breaker_integration()\n</code></pre></p>"},{"location":"exa_research_testing_strategy/#5-task-distribution-engine-tests","title":"5. Task Distribution Engine Tests","text":"<p>Coverage: - Topic relevance analysis for different task types - Intelligent task distribution based on query content - Priority assignment based on relevance scores - Fallback mechanisms when no relevant tasks found</p> <p>Key Test Methods: <pre><code>test_topic_relevance_analysis()\ntest_task_distribution_basic()\ntest_task_distribution_fallback()\ntest_task_priority_assignment()\n</code></pre></p>"},{"location":"exa_research_testing_strategy/#6-timeout-and-circuit-breaker-tests","title":"6. Timeout and Circuit Breaker Tests","text":"<p>Coverage: - Timeout budget allocation across research phases - Provider health monitoring and recovery - Research behavior during provider failures - Graceful degradation strategies</p> <p>Key Test Methods: <pre><code>test_timeout_budget_allocation()\ntest_provider_health_monitoring()\ntest_research_with_provider_failures()\n</code></pre></p>"},{"location":"exa_research_testing_strategy/#7-performance-benchmark-tests","title":"7. Performance Benchmark Tests","text":"<p>Coverage: - Cross-depth performance comparison (basic \u2192 exhaustive) - Parallel vs sequential execution efficiency - Memory usage monitoring during parallel execution - Scalability under load</p> <p>Key Test Methods: <pre><code>test_research_depth_performance()\ntest_parallel_vs_sequential_performance()\ntest_memory_usage_monitoring()\n</code></pre></p>"},{"location":"exa_research_testing_strategy/#8-mcp-integration-tests","title":"8. MCP Integration Tests","text":"<p>Coverage: - MCP tool endpoint validation - Research router integration - Request/response model validation - Error handling in MCP context</p> <p>Key Test Methods: <pre><code>test_comprehensive_research_mcp_tool()\ntest_research_without_exa_key()\ntest_research_request_validation()\ntest_get_research_agent_optimization()\n</code></pre></p>"},{"location":"exa_research_testing_strategy/#9-content-analysis-tests","title":"9. Content Analysis Tests","text":"<p>Coverage: - AI-powered content analysis functionality - Fallback mechanisms when LLM analysis fails - Batch content processing - Sentiment and insight extraction</p> <p>Key Test Methods: <pre><code>test_content_analysis_success()\ntest_content_analysis_fallback()\ntest_batch_content_analysis()\n</code></pre></p>"},{"location":"exa_research_testing_strategy/#10-error-handling-and-edge-cases","title":"10. Error Handling and Edge Cases","text":"<p>Coverage: - Empty search results handling - Malformed API responses - Network timeout recovery - Concurrent request limits - Memory constraints</p> <p>Key Test Methods: <pre><code>test_empty_search_results()\ntest_malformed_search_response()\ntest_network_timeout_recovery()\ntest_concurrent_request_limits()\n</code></pre></p>"},{"location":"exa_research_testing_strategy/#test-data-and-fixtures","title":"Test Data and Fixtures","text":""},{"location":"exa_research_testing_strategy/#mock-data-factories","title":"Mock Data Factories","text":"<p>The test suite includes comprehensive mock data factories:</p> <ul> <li><code>mock_llm</code>: Realistic LLM responses for different research phases</li> <li><code>mock_exa_client</code>: ExaSearch API client with query-specific responses</li> <li><code>sample_research_tasks</code>: Representative research tasks for parallel execution</li> <li><code>mock_settings</code>: Configuration with ExaSearch integration enabled</li> </ul>"},{"location":"exa_research_testing_strategy/#realistic-test-scenarios","title":"Realistic Test Scenarios","text":"<p>Test scenarios cover real-world usage patterns:</p> <pre><code>test_queries = [\n    \"AAPL stock financial analysis and investment outlook\",\n    \"Tesla market sentiment and competitive position\", \n    \"Microsoft earnings performance and growth prospects\",\n    \"tech sector analysis and market trends\",\n    \"artificial intelligence investment opportunities\",\n]\n\nresearch_depths = [\"basic\", \"standard\", \"comprehensive\", \"exhaustive\"]\n\nfocus_areas = {\n    \"fundamentals\": [\"earnings\", \"valuation\", \"financial_health\"],\n    \"technicals\": [\"chart_patterns\", \"technical_indicators\", \"price_action\"],\n    \"sentiment\": [\"market_sentiment\", \"analyst_ratings\", \"news_sentiment\"],\n    \"competitive\": [\"competitive_position\", \"market_share\", \"industry_trends\"],\n}\n</code></pre>"},{"location":"exa_research_testing_strategy/#running-tests","title":"Running Tests","text":""},{"location":"exa_research_testing_strategy/#quick-start","title":"Quick Start","text":"<pre><code># Install dependencies\nuv sync\n\n# Set environment variable (for integration tests)\nexport EXA_API_KEY=your_exa_api_key\n\n# Run unit tests (fast, no external dependencies)\npython scripts/run_exa_tests.py --unit\n\n# Run integration tests (requires EXA_API_KEY)\npython scripts/run_exa_tests.py --integration\n\n# Run all tests\npython scripts/run_exa_tests.py --all\n\n# Run quick test suite\npython scripts/run_exa_tests.py --quick\n\n# Run with coverage reporting\npython scripts/run_exa_tests.py --coverage\n</code></pre>"},{"location":"exa_research_testing_strategy/#direct-pytest-commands","title":"Direct pytest Commands","text":"<pre><code># Unit tests only\npytest tests/test_exa_research_integration.py -m unit -v\n\n# Integration tests (requires API key)\npytest tests/test_exa_research_integration.py -m integration -v\n\n# Performance tests\npytest tests/test_exa_research_integration.py -m slow -v\n\n# All tests\npytest tests/test_exa_research_integration.py -v\n</code></pre>"},{"location":"exa_research_testing_strategy/#performance-benchmarks","title":"Performance Benchmarks","text":"<pre><code># Comprehensive benchmarks\npython scripts/benchmark_exa_research.py\n\n# Quick benchmarks (reduced test matrix)\npython scripts/benchmark_exa_research.py --quick\n\n# Specific depth testing\npython scripts/benchmark_exa_research.py --depth basic --focus fundamentals\n\n# Parallel execution analysis only\npython scripts/benchmark_exa_research.py --depth standard --parallel --no-timeout\n</code></pre>"},{"location":"exa_research_testing_strategy/#test-environment-setup","title":"Test Environment Setup","text":""},{"location":"exa_research_testing_strategy/#prerequisites","title":"Prerequisites","text":"<ol> <li>Python 3.12+: Core runtime requirement</li> <li>uv or pip: Package management</li> <li>ExaSearch API Key: For integration tests    <pre><code>export EXA_API_KEY=your_api_key_here\n</code></pre></li> </ol>"},{"location":"exa_research_testing_strategy/#optional-dependencies","title":"Optional Dependencies","text":"<ul> <li>Redis: For caching layer tests (optional)</li> <li>PostgreSQL: For database integration tests (optional)</li> <li>psutil: For memory usage monitoring in performance tests</li> </ul>"},{"location":"exa_research_testing_strategy/#environment-validation","title":"Environment Validation","text":"<pre><code># Validate environment setup\npython scripts/run_exa_tests.py --validate\n</code></pre>"},{"location":"exa_research_testing_strategy/#expected-test-results","title":"Expected Test Results","text":""},{"location":"exa_research_testing_strategy/#performance-benchmarks_1","title":"Performance Benchmarks","text":"<p>Research Depth Performance Expectations: - Basic: &lt; 15 seconds execution time - Standard: 15-30 seconds execution time - Comprehensive: 30-45 seconds execution time - Exhaustive: 45-60 seconds execution time</p> <p>Parallel Execution Efficiency: - Speedup: 2-4x faster than sequential for 3+ subagents - Memory Usage: &lt; 100MB additional during parallel execution - Error Rate: &lt; 5% for timeout-related failures</p>"},{"location":"exa_research_testing_strategy/#success-criteria","title":"Success Criteria","text":"<p>Unit Tests: - \u2705 100% pass rate expected - \u26a1 Complete in &lt; 30 seconds - \ud83d\udd04 No external dependencies</p> <p>Integration Tests: - \u2705 95%+ pass rate (allowing for API variability) - \u23f1\ufe0f Complete in &lt; 5 minutes - \ud83d\udd11 Requires valid EXA_API_KEY</p> <p>Performance Tests: - \u2705 90%+ pass rate (allowing for performance variability) - \u23f1\ufe0f Complete in &lt; 10 minutes - \ud83d\udcca Generate detailed performance metrics</p>"},{"location":"exa_research_testing_strategy/#debugging-and-troubleshooting","title":"Debugging and Troubleshooting","text":""},{"location":"exa_research_testing_strategy/#common-issues","title":"Common Issues","text":"<ol> <li> <p>Missing EXA_API_KEY <pre><code>Error: Research functionality unavailable - Exa search provider not configured\nSolution: Set EXA_API_KEY environment variable\n</code></pre></p> </li> <li> <p>Import Errors <pre><code>ImportError: No module named 'exa_py'\nSolution: Install dependencies with `uv sync` or `pip install -e .`\n</code></pre></p> </li> <li> <p>Timeout Failures <pre><code>Error: Research operation timed out\nSolution: Check network connection or reduce research scope\n</code></pre></p> </li> <li> <p>Memory Issues <pre><code>Error: Memory usage exceeded limits\nSolution: Reduce parallel agents or test data size\n</code></pre></p> </li> </ol>"},{"location":"exa_research_testing_strategy/#debug-mode","title":"Debug Mode","text":"<p>Enable detailed logging for debugging:</p> <pre><code>export PYTHONPATH=/path/to/maverick-mcp\nexport LOG_LEVEL=DEBUG\npython scripts/run_exa_tests.py --unit --verbose\n</code></pre>"},{"location":"exa_research_testing_strategy/#test-output-analysis","title":"Test Output Analysis","text":"<p>Successful Test Run Example: <pre><code>\ud83e\uddea Running ExaSearch Unit Tests\n============================\ntest_exa_provider_initialization PASSED     [  5%]\ntest_timeout_calculation PASSED             [ 10%]\ntest_failure_recording_and_health_status PASSED [ 15%]\n...\n\u2705 All tests completed successfully!\n</code></pre></p> <p>Benchmark Report Example: <pre><code>\ud83d\udcca BENCHMARK SUMMARY REPORT\n============================\n\ud83d\udccb Total Tests: 25\n\u2705 Successful: 23\n\u274c Failed: 2\n\u23f1\ufe0f Total Time: 127.3s\n\n\ud83d\udcc8 Performance Metrics:\n   Avg Execution Time: 18.45s\n   Min/Max Time: 8.21s / 45.67s\n   Avg Confidence Score: 0.78\n   Avg Sources Analyzed: 8.2\n</code></pre></p>"},{"location":"exa_research_testing_strategy/#continuous-integration","title":"Continuous Integration","text":""},{"location":"exa_research_testing_strategy/#cicd-integration","title":"CI/CD Integration","text":"<p>The test suite is designed for CI/CD integration:</p> <pre><code># Example GitHub Actions workflow\n- name: Run ExaSearch Tests\n  env:\n    EXA_API_KEY: ${{ secrets.EXA_API_KEY }}\n  run: |\n    python scripts/run_exa_tests.py --unit\n    python scripts/run_exa_tests.py --integration\n    python scripts/benchmark_exa_research.py --quick\n</code></pre>"},{"location":"exa_research_testing_strategy/#test-markers-for-ci","title":"Test Markers for CI","text":"<p>Use pytest markers for selective testing:</p> <pre><code># Fast tests only (for PR validation)\npytest -m \"not slow and not external\"\n\n# Full test suite (for main branch)\npytest -m \"not external\" --maxfail=5\n\n# External API tests (nightly/weekly)  \npytest -m external\n</code></pre>"},{"location":"exa_research_testing_strategy/#maintenance-and-updates","title":"Maintenance and Updates","text":""},{"location":"exa_research_testing_strategy/#adding-new-tests","title":"Adding New Tests","text":"<ol> <li>Extend existing test classes for related functionality</li> <li>Follow naming conventions: <code>test_[component]_[scenario]</code></li> <li>Use appropriate markers: <code>@pytest.mark.unit</code>, <code>@pytest.mark.integration</code></li> <li>Mock external dependencies in unit tests</li> <li>Include error scenarios and edge cases</li> </ol>"},{"location":"exa_research_testing_strategy/#updating-test-data","title":"Updating Test Data","text":"<ol> <li>Mock responses should reflect real ExaSearch API responses</li> <li>Test queries should cover different complexity levels</li> <li>Performance baselines should be updated as system improves</li> <li>Error scenarios should match actual failure modes</li> </ol>"},{"location":"exa_research_testing_strategy/#performance-regression-detection","title":"Performance Regression Detection","text":"<ol> <li>Baseline metrics stored in benchmark results</li> <li>Automated comparison against previous runs</li> <li>Alert thresholds for performance degradation</li> <li>Regular benchmark execution in CI/CD</li> </ol>"},{"location":"exa_research_testing_strategy/#conclusion","title":"Conclusion","text":"<p>This comprehensive testing strategy ensures the ExaSearch integration is thoroughly validated across all dimensions:</p> <ul> <li>\u2705 Functional Correctness: All components work as designed</li> <li>\u26a1 Performance Characteristics: System meets timing requirements</li> <li>\ud83d\udee1\ufe0f Error Resilience: Graceful handling of failures and edge cases</li> <li>\ud83d\udd17 Integration Quality: Seamless operation across component boundaries</li> <li>\ud83d\udcca Monitoring Capability: Detailed metrics and reporting for ongoing maintenance</li> </ul> <p>The test suite provides confidence in the ExaSearch integration's reliability and performance for production deployment.</p>"},{"location":"speed_testing_framework/","title":"Speed Testing Framework for MaverickMCP Research Agents","text":"<p>This document describes the comprehensive speed testing framework developed to validate and monitor the speed optimizations implemented in the MaverickMCP research system.</p>"},{"location":"speed_testing_framework/#overview","title":"Overview","text":"<p>The speed testing framework validates the following optimization claims: - 2-3x speed improvements over baseline performance - Sub-30s completion times for emergency scenarios - Resolution of timeout issues (previously 138s, 129s failures) - Intelligent model selection for time-critical scenarios - Adaptive optimization based on query complexity and time constraints</p>"},{"location":"speed_testing_framework/#framework-components","title":"Framework Components","text":""},{"location":"speed_testing_framework/#1-speed-optimization-validation-tests-teststest_speed_optimization_validationpy","title":"1. Speed Optimization Validation Tests (<code>tests/test_speed_optimization_validation.py</code>)","text":"<p>Comprehensive pytest-based test suite that validates:</p>"},{"location":"speed_testing_framework/#core-components-tested","title":"Core Components Tested","text":"<ul> <li>Adaptive Model Selection: Verifies fastest models are chosen for emergency scenarios</li> <li>Progressive Token Budgeting: Tests time-aware token allocation</li> <li>Parallel LLM Processing: Validates batch processing optimizations</li> <li>Confidence Tracking: Tests early termination logic</li> <li>Content Filtering: Validates intelligent source prioritization</li> </ul>"},{"location":"speed_testing_framework/#query-complexity-levels","title":"Query Complexity Levels","text":"<ul> <li>Simple: Basic queries (target: &lt;15s completion)</li> <li>Moderate: Standard analysis queries (target: &lt;25s completion)  </li> <li>Complex: Comprehensive research queries (target: &lt;35s completion)</li> <li>Emergency: Time-critical queries (target: &lt;30s completion)</li> </ul>"},{"location":"speed_testing_framework/#expected-model-selections","title":"Expected Model Selections","text":"<pre><code>EXPECTED_MODEL_SELECTIONS = {\n    QueryComplexity.EMERGENCY: [\"google/gemini-2.5-flash\", \"openai/gpt-4o-mini\"],\n    QueryComplexity.SIMPLE: [\"google/gemini-2.5-flash\", \"openai/gpt-4o-mini\"],\n    QueryComplexity.MODERATE: [\"openai/gpt-4o-mini\", \"google/gemini-2.5-flash\"],\n    QueryComplexity.COMPLEX: [\"anthropic/claude-sonnet-4\", \"google/gemini-2.5-pro\"],\n}\n</code></pre>"},{"location":"speed_testing_framework/#model-speed-benchmarks","title":"Model Speed Benchmarks","text":"<pre><code>MODEL_SPEED_BENCHMARKS = {\n    \"google/gemini-2.5-flash\": 199,    # tokens/second - FASTEST\n    \"openai/gpt-4o-mini\": 126,         # tokens/second - FAST\n    \"anthropic/claude-haiku\": 89,      # tokens/second - MODERATE\n    \"anthropic/claude-sonnet-4\": 45,   # tokens/second - COMPREHENSIVE\n    \"google/gemini-2.5-pro\": 25, # tokens/second - DEEP\n}\n</code></pre>"},{"location":"speed_testing_framework/#2-speed-benchmarking-script-scriptsspeed_benchmarkpy","title":"2. Speed Benchmarking Script (<code>scripts/speed_benchmark.py</code>)","text":"<p>Command-line tool for running various speed benchmarks:</p>"},{"location":"speed_testing_framework/#benchmark-modes","title":"Benchmark Modes","text":"<pre><code># Quick validation for CI pipeline\npython scripts/speed_benchmark.py --mode quick\n\n# Comprehensive benchmark suite\npython scripts/speed_benchmark.py --mode full\n\n# Emergency mode focused testing\npython scripts/speed_benchmark.py --mode emergency\n\n# Before/after performance comparison\npython scripts/speed_benchmark.py --mode comparison\n\n# Custom query testing\npython scripts/speed_benchmark.py --query \"Apple Inc analysis\"\n</code></pre>"},{"location":"speed_testing_framework/#output-formats","title":"Output Formats","text":"<ul> <li>JSON: Structured benchmark data for analysis</li> <li>Markdown: Human-readable reports with recommendations</li> </ul>"},{"location":"speed_testing_framework/#3-quick-speed-demo-scriptsquick_speed_demopy","title":"3. Quick Speed Demo (<code>scripts/quick_speed_demo.py</code>)","text":"<p>Standalone demonstration script that shows: - Adaptive model selection in action - Progressive token budgeting scaling - Complexity-based optimizations - Speed improvement claims validation - Timeout resolution demonstration</p>"},{"location":"speed_testing_framework/#integration-with-development-workflow","title":"Integration with Development Workflow","text":""},{"location":"speed_testing_framework/#makefile-integration","title":"Makefile Integration","text":"<pre><code># Speed testing commands\nmake test-speed              # Run all speed optimization tests\nmake test-speed-quick        # Quick CI validation\nmake test-speed-emergency    # Emergency mode tests\nmake test-speed-comparison   # Before/after comparison\n\n# Benchmarking commands\nmake benchmark-speed         # Comprehensive speed benchmark\n</code></pre>"},{"location":"speed_testing_framework/#continuous-integration","title":"Continuous Integration","text":"<p>The framework supports CI integration through: - Quick validation mode: Completes in &lt;2 minutes for CI pipelines - Exit codes: Non-zero exit for failed performance thresholds - Structured output: Machine-readable results for automation</p>"},{"location":"speed_testing_framework/#performance-thresholds","title":"Performance Thresholds","text":""},{"location":"speed_testing_framework/#speed-thresholds","title":"Speed Thresholds","text":"<pre><code>SPEED_THRESHOLDS = {\n    \"simple_query_max_time\": 15.0,      # Simple queries: &lt;15s\n    \"moderate_query_max_time\": 25.0,    # Moderate queries: &lt;25s  \n    \"complex_query_max_time\": 35.0,     # Complex queries: &lt;35s\n    \"emergency_mode_max_time\": 30.0,    # Emergency mode: &lt;30s\n    \"minimum_speedup_factor\": 2.0,      # Minimum 2x speedup\n    \"target_speedup_factor\": 3.0,       # Target 3x speedup\n    \"timeout_failure_threshold\": 0.05,  # Max 5% timeout failures\n}\n</code></pre>"},{"location":"speed_testing_framework/#model-selection-validation","title":"Model Selection Validation","text":"<ul> <li>Emergency scenarios: Must select models with 126+ tokens/second</li> <li>Time budgets &lt;30s: Automatically use fastest available models</li> <li>Complex analysis: Can use slower, higher-quality models when time allows</li> </ul>"},{"location":"speed_testing_framework/#testing-scenarios","title":"Testing Scenarios","text":""},{"location":"speed_testing_framework/#1-emergency-mode-performance","title":"1. Emergency Mode Performance","text":"<p>Tests that urgent queries complete within strict time budgets: <pre><code># Test emergency completion under 30s\nresult = await validator.test_emergency_mode_performance(\n    \"Quick Apple sentiment - bullish or bearish right now?\"\n)\nassert result[\"execution_time\"] &lt; 30.0\nassert result[\"within_budget\"] == True\n</code></pre></p>"},{"location":"speed_testing_framework/#2-adaptive-model-selection","title":"2. Adaptive Model Selection","text":"<p>Validates appropriate model selection based on time constraints: <pre><code># Emergency scenario should select fastest model\nconfig = selector.select_model_for_time_budget(\n    task_type=TaskType.QUICK_ANSWER,\n    time_remaining_seconds=10.0,\n    complexity_score=0.3,\n    content_size_tokens=200,\n)\nassert config.model_id in [\"google/gemini-2.5-flash\", \"openai/gpt-4o-mini\"]\n</code></pre></p>"},{"location":"speed_testing_framework/#3-baseline-vs-optimized-comparison","title":"3. Baseline vs Optimized Comparison","text":"<p>Compares performance improvements over baseline: <pre><code># Test 2-3x speedup achievement\nresult = await validator.test_baseline_vs_optimized_performance(\n    \"Apple Inc comprehensive analysis\", QueryComplexity.MODERATE\n)\nassert result[\"speedup_factor\"] &gt;= 2.0  # Minimum 2x improvement\n</code></pre></p>"},{"location":"speed_testing_framework/#4-timeout-resolution","title":"4. Timeout Resolution","text":"<p>Validates that previous timeout issues are resolved: <pre><code># Test scenarios that previously failed with 138s/129s timeouts\ntest_cases = [\"Apple analysis\", \"Tesla outlook\", \"Microsoft assessment\"]\nfor query in test_cases:\n    result = await test_emergency_performance(query)\n    assert result[\"execution_time\"] &lt; 30.0  # No more long timeouts\n</code></pre></p>"},{"location":"speed_testing_framework/#real-world-query-examples","title":"Real-World Query Examples","text":""},{"location":"speed_testing_framework/#simple-queries-target-15s","title":"Simple Queries (Target: &lt;15s)","text":"<ul> <li>\"Apple Inc current stock price and basic sentiment\"</li> <li>\"Tesla recent news and market overview\" </li> <li>\"Microsoft quarterly earnings summary\"</li> </ul>"},{"location":"speed_testing_framework/#moderate-queries-target-25s","title":"Moderate Queries (Target: &lt;25s)","text":"<ul> <li>\"Apple Inc comprehensive financial analysis and competitive position\"</li> <li>\"Tesla Inc market outlook considering EV competition and regulatory changes\"</li> <li>\"Microsoft Corp cloud business growth prospects and AI strategy\"</li> </ul>"},{"location":"speed_testing_framework/#complex-queries-target-35s","title":"Complex Queries (Target: &lt;35s)","text":"<ul> <li>\"Apple Inc deep fundamental analysis including supply chain risks, product lifecycle assessment, regulatory challenges across global markets, competitive positioning, and 5-year growth trajectory\"</li> </ul>"},{"location":"speed_testing_framework/#emergency-queries-target-30s","title":"Emergency Queries (Target: &lt;30s)","text":"<ul> <li>\"Quick Apple sentiment - bullish or bearish right now?\"</li> <li>\"Tesla stock - buy, hold, or sell this week?\"</li> <li>\"Microsoft earnings - beat or miss expectations?\"</li> </ul>"},{"location":"speed_testing_framework/#optimization-features-validated","title":"Optimization Features Validated","text":""},{"location":"speed_testing_framework/#1-adaptive-model-selection","title":"1. Adaptive Model Selection","text":"<ul> <li>Emergency Mode: Selects Gemini 2.5 Flash (199 tok/s) or GPT-4o Mini (126 tok/s)</li> <li>Balanced Mode: Cost-effective fast models for standard queries</li> <li>Comprehensive Mode: High-quality models when time allows</li> </ul>"},{"location":"speed_testing_framework/#2-progressive-token-budgeting","title":"2. Progressive Token Budgeting","text":"<ul> <li>Emergency Budget: Minimal tokens, tight timeouts</li> <li>Standard Budget: Balanced token allocation</li> <li>Time-Aware Scaling: Budgets scale with available time</li> </ul>"},{"location":"speed_testing_framework/#3-intelligent-content-filtering","title":"3. Intelligent Content Filtering","text":"<ul> <li>Relevance Scoring: Prioritizes high-quality, relevant sources</li> <li>Preprocessing: Reduces content size for faster processing</li> <li>Domain Credibility: Weights sources by reliability</li> </ul>"},{"location":"speed_testing_framework/#4-early-termination","title":"4. Early Termination","text":"<ul> <li>Confidence Tracking: Stops when target confidence reached</li> <li>Diminishing Returns: Terminates when no improvement detected</li> <li>Time Pressure: Adapts termination thresholds for time constraints</li> </ul>"},{"location":"speed_testing_framework/#monitoring-and-reporting","title":"Monitoring and Reporting","text":""},{"location":"speed_testing_framework/#performance-metrics-tracked","title":"Performance Metrics Tracked","text":"<ul> <li>Execution Time: Total time from request to completion</li> <li>Model Selection: Which models were chosen and why</li> <li>Token Usage: Input/output tokens consumed</li> <li>Timeout Compliance: Percentage of queries completing within budget</li> <li>Speedup Factors: Performance improvement over baseline</li> <li>Success Rates: Percentage of successful completions</li> </ul>"},{"location":"speed_testing_framework/#report-generation","title":"Report Generation","text":"<p>The framework generates comprehensive reports including: - Performance Summary: Key metrics and thresholds - Model Selection Analysis: Usage patterns and optimization effectiveness - Timeout Analysis: Compliance rates and failure patterns - Speedup Analysis: Improvement measurements - Recommendations: Suggested optimizations based on results</p>"},{"location":"speed_testing_framework/#usage-examples","title":"Usage Examples","text":""},{"location":"speed_testing_framework/#running-quick-validation","title":"Running Quick Validation","text":"<pre><code># Quick CI validation\nmake test-speed-quick\n\n# View results\ncat benchmark_results/speed_benchmark_quick_*.md\n</code></pre>"},{"location":"speed_testing_framework/#custom-query-testing","title":"Custom Query Testing","text":"<pre><code># Test a specific query\npython scripts/speed_benchmark.py --query \"Apple Inc urgent analysis needed\"\n\n# View detailed results\npython scripts/quick_speed_demo.py\n</code></pre>"},{"location":"speed_testing_framework/#full-performance-analysis","title":"Full Performance Analysis","text":"<pre><code># Run comprehensive benchmarks\nmake benchmark-speed\n\n# Generate performance report\npython scripts/speed_benchmark.py --mode full --output-dir ./reports\n</code></pre>"},{"location":"speed_testing_framework/#troubleshooting","title":"Troubleshooting","text":""},{"location":"speed_testing_framework/#common-issues","title":"Common Issues","text":"<ol> <li>Import Errors: Ensure all dependencies are installed with <code>uv sync</code></li> <li>Model Selection Issues: Check OpenRouter provider configuration</li> <li>Timeout Still Occurring: Verify emergency mode is enabled</li> <li>Performance Regression: Run comparison benchmarks to identify issues</li> </ol>"},{"location":"speed_testing_framework/#debug-commands","title":"Debug Commands","text":"<pre><code># Test core components\npython scripts/quick_speed_demo.py\n\n# Run specific test category\npytest tests/test_speed_optimization_validation.py::TestSpeedOptimizations -v\n\n# Benchmark with verbose output\npython scripts/speed_benchmark.py --mode quick --verbose\n</code></pre>"},{"location":"speed_testing_framework/#future-enhancements","title":"Future Enhancements","text":""},{"location":"speed_testing_framework/#planned-improvements","title":"Planned Improvements","text":"<ol> <li>Real-time Monitoring: Continuous performance tracking in production</li> <li>A/B Testing: Compare different optimization strategies</li> <li>Machine Learning: Adaptive optimization based on query patterns</li> <li>Cost Optimization: Balance speed with API costs</li> <li>Multi-modal Support: Extend optimizations to image/audio analysis</li> </ol>"},{"location":"speed_testing_framework/#extension-points","title":"Extension Points","text":"<ul> <li>Custom Complexity Calculators: Domain-specific complexity scoring</li> <li>Alternative Model Providers: Support for additional LLM providers</li> <li>Advanced Caching: Semantic caching for similar queries</li> <li>Performance Prediction: ML-based execution time estimation</li> </ul>"},{"location":"speed_testing_framework/#conclusion","title":"Conclusion","text":"<p>The speed testing framework provides comprehensive validation that the MaverickMCP research system achieves its performance optimization goals:</p> <p>\u2705 2-3x Speed Improvements: Validated across all query complexities \u2705 Sub-30s Emergency Mode: Guaranteed fast response for urgent queries \u2705 Timeout Resolution: No more 138s/129s failures \u2705 Intelligent Optimization: Adaptive performance based on constraints \u2705 Continuous Validation: Automated testing prevents performance regressions</p> <p>The framework ensures that speed optimizations remain effective as the system evolves and provides early detection of any performance degradation.</p>"},{"location":"about/changelog/","title":"Changelog","text":""},{"location":"about/changelog/#recent-updates","title":"Recent Updates","text":""},{"location":"about/changelog/#conference-call-analysis-system","title":"Conference Call Analysis System","text":"<ul> <li>Complete transcript fetching system</li> <li>AI-powered summarization</li> <li>Multi-dimensional sentiment analysis</li> <li>RAG Q&amp;A over transcripts</li> <li>Comparative analysis across quarters</li> </ul>"},{"location":"about/changelog/#mcp-tools","title":"MCP Tools","text":"<ul> <li>5 conference call analysis tools</li> <li>35+ stock analysis tools</li> <li>Full Claude Desktop integration</li> <li>Cursor IDE support</li> </ul>"},{"location":"about/changelog/#documentation","title":"Documentation","text":"<ul> <li>Comprehensive MkDocs site</li> <li>Step-by-step setup guides</li> <li>API reference</li> <li>Examples and troubleshooting</li> </ul> <p>View full git history \u2192</p>"},{"location":"about/faq/","title":"Frequently Asked Questions","text":""},{"location":"about/faq/#general","title":"General","text":""},{"location":"about/faq/#what-is-maverick-mcp","title":"What is Maverick MCP?","text":"<p>A personal stock analysis MCP server with AI-powered conference call analysis.</p>"},{"location":"about/faq/#is-it-free","title":"Is it free?","text":"<p>Yes, the software is MIT licensed and free. You only pay for API services you use (Tiingo, OpenRouter, etc.).</p>"},{"location":"about/faq/#what-markets-are-supported","title":"What markets are supported?","text":"<ul> <li>US (NASDAQ/NYSE)</li> <li>Indian NSE (.NS suffix)</li> <li>Indian BSE (.BO suffix)</li> </ul>"},{"location":"about/faq/#setup","title":"Setup","text":""},{"location":"about/faq/#what-api-keys-do-i-need","title":"What API keys do I need?","text":"<p>Required: Tiingo (free tier available) Recommended: OpenRouter (for AI features) Optional: OpenAI (for RAG Q&amp;A)</p>"},{"location":"about/faq/#how-do-i-connect-to-claude-desktop","title":"How do I connect to Claude Desktop?","text":"<p>See Claude Desktop Setup</p>"},{"location":"about/faq/#does-it-work-with-cursor","title":"Does it work with Cursor?","text":"<p>Yes! See Cursor IDE Setup</p>"},{"location":"about/faq/#features","title":"Features","text":""},{"location":"about/faq/#can-i-analyze-indian-stocks","title":"Can I analyze Indian stocks?","text":"<p>Yes! Full support for NSE and BSE stocks.</p>"},{"location":"about/faq/#how-many-stocks-are-pre-loaded","title":"How many stocks are pre-loaded?","text":"<p>520+ S&amp;P 500 stocks with screening data.</p>"},{"location":"about/faq/#can-i-add-more-companies","title":"Can I add more companies?","text":"<p>Yes, use the seeding script to add any company.</p>"},{"location":"about/faq/#conference-calls","title":"Conference Calls","text":""},{"location":"about/faq/#where-do-transcripts-come-from","title":"Where do transcripts come from?","text":"<ol> <li>Company IR websites (primary)</li> <li>NSE exchange filings (fallback)</li> </ol>"},{"location":"about/faq/#how-much-does-ai-analysis-cost","title":"How much does AI analysis cost?","text":"<ul> <li>Summarization: ~$0.01-0.05 per transcript</li> <li>Sentiment: ~$0.005-0.01 per transcript</li> <li>RAG embeddings: ~$0.0001 per transcript</li> </ul>"},{"location":"about/faq/#are-results-cached","title":"Are results cached?","text":"<p>Yes, all AI analyses are cached in database.</p>"},{"location":"about/faq/#technical","title":"Technical","text":""},{"location":"about/faq/#what-python-version","title":"What Python version?","text":"<p>Python 3.12 or higher required.</p>"},{"location":"about/faq/#can-i-use-postgresql","title":"Can I use PostgreSQL?","text":"<p>Yes, it's optional but recommended for large datasets.</p>"},{"location":"about/faq/#is-redis-required","title":"Is Redis required?","text":"<p>No, but recommended for better performance.</p> <p>Need more help? Report an issue \u2192</p>"},{"location":"about/license/","title":"License","text":"<p>Maverick MCP is released under the MIT License.</p>"},{"location":"about/license/#mit-license","title":"MIT License","text":"<p>Copyright \u00a9 2025 Arun B</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"about/license/#third-party-licenses","title":"Third-Party Licenses","text":"<p>This project uses various open-source libraries. See <code>LICENSE</code> file in repository for complete list.</p>"},{"location":"about/license/#api-services","title":"API Services","text":"<p>Note that while the software is free, API services (Tiingo, OpenRouter, OpenAI) have their own terms and pricing.</p>"},{"location":"api/backtesting/","title":"Backtesting API Documentation","text":""},{"location":"api/backtesting/#overview","title":"Overview","text":"<p>The MaverickMCP backtesting system provides comprehensive strategy backtesting capabilities powered by VectorBT. It offers both traditional technical analysis strategies and advanced ML-enhanced approaches, with extensive optimization, validation, and analysis tools.</p>"},{"location":"api/backtesting/#key-features","title":"Key Features","text":"<ul> <li>35+ Pre-built Strategies: From simple moving averages to advanced ML ensembles</li> <li>Strategy Optimization: Grid search with coarse/medium/fine granularity</li> <li>Walk-Forward Analysis: Out-of-sample validation for strategy robustness</li> <li>Monte Carlo Simulation: Risk assessment with confidence intervals</li> <li>Portfolio Backtesting: Multi-symbol strategy application</li> <li>Market Regime Analysis: Intelligent strategy selection based on market conditions</li> <li>ML-Enhanced Strategies: Adaptive, ensemble, and regime-aware approaches</li> <li>Comprehensive Visualization: Charts, heatmaps, and performance dashboards</li> </ul>"},{"location":"api/backtesting/#core-backtesting-tools","title":"Core Backtesting Tools","text":""},{"location":"api/backtesting/#run_backtest","title":"run_backtest","text":"<p>Run a comprehensive backtest with specified strategy and parameters.</p> <p>Function: <code>run_backtest</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to backtest (e.g., \"AAPL\", \"TSLA\") - <code>strategy</code> (str, default: \"sma_cross\"): Strategy type to use - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD), defaults to 1 year ago - <code>end_date</code> (str, optional): End date (YYYY-MM-DD), defaults to today - <code>initial_capital</code> (float, default: 10000.0): Starting capital for backtest</p> <p>Strategy-Specific Parameters: - <code>fast_period</code> (int, optional): Fast moving average period - <code>slow_period</code> (int, optional): Slow moving average period - <code>period</code> (int, optional): General period parameter (RSI, etc.) - <code>oversold</code> (float, optional): RSI oversold threshold (default: 30) - <code>overbought</code> (float, optional): RSI overbought threshold (default: 70) - <code>signal_period</code> (int, optional): MACD signal line period - <code>std_dev</code> (float, optional): Bollinger Bands standard deviation - <code>lookback</code> (int, optional): Lookback period for momentum/breakout - <code>threshold</code> (float, optional): Threshold for momentum strategies - <code>z_score_threshold</code> (float, optional): Z-score threshold for mean reversion - <code>breakout_factor</code> (float, optional): Breakout factor for channel strategies</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"strategy\": \"sma_cross\",\n  \"period\": \"2023-01-01 to 2024-01-01\",\n  \"metrics\": {\n    \"total_return\": 0.15,\n    \"sharpe_ratio\": 1.2,\n    \"max_drawdown\": -0.08,\n    \"total_trades\": 24,\n    \"win_rate\": 0.58,\n    \"profit_factor\": 1.45,\n    \"calmar_ratio\": 1.85,\n    \"volatility\": 0.18\n  },\n  \"trades\": [\n    {\n      \"entry_date\": \"2023-01-15\",\n      \"exit_date\": \"2023-02-10\",\n      \"entry_price\": 150.0,\n      \"exit_price\": 158.5,\n      \"return\": 0.057,\n      \"holding_period\": 26\n    }\n  ],\n  \"equity_curve\": [10000, 10150, 10200, ...],\n  \"drawdown_series\": [0, -0.01, -0.02, ...],\n  \"analysis\": {\n    \"risk_metrics\": {...},\n    \"performance_analysis\": {...}\n  }\n}\n</code></pre></p> <p>Examples: <pre><code># Simple SMA crossover\nrun_backtest(\"AAPL\", \"sma_cross\", fast_period=10, slow_period=20)\n\n# RSI mean reversion\nrun_backtest(\"TSLA\", \"rsi\", period=14, oversold=30, overbought=70)\n\n# MACD strategy with custom parameters\nrun_backtest(\"MSFT\", \"macd\", fast_period=12, slow_period=26, signal_period=9)\n\n# Bollinger Bands strategy\nrun_backtest(\"GOOGL\", \"bollinger\", period=20, std_dev=2.0)\n</code></pre></p>"},{"location":"api/backtesting/#optimize_strategy","title":"optimize_strategy","text":"<p>Optimize strategy parameters using grid search to find the best-performing configuration.</p> <p>Function: <code>optimize_strategy</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to optimize - <code>strategy</code> (str, default: \"sma_cross\"): Strategy type to optimize - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>optimization_metric</code> (str, default: \"sharpe_ratio\"): Metric to optimize (\"sharpe_ratio\", \"total_return\", \"win_rate\", \"calmar_ratio\") - <code>optimization_level</code> (str, default: \"medium\"): Level of optimization (\"coarse\", \"medium\", \"fine\") - <code>top_n</code> (int, default: 10): Number of top results to return</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"strategy\": \"sma_cross\",\n  \"optimization_metric\": \"sharpe_ratio\",\n  \"optimization_level\": \"medium\",\n  \"total_combinations\": 64,\n  \"execution_time\": 45.2,\n  \"best_parameters\": {\n    \"fast_period\": 8,\n    \"slow_period\": 21,\n    \"sharpe_ratio\": 1.85,\n    \"total_return\": 0.28,\n    \"max_drawdown\": -0.06\n  },\n  \"top_results\": [\n    {\n      \"parameters\": {\"fast_period\": 8, \"slow_period\": 21},\n      \"sharpe_ratio\": 1.85,\n      \"total_return\": 0.28,\n      \"max_drawdown\": -0.06,\n      \"total_trades\": 18\n    }\n  ],\n  \"parameter_sensitivity\": {\n    \"fast_period\": {\"min\": 5, \"max\": 20, \"best\": 8},\n    \"slow_period\": {\"min\": 20, \"max\": 50, \"best\": 21}\n  }\n}\n</code></pre></p> <p>Examples: <pre><code># Optimize SMA crossover for Sharpe ratio\noptimize_strategy(\"AAPL\", \"sma_cross\", optimization_metric=\"sharpe_ratio\")\n\n# Fine-tune RSI parameters for total return\noptimize_strategy(\"TSLA\", \"rsi\", optimization_metric=\"total_return\", optimization_level=\"fine\")\n\n# Quick coarse optimization for multiple strategies\noptimize_strategy(\"MSFT\", \"macd\", optimization_level=\"coarse\", top_n=5)\n</code></pre></p>"},{"location":"api/backtesting/#walk_forward_analysis","title":"walk_forward_analysis","text":"<p>Perform walk-forward analysis to test strategy robustness and out-of-sample performance.</p> <p>Function: <code>walk_forward_analysis</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to analyze - <code>strategy</code> (str, default: \"sma_cross\"): Strategy type - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>window_size</code> (int, default: 252): Test window size in trading days (default: 1 year) - <code>step_size</code> (int, default: 63): Step size for rolling window (default: 1 quarter)</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"strategy\": \"sma_cross\",\n  \"total_windows\": 8,\n  \"window_size\": 252,\n  \"step_size\": 63,\n  \"out_of_sample_performance\": {\n    \"average_return\": 0.12,\n    \"average_sharpe\": 0.95,\n    \"consistency_score\": 0.75,\n    \"best_window\": {\"period\": \"2023-Q2\", \"return\": 0.28},\n    \"worst_window\": {\"period\": \"2023-Q4\", \"return\": -0.05}\n  },\n  \"window_results\": [\n    {\n      \"window_id\": 1,\n      \"optimization_period\": \"2022-01-01 to 2022-12-31\",\n      \"test_period\": \"2023-01-01 to 2023-03-31\",\n      \"best_parameters\": {\"fast_period\": 10, \"slow_period\": 25},\n      \"out_of_sample_return\": 0.08,\n      \"out_of_sample_sharpe\": 1.1\n    }\n  ],\n  \"stability_metrics\": {\n    \"parameter_stability\": 0.85,\n    \"performance_stability\": 0.72,\n    \"overfitting_risk\": \"low\"\n  }\n}\n</code></pre></p>"},{"location":"api/backtesting/#monte_carlo_simulation","title":"monte_carlo_simulation","text":"<p>Run Monte Carlo simulation on backtest results to assess risk and confidence intervals.</p> <p>Function: <code>monte_carlo_simulation</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol - <code>strategy</code> (str, default: \"sma_cross\"): Strategy type - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>num_simulations</code> (int, default: 1000): Number of Monte Carlo simulations - Strategy-specific parameters (same as <code>run_backtest</code>)</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"strategy\": \"sma_cross\",\n  \"num_simulations\": 1000,\n  \"confidence_intervals\": {\n    \"95%\": {\"lower\": 0.05, \"upper\": 0.32},\n    \"90%\": {\"lower\": 0.08, \"upper\": 0.28},\n    \"68%\": {\"lower\": 0.12, \"upper\": 0.22}\n  },\n  \"risk_metrics\": {\n    \"probability_of_loss\": 0.15,\n    \"expected_return\": 0.17,\n    \"value_at_risk_5%\": -0.12,\n    \"expected_shortfall\": -0.18,\n    \"maximum_drawdown_95%\": -0.15\n  },\n  \"simulation_statistics\": {\n    \"mean_return\": 0.168,\n    \"std_return\": 0.089,\n    \"skewness\": -0.23,\n    \"kurtosis\": 2.85,\n    \"best_simulation\": 0.45,\n    \"worst_simulation\": -0.28\n  }\n}\n</code></pre></p>"},{"location":"api/backtesting/#compare_strategies","title":"compare_strategies","text":"<p>Compare multiple strategies on the same symbol to identify the best performer.</p> <p>Function: <code>compare_strategies</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol - <code>strategies</code> (list[str], optional): List of strategy types to compare (defaults to top 5) - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD)</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"comparison_period\": \"2023-01-01 to 2024-01-01\",\n  \"strategies_compared\": [\"sma_cross\", \"rsi\", \"macd\", \"bollinger\", \"momentum\"],\n  \"rankings\": {\n    \"by_sharpe_ratio\": [\n      {\"strategy\": \"macd\", \"sharpe_ratio\": 1.45},\n      {\"strategy\": \"sma_cross\", \"sharpe_ratio\": 1.22},\n      {\"strategy\": \"momentum\", \"sharpe_ratio\": 0.98}\n    ],\n    \"by_total_return\": [\n      {\"strategy\": \"momentum\", \"total_return\": 0.32},\n      {\"strategy\": \"macd\", \"total_return\": 0.28},\n      {\"strategy\": \"sma_cross\", \"total_return\": 0.18}\n    ]\n  },\n  \"detailed_comparison\": {\n    \"sma_cross\": {\n      \"total_return\": 0.18,\n      \"sharpe_ratio\": 1.22,\n      \"max_drawdown\": -0.08,\n      \"total_trades\": 24,\n      \"win_rate\": 0.58\n    }\n  },\n  \"best_overall\": \"macd\",\n  \"recommendation\": \"MACD strategy provides best risk-adjusted returns\"\n}\n</code></pre></p>"},{"location":"api/backtesting/#backtest_portfolio","title":"backtest_portfolio","text":"<p>Backtest a strategy across multiple symbols to create a diversified portfolio.</p> <p>Function: <code>backtest_portfolio</code></p> <p>Parameters: - <code>symbols</code> (list[str], required): List of stock symbols - <code>strategy</code> (str, default: \"sma_cross\"): Strategy type to apply - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>initial_capital</code> (float, default: 10000.0): Starting capital - <code>position_size</code> (float, default: 0.1): Position size per symbol (0.1 = 10%) - Strategy-specific parameters (same as <code>run_backtest</code>)</p> <p>Returns: <pre><code>{\n  \"portfolio_metrics\": {\n    \"symbols_tested\": 5,\n    \"total_return\": 0.22,\n    \"average_sharpe\": 1.15,\n    \"max_drawdown\": -0.12,\n    \"total_trades\": 120,\n    \"diversification_benefit\": 0.85\n  },\n  \"individual_results\": [\n    {\n      \"symbol\": \"AAPL\",\n      \"total_return\": 0.18,\n      \"sharpe_ratio\": 1.22,\n      \"max_drawdown\": -0.08,\n      \"contribution_to_portfolio\": 0.24\n    }\n  ],\n  \"correlation_matrix\": {\n    \"AAPL\": {\"MSFT\": 0.72, \"GOOGL\": 0.68},\n    \"MSFT\": {\"GOOGL\": 0.75}\n  },\n  \"summary\": \"Portfolio backtest of 5 symbols with sma_cross strategy\"\n}\n</code></pre></p>"},{"location":"api/backtesting/#strategy-management","title":"Strategy Management","text":""},{"location":"api/backtesting/#list_strategies","title":"list_strategies","text":"<p>List all available backtesting strategies with descriptions and parameters.</p> <p>Function: <code>list_strategies</code></p> <p>Parameters: None</p> <p>Returns: <pre><code>{\n  \"available_strategies\": {\n    \"sma_cross\": {\n      \"type\": \"sma_cross\",\n      \"name\": \"SMA Crossover\",\n      \"description\": \"Buy when fast SMA crosses above slow SMA, sell when it crosses below\",\n      \"default_parameters\": {\"fast_period\": 10, \"slow_period\": 20},\n      \"optimization_ranges\": {\n        \"fast_period\": [5, 10, 15, 20],\n        \"slow_period\": [20, 30, 50, 100]\n      }\n    }\n  },\n  \"total_count\": 9,\n  \"categories\": {\n    \"trend_following\": [\"sma_cross\", \"ema_cross\", \"macd\", \"breakout\"],\n    \"mean_reversion\": [\"rsi\", \"bollinger\", \"mean_reversion\"],\n    \"momentum\": [\"momentum\", \"volume_momentum\"]\n  }\n}\n</code></pre></p>"},{"location":"api/backtesting/#parse_strategy","title":"parse_strategy","text":"<p>Parse natural language strategy description into VectorBT parameters.</p> <p>Function: <code>parse_strategy</code></p> <p>Parameters: - <code>description</code> (str, required): Natural language description of trading strategy</p> <p>Returns: <pre><code>{\n  \"success\": true,\n  \"strategy\": {\n    \"strategy_type\": \"rsi\",\n    \"parameters\": {\n      \"period\": 14,\n      \"oversold\": 30,\n      \"overbought\": 70\n    }\n  },\n  \"message\": \"Successfully parsed as rsi strategy\"\n}\n</code></pre></p> <p>Examples: <pre><code># Parse natural language descriptions\nparse_strategy(\"Buy when RSI is below 30 and sell when above 70\")\nparse_strategy(\"Use 10-day and 20-day moving average crossover\")\nparse_strategy(\"MACD strategy with standard parameters\")\n</code></pre></p>"},{"location":"api/backtesting/#visualization-tools","title":"Visualization Tools","text":""},{"location":"api/backtesting/#generate_backtest_charts","title":"generate_backtest_charts","text":"<p>Generate comprehensive charts for a backtest including equity curve, trades, and performance dashboard.</p> <p>Function: <code>generate_backtest_charts</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol - <code>strategy</code> (str, default: \"sma_cross\"): Strategy type - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>theme</code> (str, default: \"light\"): Chart theme (\"light\" or \"dark\")</p> <p>Returns: <pre><code>{\n  \"equity_curve\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...\",\n  \"trade_scatter\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...\",\n  \"performance_dashboard\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...\"\n}\n</code></pre></p>"},{"location":"api/backtesting/#generate_optimization_charts","title":"generate_optimization_charts","text":"<p>Generate heatmap charts for strategy parameter optimization results.</p> <p>Function: <code>generate_optimization_charts</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol - <code>strategy</code> (str, default: \"sma_cross\"): Strategy type - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>theme</code> (str, default: \"light\"): Chart theme (\"light\" or \"dark\")</p> <p>Returns: <pre><code>{\n  \"optimization_heatmap\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA...\"\n}\n</code></pre></p>"},{"location":"api/backtesting/#ml-enhanced-strategies","title":"ML-Enhanced Strategies","text":""},{"location":"api/backtesting/#run_ml_strategy_backtest","title":"run_ml_strategy_backtest","text":"<p>Run backtest using machine learning-enhanced strategies with adaptive capabilities.</p> <p>Function: <code>run_ml_strategy_backtest</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to backtest - <code>strategy_type</code> (str, default: \"ml_predictor\"): ML strategy type (\"ml_predictor\", \"adaptive\", \"ensemble\", \"regime_aware\") - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>initial_capital</code> (float, default: 10000.0): Initial capital amount - <code>train_ratio</code> (float, default: 0.8): Ratio of data for training (0.0-1.0) - <code>model_type</code> (str, default: \"random_forest\"): ML model type - <code>n_estimators</code> (int, default: 100): Number of estimators for ensemble models - <code>max_depth</code> (int, optional): Maximum tree depth - <code>learning_rate</code> (float, default: 0.01): Learning rate for adaptive strategies - <code>adaptation_method</code> (str, default: \"gradient\"): Adaptation method (\"gradient\", \"momentum\")</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"strategy_type\": \"ml_predictor\",\n  \"metrics\": {\n    \"total_return\": 0.24,\n    \"sharpe_ratio\": 1.35,\n    \"max_drawdown\": -0.09\n  },\n  \"ml_metrics\": {\n    \"training_period\": 400,\n    \"testing_period\": 100,\n    \"train_test_split\": 0.8,\n    \"feature_importance\": {\n      \"rsi\": 0.25,\n      \"macd\": 0.22,\n      \"volume_ratio\": 0.18,\n      \"price_momentum\": 0.16\n    },\n    \"model_accuracy\": 0.68,\n    \"prediction_confidence\": 0.72\n  }\n}\n</code></pre></p>"},{"location":"api/backtesting/#train_ml_predictor","title":"train_ml_predictor","text":"<p>Train a machine learning predictor model for generating trading signals.</p> <p>Function: <code>train_ml_predictor</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to train on - <code>start_date</code> (str, optional): Start date for training data - <code>end_date</code> (str, optional): End date for training data - <code>model_type</code> (str, default: \"random_forest\"): ML model type - <code>target_periods</code> (int, default: 5): Forward periods for target variable - <code>return_threshold</code> (float, default: 0.02): Return threshold for signal classification - <code>n_estimators</code> (int, default: 100): Number of estimators - <code>max_depth</code> (int, optional): Maximum tree depth - <code>min_samples_split</code> (int, default: 2): Minimum samples to split</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"model_type\": \"random_forest\",\n  \"training_period\": \"2022-01-01 to 2024-01-01\",\n  \"data_points\": 500,\n  \"target_periods\": 5,\n  \"return_threshold\": 0.02,\n  \"model_parameters\": {\n    \"n_estimators\": 100,\n    \"max_depth\": 10,\n    \"min_samples_split\": 2\n  },\n  \"training_metrics\": {\n    \"accuracy\": 0.68,\n    \"precision\": 0.72,\n    \"recall\": 0.65,\n    \"f1_score\": 0.68,\n    \"feature_importance\": {\n      \"rsi_14\": 0.25,\n      \"macd_signal\": 0.22,\n      \"volume_sma_ratio\": 0.18\n    }\n  }\n}\n</code></pre></p>"},{"location":"api/backtesting/#analyze_market_regimes","title":"analyze_market_regimes","text":"<p>Analyze market regimes using machine learning to identify different market conditions.</p> <p>Function: <code>analyze_market_regimes</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to analyze - <code>start_date</code> (str, optional): Start date for analysis - <code>end_date</code> (str, optional): End date for analysis - <code>method</code> (str, default: \"hmm\"): Detection method (\"hmm\", \"kmeans\", \"threshold\") - <code>n_regimes</code> (int, default: 3): Number of regimes to detect - <code>lookback_period</code> (int, default: 50): Lookback period for regime detection</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"analysis_period\": \"2023-01-01 to 2024-01-01\",\n  \"method\": \"hmm\",\n  \"n_regimes\": 3,\n  \"regime_names\": {\n    \"0\": \"Bear/Declining\",\n    \"1\": \"Sideways/Uncertain\",\n    \"2\": \"Bull/Trending\"\n  },\n  \"current_regime\": 2,\n  \"regime_counts\": {\"0\": 45, \"1\": 89, \"2\": 118},\n  \"regime_percentages\": {\"0\": 17.9, \"1\": 35.3, \"2\": 46.8},\n  \"average_regime_durations\": {\"0\": 15.2, \"1\": 22.3, \"2\": 28.7},\n  \"recent_regime_history\": [\n    {\n      \"date\": \"2024-01-15\",\n      \"regime\": 2,\n      \"probabilities\": [0.05, 0.15, 0.80]\n    }\n  ],\n  \"total_regime_switches\": 18\n}\n</code></pre></p>"},{"location":"api/backtesting/#create_strategy_ensemble","title":"create_strategy_ensemble","text":"<p>Create and backtest a strategy ensemble that combines multiple base strategies.</p> <p>Function: <code>create_strategy_ensemble</code></p> <p>Parameters: - <code>symbols</code> (list[str], required): List of stock symbols - <code>base_strategies</code> (list[str], optional): List of base strategy names (defaults to [\"sma_cross\", \"rsi\", \"macd\"]) - <code>weighting_method</code> (str, default: \"performance\"): Weighting method (\"performance\", \"equal\", \"volatility\") - <code>start_date</code> (str, optional): Start date for backtesting - <code>end_date</code> (str, optional): End date for backtesting - <code>initial_capital</code> (float, default: 10000.0): Initial capital per symbol</p> <p>Returns: <pre><code>{\n  \"ensemble_summary\": {\n    \"symbols_tested\": 5,\n    \"base_strategies\": [\"sma_cross\", \"rsi\", \"macd\"],\n    \"weighting_method\": \"performance\",\n    \"average_return\": 0.19,\n    \"total_trades\": 87,\n    \"average_trades_per_symbol\": 17.4\n  },\n  \"individual_results\": [\n    {\n      \"symbol\": \"AAPL\",\n      \"results\": {\n        \"total_return\": 0.21,\n        \"sharpe_ratio\": 1.18\n      },\n      \"ensemble_metrics\": {\n        \"strategy_weights\": {\"sma_cross\": 0.4, \"rsi\": 0.3, \"macd\": 0.3},\n        \"strategy_performance\": {\"sma_cross\": 0.15, \"rsi\": 0.12, \"macd\": 0.18}\n      }\n    }\n  ],\n  \"final_strategy_weights\": {\"sma_cross\": 0.42, \"rsi\": 0.28, \"macd\": 0.30}\n}\n</code></pre></p>"},{"location":"api/backtesting/#intelligent-backtesting-workflow","title":"Intelligent Backtesting Workflow","text":""},{"location":"api/backtesting/#run_intelligent_backtest","title":"run_intelligent_backtest","text":"<p>Run comprehensive intelligent backtesting workflow with automatic market regime analysis and strategy optimization.</p> <p>Function: <code>run_intelligent_backtest</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to analyze (e.g., 'AAPL', 'TSLA') - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD), defaults to 1 year ago - <code>end_date</code> (str, optional): End date (YYYY-MM-DD), defaults to today - <code>initial_capital</code> (float, default: 10000.0): Starting capital for backtest - <code>requested_strategy</code> (str, optional): User-preferred strategy (e.g., 'sma_cross', 'rsi', 'macd')</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"analysis_period\": \"2023-01-01 to 2024-01-01\",\n  \"execution_metadata\": {\n    \"total_execution_time\": 45.2,\n    \"steps_completed\": 6,\n    \"confidence_score\": 0.87\n  },\n  \"market_regime_analysis\": {\n    \"current_regime\": \"trending\",\n    \"regime_confidence\": 0.85,\n    \"market_characteristics\": {\n      \"volatility_percentile\": 35,\n      \"trend_strength\": 0.72,\n      \"volume_profile\": \"above_average\"\n    }\n  },\n  \"strategy_recommendations\": [\n    {\n      \"strategy\": \"macd\",\n      \"fitness_score\": 0.92,\n      \"recommended_parameters\": {\"fast_period\": 12, \"slow_period\": 26, \"signal_period\": 9},\n      \"expected_performance\": {\"sharpe_ratio\": 1.45, \"total_return\": 0.28}\n    },\n    {\n      \"strategy\": \"sma_cross\",\n      \"fitness_score\": 0.88,\n      \"recommended_parameters\": {\"fast_period\": 8, \"slow_period\": 21},\n      \"expected_performance\": {\"sharpe_ratio\": 1.32, \"total_return\": 0.24}\n    }\n  ],\n  \"optimization_results\": {\n    \"best_strategy\": \"macd\",\n    \"optimized_parameters\": {\"fast_period\": 12, \"slow_period\": 26, \"signal_period\": 9},\n    \"optimization_method\": \"grid_search\",\n    \"combinations_tested\": 48\n  },\n  \"validation_results\": {\n    \"walk_forward_analysis\": {\n      \"out_of_sample_sharpe\": 1.28,\n      \"consistency_score\": 0.82,\n      \"overfitting_risk\": \"low\"\n    },\n    \"monte_carlo_simulation\": {\n      \"probability_of_loss\": 0.12,\n      \"95_percent_confidence_interval\": {\"lower\": 0.08, \"upper\": 0.35}\n    }\n  },\n  \"final_recommendation\": {\n    \"recommended_strategy\": \"macd\",\n    \"confidence_level\": \"high\",\n    \"expected_annual_return\": 0.28,\n    \"expected_sharpe_ratio\": 1.45,\n    \"maximum_expected_drawdown\": -0.09,\n    \"risk_assessment\": \"moderate\",\n    \"implementation_notes\": [\n      \"Strategy performs well in trending markets\",\n      \"Consider position sizing based on volatility\",\n      \"Monitor for regime changes\"\n    ]\n  }\n}\n</code></pre></p>"},{"location":"api/backtesting/#quick_market_regime_analysis","title":"quick_market_regime_analysis","text":"<p>Perform fast market regime analysis and basic strategy recommendations without full optimization.</p> <p>Function: <code>quick_market_regime_analysis</code></p> <p>Parameters: - <code>symbol</code> (str, required): Stock symbol to analyze - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD), defaults to 1 year ago - <code>end_date</code> (str, optional): End date (YYYY-MM-DD), defaults to today</p> <p>Returns: <pre><code>{\n  \"symbol\": \"AAPL\",\n  \"analysis_type\": \"quick_analysis\",\n  \"execution_time\": 8.5,\n  \"market_regime\": {\n    \"classification\": \"trending\",\n    \"confidence\": 0.78,\n    \"characteristics\": {\n      \"trend_direction\": \"bullish\",\n      \"volatility_level\": \"moderate\",\n      \"volume_profile\": \"above_average\"\n    }\n  },\n  \"strategy_recommendations\": [\n    {\n      \"strategy\": \"sma_cross\",\n      \"fitness_score\": 0.85,\n      \"reasoning\": \"Strong trend favors moving average strategies\"\n    },\n    {\n      \"strategy\": \"macd\",\n      \"fitness_score\": 0.82,\n      \"reasoning\": \"MACD works well in trending environments\"\n    },\n    {\n      \"strategy\": \"momentum\",\n      \"fitness_score\": 0.79,\n      \"reasoning\": \"Momentum strategies benefit from clear trends\"\n    }\n  ],\n  \"market_conditions_summary\": {\n    \"overall_assessment\": \"favorable_for_trend_following\",\n    \"risk_level\": \"moderate\",\n    \"recommended_position_sizing\": \"standard\"\n  }\n}\n</code></pre></p>"},{"location":"api/backtesting/#explain_market_regime","title":"explain_market_regime","text":"<p>Get detailed explanation of market regime characteristics and suitable strategies.</p> <p>Function: <code>explain_market_regime</code></p> <p>Parameters: - <code>regime</code> (str, required): Market regime to explain (\"trending\", \"ranging\", \"volatile\", \"volatile_trending\", \"low_volume\")</p> <p>Returns: <pre><code>{\n  \"regime\": \"trending\",\n  \"explanation\": {\n    \"description\": \"A market in a clear directional movement (up or down trend)\",\n    \"characteristics\": [\n      \"Strong directional price movement\",\n      \"Higher highs and higher lows (uptrend) or lower highs and lower lows (downtrend)\",\n      \"Good momentum indicators\",\n      \"Volume supporting the trend direction\"\n    ],\n    \"best_strategies\": [\"sma_cross\", \"ema_cross\", \"macd\", \"breakout\", \"momentum\"],\n    \"avoid_strategies\": [\"rsi\", \"mean_reversion\", \"bollinger\"],\n    \"risk_factors\": [\n      \"Trend reversals can be sudden\",\n      \"False breakouts in weak trends\",\n      \"Momentum strategies can give late signals\"\n    ]\n  },\n  \"trading_tips\": [\n    \"Focus on sma_cross, ema_cross, macd, breakout, momentum strategies\",\n    \"Avoid rsi, mean_reversion, bollinger strategies\",\n    \"Always use proper risk management\",\n    \"Consider the broader market context\"\n  ]\n}\n</code></pre></p>"},{"location":"api/backtesting/#available-strategies","title":"Available Strategies","text":""},{"location":"api/backtesting/#traditional-technical-analysis-strategies","title":"Traditional Technical Analysis Strategies","text":""},{"location":"api/backtesting/#1-sma-crossover-sma_cross","title":"1. SMA Crossover (<code>sma_cross</code>)","text":"<ul> <li>Description: Buy when fast SMA crosses above slow SMA, sell when crosses below</li> <li>Default Parameters: <code>fast_period=10, slow_period=20</code></li> <li>Best For: Trending markets</li> <li>Optimization Ranges: fast_period [5-20], slow_period [20-100]</li> </ul>"},{"location":"api/backtesting/#2-ema-crossover-ema_cross","title":"2. EMA Crossover (<code>ema_cross</code>)","text":"<ul> <li>Description: Exponential moving average crossover with faster response than SMA</li> <li>Default Parameters: <code>fast_period=12, slow_period=26</code></li> <li>Best For: Trending markets with more responsiveness</li> <li>Optimization Ranges: fast_period [8-20], slow_period [20-50]</li> </ul>"},{"location":"api/backtesting/#3-rsi-mean-reversion-rsi","title":"3. RSI Mean Reversion (<code>rsi</code>)","text":"<ul> <li>Description: Buy oversold (RSI &lt; 30), sell overbought (RSI &gt; 70)</li> <li>Default Parameters: <code>period=14, oversold=30, overbought=70</code></li> <li>Best For: Ranging/sideways markets</li> <li>Optimization Ranges: period [7-21], oversold [20-35], overbought [65-80]</li> </ul>"},{"location":"api/backtesting/#4-macd-signal-macd","title":"4. MACD Signal (<code>macd</code>)","text":"<ul> <li>Description: Buy when MACD crosses above signal line, sell when crosses below</li> <li>Default Parameters: <code>fast_period=12, slow_period=26, signal_period=9</code></li> <li>Best For: Trending markets with momentum confirmation</li> <li>Optimization Ranges: fast_period [8-14], slow_period [21-30], signal_period [7-11]</li> </ul>"},{"location":"api/backtesting/#5-bollinger-bands-bollinger","title":"5. Bollinger Bands (<code>bollinger</code>)","text":"<ul> <li>Description: Buy at lower band (oversold), sell at upper band (overbought)</li> <li>Default Parameters: <code>period=20, std_dev=2.0</code></li> <li>Best For: Mean-reverting/ranging markets</li> <li>Optimization Ranges: period [10-25], std_dev [1.5-3.0]</li> </ul>"},{"location":"api/backtesting/#6-momentum-momentum","title":"6. Momentum (<code>momentum</code>)","text":"<ul> <li>Description: Buy strong momentum, sell weak momentum based on returns threshold</li> <li>Default Parameters: <code>lookback=20, threshold=0.05</code></li> <li>Best For: Trending markets with clear momentum</li> <li>Optimization Ranges: lookback [10-30], threshold [0.02-0.10]</li> </ul>"},{"location":"api/backtesting/#7-mean-reversion-mean_reversion","title":"7. Mean Reversion (<code>mean_reversion</code>)","text":"<ul> <li>Description: Buy when price is below moving average by threshold</li> <li>Default Parameters: <code>ma_period=20, entry_threshold=0.02, exit_threshold=0.01</code></li> <li>Best For: Sideways/ranging markets</li> <li>Optimization Ranges: ma_period [15-50], entry_threshold [0.01-0.05]</li> </ul>"},{"location":"api/backtesting/#8-channel-breakout-breakout","title":"8. Channel Breakout (<code>breakout</code>)","text":"<ul> <li>Description: Buy on breakout above rolling high, sell on breakdown below rolling low</li> <li>Default Parameters: <code>lookback=20, exit_lookback=10</code></li> <li>Best For: Volatile trending markets</li> <li>Optimization Ranges: lookback [10-50], exit_lookback [5-20]</li> </ul>"},{"location":"api/backtesting/#9-volume-weighted-momentum-volume_momentum","title":"9. Volume-Weighted Momentum (<code>volume_momentum</code>)","text":"<ul> <li>Description: Momentum strategy filtered by volume surge</li> <li>Default Parameters: <code>momentum_period=20, volume_period=20, momentum_threshold=0.05, volume_multiplier=1.5</code></li> <li>Best For: Markets with significant volume participation</li> <li>Optimization Ranges: momentum_period [10-30], volume_multiplier [1.2-2.0]</li> </ul>"},{"location":"api/backtesting/#ml-enhanced-strategies_1","title":"ML-Enhanced Strategies","text":""},{"location":"api/backtesting/#1-ml-predictor-ml_predictor","title":"1. ML Predictor (<code>ml_predictor</code>)","text":"<ul> <li>Uses machine learning models (Random Forest, etc.) to predict future price movements</li> <li>Features: Technical indicators, price patterns, volume analysis</li> <li>Training/testing split with out-of-sample validation</li> </ul>"},{"location":"api/backtesting/#2-adaptive-strategy-adaptive","title":"2. Adaptive Strategy (<code>adaptive</code>)","text":"<ul> <li>Adapts base strategy parameters based on recent performance</li> <li>Uses gradient-based or momentum-based adaptation methods</li> <li>Continuously learns from market feedback</li> </ul>"},{"location":"api/backtesting/#3-strategy-ensemble-ensemble","title":"3. Strategy Ensemble (<code>ensemble</code>)","text":"<ul> <li>Combines multiple base strategies with dynamic weighting</li> <li>Weighting methods: performance-based, equal-weight, volatility-adjusted</li> <li>Provides diversification benefits</li> </ul>"},{"location":"api/backtesting/#4-regime-aware-strategy-regime_aware","title":"4. Regime-Aware Strategy (<code>regime_aware</code>)","text":"<ul> <li>Automatically switches between different strategies based on detected market regime</li> <li>Uses Hidden Markov Models or clustering for regime detection</li> <li>Optimizes strategy selection for current market conditions</li> </ul>"},{"location":"api/backtesting/#performance-considerations","title":"Performance Considerations","text":""},{"location":"api/backtesting/#execution-times","title":"Execution Times","text":"<ul> <li>Simple Backtest: 2-5 seconds</li> <li>Strategy Optimization: 30-120 seconds (depending on level)</li> <li>Walk-Forward Analysis: 60-300 seconds</li> <li>Monte Carlo Simulation: 45-90 seconds</li> <li>ML Strategy Training: 60-180 seconds</li> <li>Intelligent Backtest: 120-300 seconds (full workflow)</li> </ul>"},{"location":"api/backtesting/#memory-usage","title":"Memory Usage","text":"<ul> <li>Single Symbol: 50-200 MB</li> <li>Portfolio (5 symbols): 200-500 MB</li> <li>ML Training: 100-1000 MB (depending on data size)</li> </ul>"},{"location":"api/backtesting/#optimization-levels","title":"Optimization Levels","text":"<ul> <li>Coarse: 16-36 parameter combinations, fastest</li> <li>Medium: 36-100 combinations, balanced speed/accuracy</li> <li>Fine: 100-500+ combinations, most thorough</li> </ul>"},{"location":"api/backtesting/#error-handling","title":"Error Handling","text":""},{"location":"api/backtesting/#common-errors","title":"Common Errors","text":""},{"location":"api/backtesting/#insufficient-data","title":"Insufficient Data","text":"<pre><code>{\n  \"error\": \"Insufficient data for backtest (minimum 100 data points)\",\n  \"symbol\": \"PENNY_STOCK\",\n  \"message\": \"Please use a longer time period or different symbol\"\n}\n</code></pre>"},{"location":"api/backtesting/#invalid-strategy","title":"Invalid Strategy","text":"<pre><code>{\n  \"error\": \"Unknown strategy type: invalid_strategy\",\n  \"available_strategies\": [\"sma_cross\", \"rsi\", \"macd\", ...],\n  \"message\": \"Please use one of the available strategy types\"\n}\n</code></pre>"},{"location":"api/backtesting/#parameter-validation","title":"Parameter Validation","text":"<pre><code>{\n  \"error\": \"Invalid parameter value\",\n  \"parameter\": \"fast_period\",\n  \"value\": -5,\n  \"message\": \"fast_period must be positive integer\"\n}\n</code></pre>"},{"location":"api/backtesting/#ml-training-errors","title":"ML Training Errors","text":"<pre><code>{\n  \"error\": \"ML training failed: Insufficient data for training (minimum 200 data points)\",\n  \"symbol\": \"LOW_DATA_STOCK\",\n  \"message\": \"ML strategies require more historical data\"\n}\n</code></pre>"},{"location":"api/backtesting/#troubleshooting","title":"Troubleshooting","text":"<ol> <li>Data Issues: Ensure sufficient historical data (minimum 100 points, 200+ for ML)</li> <li>Parameter Validation: Check parameter types and ranges</li> <li>Memory Issues: Reduce number of symbols in portfolio backtests</li> <li>Timeout Issues: Use coarse optimization for faster results</li> <li>Strategy Parsing: Use exact strategy names from <code>list_strategies</code></li> </ol>"},{"location":"api/backtesting/#integration-examples","title":"Integration Examples","text":""},{"location":"api/backtesting/#claude-desktop-usage","title":"Claude Desktop Usage","text":"<pre><code># Basic backtest\n\"Run a backtest for AAPL using RSI strategy with 14-day period\"\n\n# Strategy comparison\n\"Compare SMA crossover, RSI, and MACD strategies on Tesla stock\"\n\n# Intelligent analysis\n\"Run intelligent backtest on Microsoft stock and recommend the best strategy\"\n\n# Portfolio backtest\n\"Backtest momentum strategy on AAPL, MSFT, GOOGL, AMZN, and TSLA\"\n\n# Optimization\n\"Optimize MACD parameters for Netflix stock over the last 2 years\"\n\n# ML strategies\n\"Train an ML predictor on Amazon stock and test its performance\"\n</code></pre>"},{"location":"api/backtesting/#api-integration","title":"API Integration","text":"<pre><code># Using MCP client\nimport mcp\n\nclient = mcp.Client(\"maverick-mcp\")\n\n# Run backtest\nresult = await client.call_tool(\"run_backtest\", {\n    \"symbol\": \"AAPL\",\n    \"strategy\": \"sma_cross\",\n    \"fast_period\": 10,\n    \"slow_period\": 20,\n    \"initial_capital\": 50000\n})\n\n# Optimize strategy\noptimization = await client.call_tool(\"optimize_strategy\", {\n    \"symbol\": \"TSLA\",\n    \"strategy\": \"rsi\",\n    \"optimization_level\": \"medium\",\n    \"optimization_metric\": \"sharpe_ratio\"\n})\n\n# Intelligent backtest\nintelligent_result = await client.call_tool(\"run_intelligent_backtest\", {\n    \"symbol\": \"MSFT\",\n    \"start_date\": \"2022-01-01\",\n    \"end_date\": \"2023-12-31\"\n})\n</code></pre>"},{"location":"api/backtesting/#workflow-integration","title":"Workflow Integration","text":"<pre><code># Complete backtesting workflow\nsymbols = [\"AAPL\", \"MSFT\", \"GOOGL\"]\nstrategies = [\"sma_cross\", \"rsi\", \"macd\"]\n\nfor symbol in symbols:\n    # 1. Quick regime analysis\n    regime = await client.call_tool(\"quick_market_regime_analysis\", {\n        \"symbol\": symbol\n    })\n\n    # 2. Strategy comparison\n    comparison = await client.call_tool(\"compare_strategies\", {\n        \"symbol\": symbol,\n        \"strategies\": strategies\n    })\n\n    # 3. Optimize best strategy\n    best_strategy = comparison[\"best_overall\"]\n    optimization = await client.call_tool(\"optimize_strategy\", {\n        \"symbol\": symbol,\n        \"strategy\": best_strategy\n    })\n\n    # 4. Validate with walk-forward\n    validation = await client.call_tool(\"walk_forward_analysis\", {\n        \"symbol\": symbol,\n        \"strategy\": best_strategy\n    })\n</code></pre>"},{"location":"api/backtesting/#best-practices","title":"Best Practices","text":""},{"location":"api/backtesting/#strategy-selection","title":"Strategy Selection","text":"<ol> <li>Trending Markets: Use sma_cross, ema_cross, macd, breakout, momentum</li> <li>Ranging Markets: Use rsi, bollinger, mean_reversion</li> <li>Volatile Markets: Use breakout, volatility_breakout with wider stops</li> <li>Unknown Conditions: Use intelligent_backtest for automatic selection</li> </ol>"},{"location":"api/backtesting/#parameter-optimization","title":"Parameter Optimization","text":"<ol> <li>Start with Default: Test default parameters first</li> <li>Use Medium Level: Good balance of thoroughness and speed</li> <li>Validate Results: Always use walk-forward analysis for final validation</li> <li>Avoid Overfitting: Check for consistent out-of-sample performance</li> </ol>"},{"location":"api/backtesting/#risk-management","title":"Risk Management","text":"<ol> <li>Position Sizing: Never risk more than 1-2% per trade</li> <li>Diversification: Test strategies across multiple symbols</li> <li>Regime Awareness: Monitor market regime changes</li> <li>Drawdown Limits: Set maximum acceptable drawdown levels</li> </ol>"},{"location":"api/backtesting/#performance-optimization","title":"Performance Optimization","text":"<ol> <li>Parallel Processing: Use portfolio backtests for batch analysis</li> <li>Caching: Results are cached for faster repeated analysis</li> <li>Data Efficiency: Use appropriate date ranges to balance data needs and speed</li> <li>ML Considerations: Ensure sufficient training data for ML strategies</li> </ol> <p>This comprehensive API documentation provides everything needed to effectively use the MaverickMCP backtesting system. Each tool is designed to work independently or as part of larger workflows, with extensive error handling and performance optimization built-in.</p>"},{"location":"api-reference/core/","title":"Core API Reference","text":"<p>Core financial analysis functions and technical indicators.</p>"},{"location":"api-reference/core/#module-maverick_mcpcoretechnical_analysis","title":"Module: maverick_mcp.core.technical_analysis","text":""},{"location":"api-reference/core/#calculate_sma","title":"calculate_sma()","text":"<p>Calculate Simple Moving Average.</p> <p>Signature: <pre><code>def calculate_sma(\n    data: pd.DataFrame,\n    period: int = 20,\n    price_col: str = \"Close\"\n) -&gt; pd.DataFrame\n</code></pre></p> <p>Parameters: - <code>data</code> (pd.DataFrame): DataFrame with OHLCV data - <code>period</code> (int, optional): Moving average period. Default: 20 - <code>price_col</code> (str, optional): Column to use for calculation. Default: \"Close\"</p> <p>Returns: - pd.DataFrame: Input data with added SMA column</p> <p>Example: <pre><code>from maverick_mcp.core.technical_analysis import calculate_sma\nimport pandas as pd\n\n# Sample data\ndata = pd.DataFrame({\n    'Close': [100, 102, 101, 103, 105]\n})\n\n# Calculate 3-period SMA\nresult = calculate_sma(data, period=3)\nprint(result['SMA_3'])\n</code></pre></p>"},{"location":"api-reference/core/#calculate_ema","title":"calculate_ema()","text":"<p>Calculate Exponential Moving Average.</p> <p>Signature: <pre><code>def calculate_ema(\n    data: pd.DataFrame,\n    period: int = 20,\n    price_col: str = \"Close\"\n) -&gt; pd.DataFrame\n</code></pre></p> <p>Parameters: - <code>data</code> (pd.DataFrame): DataFrame with OHLCV data - <code>period</code> (int, optional): EMA period. Default: 20 - <code>price_col</code> (str, optional): Column to use. Default: \"Close\"</p> <p>Returns: - pd.DataFrame: Input data with added EMA column</p> <p>Formula: <pre><code>EMA = Price(t) \u00d7 k + EMA(y) \u00d7 (1 \u2212 k)\nwhere k = 2 / (period + 1)\n</code></pre></p>"},{"location":"api-reference/core/#calculate_rsi","title":"calculate_rsi()","text":"<p>Calculate Relative Strength Index.</p> <p>Signature: <pre><code>def calculate_rsi(\n    data: pd.DataFrame,\n    period: int = 14,\n    price_col: str = \"Close\"\n) -&gt; pd.DataFrame\n</code></pre></p> <p>Parameters: - <code>data</code> (pd.DataFrame): DataFrame with OHLCV data - <code>period</code> (int, optional): RSI period. Default: 14 - <code>price_col</code> (str, optional): Column to use. Default: \"Close\"</p> <p>Returns: - pd.DataFrame: Input data with added RSI column</p> <p>Formula: <pre><code>RSI = 100 - (100 / (1 + RS))\nwhere RS = Average Gain / Average Loss over period\n</code></pre></p> <p>Interpretation: - RSI &gt; 70: Overbought - RSI &lt; 30: Oversold - RSI = 50: Neutral</p>"},{"location":"api-reference/core/#calculate_macd","title":"calculate_macd()","text":"<p>Calculate Moving Average Convergence Divergence.</p> <p>Signature: <pre><code>def calculate_macd(\n    data: pd.DataFrame,\n    fast_period: int = 12,\n    slow_period: int = 26,\n    signal_period: int = 9,\n    price_col: str = \"Close\"\n) -&gt; pd.DataFrame\n</code></pre></p> <p>Parameters: - <code>data</code> (pd.DataFrame): DataFrame with OHLCV data - <code>fast_period</code> (int, optional): Fast EMA period. Default: 12 - <code>slow_period</code> (int, optional): Slow EMA period. Default: 26 - <code>signal_period</code> (int, optional): Signal line period. Default: 9 - <code>price_col</code> (str, optional): Column to use. Default: \"Close\"</p> <p>Returns: - pd.DataFrame: Input data with MACD, Signal, and Histogram columns</p> <p>Formula: <pre><code>MACD Line = EMA(12) - EMA(26)\nSignal Line = EMA(9) of MACD Line\nHistogram = MACD Line - Signal Line\n</code></pre></p> <p>Signals: - MACD crosses above Signal: Bullish - MACD crosses below Signal: Bearish - Histogram expanding: Trend strengthening - Histogram contracting: Trend weakening</p>"},{"location":"api-reference/core/#calculate_bollinger_bands","title":"calculate_bollinger_bands()","text":"<p>Calculate Bollinger Bands.</p> <p>Signature: <pre><code>def calculate_bollinger_bands(\n    data: pd.DataFrame,\n    period: int = 20,\n    std_dev: float = 2.0,\n    price_col: str = \"Close\"\n) -&gt; pd.DataFrame\n</code></pre></p> <p>Parameters: - <code>data</code> (pd.DataFrame): DataFrame with OHLCV data - <code>period</code> (int, optional): Moving average period. Default: 20 - <code>std_dev</code> (float, optional): Standard deviations for bands. Default: 2.0 - <code>price_col</code> (str, optional): Column to use. Default: \"Close\"</p> <p>Returns: - pd.DataFrame: Input data with Upper_Band, Middle_Band, Lower_Band columns</p> <p>Formula: <pre><code>Middle Band = SMA(period)\nUpper Band = Middle Band + (std_dev \u00d7 standard deviation)\nLower Band = Middle Band - (std_dev \u00d7 standard deviation)\n</code></pre></p> <p>Interpretation: - Price touches upper band: Overbought - Price touches lower band: Oversold - Band width: Volatility indicator</p>"},{"location":"api-reference/core/#get_support_resistance","title":"get_support_resistance()","text":"<p>Identify support and resistance levels.</p> <p>Signature: <pre><code>def get_support_resistance(\n    data: pd.DataFrame,\n    lookback: int = 20\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>data</code> (pd.DataFrame): DataFrame with OHLCV data - <code>lookback</code> (int, optional): Period for level detection. Default: 20</p> <p>Returns: - dict: Contains 'support' and 'resistance' price levels</p> <p>Algorithm: - Identifies local minima for support - Identifies local maxima for resistance - Uses pivot point detection</p>"},{"location":"api-reference/core/#module-maverick_mcpcorevisualization","title":"Module: maverick_mcp.core.visualization","text":""},{"location":"api-reference/core/#plot_stock_chart","title":"plot_stock_chart()","text":"<p>Create interactive stock price chart.</p> <p>Signature: <pre><code>def plot_stock_chart(\n    data: pd.DataFrame,\n    ticker: str,\n    show_volume: bool = True\n) -&gt; str\n</code></pre></p> <p>Parameters: - <code>data</code> (pd.DataFrame): DataFrame with OHLCV data - <code>ticker</code> (str): Stock symbol for chart title - <code>show_volume</code> (bool, optional): Include volume subplot. Default: True</p> <p>Returns: - str: HTML string with Plotly chart</p>"},{"location":"api-reference/core/#plot_technical_indicators","title":"plot_technical_indicators()","text":"<p>Plot technical indicators with price chart.</p> <p>Signature: <pre><code>def plot_technical_indicators(\n    data: pd.DataFrame,\n    ticker: str,\n    indicators: list[str]\n) -&gt; str\n</code></pre></p> <p>Parameters: - <code>data</code> (pd.DataFrame): DataFrame with price and indicator data - <code>ticker</code> (str): Stock symbol - <code>indicators</code> (list[str]): List of indicator names to plot</p> <p>Returns: - str: HTML string with multi-panel chart</p> <p>Supported Indicators: - SMA, EMA (overlaid on price) - RSI (separate panel) - MACD (separate panel with histogram) - Bollinger Bands (overlaid on price)</p>"},{"location":"api-reference/core/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/core/#data-requirements","title":"Data Requirements","text":"<p>All technical analysis functions expect DataFrames with: - Date index: DatetimeIndex or date column - OHLCV columns: Open, High, Low, Close, Volume - Clean data: No missing values in critical columns</p>"},{"location":"api-reference/core/#error-handling","title":"Error Handling","text":"<pre><code>try:\n    result = calculate_rsi(data, period=14)\nexcept ValueError as e:\n    print(f\"Invalid data: {e}\")\nexcept KeyError as e:\n    print(f\"Missing column: {e}\")\n</code></pre>"},{"location":"api-reference/core/#performance-tips","title":"Performance Tips","text":"<ul> <li>Pre-sort data by date before calculations</li> <li>Use vectorized operations (pandas/numpy)</li> <li>Cache results for repeated calculations</li> <li>Batch process multiple indicators</li> </ul>"},{"location":"api-reference/core/#common-patterns","title":"Common Patterns","text":"<p>Combine Multiple Indicators: <pre><code>data = calculate_sma(data, period=20)\ndata = calculate_ema(data, period=12)\ndata = calculate_rsi(data, period=14)\ndata = calculate_macd(data)\ndata = calculate_bollinger_bands(data)\n</code></pre></p> <p>Check for Signals: <pre><code># RSI oversold\noversold = data[data['RSI'] &lt; 30]\n\n# MACD bullish crossover\nbullish = data[data['MACD'] &gt; data['Signal']]\n\n# Price above upper Bollinger Band\noverbought = data[data['Close'] &gt; data['Upper_Band']]\n</code></pre></p>"},{"location":"api-reference/data/","title":"Data API Reference","text":"<p>Data models, caching, and session management.</p>"},{"location":"api-reference/data/#module-maverick_mcpdatamodels","title":"Module: maverick_mcp.data.models","text":"<p>Database models for stock data, screening, and cache.</p>"},{"location":"api-reference/data/#stock","title":"Stock","text":"<p>Primary stock data model with S&amp;P 500 pre-seeded data.</p> <p>Fields: - <code>id</code> (int): Primary key - <code>ticker</code> (str): Stock symbol (e.g., \"AAPL\", \"RELIANCE.NS\") - <code>name</code> (str): Company name - <code>sector</code> (str): Industry sector - <code>industry</code> (str): Specific industry - <code>market_cap</code> (float): Market capitalization - <code>price</code> (float): Current/last price - <code>change_percent</code> (float): Daily change percentage - <code>volume</code> (int): Trading volume - <code>updated_at</code> (datetime): Last data update - <code>market</code> (str): Market exchange (e.g., \"US\", \"NSE\", \"BSE\")</p> <p>Relationships: - <code>price_history</code>: One-to-many with StockPrice - <code>screening_scores</code>: One-to-many with ScreeningScore</p> <p>Example: <pre><code>from maverick_mcp.data.models import Stock\nfrom maverick_mcp.data.session_management import get_session\n\nsession = get_session()\nstock = session.query(Stock).filter_by(ticker=\"AAPL\").first()\nprint(f\"{stock.name}: ${stock.price}\")\n</code></pre></p>"},{"location":"api-reference/data/#stockprice","title":"StockPrice","text":"<p>Historical price data with OHLCV.</p> <p>Fields: - <code>id</code> (int): Primary key - <code>stock_id</code> (int): Foreign key to Stock - <code>date</code> (date): Trading date - <code>open</code> (float): Opening price - <code>high</code> (float): Highest price - <code>low</code> (float): Lowest price - <code>close</code> (float): Closing price - <code>volume</code> (int): Trading volume - <code>adjusted_close</code> (float): Split/dividend adjusted close</p> <p>Indexes: - Composite index on (stock_id, date) for fast queries - Date index for time-series queries</p> <p>Example: <pre><code>from maverick_mcp.data.models import Stock, StockPrice\nfrom datetime import datetime, timedelta\n\n# Get last 30 days of prices\nthirty_days_ago = datetime.now() - timedelta(days=30)\nprices = session.query(StockPrice).join(Stock).filter(\n    Stock.ticker == \"AAPL\",\n    StockPrice.date &gt;= thirty_days_ago\n).order_by(StockPrice.date).all()\n</code></pre></p>"},{"location":"api-reference/data/#screeningscore","title":"ScreeningScore","text":"<p>Pre-calculated screening strategy scores for S&amp;P 500 stocks.</p> <p>Fields: - <code>id</code> (int): Primary key - <code>stock_id</code> (int): Foreign key to Stock - <code>strategy</code> (str): Strategy name (e.g., \"maverick_bullish\") - <code>score</code> (float): Score 0-100 - <code>signals</code> (JSON): Strategy-specific signals - <code>calculated_at</code> (datetime): Score calculation timestamp - <code>metadata</code> (JSON): Additional strategy data</p> <p>Strategies: - <code>maverick_bullish</code>: High momentum stocks - <code>maverick_bearish</code>: Weak stocks to avoid - <code>supply_demand_breakout</code>: Breakout candidates</p> <p>Example: <pre><code>from maverick_mcp.data.models import ScreeningScore\n\n# Get top 10 bullish stocks\ntop_bullish = session.query(ScreeningScore).filter(\n    ScreeningScore.strategy == \"maverick_bullish\"\n).order_by(ScreeningScore.score.desc()).limit(10).all()\n\nfor score in top_bullish:\n    print(f\"{score.stock.ticker}: {score.score}/100\")\n</code></pre></p>"},{"location":"api-reference/data/#cacheentry","title":"CacheEntry","text":"<p>Generic cache storage for API responses.</p> <p>Fields: - <code>id</code> (int): Primary key - <code>key</code> (str): Cache key (unique) - <code>value</code> (Text/JSON): Cached value - <code>expires_at</code> (datetime): Expiration timestamp - <code>created_at</code> (datetime): Creation timestamp</p> <p>TTL Settings: - Stock data: 1 hour - Screening: 24 hours - Research: 24 hours - Conference calls: 7 days</p>"},{"location":"api-reference/data/#module-maverick_mcpdatacache","title":"Module: maverick_mcp.data.cache","text":"<p>Multi-tier caching system.</p>"},{"location":"api-reference/data/#cachemanager","title":"CacheManager","text":"<p>Unified caching interface with Redis + Database fallback.</p> <p>Class: <code>CacheManager</code></p> <p>Methods:</p>"},{"location":"api-reference/data/#get","title":"get()","text":"<p>Retrieve cached value.</p> <p>Signature: <pre><code>def get(self, key: str) -&gt; Any | None\n</code></pre></p> <p>Parameters: - <code>key</code> (str): Cache key</p> <p>Returns: - Any: Cached value if found and not expired - None: If not found or expired</p> <p>Cache Tiers: 1. Redis (L1): &lt; 1ms 2. Database (L2): &lt; 100ms 3. Miss: Returns None</p> <p>Example: <pre><code>from maverick_mcp.data.cache import CacheManager\n\ncache = CacheManager()\nvalue = cache.get(\"stock:AAPL:quote\")\nif value is None:\n    value = fetch_from_api()\n    cache.set(\"stock:AAPL:quote\", value, ttl=3600)\n</code></pre></p>"},{"location":"api-reference/data/#set","title":"set()","text":"<p>Store value in cache.</p> <p>Signature: <pre><code>def set(self, key: str, value: Any, ttl: int = 3600) -&gt; bool\n</code></pre></p> <p>Parameters: - <code>key</code> (str): Cache key - <code>value</code> (Any): Value to cache (must be JSON-serializable) - <code>ttl</code> (int, optional): Time-to-live in seconds. Default: 3600 (1 hour)</p> <p>Returns: - bool: True if successfully cached</p> <p>Storage: - Redis: Primary storage (if available) - Database: Fallback storage (always)</p>"},{"location":"api-reference/data/#delete","title":"delete()","text":"<p>Remove cached value.</p> <p>Signature: <pre><code>def delete(self, key: str) -&gt; bool\n</code></pre></p> <p>Parameters: - <code>key</code> (str): Cache key to delete</p> <p>Returns: - bool: True if deleted</p>"},{"location":"api-reference/data/#clear","title":"clear()","text":"<p>Clear all cache entries.</p> <p>Signature: <pre><code>def clear(self, pattern: str = \"*\") -&gt; int\n</code></pre></p> <p>Parameters: - <code>pattern</code> (str, optional): Key pattern to clear. Default: \"*\" (all)</p> <p>Returns: - int: Number of entries cleared</p> <p>Example: <pre><code># Clear all stock data cache\ncache.clear(\"stock:*\")\n\n# Clear specific ticker\ncache.clear(\"stock:AAPL:*\")\n</code></pre></p>"},{"location":"api-reference/data/#module-maverick_mcpdatasession_management","title":"Module: maverick_mcp.data.session_management","text":"<p>Database session handling.</p>"},{"location":"api-reference/data/#get_session","title":"get_session()","text":"<p>Get database session (SQLAlchemy).</p> <p>Signature: <pre><code>def get_session() -&gt; Session\n</code></pre></p> <p>Returns: - Session: SQLAlchemy database session</p> <p>Usage: <pre><code>from maverick_mcp.data.session_management import get_session\n\nsession = get_session()\ntry:\n    # Perform database operations\n    stocks = session.query(Stock).all()\nfinally:\n    session.close()\n</code></pre></p> <p>Context Manager: <pre><code>from maverick_mcp.data.session_management import session_scope\n\nwith session_scope() as session:\n    stocks = session.query(Stock).filter_by(sector=\"Technology\").all()\n# Session automatically closed\n</code></pre></p>"},{"location":"api-reference/data/#session_scope","title":"session_scope()","text":"<p>Context manager for database sessions.</p> <p>Signature: <pre><code>@contextmanager\ndef session_scope() -&gt; Iterator[Session]\n</code></pre></p> <p>Yields: - Session: Database session</p> <p>Features: - Automatic commit on success - Automatic rollback on error - Automatic session cleanup</p>"},{"location":"api-reference/data/#module-maverick_mcpdataperformance","title":"Module: maverick_mcp.data.performance","text":"<p>Performance monitoring and optimization.</p>"},{"location":"api-reference/data/#performancetracker","title":"PerformanceTracker","text":"<p>Track query performance and cache hit rates.</p> <p>Methods:</p>"},{"location":"api-reference/data/#track_query","title":"track_query()","text":"<p>Record query execution time.</p> <p>Signature: <pre><code>def track_query(self, query_type: str, duration: float)\n</code></pre></p> <p>Parameters: - <code>query_type</code> (str): Query category (e.g., \"stock_data\", \"screening\") - <code>duration</code> (float): Execution time in seconds</p>"},{"location":"api-reference/data/#track_cache_hit","title":"track_cache_hit()","text":"<p>Record cache hit.</p> <p>Signature: <pre><code>def track_cache_hit(self, cache_key: str)\n</code></pre></p>"},{"location":"api-reference/data/#track_cache_miss","title":"track_cache_miss()","text":"<p>Record cache miss.</p> <p>Signature: <pre><code>def track_cache_miss(self, cache_key: str)\n</code></pre></p>"},{"location":"api-reference/data/#get_stats","title":"get_stats()","text":"<p>Get performance statistics.</p> <p>Signature: <pre><code>def get_stats(self) -&gt; dict\n</code></pre></p> <p>Returns: - dict: Performance metrics including:   - Average query times by type   - Cache hit rate   - Total queries   - Total cache operations</p>"},{"location":"api-reference/data/#module-maverick_mcpdatavalidation","title":"Module: maverick_mcp.data.validation","text":"<p>Data validation and sanitization.</p>"},{"location":"api-reference/data/#validate_ticker","title":"validate_ticker()","text":"<p>Validate stock ticker format.</p> <p>Signature: <pre><code>def validate_ticker(ticker: str) -&gt; str\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol to validate</p> <p>Returns: - str: Validated and normalized ticker</p> <p>Raises: - ValueError: If ticker is invalid</p> <p>Rules: - 1-5 characters for US stocks - Can include .NS (Indian NSE) or .BO (Indian BSE) suffix - Uppercase only - Alphanumeric plus hyphen and dot</p> <p>Example: <pre><code>from maverick_mcp.data.validation import validate_ticker\n\nticker = validate_ticker(\"aapl\")  # Returns \"AAPL\"\nticker = validate_ticker(\"reliance.ns\")  # Returns \"RELIANCE.NS\"\nticker = validate_ticker(\"brk.b\")  # Returns \"BRK.B\"\n</code></pre></p>"},{"location":"api-reference/data/#validate_date_range","title":"validate_date_range()","text":"<p>Validate date range for historical data.</p> <p>Signature: <pre><code>def validate_date_range(\n    start_date: str | datetime,\n    end_date: str | datetime\n) -&gt; tuple[datetime, datetime]\n</code></pre></p> <p>Parameters: - <code>start_date</code>: Start date (YYYY-MM-DD string or datetime) - <code>end_date</code>: End date (YYYY-MM-DD string or datetime)</p> <p>Returns: - tuple[datetime, datetime]: Validated start and end dates</p> <p>Raises: - ValueError: If dates are invalid or range is invalid</p> <p>Rules: - start_date must be before end_date - Dates cannot be in the future - Maximum range: 10 years</p>"},{"location":"api-reference/data/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/data/#database-sessions","title":"Database Sessions","text":"<p>Always use context managers: <pre><code># Good\nwith session_scope() as session:\n    stocks = session.query(Stock).all()\n\n# Bad - may leak connections\nsession = get_session()\nstocks = session.query(Stock).all()\nsession.close()  # Easy to forget\n</code></pre></p>"},{"location":"api-reference/data/#caching-strategy","title":"Caching Strategy","text":"<p>Cache expensive operations: <pre><code>from maverick_mcp.data.cache import CacheManager\n\ncache = CacheManager()\n\ndef get_stock_data(ticker: str):\n    cache_key = f\"stock:{ticker}:data\"\n\n    # Try cache first\n    cached = cache.get(cache_key)\n    if cached:\n        return cached\n\n    # Fetch and cache\n    data = expensive_api_call(ticker)\n    cache.set(cache_key, data, ttl=3600)  # 1 hour\n    return data\n</code></pre></p>"},{"location":"api-reference/data/#bulk-operations","title":"Bulk Operations","text":"<p>Use batch inserts for performance: <pre><code>from maverick_mcp.data.models import StockPrice\nfrom maverick_mcp.data.session_management import session_scope\n\n# Good - batch insert\nwith session_scope() as session:\n    prices = [StockPrice(stock_id=1, date=d, close=p) \n              for d, p in data]\n    session.bulk_save_objects(prices)\n\n# Bad - individual inserts\nfor d, p in data:\n    with session_scope() as session:\n        price = StockPrice(stock_id=1, date=d, close=p)\n        session.add(price)\n</code></pre></p>"},{"location":"api-reference/data/#query-optimization","title":"Query Optimization","text":"<p>Use eager loading for relationships: <pre><code>from sqlalchemy.orm import joinedload\n\n# Good - single query\nstocks = session.query(Stock).options(\n    joinedload(Stock.price_history)\n).all()\n\n# Bad - N+1 queries\nstocks = session.query(Stock).all()\nfor stock in stocks:\n    prices = stock.price_history  # Separate query each time\n</code></pre></p>"},{"location":"api-reference/providers/","title":"Providers API Reference","text":"<p>External data providers and API integrations.</p>"},{"location":"api-reference/providers/#module-maverick_mcpprovidersstock_data","title":"Module: maverick_mcp.providers.stock_data","text":""},{"location":"api-reference/providers/#stockdataprovider","title":"StockDataProvider","text":"<p>Tiingo API integration for stock data.</p> <p>Class: <code>StockDataProvider</code></p> <p>Initialization: <pre><code>from maverick_mcp.providers.stock_data import StockDataProvider\n\nprovider = StockDataProvider(api_key=\"your-tiingo-key\")\n</code></pre></p> <p>Methods:</p>"},{"location":"api-reference/providers/#get_historical_data","title":"get_historical_data()","text":"<p>Fetch historical OHLCV data.</p> <p>Signature: <pre><code>def get_historical_data(\n    self,\n    ticker: str,\n    start_date: str | None = None,\n    end_date: str | None = None,\n    period: str | None = None\n) -&gt; pd.DataFrame\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol (e.g., \"AAPL\", \"RELIANCE.NS\") - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD) - <code>period</code> (str, optional): Quick period (\"1d\", \"5d\", \"1mo\", \"3mo\", \"6mo\", \"1y\", \"5y\")</p> <p>Returns: - pd.DataFrame: Columns: Date (index), Open, High, Low, Close, Volume</p> <p>Raises: - ValueError: Invalid ticker or date range - APIError: Tiingo API error</p> <p>Example: <pre><code>provider = StockDataProvider()\n\n# Get last year of data\ndata = provider.get_historical_data(\"AAPL\", period=\"1y\")\n\n# Get specific date range\ndata = provider.get_historical_data(\n    \"AAPL\",\n    start_date=\"2024-01-01\",\n    end_date=\"2024-12-31\"\n)\n</code></pre></p>"},{"location":"api-reference/providers/#get_quote","title":"get_quote()","text":"<p>Get current stock quote.</p> <p>Signature: <pre><code>def get_quote(self, ticker: str) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol</p> <p>Returns: - dict: Contains:   - <code>ticker</code>: Stock symbol   - <code>price</code>: Current price   - <code>change</code>: Price change   - <code>change_percent</code>: Percentage change   - <code>volume</code>: Trading volume   - <code>market_cap</code>: Market capitalization   - <code>high</code>: Day's high   - <code>low</code>: Day's low   - <code>open</code>: Opening price   - <code>previous_close</code>: Previous close</p> <p>Example: <pre><code>quote = provider.get_quote(\"AAPL\")\nprint(f\"Price: ${quote['price']}\")\nprint(f\"Change: {quote['change_percent']}%\")\n</code></pre></p>"},{"location":"api-reference/providers/#get_company_info","title":"get_company_info()","text":"<p>Get company fundamentals.</p> <p>Signature: <pre><code>def get_company_info(self, ticker: str) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol</p> <p>Returns: - dict: Contains:   - <code>name</code>: Company name   - <code>description</code>: Business description   - <code>sector</code>: Industry sector   - <code>industry</code>: Specific industry   - <code>pe_ratio</code>: Price-to-earnings ratio   - <code>eps</code>: Earnings per share   - <code>market_cap</code>: Market capitalization   - <code>website</code>: Company website   - <code>employees</code>: Number of employees</p>"},{"location":"api-reference/providers/#module-maverick_mcpprovidersmarket_data","title":"Module: maverick_mcp.providers.market_data","text":""},{"location":"api-reference/providers/#marketdataprovider","title":"MarketDataProvider","text":"<p>Market indices and sector data.</p> <p>Class: <code>MarketDataProvider</code></p> <p>Methods:</p>"},{"location":"api-reference/providers/#get_market_overview","title":"get_market_overview()","text":"<p>Get major indices and market breadth.</p> <p>Signature: <pre><code>def get_market_overview(self) -&gt; dict\n</code></pre></p> <p>Returns: - dict: Contains:   - <code>indices</code>: S&amp;P 500, Nasdaq, Dow Jones, Russell 2000   - <code>sectors</code>: Sector performance   - <code>breadth</code>: Advance/decline ratio, new highs/lows   - <code>vix</code>: Volatility index</p> <p>Example: <pre><code>from maverick_mcp.providers.market_data import MarketDataProvider\n\nprovider = MarketDataProvider()\noverview = provider.get_market_overview()\n\nprint(f\"S&amp;P 500: {overview['indices']['SPX']['change_percent']}%\")\nprint(f\"VIX: {overview['vix']}\")\n</code></pre></p>"},{"location":"api-reference/providers/#get_sector_performance","title":"get_sector_performance()","text":"<p>Get sector-wise performance.</p> <p>Signature: <pre><code>def get_sector_performance(self) -&gt; list[dict]\n</code></pre></p> <p>Returns: - list[dict]: Sectors with performance metrics</p> <p>Sectors: - Technology, Healthcare, Financial, Consumer, Energy, etc.</p>"},{"location":"api-reference/providers/#module-maverick_mcpprovidersindian_market_data","title":"Module: maverick_mcp.providers.indian_market_data","text":""},{"location":"api-reference/providers/#indianmarketdataprovider","title":"IndianMarketDataProvider","text":"<p>Indian stock market data (NSE/BSE).</p> <p>Class: <code>IndianMarketDataProvider</code></p> <p>Methods:</p>"},{"location":"api-reference/providers/#get_nifty_50","title":"get_nifty_50()","text":"<p>Get Nifty 50 constituent stocks.</p> <p>Signature: <pre><code>def get_nifty_50(self) -&gt; list[str]\n</code></pre></p> <p>Returns: - list[str]: List of Nifty 50 tickers with .NS suffix</p> <p>Example: <pre><code>from maverick_mcp.providers.indian_market_data import IndianMarketDataProvider\n\nprovider = IndianMarketDataProvider()\nnifty_stocks = provider.get_nifty_50()\n\nfor ticker in nifty_stocks:\n    print(ticker)  # e.g., \"RELIANCE.NS\"\n</code></pre></p>"},{"location":"api-reference/providers/#get_sensex","title":"get_sensex()","text":"<p>Get Sensex constituent stocks.</p> <p>Signature: <pre><code>def get_sensex(self) -&gt; list[str]\n</code></pre></p> <p>Returns: - list[str]: List of Sensex tickers with .BO suffix</p>"},{"location":"api-reference/providers/#is_market_open","title":"is_market_open()","text":"<p>Check if Indian market is currently open.</p> <p>Signature: <pre><code>def is_market_open(self) -&gt; bool\n</code></pre></p> <p>Returns: - bool: True if market is open</p> <p>Trading Hours: - NSE/BSE: 9:15 AM - 3:30 PM IST (Mon-Fri) - Closed on exchange holidays</p>"},{"location":"api-reference/providers/#validate_ticker","title":"validate_ticker()","text":"<p>Validate and format Indian stock ticker.</p> <p>Signature: <pre><code>def validate_ticker(self, ticker: str, exchange: str = \"NSE\") -&gt; str\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>exchange</code> (str, optional): \"NSE\" or \"BSE\". Default: \"NSE\"</p> <p>Returns: - str: Formatted ticker with .NS or .BO suffix</p> <p>Example: <pre><code>ticker = provider.validate_ticker(\"RELIANCE\")  # Returns \"RELIANCE.NS\"\nticker = provider.validate_ticker(\"TCS\", exchange=\"BSE\")  # Returns \"TCS.BO\"\n</code></pre></p>"},{"location":"api-reference/providers/#module-maverick_mcpprovidersrbi_data","title":"Module: maverick_mcp.providers.rbi_data","text":""},{"location":"api-reference/providers/#rbidataprovider","title":"RBIDataProvider","text":"<p>Reserve Bank of India economic data.</p> <p>Class: <code>RBIDataProvider</code></p> <p>Methods:</p>"},{"location":"api-reference/providers/#get_policy_rates","title":"get_policy_rates()","text":"<p>Get RBI policy rates.</p> <p>Signature: <pre><code>def get_policy_rates(self) -&gt; dict\n</code></pre></p> <p>Returns: - dict: Contains:   - <code>repo_rate</code>: RBI repo rate (%)   - <code>reverse_repo_rate</code>: Reverse repo rate (%)   - <code>crr</code>: Cash Reserve Ratio (%)   - <code>slr</code>: Statutory Liquidity Ratio (%)   - <code>bank_rate</code>: Bank rate (%)   - <code>last_updated</code>: Update date</p> <p>Example: <pre><code>from maverick_mcp.providers.rbi_data import RBIDataProvider\n\nprovider = RBIDataProvider()\nrates = provider.get_policy_rates()\n\nprint(f\"Repo Rate: {rates['repo_rate']}%\")\nprint(f\"CRR: {rates['crr']}%\")\n</code></pre></p>"},{"location":"api-reference/providers/#get_inflation_data","title":"get_inflation_data()","text":"<p>Get inflation metrics.</p> <p>Signature: <pre><code>def get_inflation_data(self) -&gt; dict\n</code></pre></p> <p>Returns: - dict: CPI, WPI, and food inflation</p>"},{"location":"api-reference/providers/#get_gdp_growth","title":"get_gdp_growth()","text":"<p>Get GDP growth data.</p> <p>Signature: <pre><code>def get_gdp_growth(self) -&gt; dict\n</code></pre></p> <p>Returns: - dict: Quarterly and annual GDP growth rates</p>"},{"location":"api-reference/providers/#module-maverick_mcpprovidersexchange_rate","title":"Module: maverick_mcp.providers.exchange_rate","text":""},{"location":"api-reference/providers/#exchangerateprovider","title":"ExchangeRateProvider","text":"<p>Currency conversion (INR/USD).</p> <p>Class: <code>ExchangeRateProvider</code></p> <p>Methods:</p>"},{"location":"api-reference/providers/#get_current_rate","title":"get_current_rate()","text":"<p>Get current INR/USD exchange rate.</p> <p>Signature: <pre><code>def get_current_rate(self) -&gt; float\n</code></pre></p> <p>Returns: - float: Current INR per USD rate</p> <p>Example: <pre><code>from maverick_mcp.providers.exchange_rate import ExchangeRateProvider\n\nprovider = ExchangeRateProvider()\nrate = provider.get_current_rate()\n\nusd_amount = 100\ninr_amount = usd_amount * rate\nprint(f\"${usd_amount} = \u20b9{inr_amount}\")\n</code></pre></p>"},{"location":"api-reference/providers/#convert","title":"convert()","text":"<p>Convert between INR and USD.</p> <p>Signature: <pre><code>def convert(\n    self,\n    amount: float,\n    from_currency: str,\n    to_currency: str\n) -&gt; float\n</code></pre></p> <p>Parameters: - <code>amount</code> (float): Amount to convert - <code>from_currency</code> (str): \"INR\" or \"USD\" - <code>to_currency</code> (str): \"INR\" or \"USD\"</p> <p>Returns: - float: Converted amount</p>"},{"location":"api-reference/providers/#module-maverick_mcpprovidersopenrouter_provider","title":"Module: maverick_mcp.providers.openrouter_provider","text":""},{"location":"api-reference/providers/#openrouterprovider","title":"OpenRouterProvider","text":"<p>AI model access via OpenRouter.</p> <p>Class: <code>OpenRouterProvider</code></p> <p>Initialization: <pre><code>from maverick_mcp.providers.openrouter_provider import OpenRouterProvider\n\nprovider = OpenRouterProvider(api_key=\"your-openrouter-key\")\n</code></pre></p> <p>Methods:</p>"},{"location":"api-reference/providers/#get_completion","title":"get_completion()","text":"<p>Get AI completion.</p> <p>Signature: <pre><code>def get_completion(\n    self,\n    prompt: str,\n    model: str | None = None,\n    temperature: float = 0.7,\n    max_tokens: int = 1000\n) -&gt; str\n</code></pre></p> <p>Parameters: - <code>prompt</code> (str): Input prompt - <code>model</code> (str, optional): Model name (auto-selects if None) - <code>temperature</code> (float, optional): Randomness (0-1). Default: 0.7 - <code>max_tokens</code> (int, optional): Max response length. Default: 1000</p> <p>Returns: - str: AI-generated response</p> <p>Supported Models: - Claude Opus 4.1, Claude Sonnet 4, Claude 3.5 Haiku - GPT-5, GPT-5 Nano - Gemini 2.5 Pro - DeepSeek R1 - And 400+ more</p> <p>Auto-Selection: Chooses optimal model based on: - Task complexity - Cost efficiency (40-60% savings) - Response quality requirements</p> <p>Example: <pre><code>provider = OpenRouterProvider()\n\n# Auto-select model\nresponse = provider.get_completion(\n    \"Summarize Apple's Q4 2024 earnings\"\n)\n\n# Specific model\nresponse = provider.get_completion(\n    \"Detailed financial analysis of Apple\",\n    model=\"anthropic/claude-opus-4\"\n)\n</code></pre></p>"},{"location":"api-reference/providers/#module-maverick_mcpprovidersmacro_data","title":"Module: maverick_mcp.providers.macro_data","text":""},{"location":"api-reference/providers/#macrodataprovider","title":"MacroDataProvider","text":"<p>FRED API integration for macroeconomic data.</p> <p>Class: <code>MacroDataProvider</code></p> <p>Methods:</p>"},{"location":"api-reference/providers/#get_series","title":"get_series()","text":"<p>Get economic data series.</p> <p>Signature: <pre><code>def get_series(\n    self,\n    series_id: str,\n    start_date: str | None = None,\n    end_date: str | None = None\n) -&gt; pd.DataFrame\n</code></pre></p> <p>Parameters: - <code>series_id</code> (str): FRED series ID (e.g., \"GDP\", \"UNRATE\", \"CPIAUCSL\") - <code>start_date</code> (str, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (str, optional): End date (YYYY-MM-DD)</p> <p>Returns: - pd.DataFrame: Time series data</p> <p>Common Series IDs: - <code>GDP</code>: Gross Domestic Product - <code>UNRATE</code>: Unemployment Rate - <code>CPIAUCSL</code>: Consumer Price Index - <code>DFF</code>: Federal Funds Rate - <code>DGS10</code>: 10-Year Treasury Rate</p> <p>Example: <pre><code>from maverick_mcp.providers.macro_data import MacroDataProvider\n\nprovider = MacroDataProvider()\n\n# Get GDP data\ngdp = provider.get_series(\"GDP\", start_date=\"2020-01-01\")\n\n# Get unemployment rate\nunemployment = provider.get_series(\"UNRATE\")\n</code></pre></p>"},{"location":"api-reference/providers/#module-maverick_mcpprovidersindian_news","title":"Module: maverick_mcp.providers.indian_news","text":""},{"location":"api-reference/providers/#indiannewsprovider","title":"IndianNewsProvider","text":"<p>Multi-source Indian financial news.</p> <p>Class: <code>IndianNewsProvider</code></p> <p>Methods:</p>"},{"location":"api-reference/providers/#get_news","title":"get_news()","text":"<p>Fetch news articles.</p> <p>Signature: <pre><code>def get_news(\n    self,\n    query: str | None = None,\n    limit: int = 10\n) -&gt; list[dict]\n</code></pre></p> <p>Parameters: - <code>query</code> (str, optional): Search query - <code>limit</code> (int, optional): Max articles. Default: 10</p> <p>Returns: - list[dict]: Articles with title, url, source, published_date, sentiment</p> <p>Sources: - MoneyControl - Economic Times - Business Standard - Livemint - The Hindu Business Line</p> <p>Example: <pre><code>from maverick_mcp.providers.indian_news import IndianNewsProvider\n\nprovider = IndianNewsProvider()\n\n# Get general news\nnews = provider.get_news(limit=5)\n\n# Search specific topic\nreliance_news = provider.get_news(query=\"Reliance Industries\", limit=10)\n\nfor article in reliance_news:\n    print(f\"{article['title']} - {article['sentiment']}\")\n</code></pre></p>"},{"location":"api-reference/providers/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/providers/#api-key-management","title":"API Key Management","text":"<pre><code>import os\n\n# Use environment variables\napi_key = os.getenv(\"TIINGO_API_KEY\")\nprovider = StockDataProvider(api_key=api_key)\n</code></pre>"},{"location":"api-reference/providers/#error-handling","title":"Error Handling","text":"<pre><code>from maverick_mcp.providers.stock_data import StockDataProvider, APIError\n\nprovider = StockDataProvider()\n\ntry:\n    data = provider.get_historical_data(\"AAPL\")\nexcept APIError as e:\n    print(f\"API error: {e}\")\nexcept ValueError as e:\n    print(f\"Invalid input: {e}\")\n</code></pre>"},{"location":"api-reference/providers/#rate-limiting","title":"Rate Limiting","text":"<pre><code>import time\n\nprovider = StockDataProvider()\n\ntickers = [\"AAPL\", \"MSFT\", \"GOOGL\"]\nfor ticker in tickers:\n    data = provider.get_quote(ticker)\n    time.sleep(0.5)  # Respect rate limits\n</code></pre>"},{"location":"api-reference/providers/#caching","title":"Caching","text":"<pre><code>from maverick_mcp.data.cache import CacheManager\n\ncache = CacheManager()\nprovider = StockDataProvider()\n\ndef get_cached_quote(ticker: str) -&gt; dict:\n    cache_key = f\"quote:{ticker}\"\n\n    cached = cache.get(cache_key)\n    if cached:\n        return cached\n\n    quote = provider.get_quote(ticker)\n    cache.set(cache_key, quote, ttl=300)  # 5 minutes\n    return quote\n</code></pre>"},{"location":"api-reference/providers/#multi-market-support","title":"Multi-Market Support","text":"<pre><code># US stock\nus_data = provider.get_historical_data(\"AAPL\")\n\n# Indian NSE stock\nnse_data = provider.get_historical_data(\"RELIANCE.NS\")\n\n# Indian BSE stock\nbse_data = provider.get_historical_data(\"TCS.BO\")\n</code></pre>"},{"location":"api-reference/services/","title":"Services API Reference","text":"<p>Business logic services for stock analysis and market data.</p>"},{"location":"api-reference/services/#module-maverick_mcpservicesscreening_service","title":"Module: maverick_mcp.services.screening_service","text":""},{"location":"api-reference/services/#screeningservice","title":"ScreeningService","text":"<p>Stock screening and strategy execution service.</p> <p>Class: <code>ScreeningService</code></p> <p>Methods:</p>"},{"location":"api-reference/services/#get_maverick_bullish","title":"get_maverick_bullish()","text":"<p>Get stocks matching Maverick bullish criteria.</p> <p>Signature: <pre><code>def get_maverick_bullish(\n    self,\n    limit: int = 10,\n    min_score: float = 70.0\n) -&gt; list[dict]\n</code></pre></p> <p>Parameters: - <code>limit</code> (int, optional): Maximum results. Default: 10 - <code>min_score</code> (float, optional): Minimum score (0-100). Default: 70.0</p> <p>Returns: - list[dict]: Stocks with scores and signals</p> <p>Criteria: - RSI 50-70 (strong momentum) - MACD bullish - Price above 20 SMA - Volume above average</p> <p>Example: <pre><code>from maverick_mcp.services.screening_service import ScreeningService\n\nservice = ScreeningService()\nstocks = service.get_maverick_bullish(limit=5, min_score=75)\n\nfor stock in stocks:\n    print(f\"{stock['ticker']}: {stock['score']}/100\")\n</code></pre></p>"},{"location":"api-reference/services/#get_maverick_bearish","title":"get_maverick_bearish()","text":"<p>Get stocks matching Maverick bearish criteria.</p> <p>Signature: <pre><code>def get_maverick_bearish(\n    self,\n    limit: int = 10,\n    min_score: float = 70.0\n) -&gt; list[dict]\n</code></pre></p> <p>Criteria: - RSI 30-50 (weak momentum) - MACD bearish - Price below 20 SMA - Volume declining</p>"},{"location":"api-reference/services/#get_breakout_candidates","title":"get_breakout_candidates()","text":"<p>Get supply/demand breakout candidates.</p> <p>Signature: <pre><code>def get_breakout_candidates(\n    self,\n    limit: int = 10,\n    min_score: float = 75.0\n) -&gt; list[dict]\n</code></pre></p> <p>Criteria: - Price above all major MAs (20, 50, 200) - Volume surge - Near 52-week high - Strong relative strength</p>"},{"location":"api-reference/services/#module-maverick_mcpservicesmarket_calendar_service","title":"Module: maverick_mcp.services.market_calendar_service","text":""},{"location":"api-reference/services/#marketcalendarservice","title":"MarketCalendarService","text":"<p>Market trading calendar and status service.</p> <p>Class: <code>MarketCalendarService</code></p> <p>Methods:</p>"},{"location":"api-reference/services/#is_market_open","title":"is_market_open()","text":"<p>Check if market is currently open.</p> <p>Signature: <pre><code>def is_market_open(self, market: str = \"US\") -&gt; bool\n</code></pre></p> <p>Parameters: - <code>market</code> (str, optional): Market code (\"US\", \"NSE\", \"BSE\"). Default: \"US\"</p> <p>Returns: - bool: True if market is currently open</p> <p>Trading Hours: - US (NYSE): 9:30 AM - 4:00 PM EST (Mon-Fri) - NSE: 9:15 AM - 3:30 PM IST (Mon-Fri) - BSE: 9:15 AM - 3:30 PM IST (Mon-Fri)</p> <p>Example: <pre><code>from maverick_mcp.services.market_calendar_service import MarketCalendarService\n\nservice = MarketCalendarService()\n\nif service.is_market_open(\"US\"):\n    print(\"US market is open\")\n\nif service.is_market_open(\"NSE\"):\n    print(\"Indian NSE is open\")\n</code></pre></p>"},{"location":"api-reference/services/#get_next_trading_day","title":"get_next_trading_day()","text":"<p>Get next trading day.</p> <p>Signature: <pre><code>def get_next_trading_day(\n    self,\n    from_date: date | None = None,\n    market: str = \"US\"\n) -&gt; date\n</code></pre></p> <p>Parameters: - <code>from_date</code> (date, optional): Start date. Default: today - <code>market</code> (str, optional): Market code. Default: \"US\"</p> <p>Returns: - date: Next trading day</p> <p>Example: <pre><code>from datetime import date\n\nnext_day = service.get_next_trading_day()\nprint(f\"Next US trading day: {next_day}\")\n\nnext_nse = service.get_next_trading_day(market=\"NSE\")\nprint(f\"Next NSE trading day: {next_nse}\")\n</code></pre></p>"},{"location":"api-reference/services/#get_trading_days","title":"get_trading_days()","text":"<p>Get trading days in date range.</p> <p>Signature: <pre><code>def get_trading_days(\n    self,\n    start_date: date,\n    end_date: date,\n    market: str = \"US\"\n) -&gt; list[date]\n</code></pre></p> <p>Parameters: - <code>start_date</code> (date): Range start - <code>end_date</code> (date): Range end - <code>market</code> (str, optional): Market code. Default: \"US\"</p> <p>Returns: - list[date]: List of trading days</p>"},{"location":"api-reference/services/#is_trading_day","title":"is_trading_day()","text":"<p>Check if date is a trading day.</p> <p>Signature: <pre><code>def is_trading_day(\n    self,\n    check_date: date,\n    market: str = \"US\"\n) -&gt; bool\n</code></pre></p> <p>Parameters: - <code>check_date</code> (date): Date to check - <code>market</code> (str, optional): Market code. Default: \"US\"</p> <p>Returns: - bool: True if trading day</p>"},{"location":"api-reference/services/#module-maverick_mcpapiservicesportfolio_service","title":"Module: maverick_mcp.api.services.portfolio_service","text":""},{"location":"api-reference/services/#portfolioservice","title":"PortfolioService","text":"<p>Portfolio management and analysis service.</p> <p>Class: <code>PortfolioService</code></p> <p>Methods:</p>"},{"location":"api-reference/services/#optimize_portfolio","title":"optimize_portfolio()","text":"<p>Optimize portfolio weights using Modern Portfolio Theory.</p> <p>Signature: <pre><code>def optimize_portfolio(\n    self,\n    tickers: list[str],\n    target_return: float | None = None,\n    risk_free_rate: float = 0.03\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>tickers</code> (list[str]): List of stock symbols - <code>target_return</code> (float, optional): Target annual return - <code>risk_free_rate</code> (float, optional): Risk-free rate. Default: 0.03</p> <p>Returns: - dict: Contains:   - <code>optimal_weights</code> (dict): Asset allocation {ticker: weight}   - <code>expected_return</code> (float): Expected annual return   - <code>volatility</code> (float): Portfolio volatility   - <code>sharpe_ratio</code> (float): Sharpe ratio</p> <p>Example: <pre><code>from maverick_mcp.api.services.portfolio_service import PortfolioService\n\nservice = PortfolioService()\n\nresult = service.optimize_portfolio(\n    tickers=[\"AAPL\", \"MSFT\", \"GOOGL\", \"AMZN\"],\n    target_return=0.15\n)\n\nprint(f\"Expected Return: {result['expected_return']:.2%}\")\nprint(f\"Sharpe Ratio: {result['sharpe_ratio']:.2f}\")\n\nfor ticker, weight in result['optimal_weights'].items():\n    print(f\"{ticker}: {weight:.2%}\")\n</code></pre></p>"},{"location":"api-reference/services/#analyze_risk","title":"analyze_risk()","text":"<p>Analyze portfolio risk metrics.</p> <p>Signature: <pre><code>def analyze_risk(\n    self,\n    holdings: dict[str, int],\n    purchase_prices: dict[str, float] | None = None\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>holdings</code> (dict): {ticker: shares} pairs - <code>purchase_prices</code> (dict, optional): {ticker: price} pairs</p> <p>Returns: - dict: Contains:   - <code>volatility</code> (float): Annual volatility   - <code>var_95</code> (float): Value at Risk (95%)   - <code>cvar_95</code> (float): Conditional VaR (95%)   - <code>max_drawdown</code> (float): Maximum drawdown   - <code>beta</code> (float): Market sensitivity   - <code>alpha</code> (float): Excess returns</p> <p>Example: <pre><code>holdings = {\n    \"AAPL\": 10,\n    \"MSFT\": 5,\n    \"GOOGL\": 3\n}\n\nrisk = service.analyze_risk(holdings)\nprint(f\"Volatility: {risk['volatility']:.2%}\")\nprint(f\"Max Drawdown: {risk['max_drawdown']:.2%}\")\nprint(f\"Beta: {risk['beta']:.2f}\")\n</code></pre></p>"},{"location":"api-reference/services/#calculate_correlation_matrix","title":"calculate_correlation_matrix()","text":"<p>Calculate asset correlation matrix.</p> <p>Signature: <pre><code>def calculate_correlation_matrix(\n    self,\n    tickers: list[str],\n    lookback_days: int = 365\n) -&gt; pd.DataFrame\n</code></pre></p> <p>Parameters: - <code>tickers</code> (list[str]): Stock symbols - <code>lookback_days</code> (int, optional): Historical period. Default: 365</p> <p>Returns: - pd.DataFrame: Correlation matrix</p>"},{"location":"api-reference/services/#module-maverick_mcpapiservicesmarket_service","title":"Module: maverick_mcp.api.services.market_service","text":""},{"location":"api-reference/services/#marketservice","title":"MarketService","text":"<p>Market data and indices service.</p> <p>Class: <code>MarketService</code></p> <p>Methods:</p>"},{"location":"api-reference/services/#get_market_overview","title":"get_market_overview()","text":"<p>Get comprehensive market overview.</p> <p>Signature: <pre><code>def get_market_overview(self) -&gt; dict\n</code></pre></p> <p>Returns: - dict: Contains:   - <code>indices</code> (dict): Major indices (S&amp;P 500, Nasdaq, Dow, etc.)   - <code>sectors</code> (list): Sector performance   - <code>breadth</code> (dict): Market breadth indicators   - <code>vix</code> (float): Volatility index</p> <p>Example: <pre><code>from maverick_mcp.api.services.market_service import MarketService\n\nservice = MarketService()\noverview = service.get_market_overview()\n\nprint(f\"S&amp;P 500: {overview['indices']['SPX']['change_percent']}%\")\nprint(f\"VIX: {overview['vix']}\")\n\nfor sector in overview['sectors']:\n    print(f\"{sector['name']}: {sector['change_percent']}%\")\n</code></pre></p>"},{"location":"api-reference/services/#get_sector_performance","title":"get_sector_performance()","text":"<p>Get sector-wise performance.</p> <p>Signature: <pre><code>def get_sector_performance(self) -&gt; list[dict]\n</code></pre></p> <p>Returns: - list[dict]: Sectors with performance metrics</p>"},{"location":"api-reference/services/#module-maverick_mcpdomainservicestechnical_analysis_service","title":"Module: maverick_mcp.domain.services.technical_analysis_service","text":""},{"location":"api-reference/services/#technicalanalysisservice","title":"TechnicalAnalysisService","text":"<p>Technical analysis computation service.</p> <p>Class: <code>TechnicalAnalysisService</code></p> <p>Methods:</p>"},{"location":"api-reference/services/#calculate_full_analysis","title":"calculate_full_analysis()","text":"<p>Calculate all technical indicators for a stock.</p> <p>Signature: <pre><code>def calculate_full_analysis(\n    self,\n    ticker: str,\n    lookback_days: int = 365\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>lookback_days</code> (int, optional): Historical period. Default: 365</p> <p>Returns: - dict: Contains all indicators:   - SMAs (20, 50, 200)   - EMAs (12, 26)   - RSI (14)   - MACD   - Bollinger Bands   - Support/Resistance levels   - Trend direction   - Buy/Sell signals</p> <p>Example: <pre><code>from maverick_mcp.domain.services.technical_analysis_service import TechnicalAnalysisService\n\nservice = TechnicalAnalysisService()\nanalysis = service.calculate_full_analysis(\"AAPL\")\n\nprint(f\"RSI: {analysis['rsi']['current']}\")\nprint(f\"MACD Signal: {analysis['macd']['signal']}\")\nprint(f\"Trend: {analysis['trend']['direction']}\")\n\nif analysis['signals']['buy']:\n    print(\"Buy signals detected\")\n</code></pre></p>"},{"location":"api-reference/services/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/services/#service-initialization","title":"Service Initialization","text":"<pre><code># Initialize services once, reuse\nscreening_service = ScreeningService()\nmarket_calendar = MarketCalendarService()\nportfolio_service = PortfolioService()\n</code></pre>"},{"location":"api-reference/services/#error-handling","title":"Error Handling","text":"<pre><code>try:\n    stocks = screening_service.get_maverick_bullish()\nexcept ValueError as e:\n    print(f\"Invalid parameters: {e}\")\nexcept ServiceError as e:\n    print(f\"Service error: {e}\")\n</code></pre>"},{"location":"api-reference/services/#caching-results","title":"Caching Results","text":"<pre><code>from maverick_mcp.data.cache import CacheManager\n\ncache = CacheManager()\n\ndef get_cached_screening(strategy: str, limit: int = 10):\n    cache_key = f\"screening:{strategy}:{limit}\"\n\n    cached = cache.get(cache_key)\n    if cached:\n        return cached\n\n    if strategy == \"bullish\":\n        results = screening_service.get_maverick_bullish(limit)\n    else:\n        results = screening_service.get_maverick_bearish(limit)\n\n    cache.set(cache_key, results, ttl=86400)  # 24 hours\n    return results\n</code></pre>"},{"location":"api-reference/services/#market-hours-checking","title":"Market Hours Checking","text":"<pre><code># Check before making data requests\nif not market_calendar.is_market_open(\"US\"):\n    print(\"Market closed - using cached data\")\n    use_cached_data = True\n</code></pre>"},{"location":"api-reference/services/#multi-market-support","title":"Multi-Market Support","text":"<pre><code># Check different markets\nus_open = market_calendar.is_market_open(\"US\")\nnse_open = market_calendar.is_market_open(\"NSE\")\nbse_open = market_calendar.is_market_open(\"BSE\")\n\nprint(f\"US: {'\ud83d\udfe2' if us_open else '\ud83d\udd34'}\")\nprint(f\"NSE: {'\ud83d\udfe2' if nse_open else '\ud83d\udd34'}\")\nprint(f\"BSE: {'\ud83d\udfe2' if bse_open else '\ud83d\udd34'}\")\n</code></pre>"},{"location":"api-reference/services/#portfolio-optimization-workflow","title":"Portfolio Optimization Workflow","text":"<pre><code># 1. Analyze current holdings\nrisk = portfolio_service.analyze_risk(current_holdings)\n\n# 2. Calculate correlation\ntickers = list(current_holdings.keys())\ncorrelation = portfolio_service.calculate_correlation_matrix(tickers)\n\n# 3. Optimize allocation\noptimized = portfolio_service.optimize_portfolio(\n    tickers,\n    target_return=0.12\n)\n\n# 4. Compare\nprint(f\"Current Sharpe: {risk['sharpe_ratio']:.2f}\")\nprint(f\"Optimized Sharpe: {optimized['sharpe_ratio']:.2f}\")\n</code></pre>"},{"location":"api-reference/concall/cache/","title":"Conference Call Cache System","text":"<p>Multi-tier caching architecture for conference call data (Commit 13).</p>"},{"location":"api-reference/concall/cache/#overview","title":"Overview","text":"<p>Production-grade caching layer with SOLID principles, designed for easy extraction into a separate microservice.</p>"},{"location":"api-reference/concall/cache/#architecture-tiers","title":"Architecture Tiers","text":"<ul> <li>L1 Cache: Redis/In-memory (1-5ms response time)</li> <li>L2 Cache: Database (10-50ms response time)</li> <li>L3 Source: External APIs/AI (1000-60000ms response time)</li> </ul>"},{"location":"api-reference/concall/cache/#performance-benefits","title":"Performance Benefits","text":"<ul> <li>100-1000x speedup for cached data</li> <li>Significant cost savings on AI operations</li> <li>Redis connection pooling for production efficiency</li> <li>Automatic fallback to in-memory cache if Redis unavailable</li> </ul>"},{"location":"api-reference/concall/cache/#module-maverick_mcpconcallcachebackends","title":"Module: maverick_mcp.concall.cache.backends","text":""},{"location":"api-reference/concall/cache/#icachebackend","title":"ICacheBackend","text":"<p>Abstract interface for all cache implementations.</p> <p>Class: <code>ICacheBackend</code> (Abstract Base Class)</p> <p>Methods:</p>"},{"location":"api-reference/concall/cache/#get","title":"get()","text":"<p>Retrieve value from cache.</p> <p>Signature: <pre><code>@abstractmethod\ndef get(self, key: str) -&gt; Any | None\n</code></pre></p> <p>Parameters: - <code>key</code> (str): Cache key</p> <p>Returns: - Any | None: Cached value or None if not found</p>"},{"location":"api-reference/concall/cache/#set","title":"set()","text":"<p>Store value in cache.</p> <p>Signature: <pre><code>@abstractmethod\ndef set(self, key: str, value: Any, ttl: int | None = None) -&gt; bool\n</code></pre></p> <p>Parameters: - <code>key</code> (str): Cache key - <code>value</code> (Any): Value to cache (must be serializable) - <code>ttl</code> (int, optional): Time-to-live in seconds</p> <p>Returns: - bool: True if successful</p>"},{"location":"api-reference/concall/cache/#delete","title":"delete()","text":"<p>Remove value from cache.</p> <p>Signature: <pre><code>@abstractmethod\ndef delete(self, key: str) -&gt; bool\n</code></pre></p>"},{"location":"api-reference/concall/cache/#clear","title":"clear()","text":"<p>Clear all or pattern-matched cache entries.</p> <p>Signature: <pre><code>@abstractmethod\ndef clear(self, pattern: str = \"*\") -&gt; int\n</code></pre></p> <p>Parameters: - <code>pattern</code> (str, optional): Key pattern to match. Default: \"*\" (all)</p> <p>Returns: - int: Number of entries cleared</p>"},{"location":"api-reference/concall/cache/#health_check","title":"health_check()","text":"<p>Check cache backend health.</p> <p>Signature: <pre><code>@abstractmethod\ndef health_check(self) -&gt; bool\n</code></pre></p> <p>Returns: - bool: True if cache backend is healthy</p>"},{"location":"api-reference/concall/cache/#rediscachebackend","title":"RedisCacheBackend","text":"<p>Production Redis cache with connection pooling.</p> <p>Class: <code>RedisCacheBackend</code></p> <p>Initialization: <pre><code>from maverick_mcp.concall.cache.backends import RedisCacheBackend\n\ncache = RedisCacheBackend(\n    host=\"localhost\",\n    port=6379,\n    db=0,\n    password=None,\n    max_connections=10\n)\n</code></pre></p> <p>Parameters: - <code>host</code> (str, optional): Redis host. Default: \"localhost\" - <code>port</code> (int, optional): Redis port. Default: 6379 - <code>db</code> (int, optional): Redis database number. Default: 0 - <code>password</code> (str, optional): Redis password. Default: None - <code>max_connections</code> (int, optional): Connection pool size. Default: 10</p> <p>Features: - Connection pooling for efficiency - Automatic reconnection on failure - JSON serialization for complex objects - Namespace support for key organization - Pattern-based key deletion</p> <p>Example: <pre><code>from maverick_mcp.concall.cache.backends import RedisCacheBackend\n\n# Initialize\ncache = RedisCacheBackend(host=\"localhost\", port=6379)\n\n# Store data\ncache.set(\"transcript:AAPL:Q4:2024\", transcript_data, ttl=604800)\n\n# Retrieve data\ndata = cache.get(\"transcript:AAPL:Q4:2024\")\n\n# Clear namespace\ncache.clear(\"transcript:*\")\n\n# Health check\nif cache.health_check():\n    print(\"Redis is healthy\")\n</code></pre></p>"},{"location":"api-reference/concall/cache/#inmemorycachebackend","title":"InMemoryCacheBackend","text":"<p>In-memory cache for development and fallback.</p> <p>Class: <code>InMemoryCacheBackend</code></p> <p>Initialization: <pre><code>from maverick_mcp.concall.cache.backends import InMemoryCacheBackend\n\ncache = InMemoryCacheBackend(max_size=1000)\n</code></pre></p> <p>Parameters: - <code>max_size</code> (int, optional): Maximum cache entries. Default: 1000</p> <p>Features: - No external dependencies - TTL support with automatic expiration - LRU eviction when max_size reached - Thread-safe operations - Perfect for testing and development</p> <p>Example: <pre><code>from maverick_mcp.concall.cache.backends import InMemoryCacheBackend\n\n# Initialize\ncache = InMemoryCacheBackend(max_size=500)\n\n# Use same interface as Redis\ncache.set(\"key\", \"value\", ttl=3600)\nvalue = cache.get(\"key\")\n</code></pre></p>"},{"location":"api-reference/concall/cache/#module-maverick_mcpconcallcachecache_service","title":"Module: maverick_mcp.concall.cache.cache_service","text":""},{"location":"api-reference/concall/cache/#concallcacheservice","title":"ConcallCacheService","text":"<p>High-level domain-specific caching API.</p> <p>Class: <code>ConcallCacheService</code></p> <p>Initialization: <pre><code>from maverick_mcp.concall.cache.cache_service import ConcallCacheService\n\n# Auto-detects Redis, falls back to in-memory\nservice = ConcallCacheService()\n\n# Force specific backend\nservice = ConcallCacheService(backend=\"redis\")\nservice = ConcallCacheService(backend=\"memory\")\n</code></pre></p> <p>Methods:</p>"},{"location":"api-reference/concall/cache/#get_transcript","title":"get_transcript()","text":"<p>Retrieve cached transcript.</p> <p>Signature: <pre><code>def get_transcript(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int\n) -&gt; dict | None\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") - <code>fiscal_year</code> (int): Fiscal year</p> <p>Returns: - dict | None: Cached transcript or None</p> <p>Cache Key Format: <code>concall:transcript:{ticker}:{quarter}:{year}:v1</code></p> <p>Example: <pre><code>service = ConcallCacheService()\n\n# Check cache\ntranscript = service.get_transcript(\"AAPL\", \"Q4\", 2024)\nif transcript:\n    print(\"Cache hit!\")\nelse:\n    print(\"Cache miss - fetch from source\")\n</code></pre></p>"},{"location":"api-reference/concall/cache/#set_transcript","title":"set_transcript()","text":"<p>Cache transcript data.</p> <p>Signature: <pre><code>def set_transcript(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    transcript_data: dict,\n    ttl: int = 604800\n) -&gt; bool\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter - <code>fiscal_year</code> (int): Year - <code>transcript_data</code> (dict): Transcript to cache - <code>ttl</code> (int, optional): Time-to-live in seconds. Default: 604800 (7 days)</p> <p>Returns: - bool: True if cached successfully</p>"},{"location":"api-reference/concall/cache/#get_summary","title":"get_summary()","text":"<p>Retrieve cached summary.</p> <p>Signature: <pre><code>def get_summary(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    mode: str = \"standard\"\n) -&gt; dict | None\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter - <code>fiscal_year</code> (int): Year - <code>mode</code> (str, optional): Summary mode (\"concise\", \"standard\", \"detailed\")</p> <p>Returns: - dict | None: Cached summary or None</p>"},{"location":"api-reference/concall/cache/#set_summary","title":"set_summary()","text":"<p>Cache summary data.</p> <p>Signature: <pre><code>def set_summary(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    summary_data: dict,\n    mode: str = \"standard\",\n    ttl: int = 604800\n) -&gt; bool\n</code></pre></p>"},{"location":"api-reference/concall/cache/#get_sentiment","title":"get_sentiment()","text":"<p>Retrieve cached sentiment analysis.</p> <p>Signature: <pre><code>def get_sentiment(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int\n) -&gt; dict | None\n</code></pre></p>"},{"location":"api-reference/concall/cache/#set_sentiment","title":"set_sentiment()","text":"<p>Cache sentiment analysis.</p> <p>Signature: <pre><code>def set_sentiment(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    sentiment_data: dict,\n    ttl: int = 604800\n) -&gt; bool\n</code></pre></p>"},{"location":"api-reference/concall/cache/#clear_ticker","title":"clear_ticker()","text":"<p>Clear all cache for a ticker.</p> <p>Signature: <pre><code>def clear_ticker(self, ticker: str) -&gt; int\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol</p> <p>Returns: - int: Number of entries cleared</p> <p>Example: <pre><code># Clear all cached data for AAPL\ncount = service.clear_ticker(\"AAPL\")\nprint(f\"Cleared {count} entries\")\n</code></pre></p>"},{"location":"api-reference/concall/cache/#clear_old_entries","title":"clear_old_entries()","text":"<p>Clear entries older than specified days.</p> <p>Signature: <pre><code>def clear_old_entries(self, days: int = 7) -&gt; int\n</code></pre></p> <p>Parameters: - <code>days</code> (int, optional): Age threshold in days. Default: 7</p> <p>Returns: - int: Number of entries cleared</p>"},{"location":"api-reference/concall/cache/#get_cache_stats","title":"get_cache_stats()","text":"<p>Get cache statistics.</p> <p>Signature: <pre><code>def get_cache_stats(self) -&gt; dict\n</code></pre></p> <p>Returns: - dict: Contains:   - <code>backend_type</code> (str): \"redis\" or \"memory\"   - <code>total_keys</code> (int): Total cached entries   - <code>hit_rate</code> (float): Cache hit rate (if tracked)   - <code>health</code> (bool): Backend health status</p>"},{"location":"api-reference/concall/cache/#module-maverick_mcpconcallcachekey_generator","title":"Module: maverick_mcp.concall.cache.key_generator","text":""},{"location":"api-reference/concall/cache/#cachekeygenerator","title":"CacheKeyGenerator","text":"<p>Consistent, versioned cache key generation.</p> <p>Class: <code>CacheKeyGenerator</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/cache/#generate_transcript_key","title":"generate_transcript_key()","text":"<p>Generate cache key for transcript.</p> <p>Signature: <pre><code>@staticmethod\ndef generate_transcript_key(\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    version: int = 1\n) -&gt; str\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter - <code>fiscal_year</code> (int): Year - <code>version</code> (int, optional): Cache key version. Default: 1</p> <p>Returns: - str: Cache key</p> <p>Format: <code>concall:transcript:{ticker}:{quarter}:{year}:v{version}</code></p> <p>Example: <pre><code>from maverick_mcp.concall.cache.key_generator import CacheKeyGenerator\n\nkey = CacheKeyGenerator.generate_transcript_key(\"AAPL\", \"Q4\", 2024)\nprint(key)  # \"concall:transcript:AAPL:Q4:2024:v1\"\n</code></pre></p>"},{"location":"api-reference/concall/cache/#generate_summary_key","title":"generate_summary_key()","text":"<p>Generate cache key for summary.</p> <p>Signature: <pre><code>@staticmethod\ndef generate_summary_key(\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    mode: str = \"standard\",\n    version: int = 1\n) -&gt; str\n</code></pre></p> <p>Format: <code>concall:summary:{ticker}:{quarter}:{year}:{mode}:v{version}</code></p>"},{"location":"api-reference/concall/cache/#generate_sentiment_key","title":"generate_sentiment_key()","text":"<p>Generate cache key for sentiment.</p> <p>Signature: <pre><code>@staticmethod\ndef generate_sentiment_key(\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    version: int = 1\n) -&gt; str\n</code></pre></p> <p>Format: <code>concall:sentiment:{ticker}:{quarter}:{year}:v{version}</code></p>"},{"location":"api-reference/concall/cache/#parse_key","title":"parse_key()","text":"<p>Parse cache key into components.</p> <p>Signature: <pre><code>@staticmethod\ndef parse_key(key: str) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>key</code> (str): Cache key</p> <p>Returns: - dict: Parsed components (type, ticker, quarter, year, version, etc.)</p> <p>Example: <pre><code>key = \"concall:transcript:AAPL:Q4:2024:v1\"\nparsed = CacheKeyGenerator.parse_key(key)\n\nprint(parsed)\n# {\n#   'namespace': 'concall',\n#   'type': 'transcript',\n#   'ticker': 'AAPL',\n#   'quarter': 'Q4',\n#   'fiscal_year': 2024,\n#   'version': 1\n# }\n</code></pre></p>"},{"location":"api-reference/concall/cache/#design-principles","title":"Design Principles","text":""},{"location":"api-reference/concall/cache/#solid-compliance","title":"SOLID Compliance","text":"<p>Single Responsibility: Each class has one reason to change - <code>ICacheBackend</code>: Cache operations interface - <code>RedisCacheBackend</code>: Redis-specific implementation - <code>InMemoryCacheBackend</code>: In-memory implementation - <code>CacheKeyGenerator</code>: Key generation logic - <code>ConcallCacheService</code>: Domain-specific caching API</p> <p>Open/Closed: Extensible via new backends without modifying core - Add new backends by implementing <code>ICacheBackend</code> - No changes needed to existing code</p> <p>Liskov Substitution: All backends are interchangeable - Any <code>ICacheBackend</code> can replace another - Services work with any backend</p> <p>Interface Segregation: Minimal, focused interfaces - <code>ICacheBackend</code> has only essential methods - No bloated interfaces</p> <p>Dependency Inversion: Services depend on abstractions - <code>ConcallCacheService</code> depends on <code>ICacheBackend</code> interface - Not on concrete implementations</p>"},{"location":"api-reference/concall/cache/#integration-with-services","title":"Integration with Services","text":""},{"location":"api-reference/concall/cache/#transcriptfetcher-integration","title":"TranscriptFetcher Integration","text":"<pre><code>from maverick_mcp.concall.cache.cache_service import ConcallCacheService\nfrom maverick_mcp.concall.services.transcript_fetcher import TranscriptFetcher\n\ncache_service = ConcallCacheService()\nfetcher = TranscriptFetcher(cache_service=cache_service)\n\n# Automatically uses L1 cache\ntranscript = fetcher.fetch_transcript(\"AAPL\", \"Q4\", 2024)\n</code></pre>"},{"location":"api-reference/concall/cache/#summarization-service-integration","title":"Summarization Service Integration","text":"<pre><code>from maverick_mcp.concall.services.concall_summarizer import ConcallSummarizer\n\nsummarizer = ConcallSummarizer(cache_service=cache_service)\n\n# Check L1 cache before generating\nsummary = summarizer.summarize(transcript_id=123, mode=\"standard\")\n</code></pre>"},{"location":"api-reference/concall/cache/#deployment-configurations","title":"Deployment Configurations","text":""},{"location":"api-reference/concall/cache/#development-in-memory","title":"Development (In-Memory)","text":"<pre><code>service = ConcallCacheService(backend=\"memory\")\n</code></pre> <p>Benefits: - No external dependencies - Fast setup - Perfect for testing</p>"},{"location":"api-reference/concall/cache/#production-redis","title":"Production (Redis)","text":"<pre><code>service = ConcallCacheService(\n    backend=\"redis\",\n    redis_host=\"cache.example.com\",\n    redis_port=6379,\n    redis_password=\"secure-password\"\n)\n</code></pre> <p>Benefits: - Shared cache across instances - Persistent across restarts - High performance (1-5ms)</p>"},{"location":"api-reference/concall/cache/#hybrid-auto-detection","title":"Hybrid (Auto-Detection)","text":"<pre><code>service = ConcallCacheService()  # Auto-detects Redis\n</code></pre> <p>Benefits: - Tries Redis first - Falls back to in-memory if Redis unavailable - Works everywhere</p>"},{"location":"api-reference/concall/cache/#monitoring-and-health-checks","title":"Monitoring and Health Checks","text":""},{"location":"api-reference/concall/cache/#health-check","title":"Health Check","text":"<pre><code>service = ConcallCacheService()\n\nif service.health_check():\n    print(\"\u2705 Cache is healthy\")\nelse:\n    print(\"\u26a0\ufe0f Cache degraded (using fallback)\")\n</code></pre>"},{"location":"api-reference/concall/cache/#cache-statistics","title":"Cache Statistics","text":"<pre><code>stats = service.get_cache_stats()\nprint(f\"Backend: {stats['backend_type']}\")\nprint(f\"Total Keys: {stats['total_keys']}\")\nprint(f\"Hit Rate: {stats['hit_rate']:.2%}\")\n</code></pre>"},{"location":"api-reference/concall/cache/#logging","title":"Logging","text":"<p>All cache operations are logged with L1/L2/L3 hit tracking:</p> <pre><code>INFO: L1 cache hit for concall:transcript:AAPL:Q4:2024:v1\nINFO: L2 cache miss for concall:summary:MSFT:Q3:2024:standard:v1\nINFO: L3 source fetch for concall:sentiment:GOOGL:Q2:2024:v1\n</code></pre>"},{"location":"api-reference/concall/cache/#performance-metrics","title":"Performance Metrics","text":""},{"location":"api-reference/concall/cache/#response-times","title":"Response Times","text":"<ul> <li>L1 Hit (Redis): ~1-5ms</li> <li>L1 Hit (Memory): ~0.1-1ms</li> <li>L2 Hit (Database): ~10-50ms</li> <li>L3 Miss (API/AI): ~1000-60000ms</li> </ul>"},{"location":"api-reference/concall/cache/#cost-savings","title":"Cost Savings","text":"<ul> <li>Transcript Fetch: $0 (cached) vs $0.01 (API)</li> <li>AI Summary: $0 (cached) vs $0.01-0.05 (API)</li> <li>Sentiment Analysis: $0 (cached) vs $0.005-0.01 (API)</li> </ul> <p>7-day cache = 100% cost savings for repeat access</p>"},{"location":"api-reference/concall/cache/#future-enhancements","title":"Future Enhancements","text":""},{"location":"api-reference/concall/cache/#microservice-extraction","title":"Microservice Extraction","text":"<p>The cache layer is designed for easy extraction:</p> <pre><code>maverick-mcp/\n  \u2514\u2500\u2500 maverick_mcp/\n      \u2514\u2500\u2500 concall/\n          \u2514\u2500\u2500 cache/  \u2190 Can become separate service\n</code></pre>"},{"location":"api-reference/concall/cache/#additional-backends","title":"Additional Backends","text":"<p>Easy to add: - Memcached backend - DynamoDB backend - S3 backend for large objects</p>"},{"location":"api-reference/concall/cache/#distributed-caching","title":"Distributed Caching","text":"<p>Redis Cluster support for horizontal scaling.</p>"},{"location":"api-reference/concall/cache/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/concall/cache/#always-use-service-layer","title":"Always Use Service Layer","text":"<pre><code># Good - Use ConcallCacheService\nservice = ConcallCacheService()\ntranscript = service.get_transcript(\"AAPL\", \"Q4\", 2024)\n\n# Bad - Direct backend usage\nbackend = RedisCacheBackend()\ntranscript = backend.get(\"concall:transcript:AAPL:Q4:2024:v1\")\n</code></pre>"},{"location":"api-reference/concall/cache/#handle-cache-misses-gracefully","title":"Handle Cache Misses Gracefully","text":"<pre><code>transcript = service.get_transcript(\"AAPL\", \"Q4\", 2024)\nif not transcript:\n    transcript = fetch_from_source()\n    service.set_transcript(\"AAPL\", \"Q4\", 2024, transcript)\n</code></pre>"},{"location":"api-reference/concall/cache/#clear-stale-data","title":"Clear Stale Data","text":"<pre><code># Clear old entries weekly\nservice.clear_old_entries(days=7)\n\n# Clear ticker on news/events\nservice.clear_ticker(\"AAPL\")\n</code></pre>"},{"location":"api-reference/concall/cache/#monitor-health","title":"Monitor Health","text":"<pre><code># Periodic health checks\nif not service.health_check():\n    alert_ops_team()\n</code></pre>"},{"location":"api-reference/concall/models/","title":"Conference Call Models","text":"<p>Data models for conference call analysis.</p>"},{"location":"api-reference/concall/models/#module-maverick_mcpconcallmodels","title":"Module: maverick_mcp.concall.models","text":""},{"location":"api-reference/concall/models/#transcript","title":"Transcript","text":"<p>Conference call transcript model.</p> <p>Fields: - <code>id</code> (int): Primary key - <code>ticker</code> (str): Stock symbol (e.g., \"AAPL\", \"RELIANCE.NS\") - <code>quarter</code> (str): Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") - <code>fiscal_year</code> (int): Fiscal year (e.g., 2025) - <code>transcript_text</code> (Text): Full transcript content - <code>source</code> (str): Source (\"company_ir\", \"nse\", \"screener\") - <code>source_url</code> (str): Original transcript URL - <code>fetched_at</code> (datetime): When transcript was fetched - <code>metadata</code> (JSON): Additional data (speakers, duration, etc.)</p> <p>Indexes: - Composite unique index on (ticker, quarter, fiscal_year) - Ticker index for company queries - Fiscal year index for temporal queries</p> <p>Example: <pre><code>from maverick_mcp.concall.models import Transcript\nfrom maverick_mcp.data.session_management import session_scope\n\nwith session_scope() as session:\n    transcript = session.query(Transcript).filter_by(\n        ticker=\"RELIANCE.NS\",\n        quarter=\"Q1\",\n        fiscal_year=2025\n    ).first()\n\n    print(f\"Source: {transcript.source}\")\n    print(f\"Length: {len(transcript.transcript_text)} characters\")\n</code></pre></p>"},{"location":"api-reference/concall/models/#transcriptsummary","title":"TranscriptSummary","text":"<p>AI-generated transcript summary.</p> <p>Fields: - <code>id</code> (int): Primary key - <code>transcript_id</code> (int): Foreign key to Transcript - <code>summary_mode</code> (str): Mode (\"concise\", \"standard\", \"detailed\") - <code>executive_summary</code> (Text): High-level overview - <code>key_metrics</code> (JSON): Important financial metrics - <code>revenue_analysis</code> (Text): Revenue discussion - <code>guidance</code> (Text): Management guidance - <code>risks</code> (JSON): Risk factors mentioned - <code>growth_drivers</code> (JSON): Growth initiatives - <code>generated_at</code> (datetime): Summary generation time - <code>model_used</code> (str): AI model name</p> <p>Relationships: - <code>transcript</code>: Many-to-one with Transcript</p> <p>Example: <pre><code>from maverick_mcp.concall.models import TranscriptSummary\n\nsummary = session.query(TranscriptSummary).filter_by(\n    transcript_id=transcript_id,\n    summary_mode=\"standard\"\n).first()\n\nprint(summary.executive_summary)\nprint(f\"Key Metrics: {summary.key_metrics}\")\n</code></pre></p>"},{"location":"api-reference/concall/models/#sentimentanalysis","title":"SentimentAnalysis","text":"<p>Sentiment analysis of conference calls.</p> <p>Fields: - <code>id</code> (int): Primary key - <code>transcript_id</code> (int): Foreign key to Transcript - <code>overall_sentiment</code> (float): Score 1-5 (1=Very Bearish, 5=Very Bullish) - <code>management_tone</code> (str): Tone assessment (\"confident\", \"cautious\", \"defensive\") - <code>outlook_sentiment</code> (float): Forward-looking sentiment (1-5) - <code>risk_sentiment</code> (float): Risk discussion sentiment (1-5) - <code>confidence_score</code> (float): Analysis confidence (0-1) - <code>key_phrases</code> (JSON): Important phrases with sentiment - <code>analyzed_at</code> (datetime): Analysis timestamp - <code>model_used</code> (str): AI model name</p> <p>Sentiment Scale: - 5.0: Very Bullish - Extremely positive outlook - 4.0: Bullish - Generally positive tone - 3.0: Neutral - Balanced perspective - 2.0: Bearish - Cautious or negative - 1.0: Very Bearish - Significantly negative</p> <p>Example: <pre><code>from maverick_mcp.concall.models import SentimentAnalysis\n\nsentiment = session.query(SentimentAnalysis).filter_by(\n    transcript_id=transcript_id\n).first()\n\nprint(f\"Overall: {sentiment.overall_sentiment}/5\")\nprint(f\"Tone: {sentiment.management_tone}\")\nprint(f\"Confidence: {sentiment.confidence_score}\")\n</code></pre></p>"},{"location":"api-reference/concall/models/#transcriptembedding","title":"TranscriptEmbedding","text":"<p>Vector embeddings for RAG (Retrieval-Augmented Generation).</p> <p>Fields: - <code>id</code> (int): Primary key - <code>transcript_id</code> (int): Foreign key to Transcript - <code>chunk_index</code> (int): Chunk sequence number - <code>chunk_text</code> (Text): Text segment - <code>embedding</code> (Vector): Vector embedding - <code>metadata</code> (JSON): Chunk metadata (speaker, topic, timestamp) - <code>created_at</code> (datetime): Embedding creation time</p> <p>Chunk Size: ~500-1000 tokens per chunk</p> <p>Embedding Model: OpenAI text-embedding-3-small (1536 dimensions)</p> <p>Example: <pre><code>from maverick_mcp.concall.models import TranscriptEmbedding\n\n# Get all embeddings for a transcript\nembeddings = session.query(TranscriptEmbedding).filter_by(\n    transcript_id=transcript_id\n).order_by(TranscriptEmbedding.chunk_index).all()\n\nprint(f\"Total chunks: {len(embeddings)}\")\n</code></pre></p>"},{"location":"api-reference/concall/models/#data-flow","title":"Data Flow","text":""},{"location":"api-reference/concall/models/#transcript-lifecycle","title":"Transcript Lifecycle","text":"<ol> <li>Fetching: <code>Transcript</code> created with raw text</li> <li>Summarization: <code>TranscriptSummary</code> generated (concise/standard/detailed)</li> <li>Sentiment Analysis: <code>SentimentAnalysis</code> computed</li> <li>Embedding: <code>TranscriptEmbedding</code> chunks created for RAG</li> <li>Caching: All results cached for 7 days</li> </ol>"},{"location":"api-reference/concall/models/#database-relationships","title":"Database Relationships","text":"<pre><code>Transcript (1) \u2190\u2192 (Many) TranscriptSummary\n           (1) \u2190\u2192 (Many) SentimentAnalysis\n           (1) \u2190\u2192 (Many) TranscriptEmbedding\n</code></pre>"},{"location":"api-reference/concall/models/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/concall/models/#query-optimization","title":"Query Optimization","text":"<pre><code>from sqlalchemy.orm import joinedload\n\n# Eager load relationships\ntranscript = session.query(Transcript).options(\n    joinedload(Transcript.summaries),\n    joinedload(Transcript.sentiment_analyses)\n).filter_by(ticker=\"AAPL\").first()\n\n# Avoid N+1 queries\nfor summary in transcript.summaries:\n    print(summary.executive_summary)\n</code></pre>"},{"location":"api-reference/concall/models/#caching-strategy","title":"Caching Strategy","text":"<pre><code>from maverick_mcp.data.cache import CacheManager\n\ncache = CacheManager()\n\ndef get_cached_transcript(ticker: str, quarter: str, year: int):\n    cache_key = f\"transcript:{ticker}:{quarter}:{year}\"\n\n    cached = cache.get(cache_key)\n    if cached:\n        return cached\n\n    with session_scope() as session:\n        transcript = session.query(Transcript).filter_by(\n            ticker=ticker, quarter=quarter, fiscal_year=year\n        ).first()\n\n    cache.set(cache_key, transcript, ttl=604800)  # 7 days\n    return transcript\n</code></pre>"},{"location":"api-reference/concall/models/#bulk-operations","title":"Bulk Operations","text":"<pre><code># Efficient chunk insertion\nchunks = [\n    TranscriptEmbedding(\n        transcript_id=transcript_id,\n        chunk_index=i,\n        chunk_text=text,\n        embedding=vector\n    )\n    for i, (text, vector) in enumerate(chunks_data)\n]\n\nwith session_scope() as session:\n    session.bulk_save_objects(chunks)\n</code></pre>"},{"location":"api-reference/concall/providers/","title":"Conference Call Providers","text":"<p>Data providers for fetching conference call transcripts.</p>"},{"location":"api-reference/concall/providers/#module-maverick_mcpconcallproviderscompany_ir_provider","title":"Module: maverick_mcp.concall.providers.company_ir_provider","text":""},{"location":"api-reference/concall/providers/#companyirprovider","title":"CompanyIRProvider","text":"<p>Fetch transcripts from company investor relations websites.</p> <p>Class: <code>CompanyIRProvider</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/providers/#fetch_transcript","title":"fetch_transcript()","text":"<p>Fetch transcript from company IR website.</p> <p>Signature: <pre><code>def fetch_transcript(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int\n) -&gt; dict | None\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol (e.g., \"AAPL\", \"MSFT\") - <code>quarter</code> (str): Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") - <code>fiscal_year</code> (int): Fiscal year (e.g., 2025)</p> <p>Returns: - dict | None: Transcript data or None if not found   - <code>transcript_text</code> (str): Full transcript   - <code>source</code> (str): \"company_ir\"   - <code>source_url</code> (str): Original URL   - <code>metadata</code> (dict): Additional info</p> <p>Example: <pre><code>from maverick_mcp.concall.providers.company_ir_provider import CompanyIRProvider\n\nprovider = CompanyIRProvider()\ntranscript = provider.fetch_transcript(\"AAPL\", \"Q4\", 2024)\n\nif transcript:\n    print(f\"Fetched from: {transcript['source_url']}\")\n    print(f\"Length: {len(transcript['transcript_text'])} chars\")\n</code></pre></p>"},{"location":"api-reference/concall/providers/#get_ir_url","title":"get_ir_url()","text":"<p>Get company IR website URL.</p> <p>Signature: <pre><code>def get_ir_url(self, ticker: str) -&gt; str | None\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol</p> <p>Returns: - str | None: IR website URL or None if not found</p> <p>Example: <pre><code>ir_url = provider.get_ir_url(\"AAPL\")\nprint(ir_url)  # https://investor.apple.com/\n</code></pre></p>"},{"location":"api-reference/concall/providers/#module-maverick_mcpconcallprovidersnse_provider","title":"Module: maverick_mcp.concall.providers.nse_provider","text":""},{"location":"api-reference/concall/providers/#nseprovider","title":"NSEProvider","text":"<p>Fetch transcripts from NSE (National Stock Exchange of India).</p> <p>Class: <code>NSEProvider</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/providers/#fetch_transcript_1","title":"fetch_transcript()","text":"<p>Fetch transcript from NSE filings.</p> <p>Signature: <pre><code>def fetch_transcript(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int\n) -&gt; dict | None\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol with .NS suffix (e.g., \"RELIANCE.NS\") - <code>quarter</code> (str): Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") - <code>fiscal_year</code> (int): Fiscal year</p> <p>Returns: - dict | None: Transcript data or None if not found</p> <p>Data Source: NSE corporate announcements and filings</p> <p>Example: <pre><code>from maverick_mcp.concall.providers.nse_provider import NSEProvider\n\nprovider = NSEProvider()\ntranscript = provider.fetch_transcript(\"RELIANCE.NS\", \"Q1\", 2025)\n\nif transcript:\n    print(f\"Source: NSE Exchange Filing\")\n    print(transcript['transcript_text'][:500])\n</code></pre></p>"},{"location":"api-reference/concall/providers/#search_filings","title":"search_filings()","text":"<p>Search NSE filings for transcripts.</p> <p>Signature: <pre><code>def search_filings(\n    self,\n    ticker: str,\n    start_date: str,\n    end_date: str\n) -&gt; list[dict]\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol with .NS suffix - <code>start_date</code> (str): Start date (YYYY-MM-DD) - <code>end_date</code> (str): End date (YYYY-MM-DD)</p> <p>Returns: - list[dict]: List of filing metadata</p>"},{"location":"api-reference/concall/providers/#module-maverick_mcpconcallprovidersscreener_provider","title":"Module: maverick_mcp.concall.providers.screener_provider","text":""},{"location":"api-reference/concall/providers/#screenerprovider","title":"ScreenerProvider","text":"<p>Fetch transcripts from Screener.in (future implementation).</p> <p>Class: <code>ScreenerProvider</code></p> <p>Status: Coming soon - planned for Phase 5</p> <p>Planned Features: - Access to Screener.in Indian stock transcripts - Historical transcript archive - Simplified access for Indian stocks</p>"},{"location":"api-reference/concall/providers/#cascading-provider-system","title":"Cascading Provider System","text":""},{"location":"api-reference/concall/providers/#transcriptfetcher","title":"TranscriptFetcher","text":"<p>Multi-provider orchestration with automatic fallback.</p> <p>Class: <code>TranscriptFetcher</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/providers/#fetch_transcript_2","title":"fetch_transcript()","text":"<p>Fetch transcript with cascading fallback.</p> <p>Signature: <pre><code>def fetch_transcript(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int\n) -&gt; dict | None\n</code></pre></p> <p>Fallback Order: 1. Company IR Website (primary) - Direct from source 2. NSE Exchange Filings (fallback) - For Indian stocks 3. Screener.in (future) - Alternative for Indian stocks 4. Database Cache (always checked first) - 7-day TTL</p> <p>Example: <pre><code>from maverick_mcp.concall.providers import TranscriptFetcher\n\nfetcher = TranscriptFetcher()\n\n# Automatically tries all providers\ntranscript = fetcher.fetch_transcript(\"RELIANCE.NS\", \"Q1\", 2025)\n\nif transcript:\n    print(f\"Fetched from: {transcript['source']}\")\nelse:\n    print(\"Transcript not found in any source\")\n</code></pre></p>"},{"location":"api-reference/concall/providers/#provider-selection-logic","title":"Provider Selection Logic","text":""},{"location":"api-reference/concall/providers/#us-stocks","title":"US Stocks","text":"<p>For US stocks (no suffix): 1. Try Company IR website 2. Return None if not found</p> <p>Example: \"AAPL\" \u2192 Company IR only</p>"},{"location":"api-reference/concall/providers/#indian-nse-stocks","title":"Indian NSE Stocks","text":"<p>For .NS suffix stocks: 1. Try Company IR website 2. Fallback to NSE exchange filings 3. Fallback to Screener.in (future)</p> <p>Example: \"RELIANCE.NS\" \u2192 Company IR \u2192 NSE \u2192 Screener</p>"},{"location":"api-reference/concall/providers/#indian-bse-stocks","title":"Indian BSE Stocks","text":"<p>For .BO suffix stocks: 1. Try Company IR website 2. Return None if not found (BSE filing support future)</p> <p>Example: \"TCS.BO\" \u2192 Company IR only</p>"},{"location":"api-reference/concall/providers/#error-handling","title":"Error Handling","text":""},{"location":"api-reference/concall/providers/#provider-errors","title":"Provider Errors","text":"<pre><code>from maverick_mcp.concall.providers import TranscriptFetcher, ProviderError\n\nfetcher = TranscriptFetcher()\n\ntry:\n    transcript = fetcher.fetch_transcript(\"AAPL\", \"Q4\", 2024)\nexcept ProviderError as e:\n    print(f\"Provider error: {e}\")\nexcept ValueError as e:\n    print(f\"Invalid input: {e}\")\n</code></pre>"},{"location":"api-reference/concall/providers/#common-errors","title":"Common Errors","text":"<ul> <li>ProviderError: Provider-specific failure</li> <li>ValueError: Invalid ticker, quarter, or year</li> <li>TimeoutError: Request timeout (30s default)</li> <li>ConnectionError: Network issues</li> </ul>"},{"location":"api-reference/concall/providers/#performance-optimization","title":"Performance Optimization","text":""},{"location":"api-reference/concall/providers/#caching","title":"Caching","text":"<p>All providers automatically cache results: - Cache Duration: 7 days - Cache Key: <code>transcript:{ticker}:{quarter}:{year}</code> - Cache Tiers: Redis (L1) \u2192 Database (L2) \u2192 API (L3)</p>"},{"location":"api-reference/concall/providers/#retry-logic","title":"Retry Logic","text":"<ul> <li>Max Retries: 3 attempts per provider</li> <li>Backoff: Exponential (1s, 2s, 4s)</li> <li>Timeout: 30s per request</li> </ul>"},{"location":"api-reference/concall/providers/#rate-limiting","title":"Rate Limiting","text":"<ul> <li>NSE Provider: 10 requests/minute</li> <li>Company IR: No specific limit (be respectful)</li> </ul>"},{"location":"api-reference/concall/providers/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/concall/providers/#error-recovery","title":"Error Recovery","text":"<pre><code>fetcher = TranscriptFetcher()\n\n# Try with error handling\nfor attempt in range(3):\n    try:\n        transcript = fetcher.fetch_transcript(ticker, quarter, year)\n        break\n    except ProviderError:\n        if attempt == 2:\n            raise\n        time.sleep(2 ** attempt)\n</code></pre>"},{"location":"api-reference/concall/providers/#batch-fetching","title":"Batch Fetching","text":"<pre><code>from concurrent.futures import ThreadPoolExecutor\n\ncalls = [\n    (\"AAPL\", \"Q1\", 2025),\n    (\"MSFT\", \"Q1\", 2025),\n    (\"GOOGL\", \"Q1\", 2025)\n]\n\nwith ThreadPoolExecutor(max_workers=3) as executor:\n    results = list(executor.map(\n        lambda x: fetcher.fetch_transcript(*x),\n        calls\n    ))\n</code></pre>"},{"location":"api-reference/concall/providers/#cache-warming","title":"Cache Warming","text":"<pre><code># Pre-fetch and cache important transcripts\nimportant_stocks = [\"AAPL\", \"MSFT\", \"GOOGL\"]\nquarters = [\"Q1\", \"Q2\", \"Q3\", \"Q4\"]\n\nfor ticker in important_stocks:\n    for quarter in quarters:\n        fetcher.fetch_transcript(ticker, quarter, 2024)\n</code></pre>"},{"location":"api-reference/concall/services/","title":"Conference Call Services","text":"<p>Business logic and AI services for conference call analysis.</p>"},{"location":"api-reference/concall/services/#module-maverick_mcpconcallservicestranscript_service","title":"Module: maverick_mcp.concall.services.transcript_service","text":""},{"location":"api-reference/concall/services/#transcriptservice","title":"TranscriptService","text":"<p>Core service for transcript management.</p> <p>Class: <code>TranscriptService</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/services/#get_transcript","title":"get_transcript()","text":"<p>Get or fetch transcript.</p> <p>Signature: <pre><code>def get_transcript(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    force_refresh: bool = False\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") - <code>fiscal_year</code> (int): Fiscal year - <code>force_refresh</code> (bool, optional): Bypass cache. Default: False</p> <p>Returns: - dict: Transcript data with metadata</p> <p>Cache Behavior: - Checks database first (7-day TTL) - Falls back to providers if not cached - Stores result in database and Redis</p> <p>Example: <pre><code>from maverick_mcp.concall.services.transcript_service import TranscriptService\n\nservice = TranscriptService()\n\n# Get cached or fetch\ntranscript = service.get_transcript(\"AAPL\", \"Q4\", 2024)\nprint(transcript['transcript_text'][:500])\n\n# Force refresh\ntranscript = service.get_transcript(\"AAPL\", \"Q4\", 2024, force_refresh=True)\n</code></pre></p>"},{"location":"api-reference/concall/services/#save_transcript","title":"save_transcript()","text":"<p>Save transcript to database.</p> <p>Signature: <pre><code>def save_transcript(\n    self,\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    transcript_text: str,\n    source: str,\n    source_url: str,\n    metadata: dict | None = None\n) -&gt; int\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter - <code>fiscal_year</code> (int): Year - <code>transcript_text</code> (str): Full transcript - <code>source</code> (str): Source identifier - <code>source_url</code> (str): Original URL - <code>metadata</code> (dict, optional): Additional data</p> <p>Returns: - int: Transcript ID</p>"},{"location":"api-reference/concall/services/#module-maverick_mcpconcallservicessummarization_service","title":"Module: maverick_mcp.concall.services.summarization_service","text":""},{"location":"api-reference/concall/services/#summarizationservice","title":"SummarizationService","text":"<p>AI-powered transcript summarization.</p> <p>Class: <code>SummarizationService</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/services/#summarize","title":"summarize()","text":"<p>Generate AI summary of transcript.</p> <p>Signature: <pre><code>def summarize(\n    self,\n    transcript_id: int,\n    mode: str = \"standard\",\n    force_regenerate: bool = False\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>transcript_id</code> (int): Transcript database ID - <code>mode</code> (str, optional): Detail level (\"concise\", \"standard\", \"detailed\"). Default: \"standard\" - <code>force_regenerate</code> (bool, optional): Regenerate if exists. Default: False</p> <p>Returns: - dict: Summary with structure:   - <code>executive_summary</code> (str): High-level overview   - <code>key_metrics</code> (dict): Important financial metrics   - <code>revenue_analysis</code> (str): Revenue discussion   - <code>guidance</code> (str): Management guidance   - <code>risks</code> (list): Risk factors   - <code>growth_drivers</code> (list): Growth initiatives   - <code>model_used</code> (str): AI model name</p> <p>Detail Levels:</p>"},{"location":"api-reference/concall/services/#concise-mode","title":"Concise Mode","text":"<ul> <li>Length: 2-3 paragraphs (~200-300 words)</li> <li>Read Time: ~30 seconds</li> <li>Use Case: Quick overview before meeting</li> <li>Content: Key highlights, major metrics, overall tone</li> </ul>"},{"location":"api-reference/concall/services/#standard-mode-default","title":"Standard Mode (Default)","text":"<ul> <li>Length: 1-2 pages (~500-800 words)</li> <li>Read Time: 2-3 minutes</li> <li>Use Case: General analysis and research</li> <li>Content: Executive summary, financial performance, key initiatives, risks</li> </ul>"},{"location":"api-reference/concall/services/#detailed-mode","title":"Detailed Mode","text":"<ul> <li>Length: 3-5 pages (~1500-2500 words)</li> <li>Read Time: 5-10 minutes</li> <li>Use Case: Deep analysis and investment decisions</li> <li>Content: Comprehensive analysis, segment details, management quotes, detailed metrics</li> </ul> <p>Example: <pre><code>from maverick_mcp.concall.services.summarization_service import SummarizationService\n\nservice = SummarizationService()\n\n# Standard summary\nsummary = service.summarize(transcript_id=123, mode=\"standard\")\nprint(summary['executive_summary'])\nprint(f\"Key Metrics: {summary['key_metrics']}\")\n\n# Detailed analysis\ndetailed = service.summarize(transcript_id=123, mode=\"detailed\")\nprint(detailed['revenue_analysis'])\n</code></pre></p>"},{"location":"api-reference/concall/services/#get_cached_summary","title":"get_cached_summary()","text":"<p>Retrieve cached summary if available.</p> <p>Signature: <pre><code>def get_cached_summary(\n    self,\n    transcript_id: int,\n    mode: str = \"standard\"\n) -&gt; dict | None\n</code></pre></p> <p>Returns: - dict | None: Cached summary or None</p>"},{"location":"api-reference/concall/services/#module-maverick_mcpconcallservicessentiment_service","title":"Module: maverick_mcp.concall.services.sentiment_service","text":""},{"location":"api-reference/concall/services/#sentimentservice","title":"SentimentService","text":"<p>AI-powered sentiment analysis.</p> <p>Class: <code>SentimentService</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/services/#analyze_sentiment","title":"analyze_sentiment()","text":"<p>Analyze sentiment of conference call.</p> <p>Signature: <pre><code>def analyze_sentiment(\n    self,\n    transcript_id: int,\n    force_regenerate: bool = False\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>transcript_id</code> (int): Transcript database ID - <code>force_regenerate</code> (bool, optional): Regenerate if exists. Default: False</p> <p>Returns: - dict: Sentiment analysis with:   - <code>overall_sentiment</code> (float): Score 1-5   - <code>management_tone</code> (str): Tone assessment   - <code>outlook_sentiment</code> (float): Forward-looking score   - <code>risk_sentiment</code> (float): Risk discussion score   - <code>confidence_score</code> (float): Analysis confidence 0-1   - <code>key_phrases</code> (list): Important phrases with sentiment   - <code>model_used</code> (str): AI model name</p> <p>Sentiment Dimensions:</p>"},{"location":"api-reference/concall/services/#overall-sentiment-1-5","title":"Overall Sentiment (1-5)","text":"<ul> <li>5.0: Very Bullish - Extremely positive, strong confidence</li> <li>4.0: Bullish - Generally positive, optimistic outlook</li> <li>3.0: Neutral - Balanced, no clear direction</li> <li>2.0: Bearish - Cautious, concerns raised</li> <li>1.0: Very Bearish - Significantly negative, defensive</li> </ul>"},{"location":"api-reference/concall/services/#management-tone","title":"Management Tone","text":"<ul> <li>Confident: Strong, assertive, optimistic</li> <li>Cautious: Measured, careful, hedging</li> <li>Defensive: Explaining issues, justifying decisions</li> <li>Mixed: Varying tones throughout</li> </ul>"},{"location":"api-reference/concall/services/#outlook-sentiment","title":"Outlook Sentiment","text":"<p>Future-focused sentiment: - Growth expectations - Guidance confidence - Market opportunity optimism</p>"},{"location":"api-reference/concall/services/#risk-sentiment","title":"Risk Sentiment","text":"<p>How risks are discussed: - High (5): Risks mentioned but manageable - Low (1): Significant concerns, uncertainty</p> <p>Example: <pre><code>from maverick_mcp.concall.services.sentiment_service import SentimentService\n\nservice = SentimentService()\n\nsentiment = service.analyze_sentiment(transcript_id=123)\n\nprint(f\"Overall: {sentiment['overall_sentiment']}/5\")\nprint(f\"Management Tone: {sentiment['management_tone']}\")\nprint(f\"Outlook: {sentiment['outlook_sentiment']}/5\")\nprint(f\"Confidence: {sentiment['confidence_score']}\")\n\n# Interpret overall sentiment\nif sentiment['overall_sentiment'] &gt;= 4.0:\n    print(\"Strong bullish sentiment\")\nelif sentiment['overall_sentiment'] &gt;= 3.5:\n    print(\"Moderately bullish\")\nelif sentiment['overall_sentiment'] &gt;= 2.5:\n    print(\"Neutral to slightly bearish\")\nelse:\n    print(\"Bearish sentiment\")\n</code></pre></p>"},{"location":"api-reference/concall/services/#module-maverick_mcpconcallservicesrag_service","title":"Module: maverick_mcp.concall.services.rag_service","text":""},{"location":"api-reference/concall/services/#ragservice","title":"RAGService","text":"<p>Retrieval-Augmented Generation for transcript Q&amp;A.</p> <p>Class: <code>RAGService</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/services/#setup_rag","title":"setup_rag()","text":"<p>Create vector embeddings for transcript.</p> <p>Signature: <pre><code>def setup_rag(\n    self,\n    transcript_id: int,\n    force_rebuild: bool = False\n) -&gt; int\n</code></pre></p> <p>Parameters: - <code>transcript_id</code> (int): Transcript database ID - <code>force_rebuild</code> (bool, optional): Rebuild if exists. Default: False</p> <p>Returns: - int: Number of chunks created</p> <p>Process: 1. Split transcript into ~500-1000 token chunks 2. Generate embeddings using OpenAI text-embedding-3-small 3. Store chunks and embeddings in database 4. Index for fast retrieval</p> <p>Example: <pre><code>from maverick_mcp.concall.services.rag_service import RAGService\n\nservice = RAGService()\n\n# Setup RAG for transcript\nnum_chunks = service.setup_rag(transcript_id=123)\nprint(f\"Created {num_chunks} chunks\")\n</code></pre></p>"},{"location":"api-reference/concall/services/#query","title":"query()","text":"<p>Ask questions about transcript.</p> <p>Signature: <pre><code>def query(\n    self,\n    transcript_id: int,\n    question: str,\n    top_k: int = 5\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>transcript_id</code> (int): Transcript database ID - <code>question</code> (str): User question - <code>top_k</code> (int, optional): Number of relevant chunks to retrieve. Default: 5</p> <p>Returns: - dict: Answer with:   - <code>answer</code> (str): AI-generated answer   - <code>sources</code> (list): Relevant transcript excerpts with citations   - <code>confidence</code> (float): Answer confidence 0-1</p> <p>Example: <pre><code># Query transcript\nresult = service.query(\n    transcript_id=123,\n    question=\"What did management say about AI initiatives?\"\n)\n\nprint(result['answer'])\nprint(f\"Confidence: {result['confidence']}\")\n\n# Show sources\nfor i, source in enumerate(result['sources'], 1):\n    print(f\"\\nSource {i}:\")\n    print(source['text'])\n</code></pre></p>"},{"location":"api-reference/concall/services/#module-maverick_mcpconcallservicescomparison_service","title":"Module: maverick_mcp.concall.services.comparison_service","text":""},{"location":"api-reference/concall/services/#comparisonservice","title":"ComparisonService","text":"<p>Compare sentiment across multiple quarters.</p> <p>Class: <code>ComparisonService</code></p> <p>Methods:</p>"},{"location":"api-reference/concall/services/#compare_quarters","title":"compare_quarters()","text":"<p>Compare sentiment trends over time.</p> <p>Signature: <pre><code>def compare_quarters(\n    self,\n    ticker: str,\n    quarters: list[tuple[str, int]]\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarters</code> (list[tuple]): List of (quarter, year) tuples</p> <p>Returns: - dict: Comparison with:   - <code>sentiment_trends</code> (list): Sentiment progression   - <code>key_changes</code> (list): Major shifts between quarters   - <code>progression</code> (str): Overall trend (improving/declining/stable)</p> <p>Example: <pre><code>from maverick_mcp.concall.services.comparison_service import ComparisonService\n\nservice = ComparisonService()\n\n# Compare 3 quarters\ncomparison = service.compare_quarters(\n    ticker=\"AAPL\",\n    quarters=[(\"Q2\", 2024), (\"Q3\", 2024), (\"Q4\", 2024)]\n)\n\nprint(f\"Trend: {comparison['progression']}\")\n\nfor change in comparison['key_changes']:\n    print(f\"- {change}\")\n</code></pre></p>"},{"location":"api-reference/concall/services/#cost-performance","title":"Cost &amp; Performance","text":""},{"location":"api-reference/concall/services/#api-costs","title":"API Costs","text":"<p>Summarization: - Concise: $0.005-0.01 per transcript - Standard: $0.01-0.03 per transcript - Detailed: $0.03-0.05 per transcript</p> <p>Sentiment Analysis: $0.005-0.01 per transcript</p> <p>RAG Setup: $0.0001 per transcript (one-time)</p> <p>RAG Queries: $0.001-0.01 per query</p>"},{"location":"api-reference/concall/services/#performance","title":"Performance","text":"<p>Transcript Fetch: 2-10 seconds (cached: &lt;100ms)</p> <p>Summarization: - Concise: 10-20 seconds - Standard: 30-60 seconds - Detailed: 60-120 seconds</p> <p>Sentiment Analysis: 10-20 seconds</p> <p>RAG Setup: 20-40 seconds (one-time per transcript)</p> <p>RAG Queries: 3-5 seconds</p>"},{"location":"api-reference/concall/services/#caching","title":"Caching","text":"<p>All services use multi-tier caching: - L1 (Redis): &lt; 1ms - L2 (Database): &lt; 100ms - L3 (AI Generation): Seconds to minutes</p> <p>Cache duration: 7 days for all conference call data</p>"},{"location":"api-reference/concall/services/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/concall/services/#service-initialization","title":"Service Initialization","text":"<pre><code># Initialize services once, reuse\ntranscript_service = TranscriptService()\nsummarization_service = SummarizationService()\nsentiment_service = SentimentService()\nrag_service = RAGService()\n</code></pre>"},{"location":"api-reference/concall/services/#error-handling","title":"Error Handling","text":"<pre><code>try:\n    summary = summarization_service.summarize(transcript_id)\nexcept ValueError as e:\n    print(f\"Invalid input: {e}\")\nexcept AIError as e:\n    print(f\"AI service error: {e}\")\n</code></pre>"},{"location":"api-reference/concall/services/#batch-processing","title":"Batch Processing","text":"<pre><code># Process multiple transcripts\ntranscript_ids = [101, 102, 103]\n\nfor tid in transcript_ids:\n    summary = summarization_service.summarize(tid)\n    sentiment = sentiment_service.analyze_sentiment(tid)\n    rag_service.setup_rag(tid)\n</code></pre>"},{"location":"api-reference/concall/services/#use-appropriate-detail-level","title":"Use Appropriate Detail Level","text":"<pre><code># Quick check - use concise\nsummary = service.summarize(tid, mode=\"concise\")\n\n# Investment decision - use detailed\nsummary = service.summarize(tid, mode=\"detailed\")\n\n# General research - use standard\nsummary = service.summarize(tid, mode=\"standard\")\n</code></pre>"},{"location":"api-reference/concall/utils/","title":"Conference Call Utilities","text":"<p>Utility functions for conference call processing.</p>"},{"location":"api-reference/concall/utils/#module-maverick_mcpconcallutilstext_processing","title":"Module: maverick_mcp.concall.utils.text_processing","text":""},{"location":"api-reference/concall/utils/#chunk_text","title":"chunk_text()","text":"<p>Split text into manageable chunks for processing.</p> <p>Signature: <pre><code>def chunk_text(\n    text: str,\n    chunk_size: int = 1000,\n    overlap: int = 200\n) -&gt; list[str]\n</code></pre></p> <p>Parameters: - <code>text</code> (str): Text to split - <code>chunk_size</code> (int, optional): Target chunk size in tokens. Default: 1000 - <code>overlap</code> (int, optional): Overlap between chunks. Default: 200</p> <p>Returns: - list[str]: Text chunks</p> <p>Purpose:  - Maintains context between chunks with overlap - Ensures chunks fit within AI model token limits - Preserves sentence boundaries</p> <p>Example: <pre><code>from maverick_mcp.concall.utils.text_processing import chunk_text\n\ntranscript = \"Very long transcript text...\"\nchunks = chunk_text(transcript, chunk_size=800, overlap=150)\n\nprint(f\"Created {len(chunks)} chunks\")\nfor i, chunk in enumerate(chunks):\n    print(f\"Chunk {i}: {len(chunk)} characters\")\n</code></pre></p>"},{"location":"api-reference/concall/utils/#extract_speakers","title":"extract_speakers()","text":"<p>Extract speaker names from transcript.</p> <p>Signature: <pre><code>def extract_speakers(text: str) -&gt; list[str]\n</code></pre></p> <p>Parameters: - <code>text</code> (str): Transcript text</p> <p>Returns: - list[str]: Unique speaker names</p> <p>Example: <pre><code>from maverick_mcp.concall.utils.text_processing import extract_speakers\n\nspeakers = extract_speakers(transcript_text)\nprint(f\"Speakers: {', '.join(speakers)}\")\n# Output: \"Speakers: Tim Cook, Luca Maestri, Analyst 1\"\n</code></pre></p>"},{"location":"api-reference/concall/utils/#clean_transcript","title":"clean_transcript()","text":"<p>Clean and normalize transcript text.</p> <p>Signature: <pre><code>def clean_transcript(text: str) -&gt; str\n</code></pre></p> <p>Parameters: - <code>text</code> (str): Raw transcript text</p> <p>Returns: - str: Cleaned transcript</p> <p>Cleaning Steps: - Remove HTML tags and entities - Normalize whitespace - Fix common OCR errors - Remove timestamps and metadata - Standardize speaker labels</p> <p>Example: <pre><code>from maverick_mcp.concall.utils.text_processing import clean_transcript\n\nraw_text = \"&lt;p&gt;Tim Cook:&amp;nbsp;&amp;nbsp;Good morning...&lt;/p&gt;\"\ncleaned = clean_transcript(raw_text)\nprint(cleaned)\n# Output: \"Tim Cook: Good morning...\"\n</code></pre></p>"},{"location":"api-reference/concall/utils/#module-maverick_mcpconcallutilsvalidation","title":"Module: maverick_mcp.concall.utils.validation","text":""},{"location":"api-reference/concall/utils/#validate_quarter","title":"validate_quarter()","text":"<p>Validate quarter string.</p> <p>Signature: <pre><code>def validate_quarter(quarter: str) -&gt; str\n</code></pre></p> <p>Parameters: - <code>quarter</code> (str): Quarter string (e.g., \"Q1\", \"q2\", \"1\")</p> <p>Returns: - str: Normalized quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\")</p> <p>Raises: - ValueError: Invalid quarter</p> <p>Accepted Formats: - \"Q1\", \"Q2\", \"Q3\", \"Q4\" (case insensitive) - \"1\", \"2\", \"3\", \"4\" - \"FY Q1\", \"FY Q2\", etc.</p> <p>Example: <pre><code>from maverick_mcp.concall.utils.validation import validate_quarter\n\nquarter = validate_quarter(\"q1\")  # Returns \"Q1\"\nquarter = validate_quarter(\"2\")   # Returns \"Q2\"\nquarter = validate_quarter(\"Q3\")  # Returns \"Q3\"\n</code></pre></p>"},{"location":"api-reference/concall/utils/#validate_fiscal_year","title":"validate_fiscal_year()","text":"<p>Validate fiscal year.</p> <p>Signature: <pre><code>def validate_fiscal_year(year: int) -&gt; int\n</code></pre></p> <p>Parameters: - <code>year</code> (int): Fiscal year</p> <p>Returns: - int: Validated year</p> <p>Raises: - ValueError: Invalid year (before 2000 or in future)</p> <p>Example: <pre><code>from maverick_mcp.concall.utils.validation import validate_fiscal_year\n\nyear = validate_fiscal_year(2024)  # OK\nyear = validate_fiscal_year(1999)  # Raises ValueError\nyear = validate_fiscal_year(2030)  # Raises ValueError (future)\n</code></pre></p>"},{"location":"api-reference/concall/utils/#validate_ticker_for_concall","title":"validate_ticker_for_concall()","text":"<p>Validate ticker for conference call access.</p> <p>Signature: <pre><code>def validate_ticker_for_concall(ticker: str) -&gt; str\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol</p> <p>Returns: - str: Validated and normalized ticker</p> <p>Raises: - ValueError: Invalid ticker format</p> <p>Supported Formats: - US stocks: \"AAPL\", \"MSFT\", \"GOOGL\" - Indian NSE: \"RELIANCE.NS\", \"TCS.NS\" - Indian BSE: \"INFY.BO\", \"WIPRO.BO\"</p>"},{"location":"api-reference/concall/utils/#module-maverick_mcpconcallutilsdate_helpers","title":"Module: maverick_mcp.concall.utils.date_helpers","text":""},{"location":"api-reference/concall/utils/#get_quarter_dates","title":"get_quarter_dates()","text":"<p>Get start and end dates for a quarter.</p> <p>Signature: <pre><code>def get_quarter_dates(\n    quarter: str,\n    fiscal_year: int\n) -&gt; tuple[date, date]\n</code></pre></p> <p>Parameters: - <code>quarter</code> (str): Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") - <code>fiscal_year</code> (int): Fiscal year</p> <p>Returns: - tuple[date, date]: (start_date, end_date)</p> <p>Example: <pre><code>from maverick_mcp.concall.utils.date_helpers import get_quarter_dates\n\nstart, end = get_quarter_dates(\"Q1\", 2024)\nprint(f\"Q1 2024: {start} to {end}\")\n# Output: \"Q1 2024: 2024-01-01 to 2024-03-31\"\n</code></pre></p>"},{"location":"api-reference/concall/utils/#get_previous_quarter","title":"get_previous_quarter()","text":"<p>Get previous quarter.</p> <p>Signature: <pre><code>def get_previous_quarter(\n    quarter: str,\n    fiscal_year: int\n) -&gt; tuple[str, int]\n</code></pre></p> <p>Parameters: - <code>quarter</code> (str): Current quarter - <code>fiscal_year</code> (int): Current fiscal year</p> <p>Returns: - tuple[str, int]: (previous_quarter, year)</p> <p>Example: <pre><code>from maverick_mcp.concall.utils.date_helpers import get_previous_quarter\n\nprev_q, prev_y = get_previous_quarter(\"Q1\", 2024)\nprint(f\"Previous: {prev_q} {prev_y}\")\n# Output: \"Previous: Q4 2023\"\n\nprev_q, prev_y = get_previous_quarter(\"Q2\", 2024)\n# Output: Q1 2024\n</code></pre></p>"},{"location":"api-reference/concall/utils/#estimate_earnings_date","title":"estimate_earnings_date()","text":"<p>Estimate earnings call date for a quarter.</p> <p>Signature: <pre><code>def estimate_earnings_date(\n    quarter: str,\n    fiscal_year: int\n) -&gt; date\n</code></pre></p> <p>Parameters: - <code>quarter</code> (str): Quarter - <code>fiscal_year</code> (int): Fiscal year</p> <p>Returns: - date: Estimated earnings date</p> <p>Logic: Typically 2-4 weeks after quarter end</p>"},{"location":"api-reference/concall/utils/#module-maverick_mcpconcallutilscaching","title":"Module: maverick_mcp.concall.utils.caching","text":""},{"location":"api-reference/concall/utils/#get_concall_cache_key","title":"get_concall_cache_key()","text":"<p>Generate cache key for conference call data.</p> <p>Signature: <pre><code>def get_concall_cache_key(\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    data_type: str\n) -&gt; str\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter - <code>fiscal_year</code> (int): Year - <code>data_type</code> (str): Type (\"transcript\", \"summary\", \"sentiment\", \"rag\")</p> <p>Returns: - str: Cache key</p> <p>Example: <pre><code>from maverick_mcp.concall.utils.caching import get_concall_cache_key\n\n# Transcript cache key\nkey = get_concall_cache_key(\"AAPL\", \"Q4\", 2024, \"transcript\")\nprint(key)  # \"concall:transcript:AAPL:Q4:2024\"\n\n# Summary cache key\nkey = get_concall_cache_key(\"AAPL\", \"Q4\", 2024, \"summary\")\nprint(key)  # \"concall:summary:AAPL:Q4:2024\"\n</code></pre></p>"},{"location":"api-reference/concall/utils/#cache_concall_data","title":"cache_concall_data()","text":"<p>Cache conference call data.</p> <p>Signature: <pre><code>def cache_concall_data(\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    data_type: str,\n    data: Any\n) -&gt; bool\n</code></pre></p> <p>Parameters: - <code>ticker</code> (str): Stock symbol - <code>quarter</code> (str): Quarter - <code>fiscal_year</code> (int): Year - <code>data_type</code> (str): Type - <code>data</code> (Any): Data to cache</p> <p>Returns: - bool: True if cached successfully</p> <p>TTL: 7 days for all conference call data</p>"},{"location":"api-reference/concall/utils/#get_cached_concall_data","title":"get_cached_concall_data()","text":"<p>Retrieve cached conference call data.</p> <p>Signature: <pre><code>def get_cached_concall_data(\n    ticker: str,\n    quarter: str,\n    fiscal_year: int,\n    data_type: str\n) -&gt; Any | None\n</code></pre></p> <p>Returns: - Any | None: Cached data or None</p>"},{"location":"api-reference/concall/utils/#module-maverick_mcpconcallutilsmetrics","title":"Module: maverick_mcp.concall.utils.metrics","text":""},{"location":"api-reference/concall/utils/#calculate_sentiment_change","title":"calculate_sentiment_change()","text":"<p>Calculate sentiment change between quarters.</p> <p>Signature: <pre><code>def calculate_sentiment_change(\n    current_sentiment: float,\n    previous_sentiment: float\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>current_sentiment</code> (float): Current quarter sentiment (1-5) - <code>previous_sentiment</code> (float): Previous quarter sentiment (1-5)</p> <p>Returns: - dict: Contains:   - <code>change</code> (float): Absolute change   - <code>change_percent</code> (float): Percentage change   - <code>direction</code> (str): \"improving\", \"declining\", or \"stable\"</p> <p>Example: <pre><code>from maverick_mcp.concall.utils.metrics import calculate_sentiment_change\n\nchange = calculate_sentiment_change(4.2, 3.8)\nprint(f\"Change: {change['change']}\")  # 0.4\nprint(f\"Direction: {change['direction']}\")  # \"improving\"\n</code></pre></p>"},{"location":"api-reference/concall/utils/#aggregate_sentiment_trend","title":"aggregate_sentiment_trend()","text":"<p>Calculate trend across multiple quarters.</p> <p>Signature: <pre><code>def aggregate_sentiment_trend(\n    sentiments: list[float]\n) -&gt; dict\n</code></pre></p> <p>Parameters: - <code>sentiments</code> (list[float]): List of sentiment scores in chronological order</p> <p>Returns: - dict: Contains:   - <code>average</code> (float): Average sentiment   - <code>trend</code> (str): \"improving\", \"declining\", or \"stable\"   - <code>volatility</code> (float): Sentiment volatility</p>"},{"location":"api-reference/concall/utils/#best-practices","title":"Best Practices","text":""},{"location":"api-reference/concall/utils/#text-processing","title":"Text Processing","text":"<pre><code>from maverick_mcp.concall.utils.text_processing import clean_transcript, chunk_text\n\n# Always clean before processing\nraw_text = fetch_transcript(...)\ncleaned = clean_transcript(raw_text)\n\n# Use appropriate chunk size for your model\nchunks = chunk_text(cleaned, chunk_size=1000)\n</code></pre>"},{"location":"api-reference/concall/utils/#validation","title":"Validation","text":"<pre><code>from maverick_mcp.concall.utils.validation import (\n    validate_quarter,\n    validate_fiscal_year,\n    validate_ticker_for_concall\n)\n\n# Validate all inputs\ntry:\n    ticker = validate_ticker_for_concall(user_ticker)\n    quarter = validate_quarter(user_quarter)\n    year = validate_fiscal_year(user_year)\nexcept ValueError as e:\n    return {\"error\": str(e)}\n</code></pre>"},{"location":"api-reference/concall/utils/#caching","title":"Caching","text":"<pre><code>from maverick_mcp.concall.utils.caching import (\n    get_cached_concall_data,\n    cache_concall_data\n)\n\n# Always check cache first\ncached = get_cached_concall_data(ticker, quarter, year, \"summary\")\nif cached:\n    return cached\n\n# Generate and cache\nsummary = generate_summary(...)\ncache_concall_data(ticker, quarter, year, \"summary\", summary)\n</code></pre>"},{"location":"api-reference/concall/utils/#date-helpers","title":"Date Helpers","text":"<pre><code>from maverick_mcp.concall.utils.date_helpers import (\n    get_quarter_dates,\n    get_previous_quarter\n)\n\n# Get quarter date range\nstart, end = get_quarter_dates(\"Q1\", 2024)\n\n# Compare with previous quarter\nprev_q, prev_y = get_previous_quarter(\"Q1\", 2024)\n</code></pre>"},{"location":"api-reference/concall/utils/#metrics","title":"Metrics","text":"<pre><code>from maverick_mcp.concall.utils.metrics import (\n    calculate_sentiment_change,\n    aggregate_sentiment_trend\n)\n\n# Track sentiment changes\nchange = calculate_sentiment_change(current, previous)\nif change['direction'] == \"declining\":\n    print(\"\u26a0\ufe0f Sentiment deteriorating\")\n\n# Analyze long-term trend\ntrend = aggregate_sentiment_trend([3.5, 3.7, 4.0, 4.2])\nprint(f\"Trend: {trend['trend']}\")  # \"improving\"\n</code></pre>"},{"location":"concall/architecture/","title":"architecture","text":"<p>Documentation coming soon.</p>"},{"location":"concall/database-schema/","title":"datauase schema","text":"<p>Documentation coming soon.</p>"},{"location":"concall/fetching-transcripts/","title":"fetching transcripts","text":"<p>Documentation coming soon.</p>"},{"location":"concall/mcp-tools/","title":"Conference Call MCP Tools","text":"<p>Complete reference for all conference call analysis tools available in Claude Desktop.</p>"},{"location":"concall/mcp-tools/#tool-overview","title":"Tool Overview","text":"Tool Name Purpose API Keys Required <code>concall_fetch_transcript</code> Fetch earnings call transcripts None <code>concall_summarize_transcript</code> Generate AI-powered summaries OPENROUTER_API_KEY <code>concall_analyze_sentiment</code> Analyze sentiment and tone OPENROUTER_API_KEY <code>concall_query_transcript</code> Ask questions using RAG OPENROUTER_API_KEY, OPENAI_API_KEY <code>concall_compare_quarters</code> Compare sentiment trends OPENROUTER_API_KEY"},{"location":"concall/mcp-tools/#tool-details","title":"Tool Details","text":""},{"location":"concall/mcp-tools/#1-concall_fetch_transcript","title":"1. concall_fetch_transcript","text":"<p>Fetch earnings call transcripts from multiple sources with automatic fallback.</p>"},{"location":"concall/mcp-tools/#parameters","title":"Parameters","text":"Parameter Type Required Default Description <code>ticker</code> string Yes - Stock symbol (e.g., \"RELIANCE.NS\", \"TCS.NS\") <code>quarter</code> string Yes - Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") <code>fiscal_year</code> int Yes - Fiscal year (e.g., 2025) <code>save_to_db</code> bool No True Save transcript to database"},{"location":"concall/mcp-tools/#returns","title":"Returns","text":"<pre><code>{\n    \"ticker\": \"RELIANCE.NS\",\n    \"quarter\": \"Q1\",\n    \"fiscal_year\": 2025,\n    \"transcript_text\": \"Full transcript content...\",\n    \"source\": \"IR_WEBSITE\",  # or \"NSE\"\n    \"fetch_date\": \"2025-01-15T10:30:00Z\",\n    \"word_count\": 8543,\n    \"transcript_url\": \"https://...\",\n    \"call_date\": \"2025-01-12\"\n}\n</code></pre>"},{"location":"concall/mcp-tools/#examples","title":"Examples","text":"<pre><code>Fetch the RELIANCE.NS Q1 2025 earnings call transcript\n</code></pre> <pre><code>Get transcript for TCS Q4 2024 and save it to the database\n</code></pre>"},{"location":"concall/mcp-tools/#error-handling","title":"Error Handling","text":"<pre><code>{\n    \"error\": \"No transcript found\",\n    \"ticker\": \"INVALID.NS\",\n    \"quarter\": \"Q1\",\n    \"fiscal_year\": 2025,\n    \"message\": \"Failed to fetch transcript. Check if IR mapping exists in database.\"\n}\n</code></pre>"},{"location":"concall/mcp-tools/#2-concall_summarize_transcript","title":"2. concall_summarize_transcript","text":"<p>Generate comprehensive AI-powered summaries of earnings call transcripts.</p>"},{"location":"concall/mcp-tools/#parameters_1","title":"Parameters","text":"Parameter Type Required Default Description <code>ticker</code> string Yes - Stock symbol <code>quarter</code> string Yes - Quarter <code>fiscal_year</code> int Yes - Fiscal year <code>mode</code> string No \"standard\" Detail level: \"concise\", \"standard\", \"detailed\" <code>force_refresh</code> bool No False Regenerate even if cached"},{"location":"concall/mcp-tools/#summary-modes","title":"Summary Modes","text":"Mode Max Tokens Use Case Cost <code>concise</code> 1500 Quick overview ~$0.01 <code>standard</code> 3000 Balanced detail ~$0.02-0.03 <code>detailed</code> 5000 Deep analysis ~$0.04-0.05"},{"location":"concall/mcp-tools/#returns_1","title":"Returns","text":"<pre><code>{\n    \"executive_summary\": \"Strong quarter with 15% YoY revenue growth...\",\n    \"key_metrics\": {\n        \"revenue\": \"$10.5B\",\n        \"revenue_growth\": \"15% YoY\",\n        \"net_profit\": \"$2.1B\",\n        \"profit_margin\": \"20%\",\n        \"eps\": \"$1.25\",\n        \"guidance\": \"15-18% growth expected for next quarter\"\n    },\n    \"business_highlights\": [\n        \"Jio subscriber base grew to 450M\",\n        \"Retail expansion with 200 new stores\",\n        \"Digital services revenue up 25%\"\n    ],\n    \"management_guidance\": \"Confident in maintaining double-digit growth...\",\n    \"sentiment\": \"positive\",\n    \"key_risks\": [\n        \"Regulatory challenges in telecom\",\n        \"Rising crude oil prices\"\n    ],\n    \"opportunities\": [\n        \"5G rollout acceleration\",\n        \"Digital commerce expansion\"\n    ],\n    \"qa_insights\": [\n        \"Analysts focused on capex plans\",\n        \"Questions about debt reduction strategy\"\n    ],\n    \"market_context\": \"Outperforming sector peers...\",\n    \"analyst_focus\": [\"Growth strategy\", \"Debt management\", \"Digital initiatives\"]\n}\n</code></pre>"},{"location":"concall/mcp-tools/#examples_1","title":"Examples","text":"<pre><code>Summarize the RELIANCE.NS Q1 2025 earnings call in standard detail\n</code></pre> <pre><code>Generate a detailed summary of the TCS Q4 2024 call\n</code></pre> <pre><code>Give me a concise summary of INFY Q1 2025, force refresh even if cached\n</code></pre>"},{"location":"concall/mcp-tools/#3-concall_analyze_sentiment","title":"3. concall_analyze_sentiment","text":"<p>Perform multi-dimensional sentiment analysis on earnings call transcripts.</p>"},{"location":"concall/mcp-tools/#parameters_2","title":"Parameters","text":"Parameter Type Required Default Description <code>ticker</code> string Yes - Stock symbol <code>quarter</code> string Yes - Quarter <code>fiscal_year</code> int Yes - Fiscal year <code>use_cache</code> bool No True Use cached results if available"},{"location":"concall/mcp-tools/#sentiment-scale","title":"Sentiment Scale","text":"Score Label Meaning 5 very_bullish Exceptional results, strong guidance, highly confident 4 bullish Good results, positive guidance, confident tone 3 neutral Mixed results, cautious guidance, balanced tone 2 bearish Weak results, lowered guidance, defensive tone 1 very_bearish Poor results, no guidance, uncertain management"},{"location":"concall/mcp-tools/#returns_2","title":"Returns","text":"<pre><code>{\n    \"overall_sentiment\": \"bullish\",\n    \"sentiment_score\": 4,\n    \"confidence_score\": 0.85,\n    \"management_tone\": \"confident\",\n    \"outlook_sentiment\": \"positive\",\n    \"risk_sentiment\": \"low_risk\",\n    \"key_positive_signals\": [\n        \"Strong revenue growth of 15%\",\n        \"Expanded profit margins\",\n        \"Confident guidance for next quarter\"\n    ],\n    \"key_negative_signals\": [\n        \"Supply chain challenges mentioned\",\n        \"Competitive pressure in retail\"\n    ],\n    \"hedge_words_count\": 5,\n    \"certainty_indicators\": [\n        \"We will deliver\",\n        \"Committed to growth\",\n        \"Confident in our strategy\"\n    ],\n    \"sentiment_rationale\": \"Strong financial performance with confident management outlook\",\n    \"tone_rationale\": \"Management expressed high confidence with minimal hedging\"\n}\n</code></pre>"},{"location":"concall/mcp-tools/#examples_2","title":"Examples","text":"<pre><code>Analyze the sentiment of the RELIANCE.NS Q1 2025 earnings call\n</code></pre> <pre><code>What was the management tone in the TCS Q4 2024 call?\n</code></pre> <pre><code>Analyze sentiment for INFY Q1 2025 without using cache\n</code></pre>"},{"location":"concall/mcp-tools/#4-concall_query_transcript","title":"4. concall_query_transcript","text":"<p>Ask questions about earnings call transcripts using RAG (Retrieval-Augmented Generation).</p>"},{"location":"concall/mcp-tools/#parameters_3","title":"Parameters","text":"Parameter Type Required Default Description <code>question</code> string Yes - Question to ask about the transcript <code>ticker</code> string Yes - Stock symbol <code>quarter</code> string Yes - Quarter <code>fiscal_year</code> int Yes - Fiscal year <code>top_k</code> int No 5 Number of relevant chunks to retrieve"},{"location":"concall/mcp-tools/#how-rag-works","title":"How RAG Works","text":"<pre><code>graph LR\n    A[Question] --&gt; B[Vector Search]\n    B --&gt; C[Retrieve Relevant Chunks]\n    C --&gt; D[LLM with Context]\n    D --&gt; E[Generated Answer]\n    C --&gt; F[Source Citations]\n    E --&gt; G[Response]\n    F --&gt; G</code></pre>"},{"location":"concall/mcp-tools/#returns_3","title":"Returns","text":"<pre><code>{\n    \"answer\": \"Revenue grew 15% year-over-year to $10.5B in Q1 2025...\",\n    \"sources\": [\n        {\n            \"content\": \"Revenue for Q1 was $10.5B, representing a 15% increase...\",\n            \"score\": 0.85,\n            \"chunk_index\": 5\n        },\n        {\n            \"content\": \"Management expressed confidence in maintaining this growth trajectory...\",\n            \"score\": 0.78,\n            \"chunk_index\": 12\n        }\n    ],\n    \"metadata\": {\n        \"ticker\": \"RELIANCE.NS\",\n        \"quarter\": \"Q1\",\n        \"fiscal_year\": 2025,\n        \"chunks_retrieved\": 5\n    }\n}\n</code></pre>"},{"location":"concall/mcp-tools/#examples_3","title":"Examples","text":"<pre><code>What was the revenue growth in the RELIANCE.NS Q1 2025 call?\n</code></pre> <pre><code>What did management say about future guidance in the TCS Q4 2024 earnings call?\n</code></pre> <pre><code>Tell me about the margin performance discussed in INFY Q1 2025\n</code></pre> <pre><code>What were the main concerns raised by analysts in the RELIANCE Q1 2025 Q&amp;A?\n</code></pre>"},{"location":"concall/mcp-tools/#features","title":"Features","text":"<ul> <li>Semantic Search: Finds relevant content even with different wording</li> <li>Context-Aware: LLM generates answers based on retrieved context</li> <li>Source Citations: Shows exact transcript excerpts used</li> <li>Auto-Indexing: Automatically indexes transcript on first query</li> </ul>"},{"location":"concall/mcp-tools/#5-concall_compare_quarters","title":"5. concall_compare_quarters","text":"<p>Compare sentiment across multiple quarters to identify trends.</p>"},{"location":"concall/mcp-tools/#parameters_4","title":"Parameters","text":"Parameter Type Required Default Description <code>ticker</code> string Yes - Stock symbol <code>quarters</code> list[tuple] Yes - List of (quarter, fiscal_year) tuples"},{"location":"concall/mcp-tools/#returns_4","title":"Returns","text":"<pre><code>{\n    \"ticker\": \"RELIANCE.NS\",\n    \"quarters_analyzed\": 3,\n    \"sentiment_trend\": \"improving\",  # or \"declining\", \"stable\"\n    \"score_change\": 2,  # Change from first to last quarter\n    \"sentiments\": [\n        {\n            \"quarter\": \"Q2\",\n            \"fiscal_year\": 2024,\n            \"overall_sentiment\": \"neutral\",\n            \"sentiment_score\": 3,\n            \"confidence_score\": 0.80\n        },\n        {\n            \"quarter\": \"Q3\",\n            \"fiscal_year\": 2024,\n            \"overall_sentiment\": \"bullish\",\n            \"sentiment_score\": 4,\n            \"confidence_score\": 0.82\n        },\n        {\n            \"quarter\": \"Q4\",\n            \"fiscal_year\": 2024,\n            \"overall_sentiment\": \"very_bullish\",\n            \"sentiment_score\": 5,\n            \"confidence_score\": 0.88\n        }\n    ],\n    \"average_confidence\": 0.83\n}\n</code></pre>"},{"location":"concall/mcp-tools/#examples_4","title":"Examples","text":"<pre><code>Compare sentiment for RELIANCE.NS across Q2, Q3, and Q4 of 2024\n</code></pre> <pre><code>Show me the sentiment trend for TCS over the last 4 quarters\n</code></pre> <pre><code>Has management confidence improved for INFY from Q4 2024 to Q1 2025?\n</code></pre>"},{"location":"concall/mcp-tools/#usage-patterns","title":"Usage Patterns","text":""},{"location":"concall/mcp-tools/#complete-analysis-workflow","title":"Complete Analysis Workflow","text":"<pre><code># 1. Fetch transcript\nFetch the RELIANCE.NS Q1 2025 earnings call\n\n# 2. Get comprehensive summary\nSummarize RELIANCE.NS Q1 2025 in detailed mode\n\n# 3. Analyze sentiment\nAnalyze sentiment for RELIANCE.NS Q1 2025\n\n# 4. Deep dive with questions\nWhat did RELIANCE management say about:\n- Jio 5G rollout progress\n- Retail expansion plans\n- New energy initiatives\n\n# 5. Compare with previous quarters\nCompare RELIANCE sentiment across Q4 2024, Q1 2025, and Q2 2025\n</code></pre>"},{"location":"concall/mcp-tools/#multi-company-analysis","title":"Multi-Company Analysis","text":"<pre><code># Compare multiple companies\nFor TCS, INFY, and WIPRO Q1 2025:\n1. Fetch all transcripts\n2. Generate standard summaries\n3. Analyze sentiment for each\n4. Compare key metrics and sentiment scores\n</code></pre>"},{"location":"concall/mcp-tools/#trend-analysis","title":"Trend Analysis","text":"<pre><code># Track evolution over time\nFor RELIANCE across last 6 quarters:\n1. Compare sentiment trends\n2. Identify inflection points\n3. Correlate with stock price movements\n4. Highlight key strategic shifts\n</code></pre>"},{"location":"concall/mcp-tools/#best-practices","title":"Best Practices","text":""},{"location":"concall/mcp-tools/#1-cost-optimization","title":"1. Cost Optimization","text":"<ul> <li>Use Cache: Don't force refresh unless necessary</li> <li>Choose Right Mode: Use \"concise\" for quick checks</li> <li>Batch Queries: Analyze multiple quarters in one request</li> </ul>"},{"location":"concall/mcp-tools/#2-quality-results","title":"2. Quality Results","text":"<ul> <li>Verify Transcripts: Check fetch succeeded before analyzing</li> <li>Review Sources: Check RAG source citations for accuracy</li> <li>Compare Trends: Use compare_quarters for context</li> </ul>"},{"location":"concall/mcp-tools/#3-error-handling","title":"3. Error Handling","text":"<ul> <li>Check API Keys: Ensure OPENROUTER_API_KEY is set</li> <li>Verify Data: Confirm transcript exists in database</li> <li>Review Logs: Check server logs for detailed errors</li> </ul>"},{"location":"concall/mcp-tools/#api-requirements","title":"API Requirements","text":"Feature Required API Keys Cost Estimate Fetch Transcripts None Free Summarization OPENROUTER_API_KEY $0.01-0.05 per call Sentiment Analysis OPENROUTER_API_KEY $0.005-0.01 per call RAG Q&amp;A (Setup) OPENAI_API_KEY $0.0001 per transcript RAG Q&amp;A (Query) OPENROUTER_API_KEY $0.005-0.01 per query"},{"location":"concall/mcp-tools/#limitations","title":"Limitations","text":"<ul> <li>Data Availability: Limited to companies with IR mappings in database</li> <li>Language: English transcripts only</li> <li>Recency: Depends on when transcripts are published</li> <li>Cache: First analysis takes longer due to AI processing</li> </ul>"},{"location":"concall/mcp-tools/#related-documentation","title":"Related Documentation","text":"<ul> <li>Overview</li> <li>Fetching Transcripts</li> <li>AI Summarization</li> <li>Sentiment Analysis</li> <li>RAG Q&amp;A</li> </ul>"},{"location":"concall/overview/","title":"Conference Call Analysis - Overview","text":"<p>Maverick MCP includes a comprehensive system for analyzing earnings call transcripts using AI-powered tools.</p>"},{"location":"concall/overview/#what-is-conference-call-analysis","title":"What is Conference Call Analysis?","text":"<p>Earnings call transcripts contain valuable insights about company performance, management sentiment, and forward guidance. Maverick MCP provides tools to:</p> <ul> <li>Fetch transcripts from multiple sources</li> <li>Summarize calls with AI-generated structured summaries</li> <li>Analyze sentiment and management tone</li> <li>Query transcripts with RAG-powered Q&amp;A</li> <li>Compare sentiment trends across quarters</li> </ul>"},{"location":"concall/overview/#system-architecture","title":"System Architecture","text":"<pre><code>graph TD\n    A[Transcript Sources] --&gt; B[Fetcher]\n    B --&gt; C[Database Storage]\n    C --&gt; D[AI Summarization]\n    C --&gt; E[Sentiment Analysis]\n    C --&gt; F[Vector Indexing]\n    F --&gt; G[RAG Q&amp;A]\n    D --&gt; H[Claude Desktop]\n    E --&gt; H\n    G --&gt; H\n\n    A1[IR Websites] --&gt; A\n    A2[NSE Filings] --&gt; A</code></pre>"},{"location":"concall/overview/#key-components","title":"Key Components","text":""},{"location":"concall/overview/#1-transcript-fetching","title":"1. Transcript Fetching","text":"<p>Multi-source fetching with cascading fallback:</p> <ul> <li>Primary: Company Investor Relations websites</li> <li>Fallback: NSE exchange filings (for Indian stocks)</li> <li>Formats: PDF, HTML, TXT with automatic parsing</li> </ul> <p>Learn more \u2192</p>"},{"location":"concall/overview/#2-ai-summarization","title":"2. AI Summarization","text":"<p>Structured summaries with key information:</p> <ul> <li>Executive summary</li> <li>Financial metrics (revenue, profit, margins, growth)</li> <li>Business highlights</li> <li>Management guidance</li> <li>Sentiment assessment</li> <li>Risk factors and opportunities</li> <li>Q&amp;A insights</li> </ul> <p>Learn more \u2192</p>"},{"location":"concall/overview/#3-sentiment-analysis","title":"3. Sentiment Analysis","text":"<p>Multi-dimensional sentiment scoring:</p> <ul> <li>Overall Sentiment: 5-point scale (very_bullish to very_bearish)</li> <li>Management Tone: confident, cautious, defensive, etc.</li> <li>Outlook Sentiment: positive, neutral, negative</li> <li>Risk Assessment: low, moderate, high risk</li> <li>Key Signals: Positive/negative phrases detected</li> <li>Confidence Score: Reliability of analysis (0.0-1.0)</li> </ul> <p>Learn more \u2192</p>"},{"location":"concall/overview/#4-rag-powered-qa","title":"4. RAG-Powered Q&amp;A","text":"<p>Ask questions about earnings calls:</p> <ul> <li>Semantic search using vector embeddings</li> <li>Context-aware LLM responses</li> <li>Source citations from transcript</li> <li>Automatic indexing on first query</li> </ul> <p>Learn more \u2192</p>"},{"location":"concall/overview/#5-comparative-analysis","title":"5. Comparative Analysis","text":"<p>Track trends over time:</p> <ul> <li>Compare sentiment across quarters</li> <li>Identify improving/declining patterns</li> <li>Score changes and confidence trends</li> </ul>"},{"location":"concall/overview/#mcp-tools","title":"MCP Tools","text":"<p>Five tools available in Claude Desktop:</p> Tool Purpose Example <code>concall_fetch_transcript</code> Fetch earnings call transcript \"Fetch RELIANCE.NS Q1 2025\" <code>concall_summarize_transcript</code> Generate AI summary \"Summarize TCS Q4 2024 call\" <code>concall_analyze_sentiment</code> Analyze sentiment \"Analyze sentiment for INFY Q1 2025\" <code>concall_query_transcript</code> Ask questions (RAG) \"What did they say about margins?\" <code>concall_compare_quarters</code> Compare over time \"Compare TCS sentiment Q3-Q1\" <p>See all tools \u2192</p>"},{"location":"concall/overview/#supported-companies","title":"Supported Companies","text":""},{"location":"concall/overview/#pre-configured-indian-companies","title":"Pre-configured Indian Companies","text":"<ul> <li>Reliance Industries (RELIANCE.NS)</li> <li>TCS (TCS.NS)</li> <li>Infosys (INFY.NS)</li> <li>Wipro (WIPRO.NS)</li> <li>HDFC Bank (HDFCBANK.NS)</li> <li>ICICI Bank (ICICIBANK.NS)</li> <li>And more...</li> </ul>"},{"location":"concall/overview/#adding-new-companies","title":"Adding New Companies","text":"<p>Use the seeding script to add any company:</p> <pre><code># Edit data/concall_ir_mappings.json\n{\n  \"companies\": [\n    {\n      \"ticker\": \"COMPANY.NS\",\n      \"company_name\": \"Company Name\",\n      \"ir_base_url\": \"https://company.com/investors\",\n      \"market\": \"NSE\",\n      \"country\": \"IN\"\n    }\n  ]\n}\n\n# Seed to database\npython scripts/seed_concall_mappings.py --file data/concall_ir_mappings.json\n</code></pre>"},{"location":"concall/overview/#data-flow","title":"Data Flow","text":""},{"location":"concall/overview/#fetching-storage","title":"Fetching &amp; Storage","text":"<pre><code>sequenceDiagram\n    participant User\n    participant MCP as MCP Tool\n    participant Fetcher\n    participant Provider as IR/NSE Provider\n    participant DB as Database\n\n    User-&gt;&gt;MCP: fetch_transcript(\"RELIANCE.NS\", \"Q1\", 2025)\n    MCP-&gt;&gt;Fetcher: Fetch request\n    Fetcher-&gt;&gt;Provider: Try IR website\n    alt IR Success\n        Provider--&gt;&gt;Fetcher: PDF/HTML transcript\n    else IR Failed\n        Provider--&gt;&gt;Fetcher: Fallback to NSE\n    end\n    Fetcher-&gt;&gt;DB: Store transcript\n    Fetcher--&gt;&gt;User: Return transcript + metadata</code></pre>"},{"location":"concall/overview/#ai-analysis","title":"AI Analysis","text":"<pre><code>sequenceDiagram\n    participant User\n    participant MCP as MCP Tool\n    participant Service as AI Service\n    participant LLM as OpenRouter\n    participant DB as Database\n\n    User-&gt;&gt;MCP: summarize_transcript(...)\n    MCP-&gt;&gt;Service: Check cache\n    alt Cached\n        DB--&gt;&gt;Service: Return cached summary\n    else Not Cached\n        Service-&gt;&gt;LLM: Generate summary\n        LLM--&gt;&gt;Service: AI summary\n        Service-&gt;&gt;DB: Cache result\n    end\n    Service--&gt;&gt;User: Return summary</code></pre>"},{"location":"concall/overview/#design-principles","title":"Design Principles","text":""},{"location":"concall/overview/#solid-architecture","title":"SOLID Architecture","text":"<p>Every component follows SOLID principles:</p> <ul> <li>Single Responsibility: Each class has one clear purpose</li> <li>Open/Closed: Extensible without modifying existing code</li> <li>Liskov Substitution: Compatible with abstractions</li> <li>Interface Segregation: Focused, minimal interfaces</li> <li>Dependency Inversion: Depends on abstractions, not concretions</li> </ul>"},{"location":"concall/overview/#performance-optimization","title":"Performance Optimization","text":"<ul> <li>Database Caching: All AI analyses cached for instant retrieval</li> <li>Vector Embeddings: Stored locally in Chroma DB</li> <li>Cost Optimization: Smart model selection saves 40-60%</li> <li>Parallel Processing: Multi-source fetching when possible</li> </ul>"},{"location":"concall/overview/#error-resilience","title":"Error Resilience","text":"<ul> <li>Cascading Fallbacks: Multiple data sources</li> <li>Graceful Degradation: Partial results when possible</li> <li>Comprehensive Logging: Track every step</li> <li>User-Friendly Errors: Helpful error messages</li> </ul>"},{"location":"concall/overview/#database-schema","title":"Database Schema","text":"<p>Conference call data is stored with comprehensive metadata:</p> <pre><code>class ConferenceCall(Base):\n    ticker: str              # Stock symbol\n    quarter: str             # Q1, Q2, Q3, Q4\n    fiscal_year: int         # Year\n    call_date: datetime      # When call occurred\n    transcript_text: str     # Full transcript\n    transcript_url: str      # Source URL\n    source: str             # IR_WEBSITE, NSE, etc.\n    summary: JSON           # AI-generated summary\n    sentiment_data: JSON    # Sentiment analysis\n    fetch_date: datetime    # When fetched\n</code></pre> <p>See full schema \u2192</p>"},{"location":"concall/overview/#requirements","title":"Requirements","text":""},{"location":"concall/overview/#required","title":"Required","text":"<ul> <li>OPENROUTER_API_KEY: For AI summarization and sentiment (all AI features)</li> <li>Database: SQLite (default) or PostgreSQL</li> </ul>"},{"location":"concall/overview/#optional","title":"Optional","text":"<ul> <li>OPENAI_API_KEY: For RAG Q&amp;A (embeddings)</li> <li>Redis: For enhanced caching</li> </ul>"},{"location":"concall/overview/#cost-considerations","title":"Cost Considerations","text":""},{"location":"concall/overview/#api-costs","title":"API Costs","text":"<ul> <li>Summarization: ~$0.01-0.05 per transcript (using Claude 3.5 Sonnet)</li> <li>Sentiment Analysis: ~$0.005-0.01 per transcript (using Claude 3.5 Haiku)</li> <li>RAG Embeddings: ~$0.0001 per transcript (text-embedding-3-small)</li> <li>RAG Queries: ~$0.005-0.01 per query</li> </ul>"},{"location":"concall/overview/#cost-optimization","title":"Cost Optimization","text":"<ul> <li>Results cached in database (analyzed once, queried many times)</li> <li>Smart model selection (cheap models for simple tasks)</li> <li>Configurable detail levels (concise/standard/detailed)</li> </ul>"},{"location":"concall/overview/#quick-examples","title":"Quick Examples","text":""},{"location":"concall/overview/#basic-workflow","title":"Basic Workflow","text":"<pre><code># 1. Fetch transcript\n\"Fetch the RELIANCE.NS Q1 2025 earnings call transcript\"\n\n# 2. Get summary\n\"Summarize this RELIANCE.NS Q1 2025 call in detail\"\n\n# 3. Analyze sentiment\n\"What was the overall sentiment of the RELIANCE Q1 2025 call?\"\n\n# 4. Ask specific questions\n\"What did RELIANCE management say about Jio in the Q1 2025 call?\"\n\n# 5. Compare trends\n\"Compare RELIANCE sentiment across Q4 2024, Q1 2025, and Q2 2025\"\n</code></pre>"},{"location":"concall/overview/#advanced-usage","title":"Advanced Usage","text":"<pre><code># Multi-step analysis\n\"For TCS Q1 2025: fetch transcript, generate detailed summary,\nanalyze sentiment, and tell me the top 3 growth drivers mentioned\"\n\n# Comparative analysis\n\"Compare the management tone between TCS Q4 2024 and Q1 2025.\nHas confidence improved?\"\n\n# Deep research\n\"Analyze all available Infosys earnings calls and tell me\nhow their AI strategy has evolved over time\"\n</code></pre>"},{"location":"concall/overview/#next-steps","title":"Next Steps","text":"<p>Explore each component in detail:</p> <ul> <li> <p> Fetching Transcripts</p> <p>Learn how to fetch transcripts from multiple sources</p> <p> Learn More</p> </li> <li> <p> AI Summarization</p> <p>Generate structured summaries with key insights</p> <p> Learn More</p> </li> <li> <p> Sentiment Analysis</p> <p>Multi-dimensional sentiment with confidence scoring</p> <p> Learn More</p> </li> <li> <p> RAG Q&amp;A</p> <p>Ask questions about earnings calls</p> <p> Learn More</p> </li> </ul>"},{"location":"concall/overview/#related-resources","title":"Related Resources","text":"<ul> <li>MCP Tools Reference</li> <li>Architecture Details</li> <li>Database Schema</li> <li>API Reference</li> </ul>"},{"location":"concall/rag-qa/","title":"rag qa","text":"<p>Documentation coming soon.</p>"},{"location":"concall/sentiment-analysis/","title":"sentiment analysis","text":"<p>Documentation coming soon.</p>"},{"location":"concall/summarization/","title":"summarization","text":"<p>Documentation coming soon.</p>"},{"location":"deployment/docker/","title":"Docker Deployment Guide","text":"<p>Complete guide for running Maverick MCP in Docker containers.</p>"},{"location":"deployment/docker/#overview","title":"Overview","text":"<p>Maverick MCP provides a production-ready Docker setup with:</p> <ul> <li>Multi-container architecture (Backend, PostgreSQL, Redis)</li> <li>Optimized Dockerfile with layer caching and security best practices</li> <li>docker-compose orchestration for easy management</li> <li>Development and production configurations</li> <li>Persistent volumes for data retention</li> <li>Non-root user for security</li> <li>Custom ports to avoid conflicts</li> </ul>"},{"location":"deployment/docker/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Docker Compose Stack                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502\n\u2502  \u2502  Maverick MCP Backend                      \u2502        \u2502\n\u2502  \u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501    \u2502        \u2502\n\u2502  \u2502  \u2022 Python 3.12-slim base image             \u2502        \u2502\n\u2502  \u2502  \u2022 FastMCP 2.0 with SSE transport          \u2502        \u2502\n\u2502  \u2502  \u2022 TA-Lib compiled from source             \u2502        \u2502\n\u2502  \u2502  \u2022 uv for fast package management          \u2502        \u2502\n\u2502  \u2502  \u2022 Port: 8003 (host) \u2192 8000 (container)   \u2502        \u2502\n\u2502  \u2502  \u2022 Non-root user (maverick:1000)           \u2502        \u2502\n\u2502  \u2502  \u2022 Volume mounts for live development      \u2502        \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502\n\u2502              \u2193 depends_on \u2193                             \u2502\n\u2502                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  PostgreSQL 15       \u2502  \u2502  Redis 7              \u2502   \u2502\n\u2502  \u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  \u2502  \u2502  \u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501  \u2502   \u2502\n\u2502  \u2502  \u2022 Alpine Linux      \u2502  \u2502  \u2022 Alpine Linux       \u2502   \u2502\n\u2502  \u2502  \u2022 Port: 55432       \u2502  \u2502  \u2022 Port: 56379        \u2502   \u2502\n\u2502  \u2502  \u2022 Persistent volume \u2502  \u2502  \u2022 Persistent volume  \u2502   \u2502\n\u2502  \u2502    (postgres-data)   \u2502  \u2502    (redis-data)       \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"deployment/docker/#service-details","title":"Service Details","text":"Service Image Port (Host:Container) Purpose Volume backend Custom (Python 3.12) 8003:8000 MCP Server Code mounts postgres postgres:15-alpine 55432:55432 Database postgres-data redis redis:7-alpine 56379:56379 Cache redis-data"},{"location":"deployment/docker/#prerequisites","title":"Prerequisites","text":""},{"location":"deployment/docker/#required-software","title":"Required Software","text":"<p>Option 1: Docker Desktop - macOS: Download Docker Desktop - Windows: Download Docker Desktop - Linux: Install Docker Engine</p> <p>Option 2: Rancher Desktop (Recommended for macOS) - Download Rancher Desktop - Free and open source - Lighter than Docker Desktop - See Rancher Desktop Guide for setup</p>"},{"location":"deployment/docker/#verify-installation","title":"Verify Installation","text":"<pre><code># Check Docker is installed\ndocker --version\n# Output: Docker version 24.0.x, build ...\n\n# Check docker-compose is installed\ndocker-compose --version\n# Output: Docker Compose version v2.x.x\n\n# Test Docker is running\ndocker ps\n# Should show empty table (no error)\n</code></pre>"},{"location":"deployment/docker/#quick-start","title":"Quick Start","text":""},{"location":"deployment/docker/#1-clone-repository","title":"1. Clone Repository","text":"<pre><code>git clone https://github.com/arunbcodes/maverick-mcp.git\ncd maverick-mcp\n</code></pre>"},{"location":"deployment/docker/#2-configure-environment","title":"2. Configure Environment","text":"<pre><code># Copy example environment file\ncp .env.example .env\n\n# Edit with your API keys\nnano .env  # or vim, code, etc.\n</code></pre> <p>Required Configuration (<code>.env</code>): <pre><code># Required - Stock data provider\nTIINGO_API_KEY=your-tiingo-api-key-here\n\n# Optional - Enhanced features\nOPENROUTER_API_KEY=your-openrouter-key  # AI research\nEXA_API_KEY=your-exa-key                # Web search\nOPENAI_API_KEY=your-openai-key          # RAG embeddings\nFRED_API_KEY=your-fred-key              # Macro data\n\n# Auto-configured by docker-compose (don't change)\nDATABASE_URL=postgresql://postgres:postgres@postgres:55432/maverick_mcp\nREDIS_HOST=redis\nREDIS_PORT=56379\n</code></pre></p>"},{"location":"deployment/docker/#3-start-services","title":"3. Start Services","text":"<p>Method 1: Using Makefile (Recommended) <pre><code># Start all services\nmake docker-up\n\n# View logs\nmake docker-logs\n\n# Stop all services\nmake docker-down\n</code></pre></p> <p>Method 2: Direct docker-compose <pre><code># Start in background\ndocker-compose up --build -d\n\n# View logs\ndocker-compose logs -f\n\n# Stop services\ndocker-compose down\n</code></pre></p>"},{"location":"deployment/docker/#4-verify-services","title":"4. Verify Services","text":"<pre><code># Check all containers are running\ndocker ps\n\n# Expected output:\n# CONTAINER ID   IMAGE                    STATUS         PORTS\n# xxxx          maverick-mcp-backend-1   Up 30 seconds  0.0.0.0:8003-&gt;8000/tcp\n# yyyy          postgres:15-alpine       Up 30 seconds  0.0.0.0:55432-&gt;55432/tcp\n# zzzz          redis:7-alpine           Up 30 seconds  0.0.0.0:56379-&gt;56379/tcp\n\n# Test MCP server is responding\ncurl http://localhost:8003/sse/\n# Should return SSE connection or JSON response\n\n# Test health endpoint (if implemented)\ncurl http://localhost:8003/health\n</code></pre>"},{"location":"deployment/docker/#5-connect-claude-desktop","title":"5. Connect Claude Desktop","text":"<p>Add to <code>~/Library/Application Support/Claude/claude_desktop_config.json</code>:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/sse/\"]\n    }\n  }\n}\n</code></pre> <p>Important: Note the trailing slash in <code>/sse/</code> - this is required to prevent redirect issues!</p> <p>Restart Claude Desktop and test: <pre><code>Show me technical analysis for AAPL\n</code></pre></p>"},{"location":"deployment/docker/#development-workflow","title":"Development Workflow","text":""},{"location":"deployment/docker/#development-mode-with-hot-reload","title":"Development Mode with Hot Reload","text":"<p>1. Create Override File <pre><code>cp docker-compose.override.yml.example docker-compose.override.yml\n</code></pre></p> <p>2. Edit Override Configuration <pre><code># docker-compose.override.yml\nservices:\n  backend:\n    # Enable hot reload\n    command: uv run python -m maverick_mcp.api.server --transport sse --host 0.0.0.0 --port 8000 --reload\n\n    environment:\n      - ENVIRONMENT=development\n      - LOG_LEVEL=debug\n      - API_DEBUG=true\n\n    # Interactive debugging\n    stdin_open: true\n    tty: true\n</code></pre></p> <p>3. Restart with Development Config <pre><code>docker-compose up --build\n# Now code changes will auto-reload the server\n</code></pre></p>"},{"location":"deployment/docker/#common-development-tasks","title":"Common Development Tasks","text":"<p>View Logs <pre><code># All services\ndocker-compose logs -f\n\n# Specific service\ndocker-compose logs -f backend\ndocker-compose logs -f postgres\ndocker-compose logs -f redis\n\n# Last 100 lines\ndocker-compose logs --tail=100 backend\n</code></pre></p> <p>Execute Commands in Container <pre><code># Access backend shell\ndocker-compose exec backend /bin/sh\n\n# Run Python commands\ndocker-compose exec backend python -c \"print('Hello')\"\n\n# Run tests\ndocker-compose exec backend uv run pytest\n\n# Database migrations\ndocker-compose exec backend uv run alembic upgrade head\n</code></pre></p> <p>Database Access <pre><code># Connect to PostgreSQL\ndocker-compose exec postgres psql -U postgres -d maverick_mcp\n\n# Run SQL query\ndocker-compose exec postgres psql -U postgres -d maverick_mcp -c \"SELECT * FROM stocks LIMIT 5;\"\n\n# Dump database\ndocker-compose exec postgres pg_dump -U postgres maverick_mcp &gt; backup.sql\n</code></pre></p> <p>Redis Access <pre><code># Connect to Redis CLI\ndocker-compose exec redis redis-cli -p 56379\n\n# Check cache keys\ndocker-compose exec redis redis-cli -p 56379 KEYS \"*\"\n\n# Get cache statistics\ndocker-compose exec redis redis-cli -p 56379 INFO stats\n</code></pre></p> <p>Restart Single Service <pre><code># Restart backend only\ndocker-compose restart backend\n\n# Rebuild and restart\ndocker-compose up --build -d backend\n</code></pre></p>"},{"location":"deployment/docker/#configuration-options","title":"Configuration Options","text":""},{"location":"deployment/docker/#environment-variables","title":"Environment Variables","text":"<p>All environment variables can be configured in <code>.env</code> file:</p> <p>Server Configuration: <pre><code>API_HOST=0.0.0.0              # Bind address\nAPI_PORT=8000                 # Container port (mapped to 8003)\nLOG_LEVEL=info                # debug, info, warning, error\nENVIRONMENT=production        # development or production\n</code></pre></p> <p>Database Configuration: <pre><code>DATABASE_URL=postgresql://postgres:postgres@postgres:55432/maverick_mcp\n# Auto-configured by docker-compose - don't change unless needed\n</code></pre></p> <p>Cache Configuration: <pre><code>REDIS_HOST=redis              # Redis container hostname\nREDIS_PORT=56379              # Redis port\nCACHE_TTL_SECONDS=3600        # Default cache TTL (1 hour)\n</code></pre></p> <p>Research Agent Configuration: <pre><code>RESEARCH_TIMEOUT_SECONDS=120  # Research timeout\nPARALLEL_AGENTS_MAX=6         # Max parallel agents\nCONFIDENCE_THRESHOLD=0.85     # Confidence threshold\n</code></pre></p>"},{"location":"deployment/docker/#port-customization","title":"Port Customization","text":"<p>Ports are defined in <code>docker-compose.yml</code>:</p> <pre><code>services:\n  backend:\n    ports:\n      - \"8003:8000\"  # Change 8003 to your preferred host port\n\n  postgres:\n    ports:\n      - \"55432:55432\"  # Custom port to avoid conflicts\n\n  redis:\n    ports:\n      - \"56379:56379\"  # Custom port to avoid conflicts\n</code></pre> <p>Why Custom Ports? - 8003 instead of 8000: Avoids conflicts with other services - 55432 instead of 5432: Avoids conflicts with system PostgreSQL - 56379 instead of 6379: Avoids conflicts with system Redis</p>"},{"location":"deployment/docker/#volume-mounts","title":"Volume Mounts","text":"<p>Development Volumes (Live Code) <pre><code>volumes:\n  - ./maverick_mcp:/app/maverick_mcp  # Live code reload\n  - ./alembic:/app/alembic            # Database migrations\n  - ./tests:/app/tests                # Tests\n  - ./.env:/app/.env                  # Environment config\n</code></pre></p> <p>Persistent Data Volumes <pre><code>volumes:\n  postgres-data:  # Database persists across container restarts\n  redis-data:     # Cache persists across container restarts\n</code></pre></p>"},{"location":"deployment/docker/#dockerfile-breakdown","title":"Dockerfile Breakdown","text":""},{"location":"deployment/docker/#multi-stage-build-process","title":"Multi-Stage Build Process","text":"<pre><code># Stage 1: Base Python image\nFROM python:3.12-slim\n\n# Stage 2: System dependencies\nRUN apt-get update &amp;&amp; apt-get install -yqq \\\n  build-essential \\\n  python3-dev \\\n  libpq-dev \\\n  wget \\\n  curl\n\n# Stage 3: Install uv package manager\nRUN pip install --no-cache-dir uv\n\n# Stage 4: Compile TA-Lib from source\nENV TALIB_DIR=/usr/local\nRUN wget https://github.com/ta-lib/ta-lib/releases/download/v0.6.4/ta-lib-0.6.4-src.tar.gz \\\n  &amp;&amp; tar -xzf ta-lib-0.6.4-src.tar.gz \\\n  &amp;&amp; cd ta-lib-0.6.4/ \\\n  &amp;&amp; ./configure --prefix=$TALIB_DIR \\\n  &amp;&amp; make -j$(nproc) \\\n  &amp;&amp; make install\n\n# Stage 5: Copy dependencies (layer caching)\nCOPY pyproject.toml uv.lock README.md ./\n\n# Stage 6: Install Python dependencies\nRUN uv sync --frozen\n\n# Stage 7: Copy application code\nCOPY maverick_mcp ./maverick_mcp\nCOPY alembic ./alembic\nCOPY alembic.ini setup.py ./\n\n# Stage 8: Security - non-root user\nRUN groupadd -g 1000 maverick &amp;&amp; \\\n    useradd -u 1000 -g maverick -s /bin/sh -m maverick &amp;&amp; \\\n    chown -R maverick:maverick /app\n\nUSER maverick\n\n# Stage 9: Start server\nCMD [\"uv\", \"run\", \"python\", \"-m\", \"maverick_mcp.api.server\", \"--transport\", \"sse\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre> <p>Key Optimizations: 1. Layer Caching: Dependencies installed before code copy 2. No Cache Flag: Reduces image size 3. Multi-core Build: <code>make -j$(nproc)</code> for parallel compilation 4. Clean Up: Removes build artifacts after compilation 5. Frozen Lock: <code>uv sync --frozen</code> ensures reproducible builds</p>"},{"location":"deployment/docker/#troubleshooting","title":"Troubleshooting","text":""},{"location":"deployment/docker/#container-wont-start","title":"Container Won't Start","text":"<p>Check logs: <pre><code>docker-compose logs backend\n</code></pre></p> <p>Common issues: - Port conflict: Change port in docker-compose.yml - Missing .env: Copy from .env.example - Invalid API keys: Check .env file</p>"},{"location":"deployment/docker/#database-connection-errors","title":"Database Connection Errors","text":"<p>Test database connectivity: <pre><code># From host\ndocker-compose exec postgres psql -U postgres -c \"SELECT 1;\"\n\n# Check backend can connect\ndocker-compose exec backend python -c \"from maverick_mcp.data.session_management import get_session; print(get_session())\"\n</code></pre></p> <p>Common issues: - Wrong DATABASE_URL: Should use <code>postgres</code> as hostname (service name) - Database not ready: Wait 10-15 seconds after <code>docker-compose up</code></p>"},{"location":"deployment/docker/#redis-connection-errors","title":"Redis Connection Errors","text":"<p>Test Redis connectivity: <pre><code># From host\ndocker-compose exec redis redis-cli -p 56379 PING\n# Should return: PONG\n\n# Check backend can connect\ndocker-compose exec backend python -c \"import redis; r = redis.Redis(host='redis', port=56379); print(r.ping())\"\n</code></pre></p>"},{"location":"deployment/docker/#permission-errors","title":"Permission Errors","text":"<p>Fix volume permissions: <pre><code># Backend runs as maverick:1000\n# If permission errors occur:\nsudo chown -R 1000:1000 ./maverick_mcp\n</code></pre></p>"},{"location":"deployment/docker/#build-errors","title":"Build Errors","text":"<p>Clean build: <pre><code># Remove all containers and volumes\ndocker-compose down -v\n\n# Remove images\ndocker-compose down --rmi all\n\n# Rebuild from scratch\ndocker-compose build --no-cache\ndocker-compose up -d\n</code></pre></p>"},{"location":"deployment/docker/#ta-lib-compilation-fails","title":"TA-Lib Compilation Fails","text":"<p>Manually debug: <pre><code># Build with verbose output\ndocker-compose build --progress=plain backend\n\n# Check TA-Lib installation\ndocker-compose run --rm backend python -c \"import talib; print(talib.__version__)\"\n</code></pre></p>"},{"location":"deployment/docker/#production-deployment","title":"Production Deployment","text":""},{"location":"deployment/docker/#security-checklist","title":"Security Checklist","text":"<ul> <li> Use environment-specific <code>.env</code> files (<code>.env.production</code>)</li> <li> Never commit API keys to git</li> <li> Use secrets management (Docker secrets, AWS Secrets Manager)</li> <li> Change default PostgreSQL password</li> <li> Enable SSL/TLS for external connections</li> <li> Limit container resources (CPU, memory)</li> <li> Use read-only root filesystem where possible</li> <li> Scan images for vulnerabilities</li> </ul>"},{"location":"deployment/docker/#resource-limits","title":"Resource Limits","text":"<p>Add to docker-compose.yml: <pre><code>services:\n  backend:\n    deploy:\n      resources:\n        limits:\n          cpus: '2'\n          memory: 2G\n        reservations:\n          cpus: '1'\n          memory: 1G\n</code></pre></p>"},{"location":"deployment/docker/#restart-policy","title":"Restart Policy","text":"<p>Add to docker-compose.yml: <pre><code>services:\n  backend:\n    restart: unless-stopped  # Auto-restart on failure\n\n  postgres:\n    restart: unless-stopped\n\n  redis:\n    restart: unless-stopped\n</code></pre></p>"},{"location":"deployment/docker/#health-checks","title":"Health Checks","text":"<p>Backend health check (when implemented): <pre><code>services:\n  backend:\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n      start_period: 40s\n</code></pre></p>"},{"location":"deployment/docker/#logging","title":"Logging","text":"<p>Configure logging driver: <pre><code>services:\n  backend:\n    logging:\n      driver: \"json-file\"\n      options:\n        max-size: \"10m\"\n        max-file: \"3\"\n</code></pre></p>"},{"location":"deployment/docker/#maintenance","title":"Maintenance","text":""},{"location":"deployment/docker/#update-images","title":"Update Images","text":"<pre><code># Pull latest base images\ndocker-compose pull\n\n# Rebuild services\ndocker-compose build --pull\n\n# Restart with new images\ndocker-compose up -d\n</code></pre>"},{"location":"deployment/docker/#backup-data","title":"Backup Data","text":"<p>PostgreSQL Backup: <pre><code># Dump database\ndocker-compose exec postgres pg_dump -U postgres maverick_mcp &gt; backup_$(date +%Y%m%d).sql\n\n# Restore database\ndocker-compose exec -T postgres psql -U postgres maverick_mcp &lt; backup_20241111.sql\n</code></pre></p> <p>Redis Backup: <pre><code># Save RDB snapshot\ndocker-compose exec redis redis-cli -p 56379 SAVE\n\n# Copy RDB file\ndocker cp maverick-mcp-redis-1:/data/dump.rdb ./redis_backup_$(date +%Y%m%d).rdb\n</code></pre></p> <p>Volume Backup: <pre><code># Backup PostgreSQL volume\ndocker run --rm -v maverick-mcp_postgres-data:/data -v $(pwd):/backup alpine tar czf /backup/postgres_$(date +%Y%m%d).tar.gz /data\n\n# Backup Redis volume\ndocker run --rm -v maverick-mcp_redis-data:/data -v $(pwd):/backup alpine tar czf /backup/redis_$(date +%Y%m%d).tar.gz /data\n</code></pre></p>"},{"location":"deployment/docker/#clean-up","title":"Clean Up","text":"<pre><code># Stop and remove containers (keeps volumes)\ndocker-compose down\n\n# Remove containers and volumes (deletes data!)\ndocker-compose down -v\n\n# Remove unused images\ndocker image prune -a\n\n# Remove all unused resources\ndocker system prune -a --volumes\n</code></pre>"},{"location":"deployment/docker/#performance-tuning","title":"Performance Tuning","text":""},{"location":"deployment/docker/#postgresql-optimization","title":"PostgreSQL Optimization","text":"<p>Edit docker-compose.yml: <pre><code>services:\n  postgres:\n    environment:\n      - POSTGRES_SHARED_BUFFERS=256MB\n      - POSTGRES_WORK_MEM=8MB\n      - POSTGRES_MAINTENANCE_WORK_MEM=64MB\n    command: &gt;\n      -c shared_buffers=256MB\n      -c work_mem=8MB\n      -c maintenance_work_mem=64MB\n      -c effective_cache_size=1GB\n</code></pre></p>"},{"location":"deployment/docker/#redis-optimization","title":"Redis Optimization","text":"<p>Edit docker-compose.yml: <pre><code>services:\n  redis:\n    command: &gt;\n      redis-server\n      --port 56379\n      --maxmemory 512mb\n      --maxmemory-policy allkeys-lru\n      --save 60 1000\n</code></pre></p>"},{"location":"deployment/docker/#next-steps","title":"Next Steps","text":"<ul> <li> Review Rancher Desktop Guide for macOS users</li> <li> Explore production deployment options</li> <li> Set up monitoring and alerting</li> <li> Configure automated backups</li> <li> Review security hardening checklist</li> </ul>"},{"location":"deployment/docker/#additional-resources","title":"Additional Resources","text":"<ul> <li>Docker Documentation</li> <li>docker-compose Documentation</li> <li>Dockerfile Best Practices</li> <li>Maverick MCP GitHub</li> </ul>"},{"location":"deployment/rancher-desktop/","title":"Rancher Desktop Setup Guide","text":"<p>Complete guide for running Maverick MCP with Rancher Desktop.</p>"},{"location":"deployment/rancher-desktop/#why-rancher-desktop","title":"Why Rancher Desktop?","text":"<p>Rancher Desktop is a free, open-source alternative to Docker Desktop with several advantages:</p>"},{"location":"deployment/rancher-desktop/#advantages","title":"Advantages","text":"Feature Rancher Desktop Docker Desktop License Apache 2.0 (Free &amp; Open Source) Freemium (Paid for business &gt;250 employees) Resource Usage Generally lighter (800MB-1.5GB RAM) Heavier (2GB+ RAM) Kubernetes Built-in K3s (production-grade) Built-in (resource intensive) Container Runtime Choose: containerd or dockerd dockerd only CLI Tools Includes kubectl, helm, nerdctl Docker CLI only Updates Monthly releases, community-driven Commercial release cycle Privacy No telemetry or tracking Analytics enabled by default"},{"location":"deployment/rancher-desktop/#when-to-use-rancher-desktop","title":"When to Use Rancher Desktop","text":"<p>\u2705 Perfect for: - macOS users (especially Apple Silicon M1/M2/M3) - Linux users wanting lightweight Kubernetes - Open source advocates - Development environments - Learning Kubernetes - Organizations avoiding Docker licensing fees</p> <p>\u26a0\ufe0f Consider Docker Desktop if: - You need Docker Extensions marketplace - Your team is already standardized on Docker Desktop - You require Docker Desktop Business features</p>"},{"location":"deployment/rancher-desktop/#installation","title":"Installation","text":""},{"location":"deployment/rancher-desktop/#macos","title":"macOS","text":"<p>1. Download Rancher Desktop <pre><code># Method 1: Direct download\nopen https://rancherdesktop.io/\n\n# Method 2: Homebrew (recommended)\nbrew install --cask rancher\n</code></pre></p> <p>2. Install and Launch <pre><code># Open Rancher Desktop application\nopen -a \"Rancher Desktop\"\n</code></pre></p> <p>3. First-Time Setup Wizard</p> <p>When you first launch Rancher Desktop, you'll see the setup wizard:</p> <p>Step 1: Enable Kubernetes (Optional) <pre><code>\u2611 Enable Kubernetes\nVersion: v1.28.x (stable)\n</code></pre> - For Maverick MCP only: You can disable Kubernetes to save resources - For future K8s deployment: Enable it</p> <p>Step 2: Container Runtime <pre><code>\u25cf dockerd (moby) - Recommended for Docker compatibility\n\u25cb containerd (nerdctl) - For Kubernetes-native workflows\n</code></pre> - Choose dockerd for full Docker compatibility with Maverick MCP</p> <p>Step 3: Path Configuration <pre><code>\u2611 Automatic\n</code></pre> - Adds Docker CLI to your PATH automatically</p>"},{"location":"deployment/rancher-desktop/#linux-ubuntudebian","title":"Linux (Ubuntu/Debian)","text":"<p>Install from package: <pre><code># Download latest .deb package\ncurl -s https://api.github.com/repos/rancher-sandbox/rancher-desktop/releases/latest \\\n  | grep \"browser_download_url.*amd64.deb\" \\\n  | cut -d : -f 2,3 \\\n  | tr -d \\\" \\\n  | wget -i -\n\n# Install\nsudo dpkg -i rancher-desktop-*.deb\n\n# Fix dependencies if needed\nsudo apt-get install -f\n</code></pre></p> <p>Launch: <pre><code>rancher-desktop\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#windows","title":"Windows","text":"<p>1. Download Installer - Visit https://rancherdesktop.io/ - Download Windows installer (.exe)</p> <p>2. Install - Run installer as Administrator - Choose installation directory - Complete setup wizard (same as macOS)</p> <p>3. Configure WSL2 <pre><code># Ensure WSL2 is enabled\nwsl --install\nwsl --set-default-version 2\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#configuration","title":"Configuration","text":""},{"location":"deployment/rancher-desktop/#recommended-settings","title":"Recommended Settings","text":"<p>1. Open Rancher Desktop Preferences - macOS: Rancher Desktop \u2192 Preferences - Linux: File \u2192 Preferences - Windows: Settings icon</p> <p>2. Container Engine <pre><code>Container Engine: dockerd (moby)\n</code></pre> \u2705 This is critical - Ensures full Docker compatibility</p> <p>3. Kubernetes (Optional)</p> <p>For Docker-only usage (Recommended for Maverick MCP): <pre><code>\u2610 Enable Kubernetes\n</code></pre> - Saves ~1GB RAM - Faster startup - Simpler setup</p> <p>For future K8s deployment: <pre><code>\u2611 Enable Kubernetes\nKubernetes Version: v1.28.x (latest stable)\nContainer Runtime: dockerd\n</code></pre></p> <p>4. Resources</p> <p>Allocate resources based on your system:</p> <p>Minimum (Development): <pre><code>CPUs: 2\nMemory: 4GB\nDisk: 20GB\n</code></pre></p> <p>Recommended (Production-like): <pre><code>CPUs: 4\nMemory: 8GB\nDisk: 50GB\n</code></pre></p> <p>For Apple Silicon Macs: <pre><code>CPUs: 4-6 (M1/M2/M3 are efficient)\nMemory: 8GB\nDisk: 50GB\n</code></pre></p> <p>5. Virtual Machine</p> <p>macOS: <pre><code>Type: VZ (Virtualization.framework)\n</code></pre> - Faster than QEMU - Native Apple Silicon support - Better integration</p> <p>Linux: <pre><code>Type: None (runs natively)\n</code></pre></p> <p>Windows: <pre><code>Type: WSL2\nDistribution: Ubuntu 22.04 LTS\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#docker-socket-configuration","title":"Docker Socket Configuration","text":"<p>Rancher Desktop uses a different socket path than Docker Desktop.</p> <p>Check your socket location: <pre><code># macOS/Linux\necho $DOCKER_HOST\n\n# Should show:\n# unix:///Users/YOUR_USERNAME/.rd/docker.sock  (macOS)\n# unix:///var/run/docker.sock                  (Linux)\n</code></pre></p> <p>If not set (macOS only): <pre><code># Add to ~/.zshrc or ~/.bashrc\nexport DOCKER_HOST=\"unix://$HOME/.rd/docker.sock\"\n\n# Reload shell\nsource ~/.zshrc\n</code></pre></p> <p>Test Docker connection: <pre><code>docker info\n# Should show Rancher Desktop details\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#running-maverick-mcp","title":"Running Maverick MCP","text":""},{"location":"deployment/rancher-desktop/#quick-start","title":"Quick Start","text":"<p>1. Verify Rancher Desktop is Running <pre><code># Check Docker is available\ndocker ps\n# Should return empty list (no error)\n\n# Check socket\nls -la ~/.rd/docker.sock  # macOS\n# Should show socket file\n</code></pre></p> <p>2. Clone and Configure <pre><code>git clone https://github.com/arunbcodes/maverick-mcp.git\ncd maverick-mcp\n\n# Configure environment\ncp .env.example .env\nnano .env  # Add your TIINGO_API_KEY\n</code></pre></p> <p>3. Start Services <pre><code># Using Makefile\nmake docker-up\n\n# Or direct docker-compose\ndocker-compose up --build -d\n</code></pre></p> <p>4. Verify Services <pre><code># Check containers\ndocker ps\n\n# Check logs\ndocker-compose logs -f backend\n\n# Test endpoint\ncurl http://localhost:8003/sse/\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#troubleshooting-rancher-desktop","title":"Troubleshooting Rancher Desktop","text":""},{"location":"deployment/rancher-desktop/#socket-not-found","title":"Socket Not Found","text":"<p>Problem: <pre><code>docker: Cannot connect to the Docker daemon at unix:///var/run/docker.sock\n</code></pre></p> <p>Solution: <pre><code># macOS - Set DOCKER_HOST\nexport DOCKER_HOST=\"unix://$HOME/.rd/docker.sock\"\n\n# Add to shell profile permanently\necho 'export DOCKER_HOST=\"unix://$HOME/.rd/docker.sock\"' &gt;&gt; ~/.zshrc\nsource ~/.zshrc\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#container-fails-to-start","title":"Container Fails to Start","text":"<p>Problem: <pre><code>Error: Cannot start container\n</code></pre></p> <p>Solutions: 1. Check Rancher Desktop is running: <pre><code># macOS\npgrep -f \"Rancher Desktop\"\n</code></pre></p> <ol> <li>Restart Rancher Desktop:</li> <li>Quit and relaunch application</li> <li> <p>Or: Rancher Desktop \u2192 Preferences \u2192 Reset Kubernetes</p> </li> <li> <p>Check resources:</p> </li> <li>Preferences \u2192 Resources</li> <li>Increase memory to 4GB minimum</li> </ol>"},{"location":"deployment/rancher-desktop/#port-already-in-use","title":"Port Already in Use","text":"<p>Problem: <pre><code>Error: Port 8003 already allocated\n</code></pre></p> <p>Check what's using the port: <pre><code># macOS/Linux\nlsof -i :8003\n\n# Kill process if needed\nkill -9 &lt;PID&gt;\n</code></pre></p> <p>Or change port in docker-compose.yml: <pre><code>services:\n  backend:\n    ports:\n      - \"8004:8000\"  # Changed from 8003\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#volume-permission-errors","title":"Volume Permission Errors","text":"<p>Problem: <pre><code>Error: Permission denied accessing /app/maverick_mcp\n</code></pre></p> <p>Solution: <pre><code># Fix ownership (container runs as UID 1000)\nsudo chown -R $(whoami):staff ./maverick_mcp\n\n# macOS - Add to file sharing (if needed)\n# Rancher Desktop \u2192 Preferences \u2192 Virtual Machine \u2192 Volumes\n# Add: /Users/YOUR_USERNAME/path/to/maverick-mcp\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#kubernetes-conflicts","title":"Kubernetes Conflicts","text":"<p>Problem: <pre><code>Error: Port 6443 already in use\n</code></pre></p> <p>Solution: - Rancher Desktop \u2192 Preferences \u2192 Kubernetes - Disable if not needed for Maverick MCP - Or change Kubernetes port</p>"},{"location":"deployment/rancher-desktop/#performance-optimization","title":"Performance Optimization","text":""},{"location":"deployment/rancher-desktop/#resource-tuning","title":"Resource Tuning","text":"<p>Check current resource usage: <pre><code># Container stats\ndocker stats\n\n# Rancher Desktop VM stats (macOS)\nvm_stat | grep -i \"Pages active\"\n</code></pre></p> <p>Optimize for Maverick MCP:</p> <ol> <li>Disable Kubernetes (if not needed):</li> <li>Saves ~1GB RAM</li> <li>Faster startup (10s vs 60s)</li> <li> <p>Simpler debugging</p> </li> <li> <p>Adjust VM Resources: <pre><code>CPUs: 2-4 (sufficient for Maverick MCP)\nMemory: 4-6GB (8GB for comfortable use)\n</code></pre></p> </li> <li> <p>Limit Container Resources:    Add to docker-compose.yml:    <pre><code>services:\n  backend:\n    deploy:\n      resources:\n        limits:\n          cpus: '2'\n          memory: 2G\n</code></pre></p> </li> </ol>"},{"location":"deployment/rancher-desktop/#disk-space-management","title":"Disk Space Management","text":"<p>Check disk usage: <pre><code># Docker disk usage\ndocker system df\n\n# Clean up unused resources\ndocker system prune -a --volumes\n</code></pre></p> <p>Rancher Desktop disk limits: - Preferences \u2192 Virtual Machine \u2192 Disk Size - Default: 60GB (adjust as needed)</p>"},{"location":"deployment/rancher-desktop/#cli-tools-included","title":"CLI Tools Included","text":"<p>Rancher Desktop includes several CLI tools:</p>"},{"location":"deployment/rancher-desktop/#docker-cli","title":"Docker CLI","text":"<pre><code>docker --version\ndocker-compose --version\n</code></pre>"},{"location":"deployment/rancher-desktop/#kubernetes-tools-if-k8s-enabled","title":"Kubernetes Tools (if K8s enabled)","text":"<pre><code>kubectl version\nkubectl get nodes\n\nhelm version\n</code></pre>"},{"location":"deployment/rancher-desktop/#nerdctl-containerd-cli","title":"nerdctl (containerd CLI)","text":"<pre><code># If using containerd runtime\nnerdctl version\nnerdctl ps\n</code></pre>"},{"location":"deployment/rancher-desktop/#rancher-desktop-cli","title":"Rancher Desktop CLI","text":"<pre><code># Check RD status\nrdctl --help\n\n# List all VMs\nrdctl list-settings\n\n# Version info\nrdctl version\n</code></pre>"},{"location":"deployment/rancher-desktop/#kubernetes-integration-optional","title":"Kubernetes Integration (Optional)","text":"<p>If you enabled Kubernetes, you can deploy Maverick MCP to K8s:</p>"},{"location":"deployment/rancher-desktop/#quick-k8s-deployment","title":"Quick K8s Deployment","text":"<p>1. Check K8s is ready: <pre><code>kubectl cluster-info\nkubectl get nodes\n</code></pre></p> <p>2. Create namespace: <pre><code>kubectl create namespace maverick-mcp\n</code></pre></p> <p>3. Deploy (basic): <pre><code># Build and load image to K8s\ndocker-compose build\ndocker save maverick-mcp-backend:latest | kubectl load -n maverick-mcp\n\n# Deploy\nkubectl apply -f k8s/deployment.yaml  # If available\n</code></pre></p> <p>See Kubernetes Deployment Guide for complete K8s setup (coming in Phase 3).</p>"},{"location":"deployment/rancher-desktop/#comparison-with-docker-desktop","title":"Comparison with Docker Desktop","text":""},{"location":"deployment/rancher-desktop/#feature-parity-for-maverick-mcp","title":"Feature Parity for Maverick MCP","text":"Feature Rancher Desktop Docker Desktop Docker CLI \u2705 Full compatibility \u2705 Native docker-compose \u2705 Fully supported \u2705 Native Volume mounts \u2705 Works perfectly \u2705 Works perfectly Port mapping \u2705 Works perfectly \u2705 Works perfectly Image building \u2705 BuildKit support \u2705 BuildKit support Networks \u2705 Bridge, host, custom \u2705 Bridge, host, custom Performance \u2705 Fast (VZ on macOS) \u2705 Fast"},{"location":"deployment/rancher-desktop/#migration-from-docker-desktop","title":"Migration from Docker Desktop","text":"<p>Switching from Docker Desktop to Rancher Desktop:</p> <ol> <li> <p>Export images: <pre><code># While Docker Desktop is running\ndocker save maverick-mcp-backend:latest &gt; backend.tar\n</code></pre></p> </li> <li> <p>Switch to Rancher Desktop:</p> </li> <li>Quit Docker Desktop</li> <li>Launch Rancher Desktop</li> <li> <p>Wait for startup</p> </li> <li> <p>Load images: <pre><code>docker load &lt; backend.tar\n</code></pre></p> </li> <li> <p>Start services: <pre><code>cd maverick-mcp\ndocker-compose up -d\n</code></pre></p> </li> </ol> <p>No configuration changes needed! Rancher Desktop is drop-in compatible.</p>"},{"location":"deployment/rancher-desktop/#best-practices","title":"Best Practices","text":""},{"location":"deployment/rancher-desktop/#development-workflow","title":"Development Workflow","text":"<p>1. Use Rancher Desktop for development: <pre><code># Start Rancher Desktop when working\n# Stop when not in use (saves battery on laptops)\n\n# Quick start\ndocker-compose up -d\n\n# Quick stop\ndocker-compose down\n</code></pre></p> <p>2. Resource Management: <pre><code># Monitor resources\ndocker stats\n\n# Clean up regularly\ndocker system prune -f\n</code></pre></p> <p>3. Shell Aliases: Add to ~/.zshrc or ~/.bashrc: <pre><code># Docker shortcuts\nalias dps='docker ps'\nalias dlog='docker-compose logs -f'\nalias dup='docker-compose up -d'\nalias ddown='docker-compose down'\n\n# Maverick MCP shortcuts\nalias mcp-start='cd ~/maverick-mcp &amp;&amp; make docker-up'\nalias mcp-stop='cd ~/maverick-mcp &amp;&amp; make docker-down'\nalias mcp-logs='cd ~/maverick-mcp &amp;&amp; make docker-logs'\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#macos-specific-tips","title":"macOS-Specific Tips","text":"<p>1. VZ vs QEMU: - Always use VZ (Virtualization.framework) - Native Apple Silicon support - 2-3x faster than QEMU</p> <p>2. File Sharing: - Rancher Desktop \u2192 Preferences \u2192 Virtual Machine \u2192 Volumes - Only share directories you need - Default: Entire home directory (slower) - Recommended: Project directory only</p> <p>3. Battery Optimization: - Quit Rancher Desktop when not coding - Or disable Kubernetes to reduce CPU usage</p>"},{"location":"deployment/rancher-desktop/#updating-rancher-desktop","title":"Updating Rancher Desktop","text":"<p>Check for updates: <pre><code># In app: Rancher Desktop \u2192 Check for Updates\n\n# CLI\nrdctl version\n</code></pre></p> <p>Update process: 1. Quit Rancher Desktop 2. Download latest version 3. Install (overwrites previous) 4. Restart Rancher Desktop</p> <p>After update: <pre><code># Verify Docker still works\ndocker version\n\n# Restart Maverick MCP if running\ncd maverick-mcp\ndocker-compose restart\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#uninstalling","title":"Uninstalling","text":"<p>macOS: <pre><code># Quit Rancher Desktop first\n\n# Method 1: Via Homebrew\nbrew uninstall --cask rancher\n\n# Method 2: Manual\nrm -rf ~/Applications/Rancher\\ Desktop.app\nrm -rf ~/.rd\nrm -rf ~/.local/share/rancher-desktop\n\n# Remove Docker socket link\nrm ~/.docker/run/docker.sock\n</code></pre></p> <p>Linux: <pre><code># Ubuntu/Debian\nsudo dpkg -r rancher-desktop\n\n# Remove data\nrm -rf ~/.local/share/rancher-desktop\nrm -rf ~/.rd\n</code></pre></p> <p>Windows: <pre><code># Uninstall via Settings \u2192 Apps\n# Or run uninstaller from installation directory\n\n# Remove data\nRemove-Item -Recurse \"$env:LOCALAPPDATA\\rancher-desktop\"\n</code></pre></p>"},{"location":"deployment/rancher-desktop/#additional-resources","title":"Additional Resources","text":"<ul> <li>Rancher Desktop Official Docs</li> <li>GitHub Repository</li> <li>Docker Deployment Guide - General Docker guide</li> <li>Maverick MCP Documentation</li> </ul>"},{"location":"deployment/rancher-desktop/#next-steps","title":"Next Steps","text":"<ul> <li> Install and configure Rancher Desktop</li> <li> Run Maverick MCP in containers</li> <li> Explore Kubernetes deployment (Phase 3)</li> <li> Set up production environment (Phase 2)</li> </ul>"},{"location":"development/architecture/","title":"architecture","text":"<p>Documentation coming soon.</p>"},{"location":"development/code-style/","title":"code style","text":"<p>Documentation coming soon.</p>"},{"location":"development/contributing/","title":"contriuuting","text":"<p>Documentation coming soon.</p>"},{"location":"development/testing/","title":"testing","text":"<p>Documentation coming soon.</p>"},{"location":"features/backtesting/","title":"Backtesting","text":"<p>VectorBT-powered strategy testing and optimization.</p>"},{"location":"features/backtesting/#features","title":"Features","text":""},{"location":"features/backtesting/#strategy-testing","title":"Strategy Testing","text":"<p>Test trading strategies on historical data: - VectorBT Engine: Vectorized high-performance - 15+ Built-in Strategies: Ready to use - Custom Strategies: Define your own logic - Multi-Timeframe: 1min to monthly data</p>"},{"location":"features/backtesting/#performance-metrics","title":"Performance Metrics","text":"<p>Comprehensive strategy evaluation: - Returns: Total, annualized, CAGR - Risk Metrics: Sharpe, Sortino, Calmar ratios - Drawdowns: Maximum, average, recovery time - Win Rate: % of profitable trades - Profit Factor: Gross profit / gross loss</p>"},{"location":"features/backtesting/#optimization","title":"Optimization","text":"<p>Parameter tuning and walk-forward analysis: - Grid Search: Test parameter combinations - Walk-Forward: Out-of-sample validation - Monte Carlo: Robustness testing - Cross-Validation: Avoid overfitting</p>"},{"location":"features/backtesting/#built-in-strategies","title":"Built-in Strategies","text":""},{"location":"features/backtesting/#momentum-strategies","title":"Momentum Strategies","text":"<ol> <li>RSI Strategy: Buy oversold, sell overbought</li> <li>MACD Strategy: Crossover signals</li> <li>Moving Average: SMA/EMA crossovers</li> <li>Breakout: New highs/lows</li> </ol>"},{"location":"features/backtesting/#mean-reversion","title":"Mean Reversion","text":"<ol> <li>Bollinger Band: Band touch reversions</li> <li>Mean Reversion: Distance from average</li> <li>Pairs Trading: Relative value</li> </ol>"},{"location":"features/backtesting/#ml-powered","title":"ML-Powered","text":"<ol> <li>Adaptive ML: Machine learning signals</li> <li>Ensemble: Multiple model combination</li> <li>Regime-Aware: Market condition adaptation</li> </ol>"},{"location":"features/backtesting/#advanced","title":"Advanced","text":"<ol> <li>Portfolio Rebalancing: Multi-asset</li> <li>Sector Rotation: Momentum sectors</li> <li>Factor Investing: Value, momentum, quality</li> <li>Options Strategies: Covered calls, spreads</li> <li>Risk Parity: Volatility-weighted</li> </ol>"},{"location":"features/backtesting/#usage-examples","title":"Usage Examples","text":""},{"location":"features/backtesting/#basic-backtest","title":"Basic Backtest","text":"<pre><code>Backtest RSI strategy on AAPL from 2023 to 2024\n</code></pre>"},{"location":"features/backtesting/#strategy-comparison","title":"Strategy Comparison","text":"<pre><code>Compare RSI vs MACD strategies on SPY\n</code></pre>"},{"location":"features/backtesting/#parameter-optimization","title":"Parameter Optimization","text":"<pre><code>Optimize RSI period and thresholds for best Sharpe ratio\n</code></pre>"},{"location":"features/backtesting/#multi-asset","title":"Multi-Asset","text":"<pre><code>Backtest momentum strategy on AAPL, MSFT, GOOGL\n</code></pre>"},{"location":"features/backtesting/#backtesting-process","title":"Backtesting Process","text":""},{"location":"features/backtesting/#1-data-preparation","title":"1. Data Preparation","text":"<ul> <li>Fetch historical OHLCV data</li> <li>Handle missing data</li> <li>Adjust for splits and dividends</li> <li>Align timestamps</li> </ul>"},{"location":"features/backtesting/#2-strategy-definition","title":"2. Strategy Definition","text":"<p>Define entry and exit rules: <pre><code># Example RSI Strategy\nEntry: RSI &lt; 30 (oversold)\nExit: RSI &gt; 70 (overbought)\n</code></pre></p>"},{"location":"features/backtesting/#3-execution-simulation","title":"3. Execution Simulation","text":"<ul> <li>Apply strategy to historical data</li> <li>Account for slippage and commissions</li> <li>Track position sizes</li> <li>Calculate P&amp;L</li> </ul>"},{"location":"features/backtesting/#4-performance-analysis","title":"4. Performance Analysis","text":"<ul> <li>Calculate all metrics</li> <li>Generate equity curve</li> <li>Identify drawdown periods</li> <li>Analyze trade distribution</li> </ul>"},{"location":"features/backtesting/#performance-metrics_1","title":"Performance Metrics","text":""},{"location":"features/backtesting/#returns","title":"Returns","text":"<ul> <li>Total Return: Overall profit/loss %</li> <li>Annualized Return: Yearly equivalent</li> <li>CAGR: Compound annual growth rate</li> <li>Monthly/Daily Returns: Distribution</li> </ul>"},{"location":"features/backtesting/#risk-adjusted-returns","title":"Risk-Adjusted Returns","text":"<ul> <li>Sharpe Ratio: Return per unit of volatility</li> <li>Good: &gt; 1.0</li> <li>Excellent: &gt; 2.0</li> <li>Sortino Ratio: Return per unit of downside risk</li> <li>Calmar Ratio: Return / max drawdown</li> </ul>"},{"location":"features/backtesting/#drawdown-analysis","title":"Drawdown Analysis","text":"<ul> <li>Maximum Drawdown: Worst peak-to-trough decline</li> <li>Average Drawdown: Typical decline size</li> <li>Drawdown Duration: Time underwater</li> <li>Recovery Time: Time to new high</li> </ul>"},{"location":"features/backtesting/#trade-statistics","title":"Trade Statistics","text":"<ul> <li>Win Rate: % profitable trades</li> <li>Profit Factor: Gross profit / gross loss</li> <li>Average Win/Loss: Trade sizing</li> <li>Expectancy: Average profit per trade</li> </ul>"},{"location":"features/backtesting/#walk-forward-optimization","title":"Walk-Forward Optimization","text":"<p>Avoid overfitting with out-of-sample testing:</p>"},{"location":"features/backtesting/#process","title":"Process","text":"<ol> <li>Training Window: Optimize on historical data</li> <li>Testing Window: Test on unseen future data</li> <li>Roll Forward: Move windows forward</li> <li>Aggregate Results: Overall performance</li> </ol>"},{"location":"features/backtesting/#benefits","title":"Benefits","text":"<ul> <li>Realistic performance estimates</li> <li>Identify robust parameters</li> <li>Detect overfitting</li> <li>Validate strategy logic</li> </ul>"},{"location":"features/backtesting/#monte-carlo-simulation","title":"Monte Carlo Simulation","text":"<p>Test strategy robustness: - Random Entry: Shuffle entry dates - Random Exits: Shuffle exit dates - Parameter Variation: Test parameter ranges - Confidence Intervals: Expected performance range</p>"},{"location":"features/backtesting/#optimization-techniques","title":"Optimization Techniques","text":""},{"location":"features/backtesting/#grid-search","title":"Grid Search","text":"<p>Test all parameter combinations: <pre><code>Optimize RSI:\n- Period: 10, 12, 14, 16, 18, 20\n- Oversold: 20, 25, 30, 35\n- Overbought: 65, 70, 75, 80\n</code></pre></p>"},{"location":"features/backtesting/#genetic-algorithm","title":"Genetic Algorithm","text":"<p>Evolutionary optimization: - Faster than grid search - Finds local optima - Good for many parameters</p>"},{"location":"features/backtesting/#bayesian-optimization","title":"Bayesian Optimization","text":"<p>Smart parameter selection: - Learn from previous tests - Focus on promising areas - Fewer iterations needed</p>"},{"location":"features/backtesting/#reporting","title":"Reporting","text":""},{"location":"features/backtesting/#html-reports","title":"HTML Reports","text":"<p>Interactive visualizations: - Equity curve - Drawdown chart - Monthly returns heatmap - Trade analysis - Performance metrics table</p>"},{"location":"features/backtesting/#export-options","title":"Export Options","text":"<ul> <li>CSV: Trade log</li> <li>JSON: All metrics</li> <li>PDF: Summary report</li> <li>Excel: Detailed analysis</li> </ul>"},{"location":"features/backtesting/#api-reference","title":"API Reference","text":"<p>See Backtesting Tools for complete API documentation.</p>"},{"location":"features/backtesting/#best-practices","title":"Best Practices","text":""},{"location":"features/backtesting/#data-quality","title":"Data Quality","text":"<ul> <li>Use adjusted prices</li> <li>Check for data gaps</li> <li>Validate against known events</li> <li>Handle corporate actions</li> </ul>"},{"location":"features/backtesting/#realistic-assumptions","title":"Realistic Assumptions","text":"<ul> <li>Include commissions (e.g., $0.005/share)</li> <li>Add slippage (e.g., 0.05%)</li> <li>Account for market impact</li> <li>Consider liquidity</li> </ul>"},{"location":"features/backtesting/#avoid-overfitting","title":"Avoid Overfitting","text":"<ul> <li>Use walk-forward analysis</li> <li>Test on multiple assets</li> <li>Validate on different time periods</li> <li>Keep strategies simple</li> </ul>"},{"location":"features/backtesting/#risk-management","title":"Risk Management","text":"<ul> <li>Test position sizing</li> <li>Set stop losses</li> <li>Limit max drawdown</li> <li>Diversify across strategies</li> </ul>"},{"location":"features/conference-call-analysis/","title":"Conference Call Analysis","text":"<p>AI-powered earnings call transcript analysis.</p> <p>See Conference Call System for complete documentation.</p>"},{"location":"features/conference-call-analysis/#quick-overview","title":"Quick Overview","text":""},{"location":"features/conference-call-analysis/#transcript-fetching","title":"Transcript Fetching","text":"<p>Automatic retrieval from multiple sources: - Company IR websites - NSE exchange filings (Indian stocks) - Screener.in (coming soon)</p>"},{"location":"features/conference-call-analysis/#ai-summarization","title":"AI Summarization","text":"<p>Structured summaries with: - Executive summary - Key financial metrics - Revenue and earnings analysis - Management guidance - Risk factors and concerns - Growth drivers</p>"},{"location":"features/conference-call-analysis/#sentiment-analysis","title":"Sentiment Analysis","text":"<p>Multi-dimensional sentiment scoring: - Overall sentiment (1-5 scale) - Management tone (confident/cautious/defensive) - Forward outlook sentiment - Risk sentiment - Confidence scoring</p>"},{"location":"features/conference-call-analysis/#rag-qa","title":"RAG Q&amp;A","text":"<p>Ask questions about transcripts: - Vector search for relevant sections - LLM-powered answers - Source citations - Follow-up questions supported</p>"},{"location":"features/conference-call-analysis/#comparative-analysis","title":"Comparative Analysis","text":"<p>Compare across quarters: - Sentiment trends - Metric changes - Guidance evolution - Concern tracking</p>"},{"location":"features/conference-call-analysis/#supported-companies","title":"Supported Companies","text":""},{"location":"features/conference-call-analysis/#us-stocks","title":"US Stocks","text":"<p>Most major US companies with: - Public IR websites - Regular earnings calls - Transcript availability</p>"},{"location":"features/conference-call-analysis/#indian-stocks","title":"Indian Stocks","text":"<p>Major NSE/BSE listed companies: - Nifty 50 constituents - Large-cap companies - Midcap-150 stocks</p> <p>See full list in Supported Companies.</p>"},{"location":"features/conference-call-analysis/#usage-examples","title":"Usage Examples","text":""},{"location":"features/conference-call-analysis/#fetch-transcript","title":"Fetch Transcript","text":"<pre><code>Fetch RELIANCE.NS Q1 2025 earnings call transcript\n</code></pre>"},{"location":"features/conference-call-analysis/#summarize","title":"Summarize","text":"<pre><code>Summarize AAPL Q4 2024 earnings call in detail\n</code></pre>"},{"location":"features/conference-call-analysis/#analyze-sentiment","title":"Analyze Sentiment","text":"<pre><code>Analyze sentiment for TCS.NS Q2 2025 call\n</code></pre>"},{"location":"features/conference-call-analysis/#ask-questions","title":"Ask Questions","text":"<pre><code>What did INFY management say about AI initiatives in Q1 2025?\n</code></pre>"},{"location":"features/conference-call-analysis/#compare-quarters","title":"Compare Quarters","text":"<pre><code>Compare RELIANCE sentiment across Q4 2024, Q1 2025, Q2 2025\n</code></pre>"},{"location":"features/conference-call-analysis/#features","title":"Features","text":""},{"location":"features/conference-call-analysis/#multi-source-fetching","title":"Multi-Source Fetching","text":"<p>Cascading fallback system: 1. Company IR website (primary) 2. NSE exchange filings (fallback) 3. Alternative sources (future)</p>"},{"location":"features/conference-call-analysis/#ai-models","title":"AI Models","text":"<ul> <li>OpenRouter for summarization</li> <li>Multiple model support</li> <li>Cost-optimized selection</li> <li>Quality-first approach</li> </ul>"},{"location":"features/conference-call-analysis/#caching","title":"Caching","text":"<p>Three-tier caching: - L1: Redis/Memory (milliseconds) - L2: Database (seconds) - L3: AI generation (minutes)</p> <p>Benefits: - Instant retrieval for cached analyses - Significant cost savings - No redundant AI calls</p>"},{"location":"features/conference-call-analysis/#detail-levels","title":"Detail Levels","text":""},{"location":"features/conference-call-analysis/#concise","title":"Concise","text":"<p>Quick overview (2-3 paragraphs): - Key highlights only - Major metrics - Overall sentiment - 30 seconds to read</p>"},{"location":"features/conference-call-analysis/#standard-default","title":"Standard (Default)","text":"<p>Balanced analysis (1-2 pages): - Executive summary - Financial performance - Key initiatives - Risks and concerns - 2-3 minutes to read</p>"},{"location":"features/conference-call-analysis/#detailed","title":"Detailed","text":"<p>Comprehensive analysis (3-5 pages): - Full transcript synthesis - Detailed metrics - Segment-by-segment analysis - Management quotes - 5-10 minutes to read</p>"},{"location":"features/conference-call-analysis/#cost-performance","title":"Cost &amp; Performance","text":""},{"location":"features/conference-call-analysis/#api-costs","title":"API Costs","text":"<ul> <li>Summarization: $0.01-0.05 per transcript</li> <li>Sentiment: $0.005-0.01 per transcript</li> <li>RAG embeddings: $0.0001 per transcript</li> <li>RAG queries: $0.001-0.01 per query</li> </ul>"},{"location":"features/conference-call-analysis/#performance","title":"Performance","text":"<ul> <li>Transcript fetch: 2-10 seconds</li> <li>Summarization: 30-60 seconds</li> <li>Sentiment analysis: 10-20 seconds</li> <li>RAG setup: 20-40 seconds (one-time)</li> <li>RAG queries: 3-5 seconds</li> </ul>"},{"location":"features/conference-call-analysis/#caching-benefits","title":"Caching Benefits","text":"<ul> <li>Cached retrieval: &lt; 100ms</li> <li>Cost savings: 90%+ on repeat access</li> <li>No quality degradation</li> </ul>"},{"location":"features/conference-call-analysis/#api-reference","title":"API Reference","text":"<p>See Conference Call MCP Tools for complete API documentation.</p>"},{"location":"features/conference-call-analysis/#configuration","title":"Configuration","text":"<p>Required: <pre><code># For AI features\nOPENROUTER_API_KEY=your-key-here\n\n# For RAG Q&amp;A only\nOPENAI_API_KEY=your-key-here\n</code></pre></p> <p>Optional: <pre><code># For caching\nREDIS_HOST=localhost\nREDIS_PORT=6379\n</code></pre></p>"},{"location":"features/conference-call-analysis/#learn-more","title":"Learn More","text":"<ul> <li>Complete Guide</li> <li>MCP Tools Reference</li> <li>Supported Companies</li> <li>Architecture</li> </ul>"},{"location":"features/overview/","title":"Features Overview","text":"<p>Maverick MCP provides comprehensive stock analysis and conference call analysis tools designed for use with Claude Desktop and other MCP-compatible clients.</p>"},{"location":"features/overview/#core-capabilities","title":"Core Capabilities","text":""},{"location":"features/overview/#stock-analysis","title":"\ud83d\udcca Stock Analysis","text":"<ul> <li>Multi-Market Support: US (NASDAQ/NYSE), Indian NSE, Indian BSE</li> <li>Real-time &amp; Historical Data: Price quotes, volume, fundamentals</li> <li>Technical Indicators: 15+ indicators including RSI, MACD, Bollinger Bands</li> <li>Pre-seeded Database: 520+ S&amp;P 500 stocks ready to analyze</li> </ul>"},{"location":"features/overview/#conference-call-analysis","title":"\ud83d\udcde Conference Call Analysis","text":"<ul> <li>Transcript Fetching: Automatic retrieval from IR websites and NSE</li> <li>AI Summarization: Structured summaries with key metrics and insights</li> <li>Sentiment Analysis: Multi-dimensional sentiment scoring</li> <li>RAG Q&amp;A: Ask questions over transcripts with source citations</li> <li>Trend Analysis: Compare sentiment across quarters</li> </ul>"},{"location":"features/overview/#stock-screening","title":"\ud83d\udd0d Stock Screening","text":"<ul> <li>Maverick Strategies: Bullish/Bearish momentum patterns</li> <li>Breakout Detection: Supply/demand breakout candidates</li> <li>Indian Market Screening: 7 specialized strategies for NSE/BSE</li> <li>Pre-calculated Results: Instant screening from database</li> </ul>"},{"location":"features/overview/#portfolio-analysis","title":"\ud83d\udcc8 Portfolio Analysis","text":"<ul> <li>Modern Portfolio Theory: Optimization and efficient frontier</li> <li>Risk Metrics: Sharpe ratio, volatility, correlation matrices</li> <li>Performance Tracking: Returns, drawdowns, alpha/beta</li> </ul>"},{"location":"features/overview/#backtesting","title":"\ud83e\uddea Backtesting","text":"<ul> <li>VectorBT Engine: High-performance vectorized backtesting</li> <li>15+ Strategies: Including ML-powered adaptive algorithms</li> <li>Walk-Forward Optimization: Out-of-sample testing</li> <li>Monte Carlo Simulation: Robustness testing</li> </ul>"},{"location":"features/overview/#research-tools","title":"\ud83d\udd2c Research Tools","text":"<ul> <li>AI-Powered Research: Multi-agent parallel research (7-256x faster)</li> <li>Market Sentiment: Multi-source sentiment analysis</li> <li>Company Research: Deep fundamental and competitive analysis</li> <li>Smart Model Selection: 400+ AI models via OpenRouter</li> </ul>"},{"location":"features/overview/#key-features","title":"Key Features","text":""},{"location":"features/overview/#multi-market-support","title":"Multi-Market Support","text":"<p>Analyze stocks from: - US Markets: NASDAQ, NYSE - Indian NSE: <code>.NS</code> suffix (e.g., RELIANCE.NS) - Indian BSE: <code>.BO</code> suffix (e.g., TCS.BO)</p> <p>Market-specific features: - Trading calendars (NYSE, NSE) - Currency handling (USD, INR) - Circuit breakers (7% US, 10% India) - Settlement cycles (T+2 US, T+1 India)</p>"},{"location":"features/overview/#production-grade-caching","title":"Production-Grade Caching","text":"<p>Multi-tier caching for optimal performance: - L1 Cache: Redis/In-memory (1-5ms) - L2 Cache: Database (10-50ms) - L3 Source: External APIs (seconds to minutes)</p> <p>Benefits: - 100-1000x speedup for cached data - Significant cost savings on AI operations - Automatic TTL management</p>"},{"location":"features/overview/#ai-integration","title":"AI Integration","text":"<p>Intelligent AI model selection: - OpenRouter: Access to 400+ models - Cost Optimization: 40-60% cost reduction - Task-Specific Models: Automatic selection based on complexity - Fallback Support: Graceful degradation</p>"},{"location":"features/overview/#data-sources","title":"Data Sources","text":"<ul> <li>Tiingo API: Stock market data (500 requests/day free)</li> <li>OpenRouter: AI analysis and summarization</li> <li>OpenAI: Embeddings for RAG Q&amp;A</li> <li>FRED: Economic indicators (optional)</li> <li>Exa: Web search for research (optional)</li> </ul>"},{"location":"features/overview/#architecture","title":"Architecture","text":""},{"location":"features/overview/#design-principles","title":"Design Principles","text":"<ul> <li>SOLID Principles: Single Responsibility, Open/Closed, etc.</li> <li>Modular Design: Easy to extract components</li> <li>Provider Pattern: Swappable data providers</li> <li>Cache-First: Minimize API calls and costs</li> <li>Error Resilient: Graceful fallback and recovery</li> </ul>"},{"location":"features/overview/#database","title":"Database","text":"<ul> <li>Default: SQLite (zero setup required)</li> <li>Optional: PostgreSQL for better performance</li> <li>Pre-seeded: S&amp;P 500 stocks and screening data</li> <li>Migrations: Alembic-based schema management</li> </ul>"},{"location":"features/overview/#performance","title":"Performance","text":"<ul> <li>Connection Pooling: Efficient database connections</li> <li>Parallel Processing: Multi-threaded operations</li> <li>Vector Search: Fast similarity search for RAG</li> <li>Batch Operations: Bulk data processing</li> </ul>"},{"location":"features/overview/#use-cases","title":"Use Cases","text":""},{"location":"features/overview/#for-individual-investors","title":"For Individual Investors","text":"<ul> <li>Screen stocks based on technical patterns</li> <li>Analyze earnings call transcripts</li> <li>Compare sentiment across quarters</li> <li>Build and optimize portfolios</li> <li>Backtest trading strategies</li> </ul>"},{"location":"features/overview/#for-traders","title":"For Traders","text":"<ul> <li>Real-time technical analysis</li> <li>Breakout candidate detection</li> <li>Multi-timeframe analysis</li> <li>Risk management tools</li> <li>Performance tracking</li> </ul>"},{"location":"features/overview/#for-researchers","title":"For Researchers","text":"<ul> <li>Historical data analysis</li> <li>Strategy development and testing</li> <li>Sentiment analysis at scale</li> <li>Market trend identification</li> <li>Comparative analysis</li> </ul>"},{"location":"features/overview/#for-developers","title":"For Developers","text":"<ul> <li>MCP server reference implementation</li> <li>SOLID architecture patterns</li> <li>Multi-market data handling</li> <li>AI integration best practices</li> <li>Production-grade caching</li> </ul>"},{"location":"features/overview/#getting-started","title":"Getting Started","text":"<ol> <li>Installation: Installation Guide</li> <li>Configuration: API Keys Setup</li> <li>Quick Start: Quick Start Guide</li> <li>Claude Desktop: Integration Guide</li> </ol>"},{"location":"features/overview/#feature-pages","title":"Feature Pages","text":"<p>Explore detailed documentation for each feature:</p> <ul> <li>Stock Analysis - Real-time quotes and historical data</li> <li>Technical Analysis - Indicators and charting</li> <li>Stock Screening - Pattern-based screening</li> <li>Portfolio Analysis - MPT and optimization</li> <li>Conference Call Analysis - Transcript analysis</li> <li>Research Tools - AI-powered research</li> <li>Backtesting - Strategy testing and optimization</li> </ul>"},{"location":"features/portfolio-analysis/","title":"Portfolio Analysis","text":"<p>Modern Portfolio Theory (MPT) and optimization tools.</p>"},{"location":"features/portfolio-analysis/#features","title":"Features","text":""},{"location":"features/portfolio-analysis/#portfolio-optimization","title":"Portfolio Optimization","text":"<p>Build efficient portfolios using MPT: - Efficient Frontier: Risk-return tradeoff curve - Optimal Weights: Asset allocation percentages - Sharpe Ratio Maximization: Best risk-adjusted return - Minimum Variance: Lowest risk portfolio</p>"},{"location":"features/portfolio-analysis/#risk-analysis","title":"Risk Analysis","text":"<p>Comprehensive risk metrics: - Volatility: Standard deviation of returns - Value at Risk (VaR): Potential loss estimates - Conditional VaR: Expected loss beyond VaR - Maximum Drawdown: Peak-to-trough decline - Beta: Market sensitivity - Alpha: Excess returns</p>"},{"location":"features/portfolio-analysis/#correlation-analysis","title":"Correlation Analysis","text":"<p>Understand portfolio relationships: - Correlation Matrix: Pairwise correlations - Diversification Score: How well-diversified - Sector Exposure: Concentration risk - Factor Analysis: Common risk factors</p>"},{"location":"features/portfolio-analysis/#usage-examples","title":"Usage Examples","text":""},{"location":"features/portfolio-analysis/#build-portfolio","title":"Build Portfolio","text":"<pre><code>Create a portfolio with AAPL 10 shares at $150, MSFT 5 shares at $380\n</code></pre>"},{"location":"features/portfolio-analysis/#optimize-portfolio","title":"Optimize Portfolio","text":"<pre><code>Optimize portfolio weights for maximum Sharpe ratio: AAPL, MSFT, GOOGL\n</code></pre>"},{"location":"features/portfolio-analysis/#risk-analysis_1","title":"Risk Analysis","text":"<pre><code>Calculate portfolio risk metrics and correlation matrix\n</code></pre>"},{"location":"features/portfolio-analysis/#performance-tracking","title":"Performance Tracking","text":"<pre><code>Show portfolio performance over last 6 months\n</code></pre>"},{"location":"features/portfolio-analysis/#portfolio-optimization_1","title":"Portfolio Optimization","text":""},{"location":"features/portfolio-analysis/#efficient-frontier","title":"Efficient Frontier","text":"<p>Find optimal risk-return combinations:</p> <p>Inputs: - List of stocks/assets - Historical returns (1-5 years) - Target return or risk tolerance</p> <p>Outputs: - Optimal weight allocation - Expected return - Expected volatility - Sharpe ratio - Efficient frontier curve</p> <p>Example: <pre><code>Optimize portfolio: AAPL, MSFT, GOOGL, AMZN\nTarget return: 15% annually\n</code></pre></p>"},{"location":"features/portfolio-analysis/#constraints","title":"Constraints","text":"<p>Support for realistic constraints: - Minimum/maximum position sizes - Sector limits - Long-only vs long-short - Transaction costs - Rebalancing frequency</p>"},{"location":"features/portfolio-analysis/#risk-metrics","title":"Risk Metrics","text":""},{"location":"features/portfolio-analysis/#sharpe-ratio","title":"Sharpe Ratio","text":"<p>Formula: (Portfolio Return - Risk-Free Rate) / Portfolio Volatility - Interpretation: Return per unit of risk - Good: &gt; 1.0 - Excellent: &gt; 2.0</p>"},{"location":"features/portfolio-analysis/#sortino-ratio","title":"Sortino Ratio","text":"<p>Formula: (Portfolio Return - Target) / Downside Deviation - Focus: Only penalizes downside volatility - Better Than Sharpe: For asymmetric returns</p>"},{"location":"features/portfolio-analysis/#maximum-drawdown","title":"Maximum Drawdown","text":"<p>Definition: Largest peak-to-trough decline - Risk Measure: Worst-case historical loss - Recovery Time: How long to recover</p>"},{"location":"features/portfolio-analysis/#beta","title":"Beta","text":"<p>Definition: Sensitivity to market movements - Beta = 1: Moves with market - Beta &gt; 1: More volatile than market - Beta &lt; 1: Less volatile than market</p>"},{"location":"features/portfolio-analysis/#correlation-analysis_1","title":"Correlation Analysis","text":""},{"location":"features/portfolio-analysis/#benefits-of-diversification","title":"Benefits of Diversification","text":"<p>Low correlation assets reduce portfolio risk: - Correlation = 1: No diversification benefit - Correlation = 0: Partial diversification - Correlation = -1: Maximum diversification</p>"},{"location":"features/portfolio-analysis/#correlation-matrix","title":"Correlation Matrix","text":"<p>See relationships between all assets: <pre><code>Calculate correlation matrix for AAPL, MSFT, GOOGL, GLD, TLT\n</code></pre></p> <p>Helps identify: - Similar-moving assets - Diversification opportunities - Hedging candidates - Sector concentration</p>"},{"location":"features/portfolio-analysis/#backtesting-integration","title":"Backtesting Integration","text":"<p>Test portfolio strategies historically: <pre><code>Backtest 60/40 stock/bond portfolio over 10 years\n</code></pre></p> <p>Compare strategies: - Buy and hold vs rebalancing - Equal weight vs optimized - Sector rotation vs static - Different rebalancing frequencies</p>"},{"location":"features/portfolio-analysis/#performance-attribution","title":"Performance Attribution","text":"<p>Understand where returns come from: - Asset Selection: Stock-picking skill - Sector Allocation: Sector timing - Market Timing: Entry/exit timing - Diversification: Risk reduction benefit</p>"},{"location":"features/portfolio-analysis/#rebalancing","title":"Rebalancing","text":"<p>Automatic rebalancing recommendations: - Threshold-Based: Rebalance when drift &gt; X% - Calendar-Based: Monthly, quarterly, annually - Optimization-Based: When Sharpe ratio declines</p>"},{"location":"features/portfolio-analysis/#api-reference","title":"API Reference","text":"<p>See Portfolio Tools for complete API documentation.</p>"},{"location":"features/portfolio-analysis/#example-portfolios","title":"Example Portfolios","text":""},{"location":"features/portfolio-analysis/#conservative","title":"Conservative","text":"<ul> <li>60% bonds</li> <li>30% large-cap stocks</li> <li>10% cash/gold</li> </ul>"},{"location":"features/portfolio-analysis/#balanced","title":"Balanced","text":"<ul> <li>40% US stocks</li> <li>20% International stocks</li> <li>30% bonds</li> <li>10% alternatives</li> </ul>"},{"location":"features/portfolio-analysis/#aggressive","title":"Aggressive","text":"<ul> <li>80% stocks (mix of cap sizes)</li> <li>15% alternatives</li> <li>5% cash</li> </ul>"},{"location":"features/portfolio-analysis/#indian-market","title":"Indian Market","text":"<ul> <li>50% Nifty 50 stocks</li> <li>30% Mid-cap stocks</li> <li>20% bonds/gold</li> </ul>"},{"location":"features/research-tools/","title":"Research Tools","text":"<p>AI-powered research with multi-agent parallel execution.</p>"},{"location":"features/research-tools/#features","title":"Features","text":""},{"location":"features/research-tools/#comprehensive-research","title":"Comprehensive Research","text":"<p>Multi-agent parallel research system: - 7-256x Speedup: Parallel agent execution - 400+ AI Models: Smart model selection via OpenRouter - Cost Optimization: 40-60% cost reduction - Early Termination: Confidence-based stopping</p>"},{"location":"features/research-tools/#company-research","title":"Company Research","text":"<p>Deep fundamental and competitive analysis: - Financial performance analysis - Competitive positioning - Industry trends - Management quality assessment - Growth catalysts and risks</p>"},{"location":"features/research-tools/#market-sentiment","title":"Market Sentiment","text":"<p>Multi-source sentiment analysis: - News aggregation from multiple sources - Social media sentiment - Analyst recommendations - Insider trading activity - Confidence scoring</p>"},{"location":"features/research-tools/#usage-examples","title":"Usage Examples","text":""},{"location":"features/research-tools/#comprehensive-research_1","title":"Comprehensive Research","text":"<pre><code>Research AAPL comprehensively with financial analysis\n</code></pre> <p>Returns: - Company overview and business model - Financial health and metrics - Competitive analysis - Industry positioning - Investment thesis - Risk factors - Analyst consensus</p>"},{"location":"features/research-tools/#company-specific-research","title":"Company-Specific Research","text":"<pre><code>Research TCS.NS focusing on IT services sector\n</code></pre> <p>Focused analysis: - Sector-specific metrics - Competitor comparison - Market share analysis - Technology capabilities</p>"},{"location":"features/research-tools/#sentiment-analysis","title":"Sentiment Analysis","text":"<pre><code>Analyze market sentiment for RELIANCE.NS\n</code></pre> <p>Multi-source sentiment: - News sentiment (positive/negative/neutral) - Volume of mentions - Sentiment trend over time - Key topics and themes - Confidence score</p>"},{"location":"features/research-tools/#multi-agent-architecture","title":"Multi-Agent Architecture","text":""},{"location":"features/research-tools/#agent-types","title":"Agent Types","text":"<ul> <li>Financial Analyst: Numbers and metrics</li> <li>Industry Expert: Sector knowledge</li> <li>Technical Analyst: Charts and patterns</li> <li>News Aggregator: Current events</li> <li>Sentiment Analyzer: Market mood</li> </ul>"},{"location":"features/research-tools/#parallel-execution","title":"Parallel Execution","text":"<p>Agents work simultaneously: 1. Task distributed to all agents 2. Each agent researches in parallel 3. Results aggregated and synthesized 4. Consensus built from multiple viewpoints</p>"},{"location":"features/research-tools/#performance","title":"Performance","text":"<ul> <li>Sequential: 5-10 minutes per company</li> <li>Parallel: 30-60 seconds per company</li> <li>Speedup: 7-256x depending on task</li> <li>Quality: Equal or better than sequential</li> </ul>"},{"location":"features/research-tools/#model-selection","title":"Model Selection","text":""},{"location":"features/research-tools/#task-based-selection","title":"Task-Based Selection","text":"<p>OpenRouter automatically selects optimal model: - Simple Tasks: Fast, cheap models (Haiku, GPT-4o-mini) - Complex Analysis: Powerful models (Opus, GPT-4) - Cost-Sensitive: Balance quality and cost - Fallback: Graceful degradation on errors</p>"},{"location":"features/research-tools/#cost-optimization","title":"Cost Optimization","text":"<ul> <li>Cheap models for data gathering</li> <li>Expensive models only for synthesis</li> <li>Caching to avoid duplicate calls</li> <li>Early termination when confident</li> </ul>"},{"location":"features/research-tools/#available-models","title":"Available Models","text":"<p>Access to 400+ models including: - Claude (Opus, Sonnet, Haiku) - GPT-4, GPT-4 Turbo, GPT-4o - Gemini 2.0, 2.5 Pro - DeepSeek R1 - Llama, Mixtral, and more</p>"},{"location":"features/research-tools/#research-depth","title":"Research Depth","text":""},{"location":"features/research-tools/#quick-research-30-60-seconds","title":"Quick Research (30-60 seconds)","text":"<ul> <li>Basic company overview</li> <li>Current price and fundamentals</li> <li>Recent news headlines</li> <li>Quick sentiment check</li> </ul>"},{"location":"features/research-tools/#standard-research-1-2-minutes","title":"Standard Research (1-2 minutes)","text":"<ul> <li>Comprehensive company analysis</li> <li>Financial metrics deep-dive</li> <li>Competitive positioning</li> <li>Industry trends</li> <li>Risk assessment</li> </ul>"},{"location":"features/research-tools/#deep-research-2-5-minutes","title":"Deep Research (2-5 minutes)","text":"<ul> <li>All of standard research</li> <li>Historical performance analysis</li> <li>Management analysis</li> <li>Supply chain examination</li> <li>Regulatory landscape</li> <li>Long-term projections</li> </ul>"},{"location":"features/research-tools/#confidence-scoring","title":"Confidence Scoring","text":"<p>All research includes confidence metrics: - Data Quality: How reliable are sources - Consensus Level: Agreement between agents - Recency: How current is the information - Coverage: Completeness of analysis</p> <p>Example output: <pre><code>{\n  \"confidence\": 0.85,\n  \"data_quality\": \"high\",\n  \"consensus\": \"strong\",\n  \"last_updated\": \"2025-01-10\"\n}\n</code></pre></p>"},{"location":"features/research-tools/#caching","title":"Caching","text":"<p>Research results are cached: - Duration: 24 hours for general research - Duration: 1 hour for sentiment analysis - Invalidation: Manual refresh available - Cost Savings: Avoid duplicate AI calls</p>"},{"location":"features/research-tools/#api-reference","title":"API Reference","text":"<p>See Research Tools for complete API documentation.</p>"},{"location":"features/research-tools/#use-cases","title":"Use Cases","text":""},{"location":"features/research-tools/#investment-research","title":"Investment Research","text":"<pre><code>Research AAPL for long-term investment\n</code></pre>"},{"location":"features/research-tools/#sector-analysis","title":"Sector Analysis","text":"<pre><code>Compare research for AAPL, MSFT, GOOGL in tech sector\n</code></pre>"},{"location":"features/research-tools/#event-driven","title":"Event-Driven","text":"<pre><code>Research impact of earnings report on RELIANCE.NS\n</code></pre>"},{"location":"features/research-tools/#competitive-analysis","title":"Competitive Analysis","text":"<pre><code>Compare INFY.NS vs TCS.NS vs WIPRO.NS\n</code></pre>"},{"location":"features/research-tools/#data-sources","title":"Data Sources","text":""},{"location":"features/research-tools/#financial-data","title":"Financial Data","text":"<ul> <li>Tiingo API (price, fundamentals)</li> <li>Company filings (10-K, 10-Q)</li> <li>Earnings transcripts</li> <li>Financial statements</li> </ul>"},{"location":"features/research-tools/#news-sentiment","title":"News &amp; Sentiment","text":"<ul> <li>Exa web search (optional)</li> <li>Major financial news outlets</li> <li>Company press releases</li> <li>Social media aggregation</li> </ul>"},{"location":"features/research-tools/#analysis","title":"Analysis","text":"<ul> <li>OpenRouter (AI synthesis)</li> <li>Multiple AI models</li> <li>Consensus building</li> <li>Fact verification</li> </ul>"},{"location":"features/stock-analysis/","title":"Stock Analysis","text":"<p>Comprehensive stock data and analysis for US and Indian markets.</p>"},{"location":"features/stock-analysis/#supported-markets","title":"Supported Markets","text":""},{"location":"features/stock-analysis/#us-markets","title":"US Markets","text":"<ul> <li>NASDAQ: Technology and growth stocks</li> <li>NYSE: Traditional blue-chip companies</li> <li>Symbol Format: Simple ticker (e.g., <code>AAPL</code>, <code>MSFT</code>)</li> </ul>"},{"location":"features/stock-analysis/#indian-markets","title":"Indian Markets","text":"<ul> <li>NSE (National Stock Exchange): <code>.NS</code> suffix (e.g., <code>RELIANCE.NS</code>)</li> <li>BSE (Bombay Stock Exchange): <code>.BO</code> suffix (e.g., <code>TCS.BO</code>)</li> </ul>"},{"location":"features/stock-analysis/#features","title":"Features","text":""},{"location":"features/stock-analysis/#real-time-data","title":"Real-Time Data","text":"<pre><code>Get current price for AAPL\n</code></pre> <p>Returns: - Current price - Day's high/low - Volume - Previous close - Change and % change - Market cap - P/E ratio</p>"},{"location":"features/stock-analysis/#historical-data","title":"Historical Data","text":"<pre><code>Get AAPL historical prices from Jan 2024 to Dec 2024\n</code></pre> <p>Returns: - OHLCV data (Open, High, Low, Close, Volume) - Adjusted close prices - Date range filtering - Automatic timezone handling</p>"},{"location":"features/stock-analysis/#company-information","title":"Company Information","text":"<pre><code>Get company info for RELIANCE.NS\n</code></pre> <p>Returns: - Company name and description - Sector and industry - Market cap - Key executives - Exchange and currency - Fundamental metrics</p>"},{"location":"features/stock-analysis/#batch-operations","title":"Batch Operations","text":"<pre><code>Compare prices for AAPL, MSFT, and GOOGL\n</code></pre> <ul> <li>Fetch multiple stocks in one request</li> <li>Efficient parallel processing</li> <li>Automatic rate limiting</li> </ul>"},{"location":"features/stock-analysis/#data-quality","title":"Data Quality","text":""},{"location":"features/stock-analysis/#accuracy","title":"Accuracy","text":"<ul> <li>Real-time quotes (15-min delay for free tier)</li> <li>Daily updates for historical data</li> <li>Validated against exchange data</li> <li>Automatic data cleaning</li> </ul>"},{"location":"features/stock-analysis/#coverage","title":"Coverage","text":"<ul> <li>520+ S&amp;P 500 stocks pre-seeded</li> <li>All US-listed stocks available</li> <li>Major Indian NSE/BSE stocks</li> <li>International ADRs</li> </ul>"},{"location":"features/stock-analysis/#freshness","title":"Freshness","text":"<ul> <li>Intraday updates every 15 minutes</li> <li>EOD updates within 30 minutes</li> <li>Historical data back to IPO date</li> <li>Corporate actions adjusted</li> </ul>"},{"location":"features/stock-analysis/#caching","title":"Caching","text":"<p>Multi-tier caching for optimal performance:</p>"},{"location":"features/stock-analysis/#l1-cache-redismemory","title":"L1 Cache (Redis/Memory)","text":"<ul> <li>Duration: 5 minutes for real-time</li> <li>Duration: 24 hours for historical</li> <li>Speed: 1-5ms response time</li> </ul>"},{"location":"features/stock-analysis/#l2-cache-database","title":"L2 Cache (Database)","text":"<ul> <li>Duration: 1 hour for real-time</li> <li>Duration: 7 days for historical  </li> <li>Speed: 10-50ms response time</li> </ul>"},{"location":"features/stock-analysis/#l3-source-tiingo-api","title":"L3 Source (Tiingo API)","text":"<ul> <li>Rate limit: 500 requests/day (free tier)</li> <li>Speed: 500-2000ms response time</li> <li>Automatic retry on failure</li> </ul>"},{"location":"features/stock-analysis/#usage-examples","title":"Usage Examples","text":""},{"location":"features/stock-analysis/#basic-quote","title":"Basic Quote","text":"<pre><code>What is the current price of AAPL?\n</code></pre>"},{"location":"features/stock-analysis/#historical-analysis","title":"Historical Analysis","text":"<pre><code>Show me RELIANCE.NS price history for Q1 2025\n</code></pre>"},{"location":"features/stock-analysis/#multi-stock-comparison","title":"Multi-Stock Comparison","text":"<pre><code>Compare year-to-date performance of AAPL, MSFT, GOOGL\n</code></pre>"},{"location":"features/stock-analysis/#fundamental-data","title":"Fundamental Data","text":"<pre><code>Get fundamentals for TCS.NS including P/E ratio and market cap\n</code></pre>"},{"location":"features/stock-analysis/#market-specific-features","title":"Market-Specific Features","text":""},{"location":"features/stock-analysis/#us-markets_1","title":"US Markets","text":"<ul> <li>Extended hours trading data</li> <li>Options data (coming soon)</li> <li>Earnings dates</li> <li>Dividend history</li> </ul>"},{"location":"features/stock-analysis/#indian-markets_1","title":"Indian Markets","text":"<ul> <li>NSE circuit breaker tracking (10%)</li> <li>Corporate actions (splits, bonuses)</li> <li>Delivery percentage</li> <li>FII/DII activity</li> </ul>"},{"location":"features/stock-analysis/#api-reference","title":"API Reference","text":"<p>See Stock Data Tools for complete API reference.</p>"},{"location":"features/stock-analysis/#configuration","title":"Configuration","text":"<p>Required: <pre><code>TIINGO_API_KEY=your-key-here\n</code></pre></p> <p>Optional: <pre><code># Redis caching (recommended)\nREDIS_HOST=localhost\nREDIS_PORT=6379\n</code></pre></p>"},{"location":"features/stock-analysis/#limitations","title":"Limitations","text":""},{"location":"features/stock-analysis/#free-tier","title":"Free Tier","text":"<ul> <li>500 API requests per day</li> <li>15-minute delayed quotes</li> <li>Limited to EOD data</li> <li>No Level 2 data</li> </ul>"},{"location":"features/stock-analysis/#upgrade-options","title":"Upgrade Options","text":"<p>See Tiingo Pricing for: - Real-time data - Unlimited requests - Options &amp; futures - Institutional features</p>"},{"location":"features/stock-screening/","title":"Stock Screening","text":"<p>Pre-calculated screening strategies for finding trading opportunities.</p>"},{"location":"features/stock-screening/#pre-seeded-database","title":"Pre-Seeded Database","text":"<p>520+ S&amp;P 500 stocks with pre-calculated screening data: - Instant results (no API calls needed) - Daily updated screening scores - Multiple strategy support - Cached in database</p>"},{"location":"features/stock-screening/#screening-strategies","title":"Screening Strategies","text":""},{"location":"features/stock-screening/#maverick-bullish","title":"Maverick Bullish","text":"<p>High momentum stocks with strong technical setup.</p> <p>Criteria: - RSI between 50-70 (strong but not overbought) - MACD above signal line (bullish momentum) - Price above 20-day SMA (uptrend) - Volume above average (confirmation) - Positive price momentum (rising)</p> <p>Use Case: Finding strong trending stocks for swing trading</p> <pre><code>Show me top 10 Maverick bullish stocks\n</code></pre>"},{"location":"features/stock-screening/#maverick-bearish","title":"Maverick Bearish","text":"<p>Weak stocks with potential for shorting or avoiding.</p> <p>Criteria: - RSI between 30-50 (weak but not oversold) - MACD below signal line (bearish momentum) - Price below 20-day SMA (downtrend) - Volume declining (weakness) - Negative price momentum</p> <p>Use Case: Finding weak stocks for short positions</p> <pre><code>Show me Maverick bearish stocks to avoid\n</code></pre>"},{"location":"features/stock-screening/#supplydemand-breakouts","title":"Supply/Demand Breakouts","text":"<p>Stocks in confirmed uptrend with breakout patterns.</p> <p>Criteria: - Price above all major moving averages (20, 50, 200 SMA) - Volume surge on breakout - New 52-week high or near it - Consolidation followed by expansion - Strong relative strength</p> <p>Use Case: Finding breakout candidates</p> <pre><code>Find supply/demand breakout opportunities\n</code></pre>"},{"location":"features/stock-screening/#indian-market-screening","title":"Indian Market Screening","text":"<p>7 specialized strategies for NSE/BSE stocks:</p>"},{"location":"features/stock-screening/#1-bullish-momentum-nsebse","title":"1. Bullish Momentum (NSE/BSE)","text":"<ul> <li>Adapted 10% circuit breakers</li> <li>INR currency formatting</li> <li>T+1 settlement consideration</li> <li>Nifty/Sensex correlation</li> </ul>"},{"location":"features/stock-screening/#2-value-stocks-nsebse","title":"2. Value Stocks (NSE/BSE)","text":"<ul> <li>Low P/E ratios (&lt; sector average)</li> <li>High dividend yield</li> <li>Strong fundamentals</li> <li>Book value considerations</li> </ul>"},{"location":"features/stock-screening/#3-dividend-yield-nsebse","title":"3. Dividend Yield (NSE/BSE)","text":"<ul> <li>Consistent dividend payers</li> <li>Yield &gt; 3%</li> <li>Payout ratio sustainability</li> <li>Dividend growth history</li> </ul>"},{"location":"features/stock-screening/#4-small-cap-growth-nsebse","title":"4. Small-Cap Growth (NSE/BSE)","text":"<ul> <li>Market cap &lt; \u20b95000 crore</li> <li>Revenue growth &gt; 20% YoY</li> <li>Emerging sectors</li> <li>Management quality</li> </ul>"},{"location":"features/stock-screening/#5-sector-rotation-nsebse","title":"5. Sector Rotation (NSE/BSE)","text":"<ul> <li>Identify hot sectors</li> <li>Top performers within sector</li> <li>Sector momentum</li> <li>Relative strength</li> </ul>"},{"location":"features/stock-screening/#6-breakout-candidates-nsebse","title":"6. Breakout Candidates (NSE/BSE)","text":"<ul> <li>52-week high proximity</li> <li>Volume breakouts</li> <li>Chart pattern completion</li> <li>Support/resistance levels</li> </ul>"},{"location":"features/stock-screening/#7-oversold-recovery-nsebse","title":"7. Oversold Recovery (NSE/BSE)","text":"<ul> <li>RSI &lt; 30 (oversold)</li> <li>Fundamental strength intact</li> <li>No structural issues</li> <li>Reversal signals</li> </ul>"},{"location":"features/stock-screening/#usage-examples","title":"Usage Examples","text":""},{"location":"features/stock-screening/#us-market-screening","title":"US Market Screening","text":"<pre><code>Show me top 5 Maverick bullish stocks from S&amp;P 500\n</code></pre>"},{"location":"features/stock-screening/#indian-market-screening_1","title":"Indian Market Screening","text":"<pre><code>Find dividend yield stocks from Nifty 50\n</code></pre>"},{"location":"features/stock-screening/#sector-specific","title":"Sector-Specific","text":"<pre><code>Screen for bullish tech stocks\n</code></pre>"},{"location":"features/stock-screening/#custom-filters","title":"Custom Filters","text":"<pre><code>Find stocks with RSI &lt; 35 and price above 200-day SMA\n</code></pre>"},{"location":"features/stock-screening/#screening-process","title":"Screening Process","text":""},{"location":"features/stock-screening/#data-collection","title":"Data Collection","text":"<ol> <li>Daily price and volume data</li> <li>Technical indicator calculation</li> <li>Fundamental data updates</li> <li>Screening score computation</li> </ol>"},{"location":"features/stock-screening/#ranking-system","title":"Ranking System","text":"<p>Stocks ranked by: - Score (0-100): Composite screening score - Signal Strength: How strongly criteria are met - Confidence: Data quality and recency - Risk Level: Volatility and beta</p>"},{"location":"features/stock-screening/#refresh-frequency","title":"Refresh Frequency","text":"<ul> <li>S&amp;P 500: Updated daily at market close</li> <li>Indian Stocks: Updated daily after NSE close</li> <li>Cache: Results cached for 24 hours</li> <li>On-Demand: Force refresh available</li> </ul>"},{"location":"features/stock-screening/#performance-metrics","title":"Performance Metrics","text":"<p>Track screening strategy performance: - Historical hit rate - Average return per recommendation - Time to target achievement - Risk-adjusted returns</p>"},{"location":"features/stock-screening/#api-reference","title":"API Reference","text":"<p>See Screening Tools for complete API documentation.</p>"},{"location":"features/stock-screening/#customization","title":"Customization","text":"<p>While pre-calculated screens are instant, you can also: - Combine multiple strategies - Add custom filters - Adjust threshold values - Create sector-specific screens</p> <p>Example: <pre><code>Find Maverick bullish tech stocks with market cap &gt; $10B\n</code></pre></p>"},{"location":"features/technical-analysis/","title":"Technical Analysis","text":"<p>Comprehensive technical indicators and analysis tools.</p>"},{"location":"features/technical-analysis/#available-indicators","title":"Available Indicators","text":""},{"location":"features/technical-analysis/#moving-averages","title":"Moving Averages","text":"<ul> <li>Simple Moving Average (SMA): Basic trend indicator</li> <li>Exponential Moving Average (EMA): Weighted recent prices</li> <li>Common Periods: 20, 50, 100, 200 days</li> </ul>"},{"location":"features/technical-analysis/#momentum-indicators","title":"Momentum Indicators","text":"<ul> <li>RSI (Relative Strength Index): Overbought/oversold (0-100)</li> <li>MACD: Trend following momentum (MACD, Signal, Histogram)</li> <li>Stochastic Oscillator: %K and %D lines</li> </ul>"},{"location":"features/technical-analysis/#volatility-indicators","title":"Volatility Indicators","text":"<ul> <li>Bollinger Bands: Price volatility bands (Upper, Middle, Lower)</li> <li>ATR (Average True Range): Volatility measurement</li> <li>Standard Deviation: Price dispersion</li> </ul>"},{"location":"features/technical-analysis/#volume-indicators","title":"Volume Indicators","text":"<ul> <li>OBV (On-Balance Volume): Volume-price relationship</li> <li>Volume MA: Average volume trends</li> <li>Money Flow Index: Volume-weighted RSI</li> </ul>"},{"location":"features/technical-analysis/#trend-indicators","title":"Trend Indicators","text":"<ul> <li>ADX (Average Directional Index): Trend strength</li> <li>Parabolic SAR: Stop and reverse points</li> <li>Ichimoku Cloud: Comprehensive trend system</li> </ul>"},{"location":"features/technical-analysis/#full-technical-analysis","title":"Full Technical Analysis","text":"<pre><code>Get full technical analysis for AAPL\n</code></pre> <p>Returns comprehensive analysis including: - All major indicators calculated - Support and resistance levels - Trend direction and strength - Buy/sell/hold signals - Chart patterns detected</p>"},{"location":"features/technical-analysis/#usage-examples","title":"Usage Examples","text":""},{"location":"features/technical-analysis/#single-indicator","title":"Single Indicator","text":"<pre><code>Calculate 20-day SMA for AAPL\n</code></pre>"},{"location":"features/technical-analysis/#multiple-indicators","title":"Multiple Indicators","text":"<pre><code>Get RSI, MACD, and Bollinger Bands for RELIANCE.NS\n</code></pre>"},{"location":"features/technical-analysis/#complete-analysis","title":"Complete Analysis","text":"<pre><code>Provide full technical analysis for TCS.NS\n</code></pre>"},{"location":"features/technical-analysis/#indicator-details","title":"Indicator Details","text":""},{"location":"features/technical-analysis/#rsi-relative-strength-index","title":"RSI (Relative Strength Index)","text":"<p>Formula: RSI = 100 - (100 / (1 + RS)) - Period: 14 days (default) - Overbought: Above 70 - Oversold: Below 30 - Divergence: Price vs RSI trends</p> <p>Signals: - RSI &gt; 70: Overbought, consider selling - RSI &lt; 30: Oversold, consider buying - Bullish divergence: Price lower, RSI higher - Bearish divergence: Price higher, RSI lower</p>"},{"location":"features/technical-analysis/#macd-moving-average-convergence-divergence","title":"MACD (Moving Average Convergence Divergence)","text":"<p>Components: - MACD Line: 12 EMA - 26 EMA - Signal Line: 9 EMA of MACD - Histogram: MACD - Signal</p> <p>Signals: - MACD crosses above Signal: Bullish - MACD crosses below Signal: Bearish - Histogram expansion: Trend strengthening - Histogram contraction: Trend weakening</p>"},{"location":"features/technical-analysis/#bollinger-bands","title":"Bollinger Bands","text":"<p>Formula: - Middle Band: 20-day SMA - Upper Band: Middle + (2 \u00d7 SD) - Lower Band: Middle - (2 \u00d7 SD)</p> <p>Signals: - Price touches upper band: Overbought - Price touches lower band: Oversold - Band squeeze: Low volatility, breakout coming - Band expansion: High volatility, trend in motion</p>"},{"location":"features/technical-analysis/#support-and-resistance","title":"Support and Resistance","text":"<p>Automatic calculation of: - Support Levels: Price floors (recent lows) - Resistance Levels: Price ceilings (recent highs) - Pivot Points: Daily/weekly/monthly pivots - Fibonacci Retracements: Key reversal levels</p>"},{"location":"features/technical-analysis/#pattern-recognition","title":"Pattern Recognition","text":"<p>Detects common chart patterns: - Head and Shoulders - Double Top/Bottom - Triangles (Ascending, Descending, Symmetrical) - Flags and Pennants - Cup and Handle</p>"},{"location":"features/technical-analysis/#backtesting-integration","title":"Backtesting Integration","text":"<p>Technical indicators can be used in backtesting strategies: <pre><code>Backtest RSI strategy on AAPL: Buy when RSI &lt; 30, Sell when RSI &gt; 70\n</code></pre></p>"},{"location":"features/technical-analysis/#performance","title":"Performance","text":"<p>All technical indicators are calculated using: - pandas_ta library: Fast, reliable calculations - Vectorized operations: Efficient numpy arrays - Caching: Results cached for 1 hour - Batch processing: Multiple stocks in parallel</p>"},{"location":"features/technical-analysis/#api-reference","title":"API Reference","text":"<p>See Technical Analysis Tools for complete API documentation.</p>"},{"location":"getting-started/claude-desktop-setup/","title":"Claude Desktop Setup","text":"<p>Complete guide for integrating Maverick MCP with Claude Desktop.</p>"},{"location":"getting-started/claude-desktop-setup/#overview","title":"Overview","text":"<p>Claude Desktop supports the Model Context Protocol (MCP), allowing you to extend Claude's capabilities with custom tools. This guide shows you how to connect Maverick MCP to Claude Desktop for stock analysis and conference call analysis.</p>"},{"location":"getting-started/claude-desktop-setup/#prerequisites","title":"Prerequisites","text":"<p>Before you begin:</p> <ol> <li> <p>Server Running: Maverick MCP server must be running    <pre><code>make dev  # Server runs on port 8003\n</code></pre></p> </li> <li> <p>Node.js Installed: Required for mcp-remote bridge    <pre><code>node --version  # Should be v16+\n</code></pre></p> </li> <li> <p>Claude Desktop Installed: Download from claude.ai</p> </li> </ol>"},{"location":"getting-started/claude-desktop-setup/#connection-architecture","title":"Connection Architecture","text":"<pre><code>graph LR\n    A[Claude Desktop] --&gt;|STDIO| B[mcp-remote]\n    B --&gt;|HTTP/SSE| C[Maverick MCP Server :8003]\n    C --&gt;|API Calls| D[Stock Data APIs]\n    C --&gt;|Database| E[SQLite/PostgreSQL]\n    C --&gt;|AI| F[OpenRouter/OpenAI]</code></pre> <p>Why mcp-remote?</p> <ul> <li>Claude Desktop only supports STDIO transport</li> <li>Maverick MCP runs as HTTP/SSE server</li> <li>mcp-remote bridges STDIO \u2194 HTTP/SSE</li> </ul>"},{"location":"getting-started/claude-desktop-setup/#method-a-sse-transport-recommended","title":"Method A: SSE Transport (Recommended)","text":"<p>This is the most stable configuration, tested and proven to prevent tools from disappearing.</p>"},{"location":"getting-started/claude-desktop-setup/#step-1-locate-configuration-file","title":"Step 1: Locate Configuration File","text":"<p>Find your Claude Desktop config file:</p> macOSWindowsLinux <pre><code># Path\n~/Library/Application Support/Claude/claude_desktop_config.json\n\n# Quick edit\nnano ~/Library/Application\\ Support/Claude/claude_desktop_config.json\n</code></pre> <pre><code># Path\n%APPDATA%\\Claude\\claude_desktop_config.json\n\n# Quick edit\nnotepad %APPDATA%\\Claude\\claude_desktop_config.json\n</code></pre> <pre><code># Path\n~/.config/Claude/claude_desktop_config.json\n\n# Quick edit\nnano ~/.config/Claude/claude_desktop_config.json\n</code></pre>"},{"location":"getting-started/claude-desktop-setup/#step-2-add-maverick-mcp-configuration","title":"Step 2: Add Maverick MCP Configuration","text":"<p>Create or edit the file with this configuration:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/sse/\"]\n    }\n  }\n}\n</code></pre> <p>Critical: Trailing Slash Required</p> <p>The SSE endpoint must include the trailing slash: <code>/sse/</code></p> <p>\u2705 Correct: <code>http://localhost:8003/sse/</code></p> <p>\u274c Wrong: <code>http://localhost:8003/sse</code></p> <p>Without the trailing slash, you'll get 307 redirects that cause tools to disappear!</p>"},{"location":"getting-started/claude-desktop-setup/#step-3-restart-claude-desktop","title":"Step 3: Restart Claude Desktop","text":"<ol> <li>Quit Claude Desktop completely (not just close window)</li> <li>macOS: <code>Cmd+Q</code> or Claude menu \u2192 Quit</li> <li>Windows: Right-click taskbar icon \u2192 Exit</li> <li> <p>Linux: Close all windows</p> </li> <li> <p>Wait 5 seconds</p> </li> <li> <p>Reopen Claude Desktop</p> </li> </ol>"},{"location":"getting-started/claude-desktop-setup/#step-4-verify-connection","title":"Step 4: Verify Connection","text":"<p>Test that the connection works:</p> <pre><code>User: \"List available tools\"\n</code></pre> <p>You should see 40+ tools including:</p> <ul> <li><code>concall_fetch_transcript</code></li> <li><code>concall_summarize_transcript</code></li> <li><code>concall_analyze_sentiment</code></li> <li><code>concall_query_transcript</code></li> <li><code>concall_compare_quarters</code></li> <li><code>data_fetch_stock_data</code></li> <li><code>technical_get_full_technical_analysis</code></li> <li><code>screening_get_maverick_stocks</code></li> <li>And many more...</li> </ul>"},{"location":"getting-started/claude-desktop-setup/#step-5-test-with-commands","title":"Step 5: Test with Commands","text":"<p>Try these commands:</p> <pre><code>Get technical analysis for AAPL\n</code></pre> <pre><code>Fetch the RELIANCE.NS Q1 2025 earnings call transcript\n</code></pre> <pre><code>Show me the top Maverick bullish stocks\n</code></pre> <p>If tools appear and work correctly, you're all set! \ud83c\udf89</p>"},{"location":"getting-started/claude-desktop-setup/#method-b-http-streamable-alternative","title":"Method B: HTTP Streamable (Alternative)","text":"<p>If SSE doesn't work for some reason, try HTTP Streamable:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/mcp/\"]\n    }\n  }\n}\n</code></pre> <p>Note</p> <p>Also requires trailing slash: <code>/mcp/</code></p>"},{"location":"getting-started/claude-desktop-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/claude-desktop-setup/#tools-disappear-after-initial-connection","title":"Tools Disappear After Initial Connection","text":"<p>Symptom: Tools show up briefly, then disappear.</p> <p>Cause: Missing trailing slash causes 307 redirect.</p> <p>Solution: <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/sse/\"]\n    }\n  }\n}\n</code></pre></p> <p>Note the <code>/</code> at the end of <code>/sse/</code>!</p>"},{"location":"getting-started/claude-desktop-setup/#connection-failed","title":"Connection Failed","text":"<p>Check server is running: <pre><code>lsof -i :8003\n</code></pre></p> <p>Should show: <pre><code>COMMAND   PID   USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME\nPython  12345  user    8u  IPv4 0x1234567890      0t0  TCP *:8003 (LISTEN)\n</code></pre></p> <p>If nothing shows: <pre><code>make dev  # Start the server\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#invalid-json-error","title":"Invalid JSON Error","text":"<p>Check config file syntax: <pre><code># Validate JSON\ncat ~/Library/Application\\ Support/Claude/claude_desktop_config.json | python -m json.tool\n</code></pre></p> <p>Common mistakes: - Missing commas between entries - Extra comma after last entry - Unclosed brackets or quotes</p>"},{"location":"getting-started/claude-desktop-setup/#npx-command-not-found","title":"npx Command Not Found","text":"<p>Install Node.js:</p> macOSWindowsLinux <pre><code>brew install node\n</code></pre> <p>Download from nodejs.org</p> <pre><code>sudo apt update\nsudo apt install nodejs npm\n</code></pre>"},{"location":"getting-started/claude-desktop-setup/#port-already-in-use","title":"Port Already in Use","text":"<p>Find what's using port 8003: <pre><code>lsof -i :8003\nkill -9 &lt;PID&gt;  # Kill the process\nmake dev       # Restart Maverick MCP\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#mcp-remote-installation-issues","title":"mcp-remote Installation Issues","text":"<p>Manual install: <pre><code>npm install -g mcp-remote\n</code></pre></p> <p>Check version: <pre><code>npx mcp-remote --version\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#server-logs","title":"Server Logs","text":"<p>View real-time logs: <pre><code>make tail-log\n</code></pre></p> <p>Check for errors: <pre><code>tail -100 ~/.maverick_mcp/logs/maverick_mcp.log\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#multiple-servers-configuration","title":"Multiple Servers Configuration","text":"<p>If you have multiple MCP servers, add them all:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/sse/\"]\n    },\n    \"other-mcp-server\": {\n      \"command\": \"node\",\n      \"args\": [\"/path/to/other/server.js\"]\n    }\n  }\n}\n</code></pre>"},{"location":"getting-started/claude-desktop-setup/#auto-start-server-optional","title":"Auto-Start Server (Optional)","text":""},{"location":"getting-started/claude-desktop-setup/#macos-launchagent","title":"macOS (LaunchAgent)","text":"<p>Create <code>~/Library/LaunchAgents/com.maverick-mcp.plist</code>:</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n&lt;plist version=\"1.0\"&gt;\n&lt;dict&gt;\n    &lt;key&gt;Label&lt;/key&gt;\n    &lt;string&gt;com.maverick-mcp&lt;/string&gt;\n    &lt;key&gt;ProgramArguments&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;/usr/local/bin/python3&lt;/string&gt;\n        &lt;string&gt;-m&lt;/string&gt;\n        &lt;string&gt;maverick_mcp.api.server&lt;/string&gt;\n        &lt;string&gt;--transport&lt;/string&gt;\n        &lt;string&gt;sse&lt;/string&gt;\n        &lt;string&gt;--port&lt;/string&gt;\n        &lt;string&gt;8003&lt;/string&gt;\n    &lt;/array&gt;\n    &lt;key&gt;WorkingDirectory&lt;/key&gt;\n    &lt;string&gt;/Users/YOUR_USERNAME/maverick-mcp&lt;/string&gt;\n    &lt;key&gt;StandardOutPath&lt;/key&gt;\n    &lt;string&gt;/tmp/maverick-mcp.out.log&lt;/string&gt;\n    &lt;key&gt;StandardErrorPath&lt;/key&gt;\n    &lt;string&gt;/tmp/maverick-mcp.err.log&lt;/string&gt;\n    &lt;key&gt;KeepAlive&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre> <p>Load it: <pre><code>launchctl load ~/Library/LaunchAgents/com.maverick-mcp.plist\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#linux-systemd","title":"Linux (systemd)","text":"<p>Create <code>/etc/systemd/system/maverick-mcp.service</code>:</p> <pre><code>[Unit]\nDescription=Maverick MCP Server\nAfter=network.target\n\n[Service]\nType=simple\nUser=YOUR_USERNAME\nWorkingDirectory=/home/YOUR_USERNAME/maverick-mcp\nExecStart=/usr/bin/python3 -m maverick_mcp.api.server --transport sse --port 8003\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>Enable and start: <pre><code>sudo systemctl daemon-reload\nsudo systemctl enable maverick-mcp\nsudo systemctl start maverick-mcp\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#windows-task-scheduler","title":"Windows (Task Scheduler)","text":"<ol> <li>Open Task Scheduler</li> <li>Create Basic Task</li> <li>Name: \"Maverick MCP Server\"</li> <li>Trigger: At log on</li> <li>Action: Start a program</li> <li>Program: <code>python.exe</code></li> <li>Arguments: <code>-m maverick_mcp.api.server --transport sse --port 8003</code></li> <li>Start in: <code>C:\\path\\to\\maverick-mcp</code></li> </ol>"},{"location":"getting-started/claude-desktop-setup/#security-considerations","title":"Security Considerations","text":""},{"location":"getting-started/claude-desktop-setup/#local-network-only","title":"Local Network Only","text":"<p>By default, the server binds to <code>localhost</code> (127.0.0.1), making it accessible only from your machine.</p> <p>To allow network access (use with caution): <pre><code>python -m maverick_mcp.api.server --host 0.0.0.0 --port 8003\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#firewall-configuration","title":"Firewall Configuration","text":"<p>If using network access, configure firewall:</p> macOSLinux (ufw)Windows <pre><code># Allow incoming on port 8003\nsudo /usr/libexec/ApplicationFirewall/socketfilterfw --add /path/to/python\nsudo /usr/libexec/ApplicationFirewall/socketfilterfw --unblockapp /path/to/python\n</code></pre> <pre><code>sudo ufw allow 8003/tcp\n</code></pre> <p>Windows Firewall \u2192 Advanced Settings \u2192 Inbound Rules \u2192 New Rule \u2192 Port 8003</p>"},{"location":"getting-started/claude-desktop-setup/#api-keys","title":"API Keys","text":"<p>Ensure your <code>.env</code> file is secure: <pre><code>chmod 600 .env  # Unix/Linux/macOS\n</code></pre></p> <p>Never commit <code>.env</code> to version control!</p>"},{"location":"getting-started/claude-desktop-setup/#performance-tips","title":"Performance Tips","text":""},{"location":"getting-started/claude-desktop-setup/#use-redis-caching","title":"Use Redis Caching","text":"<p>For better performance: <pre><code>brew install redis\nbrew services start redis\n</code></pre></p> <p>Add to <code>.env</code>: <pre><code>REDIS_HOST=localhost\nREDIS_PORT=6379\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#postgresql-database","title":"PostgreSQL Database","text":"<p>For larger datasets: <pre><code># Install PostgreSQL\nbrew install postgresql\n\n# Create database\ncreatedb maverick_mcp\n\n# Update .env\nDATABASE_URL=postgresql://localhost/maverick_mcp\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#increase-worker-threads","title":"Increase Worker Threads","text":"<p>For heavy usage: <pre><code>python -m maverick_mcp.api.server --workers 4\n</code></pre></p>"},{"location":"getting-started/claude-desktop-setup/#next-steps","title":"Next Steps","text":"<p>Now that Claude Desktop is connected:</p> <ul> <li>\ud83d\udcd6 Learn about Features</li> <li>\ud83d\udcde Explore Conference Call Analysis</li> <li>\ud83d\udca1 See Examples</li> <li>\ud83d\udd27 Browse All Tools</li> </ul>"},{"location":"getting-started/claude-desktop-setup/#need-help","title":"Need Help?","text":"<ul> <li>\ud83d\udc1b Report Issues</li> <li>\ud83d\udcda Troubleshooting Guide</li> <li>\u2753 FAQ</li> </ul>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>Configure Maverick MCP with your API keys and settings.</p>"},{"location":"getting-started/configuration/#environment-variables","title":"Environment Variables","text":"<p>All configuration is done through environment variables stored in a <code>.env</code> file.</p>"},{"location":"getting-started/configuration/#required-configuration","title":"Required Configuration","text":"<pre><code># Required - Stock Data Provider\nTIINGO_API_KEY=your-tiingo-key-here\n</code></pre> <p>Get a free Tiingo API key at tiingo.com - includes 500 requests/day.</p>"},{"location":"getting-started/configuration/#recommended-configuration","title":"Recommended Configuration","text":"<pre><code># AI Features (Highly Recommended)\nOPENROUTER_API_KEY=your-openrouter-key-here\n\n# For RAG Q&amp;A (Required for conference call queries)\nOPENAI_API_KEY=your-openai-key-here\n</code></pre>"},{"location":"getting-started/configuration/#optional-configuration","title":"Optional Configuration","text":"<pre><code># Enhanced Data\nFRED_API_KEY=your-fred-key-here\nEXA_API_KEY=your-exa-key-here\n\n# Database (SQLite by default)\nDATABASE_URL=postgresql://localhost/maverick_mcp\n\n# Redis Caching\nREDIS_HOST=localhost\nREDIS_PORT=6379\n</code></pre>"},{"location":"getting-started/configuration/#configuration-file","title":"Configuration File","text":"<p>Create <code>.env</code> in the project root:</p> <pre><code>cp .env.example .env\nnano .env  # Edit with your keys\n</code></pre>"},{"location":"getting-started/configuration/#api-key-details","title":"API Key Details","text":""},{"location":"getting-started/configuration/#tiingo-required","title":"Tiingo (Required)","text":"<ul> <li>Purpose: Stock market data (prices, fundamentals)</li> <li>Free Tier: 500 requests/day</li> <li>Sign Up: tiingo.com</li> <li>Cost: Free tier sufficient for personal use</li> </ul>"},{"location":"getting-started/configuration/#openrouter-recommended","title":"OpenRouter (Recommended)","text":"<ul> <li>Purpose: AI analysis, summarization, sentiment</li> <li>Pricing: Pay-as-you-go, access to 400+ models</li> <li>Sign Up: openrouter.ai</li> <li>Cost: ~$0.01-0.05 per analysis</li> </ul>"},{"location":"getting-started/configuration/#openai-optional-rag-only","title":"OpenAI (Optional - RAG Only)","text":"<ul> <li>Purpose: Embeddings for RAG Q&amp;A</li> <li>Required For: Conference call Q&amp;A feature</li> <li>Sign Up: platform.openai.com</li> <li>Cost: ~$0.0001 per transcript</li> </ul>"},{"location":"getting-started/configuration/#fred-optional","title":"FRED (Optional)","text":"<ul> <li>Purpose: Economic indicators</li> <li>Free: Unlimited</li> <li>Sign Up: fred.stlouisfed.org/docs/api/api_key.html</li> </ul>"},{"location":"getting-started/configuration/#exa-optional","title":"Exa (Optional)","text":"<ul> <li>Purpose: Web search for research</li> <li>Sign Up: exa.ai</li> </ul>"},{"location":"getting-started/configuration/#database-configuration","title":"Database Configuration","text":""},{"location":"getting-started/configuration/#sqlite-default","title":"SQLite (Default)","text":"<p>No configuration needed. Database created automatically at: <pre><code>~/.maverick_mcp/maverick_mcp.db\n</code></pre></p>"},{"location":"getting-started/configuration/#postgresql-optional","title":"PostgreSQL (Optional)","text":"<p>For better performance with large datasets:</p> <pre><code># Install PostgreSQL\nbrew install postgresql\n\n# Create database\ncreatedb maverick_mcp\n\n# Add to .env\nDATABASE_URL=postgresql://localhost/maverick_mcp\n\n# Run migrations\nmake migrate\n</code></pre>"},{"location":"getting-started/configuration/#caching-configuration","title":"Caching Configuration","text":""},{"location":"getting-started/configuration/#in-memory-default","title":"In-Memory (Default)","text":"<p>Works out of the box, no setup required.</p>"},{"location":"getting-started/configuration/#redis-recommended","title":"Redis (Recommended)","text":"<p>For better performance:</p> <pre><code># Install Redis\nbrew install redis\n\n# Start Redis\nbrew services start redis\n\n# Add to .env\nREDIS_HOST=localhost\nREDIS_PORT=6379\n</code></pre>"},{"location":"getting-started/configuration/#security","title":"Security","text":""},{"location":"getting-started/configuration/#protect-api-keys","title":"Protect API Keys","text":"<pre><code># Set proper permissions\nchmod 600 .env\n</code></pre>"},{"location":"getting-started/configuration/#gitignore","title":"Gitignore","text":"<p>Ensure <code>.env</code> is in <code>.gitignore</code>: <pre><code>.env\n.env.*\n*.env\n</code></pre></p>"},{"location":"getting-started/configuration/#never-commit","title":"Never Commit","text":"<p>Never commit API keys to version control!</p>"},{"location":"getting-started/configuration/#verification","title":"Verification","text":"<p>Test your configuration:</p> <pre><code># Start server\nmake dev\n\n# Check logs for any errors\nmake tail-log\n</code></pre>"},{"location":"getting-started/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide</li> <li>Claude Desktop Setup</li> <li>Cursor IDE Setup</li> </ul>"},{"location":"getting-started/cursor-setup/","title":"Cursor IDE Setup","text":"<p>Complete guide for integrating Maverick MCP with Cursor IDE.</p>"},{"location":"getting-started/cursor-setup/#overview","title":"Overview","text":"<p>Cursor IDE has native MCP support, making integration straightforward. This guide shows you how to connect Maverick MCP to Cursor for stock analysis directly in your development environment.</p>"},{"location":"getting-started/cursor-setup/#prerequisites","title":"Prerequisites","text":"<ol> <li>Cursor IDE Installed: Download from cursor.sh</li> <li>Server Running:    <pre><code>make dev  # Server runs on port 8003\n</code></pre></li> </ol>"},{"location":"getting-started/cursor-setup/#connection-architecture","title":"Connection Architecture","text":"<pre><code>graph LR\n    A[Cursor IDE] --&gt;|SSE/STDIO| B[Maverick MCP Server :8003]\n    B --&gt;|API Calls| C[Stock Data APIs]\n    B --&gt;|Database| D[SQLite/PostgreSQL]\n    B --&gt;|AI| E[OpenRouter/OpenAI]</code></pre> <p>Cursor Advantages:</p> <ul> <li>Native SSE and STDIO support</li> <li>No mcp-remote bridge needed</li> <li>Direct connection to MCP servers</li> <li>Better integration with IDE workflow</li> </ul>"},{"location":"getting-started/cursor-setup/#method-a-direct-sse-connection-recommended","title":"Method A: Direct SSE Connection (Recommended)","text":""},{"location":"getting-started/cursor-setup/#step-1-open-cursor-settings","title":"Step 1: Open Cursor Settings","text":"<ol> <li>Open Cursor IDE</li> <li>Click Settings (gear icon) or <code>Cmd/Ctrl + ,</code></li> <li>Search for \"MCP\" or navigate to Extensions \u2192 MCP Servers</li> </ol>"},{"location":"getting-started/cursor-setup/#step-2-configure-mcp-server","title":"Step 2: Configure MCP Server","text":"<p>Add Maverick MCP configuration:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"url\": \"http://localhost:8003/sse/\"\n    }\n  }\n}\n</code></pre> <p>Trailing Slash Required</p> <p>Always include the trailing slash: <code>/sse/</code></p>"},{"location":"getting-started/cursor-setup/#step-3-restart-cursor","title":"Step 3: Restart Cursor","text":"<ol> <li>Close Cursor completely</li> <li>Reopen Cursor</li> <li>The MCP server should connect automatically</li> </ol>"},{"location":"getting-started/cursor-setup/#step-4-verify-connection","title":"Step 4: Verify Connection","text":"<p>Open Cursor's AI chat and test:</p> <pre><code>List available MCP tools\n</code></pre> <p>You should see 40+ tools including:</p> <ul> <li>concall_fetch_transcript</li> <li>concall_summarize_transcript</li> <li>data_fetch_stock_data</li> <li>technical_get_full_technical_analysis</li> <li>And more...</li> </ul>"},{"location":"getting-started/cursor-setup/#step-5-test-with-commands","title":"Step 5: Test with Commands","text":"<p>Try these in Cursor's AI chat:</p> <pre><code>Get technical analysis for AAPL and explain the RSI indicator\n</code></pre> <pre><code>Fetch RELIANCE.NS Q1 2025 earnings call and summarize key points\n</code></pre> <pre><code>Show me code to calculate moving averages using the MCP tools\n</code></pre>"},{"location":"getting-started/cursor-setup/#method-b-stdio-connection-alternative","title":"Method B: STDIO Connection (Alternative)","text":"<p>If SSE doesn't work, use STDIO:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"python\",\n      \"args\": [\n        \"-m\",\n        \"maverick_mcp.api.server\",\n        \"--transport\",\n        \"stdio\"\n      ],\n      \"cwd\": \"/path/to/maverick-mcp\"\n    }\n  }\n}\n</code></pre> <p>Replace <code>/path/to/maverick-mcp</code> with your actual path.</p>"},{"location":"getting-started/cursor-setup/#configuration-file-locations","title":"Configuration File Locations","text":"<p>Cursor stores MCP configuration in:</p> macOSWindowsLinux <pre><code>~/Library/Application Support/Cursor/User/settings.json\n</code></pre> <pre><code>%APPDATA%\\Cursor\\User\\settings.json\n</code></pre> <pre><code>~/.config/Cursor/User/settings.json\n</code></pre>"},{"location":"getting-started/cursor-setup/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"getting-started/cursor-setup/#multiple-servers","title":"Multiple Servers","text":"<p>Configure multiple MCP servers:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"url\": \"http://localhost:8003/sse/\"\n    },\n    \"other-mcp-server\": {\n      \"url\": \"http://localhost:8004/sse/\"\n    }\n  }\n}\n</code></pre>"},{"location":"getting-started/cursor-setup/#custom-port","title":"Custom Port","text":"<p>If using a different port:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"url\": \"http://localhost:9000/sse/\"\n    }\n  }\n}\n</code></pre> <p>Start server on custom port: <pre><code>python -m maverick_mcp.api.server --port 9000\n</code></pre></p>"},{"location":"getting-started/cursor-setup/#environment-variables","title":"Environment Variables","text":"<p>Pass environment variables to STDIO mode:</p> <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"python\",\n      \"args\": [\"-m\", \"maverick_mcp.api.server\", \"--transport\", \"stdio\"],\n      \"cwd\": \"/path/to/maverick-mcp\",\n      \"env\": {\n        \"TIINGO_API_KEY\": \"your-key\",\n        \"OPENROUTER_API_KEY\": \"your-key\"\n      }\n    }\n  }\n}\n</code></pre> <p>Security</p> <p>Avoid storing API keys in config files. Use <code>.env</code> file instead.</p>"},{"location":"getting-started/cursor-setup/#usage-in-cursor","title":"Usage in Cursor","text":""},{"location":"getting-started/cursor-setup/#ai-chat","title":"AI Chat","text":"<p>Access MCP tools through Cursor's AI chat:</p> <pre><code>@maverick-mcp Get stock data for AAPL\n</code></pre> <pre><code>@maverick-mcp Analyze sentiment for TCS Q1 2025\n</code></pre>"},{"location":"getting-started/cursor-setup/#code-generation","title":"Code Generation","text":"<p>Use MCP tools to generate code:</p> <pre><code>Generate Python code to fetch and plot AAPL stock data\nusing the Maverick MCP tools\n</code></pre> <pre><code>Write a function that uses MCP to analyze multiple stocks\nand returns a comparison table\n</code></pre>"},{"location":"getting-started/cursor-setup/#context-aware-analysis","title":"Context-Aware Analysis","text":"<p>Cursor can use MCP tools with your code:</p> <pre><code>Analyze the stock symbols in this file using technical analysis\n</code></pre> <pre><code>Fetch earnings call transcripts for all companies mentioned in this code\n</code></pre>"},{"location":"getting-started/cursor-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/cursor-setup/#connection-failed","title":"Connection Failed","text":"<p>Check server status: <pre><code>lsof -i :8003\n</code></pre></p> <p>View logs: <pre><code>make tail-log\n</code></pre></p> <p>Restart server: <pre><code>make stop\nmake dev\n</code></pre></p>"},{"location":"getting-started/cursor-setup/#tools-not-appearing","title":"Tools Not Appearing","text":"<ol> <li>Verify config syntax:</li> <li>Open Cursor settings</li> <li>Check MCP Servers section</li> <li> <p>Ensure valid JSON</p> </li> <li> <p>Check trailing slash:</p> </li> <li>SSE endpoint must be <code>http://localhost:8003/sse/</code></li> <li> <p>Not <code>http://localhost:8003/sse</code></p> </li> <li> <p>Restart Cursor completely:</p> </li> <li>Close all windows</li> <li>Wait 5 seconds</li> <li>Reopen</li> </ol>"},{"location":"getting-started/cursor-setup/#stdio-mode-issues","title":"STDIO Mode Issues","text":"<p>Permission errors: <pre><code>chmod +x /path/to/maverick-mcp/maverick_mcp/api/server.py\n</code></pre></p> <p>Python not found: <pre><code>{\n  \"command\": \"/full/path/to/python3\",\n  \"args\": [\"-m\", \"maverick_mcp.api.server\", \"--transport\", \"stdio\"]\n}\n</code></pre></p> <p>Find Python path: <pre><code>which python3\n</code></pre></p>"},{"location":"getting-started/cursor-setup/#port-conflicts","title":"Port Conflicts","text":"<p>Change port: <pre><code>{\n  \"url\": \"http://localhost:8004/sse/\"\n}\n</code></pre></p> <p>Start on new port: <pre><code>python -m maverick_mcp.api.server --port 8004\n</code></pre></p>"},{"location":"getting-started/cursor-setup/#integration-patterns","title":"Integration Patterns","text":""},{"location":"getting-started/cursor-setup/#stock-analysis-workflow","title":"Stock Analysis Workflow","text":"<ol> <li> <p>Analyze in Chat:    <pre><code>Get full technical analysis for AAPL\n</code></pre></p> </li> <li> <p>Generate Code:    <pre><code>Write code to automate this analysis for multiple stocks\n</code></pre></p> </li> <li> <p>Iterate:    <pre><code>Add error handling and export to CSV\n</code></pre></p> </li> </ol>"},{"location":"getting-started/cursor-setup/#conference-call-analysis","title":"Conference Call Analysis","text":"<ol> <li> <p>Fetch Transcript:    <pre><code>Fetch RELIANCE.NS Q1 2025 earnings call\n</code></pre></p> </li> <li> <p>Analyze:    <pre><code>Summarize and analyze sentiment\n</code></pre></p> </li> <li> <p>Generate Report:    <pre><code>Create a markdown report with the analysis\n</code></pre></p> </li> </ol>"},{"location":"getting-started/cursor-setup/#multi-stock-comparison","title":"Multi-Stock Comparison","text":"<ol> <li> <p>Fetch Data:    <pre><code>Get stock data for AAPL, MSFT, GOOGL\n</code></pre></p> </li> <li> <p>Compare:    <pre><code>Calculate correlation matrix\n</code></pre></p> </li> <li> <p>Visualize:    <pre><code>Generate plotly chart comparing performance\n</code></pre></p> </li> </ol>"},{"location":"getting-started/cursor-setup/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":""},{"location":"getting-started/cursor-setup/#open-ai-chat","title":"Open AI Chat","text":"<ul> <li>macOS: <code>Cmd + K</code></li> <li>Windows/Linux: <code>Ctrl + K</code></li> </ul>"},{"location":"getting-started/cursor-setup/#mcp-tool-selection","title":"MCP Tool Selection","text":"<ul> <li>Type <code>@maverick-mcp</code> in chat</li> <li>Press Space to see tool list</li> <li>Arrow keys to navigate</li> <li>Enter to select</li> </ul>"},{"location":"getting-started/cursor-setup/#best-practices","title":"Best Practices","text":""},{"location":"getting-started/cursor-setup/#1-use-descriptive-commands","title":"1. Use Descriptive Commands","text":"<p>\u274c Bad: <pre><code>Get data\n</code></pre></p> <p>\u2705 Good: <pre><code>Get historical stock data for AAPL from Jan 2024 to Dec 2024\n</code></pre></p>"},{"location":"getting-started/cursor-setup/#2-combine-tools","title":"2. Combine Tools","text":"<pre><code>Fetch RELIANCE.NS Q1 2025 transcript, summarize it,\nanalyze sentiment, and tell me the top 3 concerns\n</code></pre>"},{"location":"getting-started/cursor-setup/#3-generate-reusable-code","title":"3. Generate Reusable Code","text":"<pre><code>Create a Python class that wraps the Maverick MCP tools\nfor easier stock analysis\n</code></pre>"},{"location":"getting-started/cursor-setup/#4-use-with-existing-code","title":"4. Use with Existing Code","text":"<pre><code>Analyze the stocks in stocks.csv using technical indicators\nfrom Maverick MCP\n</code></pre>"},{"location":"getting-started/cursor-setup/#performance-tips","title":"Performance Tips","text":""},{"location":"getting-started/cursor-setup/#enable-caching","title":"Enable Caching","text":"<p>Add to <code>.env</code>: <pre><code>REDIS_HOST=localhost\nREDIS_PORT=6379\n</code></pre></p> <p>Start Redis: <pre><code>brew install redis\nbrew services start redis\n</code></pre></p>"},{"location":"getting-started/cursor-setup/#use-postgresql","title":"Use PostgreSQL","text":"<p>For larger datasets: <pre><code>DATABASE_URL=postgresql://localhost/maverick_mcp\n</code></pre></p>"},{"location":"getting-started/cursor-setup/#parallel-requests","title":"Parallel Requests","text":"<p>MCP server handles concurrent requests automatically.</p>"},{"location":"getting-started/cursor-setup/#security","title":"Security","text":""},{"location":"getting-started/cursor-setup/#local-development-only","title":"Local Development Only","text":"<p>By default, server binds to localhost only.</p>"},{"location":"getting-started/cursor-setup/#api-keys-in-env","title":"API Keys in .env","text":"<p>Never hardcode API keys:</p> <pre><code># .env file\nTIINGO_API_KEY=your-key\nOPENROUTER_API_KEY=your-key\nOPENAI_API_KEY=your-key\n</code></pre>"},{"location":"getting-started/cursor-setup/#gitignore","title":"Gitignore","text":"<p>Ensure <code>.env</code> is in <code>.gitignore</code>: <pre><code>.env\n.env.*\n</code></pre></p>"},{"location":"getting-started/cursor-setup/#cursor-specific-features","title":"Cursor-Specific Features","text":""},{"location":"getting-started/cursor-setup/#code-actions","title":"Code Actions","text":"<p>Cursor can suggest MCP tools automatically:</p> <ol> <li>Select stock symbol in code</li> <li>Right-click \u2192 \"Analyze with MCP\"</li> <li>Cursor suggests relevant tools</li> </ol>"},{"location":"getting-started/cursor-setup/#inline-suggestions","title":"Inline Suggestions","text":"<p>Type stock symbols and Cursor may suggest: <pre><code># AAPL\n# Cursor suggests: Fetch AAPL data with MCP?\n</code></pre></p>"},{"location":"getting-started/cursor-setup/#composer-mode","title":"Composer Mode","text":"<p>Use MCP tools in Composer for complex tasks:</p> <pre><code>Create a stock analysis dashboard that:\n1. Fetches data for multiple stocks\n2. Calculates technical indicators\n3. Generates comparison charts\n4. Exports to HTML report\n</code></pre>"},{"location":"getting-started/cursor-setup/#comparison-cursor-vs-claude-desktop","title":"Comparison: Cursor vs Claude Desktop","text":"Feature Cursor IDE Claude Desktop Native MCP Support \u2705 SSE + STDIO \u26a0\ufe0f STDIO only (needs mcp-remote) Code Integration \u2705 Direct \u274c Manual copy Context Awareness \u2705 Full IDE context \u274c Chat only Setup Complexity \u2b50\u2b50 Easy \u2b50\u2b50\u2b50 Medium Best For Development General analysis"},{"location":"getting-started/cursor-setup/#next-steps","title":"Next Steps","text":"<p>Now that Cursor is connected:</p> <ul> <li>\ud83d\udcd6 Learn about Features</li> <li>\ud83d\udcde Explore Conference Call Analysis</li> <li>\ud83d\udca1 See Examples</li> <li>\ud83d\udd27 Browse All Tools</li> </ul>"},{"location":"getting-started/cursor-setup/#need-help","title":"Need Help?","text":"<ul> <li>\ud83d\udc1b Report Issues</li> <li>\ud83d\udcda Troubleshooting Guide</li> <li>\u2753 FAQ</li> <li>\ud83d\udcac Cursor Community</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>Complete installation guide for Maverick MCP.</p>"},{"location":"getting-started/installation/#system-requirements","title":"System Requirements","text":""},{"location":"getting-started/installation/#minimum-requirements","title":"Minimum Requirements","text":"<ul> <li>Python: 3.12 or higher</li> <li>RAM: 4GB minimum</li> <li>Disk Space: 1GB free</li> <li>Internet: For API access</li> </ul>"},{"location":"getting-started/installation/#recommended","title":"Recommended","text":"<ul> <li>RAM: 8GB+</li> <li>Redis: For caching</li> <li>PostgreSQL: For better database performance</li> </ul>"},{"location":"getting-started/installation/#installation-methods","title":"Installation Methods","text":""},{"location":"getting-started/installation/#method-1-using-uv-recommended-fastest","title":"Method 1: Using uv (Recommended - Fastest)","text":"<p>uv is a fast Python package manager.</p> <pre><code># 1. Install uv\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# 2. Clone repository\ngit clone https://github.com/arunbcodes/maverick-mcp.git\ncd maverick-mcp\n\n# 3. Install dependencies (very fast!)\nuv sync\n\n# 4. Done! Dependencies installed\n</code></pre>"},{"location":"getting-started/installation/#method-2-using-pip-traditional","title":"Method 2: Using pip (Traditional)","text":"<pre><code># 1. Clone repository\ngit clone https://github.com/arunbcodes/maverick-mcp.git\ncd maverick-mcp\n\n# 2. Create virtual environment\npython -m venv .venv\n\n# 3. Activate virtual environment\nsource .venv/bin/activate  # macOS/Linux\n# OR\n.venv\\Scripts\\activate  # Windows\n\n# 4. Install dependencies\npip install -e .\n\n# 5. Done!\n</code></pre>"},{"location":"getting-started/installation/#post-installation-setup","title":"Post-Installation Setup","text":""},{"location":"getting-started/installation/#1-configure-environment","title":"1. Configure Environment","text":"<pre><code># Copy example environment file\ncp .env.example .env\n\n# Edit with your API keys\nnano .env\n</code></pre> <p>Add your keys: <pre><code>TIINGO_API_KEY=your-key-here\nOPENROUTER_API_KEY=your-key-here  # For AI features\nOPENAI_API_KEY=your-key-here      # For RAG Q&amp;A\n</code></pre></p>"},{"location":"getting-started/installation/#2-verify-installation","title":"2. Verify Installation","text":"<pre><code># Test server starts\nmake dev\n\n# Should see:\n# INFO: Server started on http://localhost:8003\n# INFO: 40+ tools registered\n</code></pre>"},{"location":"getting-started/installation/#3-check-database","title":"3. Check Database","text":"<p>Database is created automatically with S&amp;P 500 data:</p> <pre><code># Check database location\nls ~/.maverick_mcp/maverick_mcp.db\n\n# Verify S&amp;P 500 data seeded\n# Should see logs about 520+ stocks loaded\n</code></pre>"},{"location":"getting-started/installation/#optional-components","title":"Optional Components","text":""},{"location":"getting-started/installation/#redis-recommended","title":"Redis (Recommended)","text":"<p>For better caching performance:</p> macOSUbuntu/DebianWindows <pre><code>brew install redis\nbrew services start redis\n</code></pre> <pre><code>sudo apt update\nsudo apt install redis-server\nsudo systemctl start redis\n</code></pre> <p>Download from redis.io/download</p>"},{"location":"getting-started/installation/#postgresql-optional","title":"PostgreSQL (Optional)","text":"<p>For larger datasets:</p> macOSUbuntu/DebianWindows <pre><code>brew install postgresql\nbrew services start postgresql\ncreatedb maverick_mcp\n</code></pre> <pre><code>sudo apt install postgresql\nsudo systemctl start postgresql\nsudo -u postgres createdb maverick_mcp\n</code></pre> <p>Download from postgresql.org/download</p>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#python-version","title":"Python Version","text":"<pre><code>python --version  # Should be 3.12+\n</code></pre> <p>If older:</p> macOSUbuntu <pre><code>brew install python@3.12\n</code></pre> <pre><code>sudo add-apt-repository ppa:deadsnakes/ppa\nsudo apt update\nsudo apt install python3.12\n</code></pre>"},{"location":"getting-started/installation/#permission-errors","title":"Permission Errors","text":"<pre><code># macOS/Linux\nchmod +x scripts/*.sh\n\n# Fix .env permissions\nchmod 600 .env\n</code></pre>"},{"location":"getting-started/installation/#missing-dependencies","title":"Missing Dependencies","text":"<pre><code># Reinstall\npip install --force-reinstall -e .\n\n# Or with uv\nuv sync --reinstall\n</code></pre>"},{"location":"getting-started/installation/#port-8003-in-use","title":"Port 8003 in Use","text":"<pre><code># Find process\nlsof -i :8003\n\n# Kill it\nkill -9 &lt;PID&gt;\n</code></pre>"},{"location":"getting-started/installation/#verify-everything-works","title":"Verify Everything Works","text":"<p>Run these commands to verify installation:</p> <pre><code># 1. Check Python version\npython --version\n\n# 2. Activate environment (if using pip)\nsource .venv/bin/activate\n\n# 3. Start server\nmake dev\n\n# 4. In another terminal, check it's running\nlsof -i :8003\n\n# 5. View logs\nmake tail-log\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Installation complete! Now:</p> <ol> <li>Configure your API keys</li> <li>Start using with Quick Start guide</li> <li>Connect to Claude Desktop</li> <li>Or use with Cursor IDE</li> </ol>"},{"location":"getting-started/installation/#uninstallation","title":"Uninstallation","text":"<p>To remove Maverick MCP:</p> <pre><code># Stop server\nmake stop\n\n# Remove virtual environment\nrm -rf .venv\n\n# Remove database (optional)\nrm -rf ~/.maverick_mcp\n\n# Remove repository\ncd ..\nrm -rf maverick-mcp\n</code></pre>"},{"location":"getting-started/installation/#updating","title":"Updating","text":"<p>To update to the latest version:</p> <pre><code>cd maverick-mcp\ngit pull origin main\n\n# Reinstall dependencies\nuv sync  # or pip install -e .\n\n# Restart server\nmake stop\nmake dev\n</code></pre>"},{"location":"getting-started/quick-start/","title":"Quick Start Guide","text":"<p>Get Maverick MCP up and running in minutes!</p>"},{"location":"getting-started/quick-start/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, ensure you have:</p> <ul> <li>Python 3.12+ installed</li> <li>uv package manager (recommended) or pip</li> <li>Git for cloning the repository</li> <li>Tiingo API key (free tier available at tiingo.com)</li> </ul>"},{"location":"getting-started/quick-start/#optional-recommended","title":"Optional (Recommended)","text":"<ul> <li>OpenRouter API key for AI features (openrouter.ai)</li> <li>OpenAI API key for embeddings/RAG (platform.openai.com)</li> <li>Redis for enhanced caching performance</li> </ul>"},{"location":"getting-started/quick-start/#installation","title":"Installation","text":""},{"location":"getting-started/quick-start/#step-1-clone-the-repository","title":"Step 1: Clone the Repository","text":"<pre><code>git clone https://github.com/arunbcodes/maverick-mcp.git\ncd maverick-mcp\n</code></pre>"},{"location":"getting-started/quick-start/#step-2-install-dependencies","title":"Step 2: Install Dependencies","text":"Using uv (Recommended)Using pip <pre><code># Install uv if you haven't already\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Install dependencies\nuv sync\n</code></pre> <pre><code># Create virtual environment\npython -m venv .venv\nsource .venv/bin/activate  # On Windows: .venv\\Scripts\\activate\n\n# Install dependencies\npip install -e .\n</code></pre>"},{"location":"getting-started/quick-start/#step-3-configure-environment-variables","title":"Step 3: Configure Environment Variables","text":"<p>Create a <code>.env</code> file in the project root:</p> <pre><code>cp .env.example .env\n</code></pre> <p>Edit <code>.env</code> and add your API keys:</p> <pre><code># Required - Stock data provider\nTIINGO_API_KEY=your-tiingo-key-here\n\n# Recommended - AI features\nOPENROUTER_API_KEY=your-openrouter-key-here\n\n# Optional - For RAG Q&amp;A\nOPENAI_API_KEY=your-openai-key-here\n\n# Optional - For enhanced data\nFRED_API_KEY=your-fred-key-here\nEXA_API_KEY=your-exa-key-here\n\n# Optional - Database (uses SQLite by default)\n# DATABASE_URL=postgresql://localhost/maverick_mcp\n\n# Optional - Redis caching\n# REDIS_HOST=localhost\n# REDIS_PORT=6379\n</code></pre> <p>Get Free API Keys</p> <ul> <li>Tiingo: Free tier includes 500 requests/day - Sign up</li> <li>OpenRouter: Pay-as-you-go pricing, access to 400+ models - Sign up</li> <li>OpenAI: Required only for RAG features - Sign up</li> </ul>"},{"location":"getting-started/quick-start/#step-4-initialize-database","title":"Step 4: Initialize Database","text":"<p>The database will be automatically initialized on first run with 520+ S&amp;P 500 stocks:</p> <pre><code>make dev\n</code></pre> <p>This will: - Create SQLite database (or connect to PostgreSQL if configured) - Seed S&amp;P 500 companies and screening data - Start the MCP server on port 8003</p>"},{"location":"getting-started/quick-start/#verify-installation","title":"Verify Installation","text":"<p>Check that the server is running:</p> <pre><code># Check if server is listening\nlsof -i :8003\n\n# You should see:\n# COMMAND   PID   USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME\n# Python  12345  abalak   8u  IPv4 0x1234567890abcdef      0t0  TCP *:8003 (LISTEN)\n</code></pre>"},{"location":"getting-started/quick-start/#connect-to-claude-desktop","title":"Connect to Claude Desktop","text":""},{"location":"getting-started/quick-start/#method-a-sse-transport-recommended-most-stable","title":"Method A: SSE Transport (Recommended - Most Stable)","text":"<ol> <li> <p>Ensure server is running:    <pre><code>make dev  # Server runs on port 8003\n</code></pre></p> </li> <li> <p>Configure Claude Desktop:</p> </li> </ol> <p>Edit your Claude Desktop config file:</p> <p>=== \"macOS\"        <pre><code>nano ~/Library/Application\\ Support/Claude/claude_desktop_config.json\n</code></pre></p> <p>=== \"Windows\"        <pre><code>notepad %APPDATA%\\Claude\\claude_desktop_config.json\n</code></pre></p> <p>=== \"Linux\"        <pre><code>nano ~/.config/Claude/claude_desktop_config.json\n</code></pre></p> <ol> <li>Add this configuration:    <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/sse/\"]\n    }\n  }\n}\n</code></pre></li> </ol> <p>!!! warning \"Critical: Trailing Slash Required\"        The <code>/sse/</code> endpoint must include the trailing slash to prevent 307 redirects that cause tools to disappear!</p> <ol> <li> <p>Restart Claude Desktop completely</p> </li> <li> <p>Test the connection:    <pre><code>User: \"List available tools\"\nClaude: [Shows 40+ Maverick MCP tools including conference call tools]\n</code></pre></p> </li> </ol>"},{"location":"getting-started/quick-start/#method-b-http-streamable-alternative","title":"Method B: HTTP Streamable (Alternative)","text":"<p>Follow the same steps but use: <pre><code>{\n  \"mcpServers\": {\n    \"maverick-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/mcp/\"]\n    }\n  }\n}\n</code></pre></p>"},{"location":"getting-started/quick-start/#quick-test","title":"Quick Test","text":"<p>Try these commands in Claude Desktop:</p>"},{"location":"getting-started/quick-start/#stock-analysis","title":"Stock Analysis","text":"<pre><code>Get technical analysis for AAPL\n</code></pre>"},{"location":"getting-started/quick-start/#conference-call-analysis","title":"Conference Call Analysis","text":"<pre><code>Fetch the transcript for RELIANCE.NS Q1 2025\n</code></pre> <pre><code>Summarize the TCS Q4 2024 earnings call\n</code></pre> <pre><code>What did management say about revenue growth in the INFY Q1 2025 call?\n</code></pre>"},{"location":"getting-started/quick-start/#stock-screening","title":"Stock Screening","text":"<pre><code>Show me the top Maverick bullish stocks\n</code></pre>"},{"location":"getting-started/quick-start/#portfolio-analysis","title":"Portfolio Analysis","text":"<pre><code>Add AAPL 10 shares at $150 to my portfolio\nCompare AAPL vs MSFT performance\n</code></pre>"},{"location":"getting-started/quick-start/#common-commands","title":"Common Commands","text":""},{"location":"getting-started/quick-start/#development","title":"Development","text":"<pre><code>make dev          # Start server\nmake stop         # Stop server\nmake tail-log     # Follow logs\nmake test         # Run tests\nmake lint         # Check code quality\n</code></pre>"},{"location":"getting-started/quick-start/#database","title":"Database","text":"<pre><code>make migrate      # Run migrations\nmake setup        # Initial setup\n</code></pre>"},{"location":"getting-started/quick-start/#utilities","title":"Utilities","text":"<pre><code>make clean        # Clean temporary files\nmake redis-start  # Start Redis (if using caching)\n</code></pre>"},{"location":"getting-started/quick-start/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/quick-start/#server-wont-start","title":"Server won't start","text":"<pre><code>make stop          # Stop any running processes\nmake clean         # Clean temporary files\nmake dev           # Restart\n</code></pre>"},{"location":"getting-started/quick-start/#port-already-in-use","title":"Port already in use","text":"<pre><code>lsof -i :8003      # Find what's using port 8003\nkill -9 &lt;PID&gt;      # Kill the process\nmake dev           # Restart\n</code></pre>"},{"location":"getting-started/quick-start/#claude-desktop-not-connecting","title":"Claude Desktop not connecting","text":"<ol> <li>Verify server is running: <code>lsof -i :8003</code></li> <li>Check config syntax in <code>claude_desktop_config.json</code></li> <li>Ensure you're using the SSE endpoint with trailing slash</li> <li>Restart Claude Desktop completely</li> <li>Check logs: <code>make tail-log</code></li> </ol>"},{"location":"getting-started/quick-start/#tools-disappearing-after-initial-connection","title":"Tools disappearing after initial connection","text":"<p>This usually means missing trailing slash in the SSE endpoint. Use: <pre><code>\"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/sse/\"]\n</code></pre></p> <p>NOT: <pre><code>\"args\": [\"-y\", \"mcp-remote\", \"http://localhost:8003/sse\"]\n</code></pre></p>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<p>Now that you're up and running:</p> <ul> <li>\ud83d\udcd6 Learn about Configuration</li> <li>\ud83d\udcde Explore Conference Call Analysis</li> <li>\ud83d\udd27 Configure Claude Desktop properly</li> <li>\ud83d\udcda Browse MCP Tools Reference</li> <li>\ud83d\udca1 See Examples</li> </ul>"},{"location":"getting-started/quick-start/#need-help","title":"Need Help?","text":"<ul> <li>\ud83d\udcd6 Check the FAQ</li> <li>\ud83d\udc1b Report Issues</li> <li>\ud83d\udcda Read the Troubleshooting Guide</li> </ul>"},{"location":"user-guide/best-practices/","title":"Best Practices","text":"<p>Tips for optimal use of Maverick MCP.</p>"},{"location":"user-guide/best-practices/#general-best-practices","title":"General Best Practices","text":""},{"location":"user-guide/best-practices/#1-use-descriptive-commands","title":"1. Use Descriptive Commands","text":"<p>Be specific about what you want:</p> <p>\u274c \"Get data\" \u2705 \"Get historical stock data for AAPL from Jan 2024 to Dec 2024\"</p>"},{"location":"user-guide/best-practices/#2-combine-tools","title":"2. Combine Tools","text":"<p>Chain multiple operations: ``` Fetch RELIANCE.NS Q1 2025 transcript, summarize it,  analyze sentiment, and extract top concerns ```</p>"},{"location":"user-guide/best-practices/#3-cache-results","title":"3. Cache Results","text":"<p>AI analyses are cached automatically. Don't force refresh unless needed.</p>"},{"location":"user-guide/best-practices/#conference-call-analysis","title":"Conference Call Analysis","text":""},{"location":"user-guide/best-practices/#1-fetch-first-analyze-later","title":"1. Fetch First, Analyze Later","text":"<p>```</p>"},{"location":"user-guide/best-practices/#step-1-fetch-transcript","title":"Step 1: Fetch transcript","text":"<p>Fetch RELIANCE.NS Q1 2025</p>"},{"location":"user-guide/best-practices/#step-2-analyze-uses-cached-transcript","title":"Step 2: Analyze (uses cached transcript)","text":"<p>Summarize RELIANCE.NS Q1 2025 Analyze sentiment for RELIANCE.NS Q1 2025 ```</p>"},{"location":"user-guide/best-practices/#2-use-appropriate-detail-levels","title":"2. Use Appropriate Detail Levels","text":"<ul> <li>Concise: Quick overview</li> <li>Standard: Balanced (default)</li> <li>Detailed: Comprehensive analysis</li> </ul>"},{"location":"user-guide/best-practices/#3-compare-trends","title":"3. Compare Trends","text":"<p>Always compare across quarters for context.</p>"},{"location":"user-guide/best-practices/#cost-optimization","title":"Cost Optimization","text":""},{"location":"user-guide/best-practices/#1-use-caching","title":"1. Use Caching","text":"<p>Results are cached by default. Reuse them!</p>"},{"location":"user-guide/best-practices/#2-choose-right-detail-level","title":"2. Choose Right Detail Level","text":"<p>Concise mode costs ~50% less than detailed.</p>"},{"location":"user-guide/best-practices/#3-batch-operations","title":"3. Batch Operations","text":"<p>Analyze multiple stocks in one request when possible.</p>"},{"location":"user-guide/best-practices/#performance","title":"Performance","text":""},{"location":"user-guide/best-practices/#1-enable-redis","title":"1. Enable Redis","text":"<p>Significantly faster with Redis caching.</p>"},{"location":"user-guide/best-practices/#2-use-postgresql","title":"2. Use PostgreSQL","text":"<p>Better for large datasets.</p>"},{"location":"user-guide/best-practices/#3-parallel-requests","title":"3. Parallel Requests","text":"<p>Server handles concurrent requests automatically.</p> <p>See more in Configuration \u2192</p>"},{"location":"user-guide/examples/","title":"Examples","text":"<p>Practical examples of using Maverick MCP tools.</p>"},{"location":"user-guide/examples/#stock-analysis-examples","title":"Stock Analysis Examples","text":""},{"location":"user-guide/examples/#get-technical-analysis","title":"Get Technical Analysis","text":"<p>``` Get full technical analysis for AAPL ```</p>"},{"location":"user-guide/examples/#compare-multiple-stocks","title":"Compare Multiple Stocks","text":"<p>``` Compare technical indicators for AAPL, MSFT, and GOOGL ```</p>"},{"location":"user-guide/examples/#portfolio-analysis","title":"Portfolio Analysis","text":"<p>``` Add AAPL 10 shares at $150 Add MSFT 5 shares at $380 Calculate portfolio risk and correlations ```</p>"},{"location":"user-guide/examples/#conference-call-examples","title":"Conference Call Examples","text":""},{"location":"user-guide/examples/#fetch-and-summarize","title":"Fetch and Summarize","text":"<p>``` Fetch RELIANCE.NS Q1 2025 earnings call and generate a detailed summary ```</p>"},{"location":"user-guide/examples/#sentiment-analysis","title":"Sentiment Analysis","text":"<p>``` Analyze sentiment for TCS Q4 2024 call and tell me the management tone ```</p>"},{"location":"user-guide/examples/#ask-questions-rag","title":"Ask Questions (RAG)","text":"<p>``` What did INFY management say about AI initiatives in Q1 2025? ```</p>"},{"location":"user-guide/examples/#compare-quarters","title":"Compare Quarters","text":"<p>``` Compare RELIANCE sentiment across Q4 2024, Q1 2025, and Q2 2025 ```</p>"},{"location":"user-guide/examples/#advanced-examples","title":"Advanced Examples","text":""},{"location":"user-guide/examples/#multi-step-analysis","title":"Multi-Step Analysis","text":"<p>``` For TCS Q1 2025: 1. Fetch transcript 2. Generate detailed summary 3. Analyze sentiment 4. Extract top 3 growth drivers 5. Compare with Q4 2024 sentiment ```</p>"},{"location":"user-guide/examples/#screening-and-analysis","title":"Screening and Analysis","text":"<p>``` Show me top 5 Maverick bullish stocks, then get technical analysis for each ```</p> <p>More examples in Quick Start \u2192</p>"},{"location":"user-guide/mcp-tools-reference/","title":"MCP Tools Reference","text":"<p>Complete reference for all 40+ MCP tools available in Maverick MCP.</p>"},{"location":"user-guide/mcp-tools-reference/#tool-categories","title":"Tool Categories","text":"<ul> <li>Stock Data - Price quotes and historical data</li> <li>Technical Analysis - Indicators and patterns</li> <li>Stock Screening - Pre-calculated screening strategies</li> <li>Portfolio - Portfolio optimization and analysis</li> <li>Market Data - Market overview and indices</li> <li>Research - AI-powered research and sentiment</li> <li>Backtesting - Strategy testing and optimization</li> <li>Conference Calls - Earnings call analysis</li> </ul>"},{"location":"user-guide/mcp-tools-reference/#stock-data","title":"Stock Data","text":""},{"location":"user-guide/mcp-tools-reference/#get_stock_data","title":"get_stock_data","text":"<p>Fetch historical OHLCV data for a stock.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol (e.g., \"AAPL\", \"RELIANCE.NS\") - <code>start_date</code> (string, optional): Start date (YYYY-MM-DD) - <code>end_date</code> (string, optional): End date (YYYY-MM-DD) - <code>period</code> (string, optional): Quick period (\"1d\", \"5d\", \"1mo\", \"3mo\", \"6mo\", \"1y\", \"5y\")</p> <p>Returns: DataFrame with Date, Open, High, Low, Close, Volume</p> <p>Example: <pre><code>Get AAPL stock data from 2024-01-01 to 2024-12-31\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#get_stock_info","title":"get_stock_info","text":"<p>Get current price and company information.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol</p> <p>Returns: Dict with price, market_cap, pe_ratio, sector, industry, description</p> <p>Example: <pre><code>Get current info for RELIANCE.NS\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#get_multiple_stocks_data","title":"get_multiple_stocks_data","text":"<p>Fetch data for multiple stocks efficiently.</p> <p>Parameters: - <code>tickers</code> (list, required): List of stock symbols - <code>start_date</code> (string, optional): Start date - <code>end_date</code> (string, optional): End date</p> <p>Returns: Dict of DataFrames keyed by ticker</p> <p>Example: <pre><code>Get data for AAPL, MSFT, GOOGL from Jan 2024\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#technical-analysis","title":"Technical Analysis","text":""},{"location":"user-guide/mcp-tools-reference/#calculate_sma","title":"calculate_sma","text":"<p>Calculate Simple Moving Average.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>period</code> (int, optional): SMA period (default: 20) - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: DataFrame with Date, Close, SMA</p> <p>Example: <pre><code>Calculate 50-day SMA for AAPL\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#calculate_ema","title":"calculate_ema","text":"<p>Calculate Exponential Moving Average.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>period</code> (int, optional): EMA period (default: 20) - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: DataFrame with Date, Close, EMA</p> <p>Example: <pre><code>Calculate 12-day EMA for TCS.NS\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#calculate_rsi","title":"calculate_rsi","text":"<p>Calculate Relative Strength Index.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>period</code> (int, optional): RSI period (default: 14) - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: DataFrame with Date, Close, RSI</p> <p>Interpretation: - RSI &gt; 70: Overbought - RSI &lt; 30: Oversold</p> <p>Example: <pre><code>Calculate RSI for INFY.NS\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#calculate_macd","title":"calculate_macd","text":"<p>Calculate MACD indicator.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>fast_period</code> (int, optional): Fast EMA period (default: 12) - <code>slow_period</code> (int, optional): Slow EMA period (default: 26) - <code>signal_period</code> (int, optional): Signal line period (default: 9) - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: DataFrame with Date, Close, MACD, Signal, Histogram</p> <p>Signals: - MACD crosses above Signal: Bullish - MACD crosses below Signal: Bearish</p> <p>Example: <pre><code>Calculate MACD for MSFT\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#calculate_bollinger_bands","title":"calculate_bollinger_bands","text":"<p>Calculate Bollinger Bands.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>period</code> (int, optional): MA period (default: 20) - <code>std_dev</code> (float, optional): Standard deviations (default: 2) - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: DataFrame with Date, Close, Upper_Band, Middle_Band, Lower_Band</p> <p>Signals: - Price touches upper band: Overbought - Price touches lower band: Oversold</p> <p>Example: <pre><code>Calculate Bollinger Bands for RELIANCE.NS\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#get_full_technical_analysis","title":"get_full_technical_analysis","text":"<p>Get comprehensive technical analysis.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: Dict with all indicators, support/resistance, signals</p> <p>Includes: - SMA (20, 50, 200) - EMA (12, 26) - RSI (14) - MACD - Bollinger Bands - Support/Resistance levels - Trend direction - Buy/Sell signals</p> <p>Example: <pre><code>Get full technical analysis for AAPL\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#stock-screening","title":"Stock Screening","text":""},{"location":"user-guide/mcp-tools-reference/#get_maverick_recommendations","title":"get_maverick_recommendations","text":"<p>Get Maverick bullish momentum stocks.</p> <p>Parameters: - <code>limit</code> (int, optional): Max results (default: 10) - <code>min_score</code> (float, optional): Minimum score 0-100 (default: 70)</p> <p>Returns: List of stocks with scores and signals</p> <p>Criteria: - RSI 50-70 (strong momentum) - MACD bullish - Price above 20 SMA - Volume above average</p> <p>Example: <pre><code>Show me top 5 Maverick bullish stocks\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#get_maverick_bear_recommendations","title":"get_maverick_bear_recommendations","text":"<p>Get Maverick bearish stocks to avoid.</p> <p>Parameters: - <code>limit</code> (int, optional): Max results (default: 10) - <code>min_score</code> (float, optional): Minimum score 0-100 (default: 70)</p> <p>Returns: List of stocks with weakness scores</p> <p>Criteria: - RSI 30-50 (weak momentum) - MACD bearish - Price below 20 SMA - Volume declining</p> <p>Example: <pre><code>Show me bearish stocks to avoid\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#get_trending_breakout_recommendations","title":"get_trending_breakout_recommendations","text":"<p>Get supply/demand breakout candidates.</p> <p>Parameters: - <code>limit</code> (int, optional): Max results (default: 10) - <code>min_score</code> (float, optional): Minimum score 0-100 (default: 75)</p> <p>Returns: List of breakout candidates</p> <p>Criteria: - Price above all major MAs - Volume surge - Near 52-week high - Strong relative strength</p> <p>Example: <pre><code>Find breakout candidates\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#portfolio","title":"Portfolio","text":""},{"location":"user-guide/mcp-tools-reference/#optimize_portfolio","title":"optimize_portfolio","text":"<p>Optimize portfolio weights using Modern Portfolio Theory.</p> <p>Parameters: - <code>tickers</code> (list, required): List of stock symbols - <code>target_return</code> (float, optional): Target annual return - <code>risk_free_rate</code> (float, optional): Risk-free rate (default: 0.03) - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: Dict with optimal_weights, expected_return, volatility, sharpe_ratio</p> <p>Example: <pre><code>Optimize portfolio for AAPL, MSFT, GOOGL, AMZN\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#analyze_portfolio_risk","title":"analyze_portfolio_risk","text":"<p>Analyze portfolio risk metrics.</p> <p>Parameters: - <code>holdings</code> (dict, required): {ticker: shares} pairs - <code>purchase_prices</code> (dict, optional): {ticker: price} pairs - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: Dict with volatility, var, cvar, max_drawdown, beta, alpha</p> <p>Example: <pre><code>Analyze risk for portfolio: AAPL 10 shares, MSFT 5 shares\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#calculate_correlation_matrix","title":"calculate_correlation_matrix","text":"<p>Calculate asset correlations.</p> <p>Parameters: - <code>tickers</code> (list, required): List of stock symbols - <code>lookback_days</code> (int, optional): Historical data range (default: 365)</p> <p>Returns: Correlation matrix DataFrame</p> <p>Example: <pre><code>Calculate correlation matrix for AAPL, MSFT, GOOGL\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#market-data","title":"Market Data","text":""},{"location":"user-guide/mcp-tools-reference/#get_market_overview","title":"get_market_overview","text":"<p>Get market indices and sector performance.</p> <p>Parameters: None</p> <p>Returns: Dict with major_indices, sector_performance, market_breadth</p> <p>Includes: - S&amp;P 500, Nasdaq, Dow Jones - Sector leaders and laggards - Advance/decline ratio - New highs/lows</p> <p>Example: <pre><code>Get market overview\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#get_watchlist","title":"get_watchlist","text":"<p>Get sample portfolio with real-time data.</p> <p>Parameters: None</p> <p>Returns: List of stocks with current prices and changes</p> <p>Example: <pre><code>Show watchlist\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#research","title":"Research","text":""},{"location":"user-guide/mcp-tools-reference/#research_comprehensive","title":"research_comprehensive","text":"<p>Comprehensive AI-powered research.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>depth</code> (string, optional): \"quick\", \"standard\", \"deep\" (default: \"standard\") - <code>include_financials</code> (bool, optional): Include financial analysis (default: true)</p> <p>Returns: Dict with company_overview, financial_analysis, competitive_position, investment_thesis, risks</p> <p>Features: - 7-256x parallel speedup - Multi-agent analysis - 400+ AI models - Cost-optimized</p> <p>Example: <pre><code>Research AAPL comprehensively with financials\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#research_company","title":"research_company","text":"<p>Company-specific deep research.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>focus_area</code> (string, optional): Specific area to focus on</p> <p>Returns: Detailed company analysis</p> <p>Example: <pre><code>Research TCS.NS focusing on IT services\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#analyze_market_sentiment","title":"analyze_market_sentiment","text":"<p>Multi-source sentiment analysis.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>timeframe</code> (string, optional): \"24h\", \"7d\", \"30d\" (default: \"7d\")</p> <p>Returns: Dict with sentiment_score, confidence, sources, trends</p> <p>Sources: - News articles - Social media - Analyst ratings - Insider trading</p> <p>Example: <pre><code>Analyze sentiment for RELIANCE.NS\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#backtesting","title":"Backtesting","text":""},{"location":"user-guide/mcp-tools-reference/#run_backtest","title":"run_backtest","text":"<p>Execute backtest with specified strategy.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>strategy</code> (string, required): Strategy name (\"rsi\", \"macd\", \"sma_crossover\", etc.) - <code>start_date</code> (string, required): Start date (YYYY-MM-DD) - <code>end_date</code> (string, required): End date (YYYY-MM-DD) - <code>parameters</code> (dict, optional): Strategy-specific parameters - <code>initial_capital</code> (float, optional): Starting capital (default: 10000)</p> <p>Returns: Dict with performance_metrics, trades, equity_curve</p> <p>Available Strategies: - rsi, macd, sma_crossover, ema_crossover - bollinger_bands, mean_reversion - momentum, breakout - ml_adaptive, ensemble - And more (15+ total)</p> <p>Example: <pre><code>Backtest RSI strategy on AAPL from 2023-01-01 to 2024-12-31\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#compare_strategies","title":"compare_strategies","text":"<p>Compare multiple strategies.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>strategies</code> (list, required): List of strategy names - <code>start_date</code> (string, required): Start date - <code>end_date</code> (string, required): End date - <code>initial_capital</code> (float, optional): Starting capital</p> <p>Returns: Comparison DataFrame with metrics for each strategy</p> <p>Example: <pre><code>Compare RSI vs MACD strategies on SPY from 2023 to 2024\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#optimize_strategy","title":"optimize_strategy","text":"<p>Optimize strategy parameters.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>strategy</code> (string, required): Strategy name - <code>start_date</code> (string, required): Start date - <code>end_date</code> (string, required): End date - <code>parameter_ranges</code> (dict, required): Ranges to test - <code>metric</code> (string, optional): Optimization metric (default: \"sharpe_ratio\")</p> <p>Returns: Dict with best_parameters, performance_metrics, optimization_results</p> <p>Example: <pre><code>Optimize RSI parameters for AAPL: period 10-20, oversold 20-35, overbought 65-80\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#conference-calls","title":"Conference Calls","text":""},{"location":"user-guide/mcp-tools-reference/#concall_fetch_transcript","title":"concall_fetch_transcript","text":"<p>Fetch earnings call transcript.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol (e.g., \"RELIANCE.NS\", \"AAPL\") - <code>quarter</code> (string, required): Quarter (\"Q1\", \"Q2\", \"Q3\", \"Q4\") - <code>fiscal_year</code> (int, required): Year (e.g., 2025)</p> <p>Returns: Dict with transcript_text, source, source_url, metadata</p> <p>Sources: 1. Company IR website (primary) 2. NSE exchange filings (fallback)</p> <p>Example: <pre><code>Fetch RELIANCE.NS Q1 2025 earnings call transcript\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#concall_summarize_transcript","title":"concall_summarize_transcript","text":"<p>Generate AI-powered summary.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>quarter</code> (string, required): Quarter - <code>fiscal_year</code> (int, required): Year - <code>mode</code> (string, optional): \"concise\", \"standard\", \"detailed\" (default: \"standard\")</p> <p>Returns: Dict with executive_summary, key_metrics, revenue_analysis, guidance, risks, growth_drivers</p> <p>Detail Levels: - Concise: 2-3 paragraphs (~30 sec read) - Standard: 1-2 pages (~3 min read) - Detailed: 3-5 pages (~10 min read)</p> <p>Example: <pre><code>Summarize AAPL Q4 2024 earnings call in detailed mode\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#concall_analyze_sentiment","title":"concall_analyze_sentiment","text":"<p>Analyze sentiment and tone.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>quarter</code> (string, required): Quarter - <code>fiscal_year</code> (int, required): Year</p> <p>Returns: Dict with overall_sentiment (1-5), management_tone, outlook_sentiment, risk_sentiment, confidence_score</p> <p>Sentiment Scale: - 5: Very Bullish - 4: Bullish - 3: Neutral - 2: Bearish - 1: Very Bearish</p> <p>Example: <pre><code>Analyze sentiment for TCS.NS Q2 2025 earnings call\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#concall_query_transcript","title":"concall_query_transcript","text":"<p>Ask questions using RAG.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>quarter</code> (string, required): Quarter - <code>fiscal_year</code> (int, required): Year - <code>query</code> (string, required): Your question</p> <p>Returns: Dict with answer, sources (with citations), confidence</p> <p>Example: <pre><code>What did INFY management say about AI initiatives in Q1 2025?\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#concall_compare_quarters","title":"concall_compare_quarters","text":"<p>Compare sentiment across quarters.</p> <p>Parameters: - <code>ticker</code> (string, required): Stock symbol - <code>quarters</code> (list, required): List of (quarter, year) tuples</p> <p>Returns: Dict with sentiment_trends, key_changes, progression</p> <p>Example: <pre><code>Compare RELIANCE sentiment across Q4 2024, Q1 2025, Q2 2025\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#usage-tips","title":"Usage Tips","text":""},{"location":"user-guide/mcp-tools-reference/#natural-language","title":"Natural Language","text":"<p>All tools support natural language commands: <pre><code>Show me technical analysis for AAPL\nGet RSI for RELIANCE.NS\nOptimize my portfolio with these stocks: AAPL, MSFT, GOOGL\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#multiple-parameters","title":"Multiple Parameters","text":"<p>Combine filters and options: <pre><code>Get AAPL data from Jan 2024 to Dec 2024 with technical indicators\nScreen for bullish momentum stocks with RSI between 50-70\n</code></pre></p>"},{"location":"user-guide/mcp-tools-reference/#caching","title":"Caching","text":"<p>Most tools cache results automatically: - Stock data: 1 hour - Technical indicators: 1 hour - Screening: 24 hours - Research: 24 hours - Conference calls: 7 days</p>"},{"location":"user-guide/mcp-tools-reference/#rate-limits","title":"Rate Limits","text":"<p>Free tier limits (Tiingo): - 500 requests/day - 15-minute delayed quotes - Historical data only</p> <p>Upgrade for: - Real-time data - Unlimited requests - Options &amp; futures</p>"},{"location":"user-guide/mcp-tools-reference/#api-keys-required","title":"API Keys Required","text":"Tool Category Required Keys Stock Data TIINGO_API_KEY Technical Analysis TIINGO_API_KEY Stock Screening None (pre-seeded) Portfolio TIINGO_API_KEY Market Data TIINGO_API_KEY Research OPENROUTER_API_KEY, EXA_API_KEY (optional) Backtesting TIINGO_API_KEY Conference Calls OPENROUTER_API_KEY, OPENAI_API_KEY (for RAG only) <p>See Configuration Guide for setup instructions.</p>"},{"location":"user-guide/troubleshooting/","title":"Troubleshooting","text":"<p>Common issues and solutions.</p>"},{"location":"user-guide/troubleshooting/#connection-issues","title":"Connection Issues","text":""},{"location":"user-guide/troubleshooting/#tools-not-appearing-in-claude","title":"Tools Not Appearing in Claude","text":"<ol> <li>Check server is running: <code>lsof -i :8003</code></li> <li>Verify config has trailing slash: <code>/sse/</code></li> <li>Restart Claude Desktop completely</li> <li>Check logs: <code>make tail-log</code></li> </ol>"},{"location":"user-guide/troubleshooting/#port-already-in-use","title":"Port Already in Use","text":"<p>```bash lsof -i :8003 kill -9  make dev ```"},{"location":"user-guide/troubleshooting/#api-issues","title":"API Issues","text":""},{"location":"user-guide/troubleshooting/#tiingo-api-errors","title":"Tiingo API Errors","text":"<ul> <li>Check API key in <code>.env</code></li> <li>Verify not exceeding rate limit (500/day free)</li> <li>Check status page</li> </ul>"},{"location":"user-guide/troubleshooting/#openrouter-errors","title":"OpenRouter Errors","text":"<ul> <li>Verify API key</li> <li>Check account credits</li> <li>Try different model with <code>prefer_cheap=True</code></li> </ul>"},{"location":"user-guide/troubleshooting/#database-issues","title":"Database Issues","text":""},{"location":"user-guide/troubleshooting/#migration-errors","title":"Migration Errors","text":"<p>```bash make clean rm -rf ~/.maverick_mcp/maverick_mcp.db make dev  # Re-creates and seeds ```</p>"},{"location":"user-guide/troubleshooting/#sp-500-data-missing","title":"S&amp;P 500 Data Missing","text":"<p>```bash python scripts/seed_sp500.py ```</p>"},{"location":"user-guide/troubleshooting/#performance-issues","title":"Performance Issues","text":""},{"location":"user-guide/troubleshooting/#slow-responses","title":"Slow Responses","text":"<ol> <li>Enable Redis caching</li> <li>Use PostgreSQL instead of SQLite</li> <li>Check internet connection</li> <li>Verify API rate limits not exceeded</li> </ol>"},{"location":"user-guide/troubleshooting/#logging","title":"Logging","text":"<p>View logs: ```bash make tail-log  # Real-time tail -100 ~/.maverick_mcp/logs/maverick_mcp.log  # Last 100 lines ```</p> <p>Need more help? \u2192</p>"}]}